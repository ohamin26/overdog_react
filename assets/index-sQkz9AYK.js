function RR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var AR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O_={exports:{}},ic={},$_={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=Symbol.for("react.element"),IR=Symbol.for("react.portal"),CR=Symbol.for("react.fragment"),PR=Symbol.for("react.strict_mode"),kR=Symbol.for("react.profiler"),NR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),VR=Symbol.for("react.forward_ref"),DR=Symbol.for("react.suspense"),LR=Symbol.for("react.memo"),bR=Symbol.for("react.lazy"),Lg=Symbol.iterator;function MR(t){return t===null||typeof t!="object"?null:(t=Lg&&t[Lg]||t["@@iterator"],typeof t=="function"?t:null)}var F_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U_=Object.assign,B_={};function Wo(t,e,n){this.props=t,this.context=e,this.refs=B_,this.updater=n||F_}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function j_(){}j_.prototype=Wo.prototype;function lp(t,e,n){this.props=t,this.context=e,this.refs=B_,this.updater=n||F_}var up=lp.prototype=new j_;up.constructor=lp;U_(up,Wo.prototype);up.isPureReactComponent=!0;var bg=Array.isArray,z_=Object.prototype.hasOwnProperty,cp={current:null},W_={key:!0,ref:!0,__self:!0,__source:!0};function H_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)z_.call(e,r)&&!W_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Da,type:t,key:o,ref:s,props:i,_owner:cp.current}}function OR(t,e){return{$$typeof:Da,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Da}function $R(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mg=/\/+/g;function Sh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$R(""+t.key):e.toString(36)}function jl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Da:case IR:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Sh(s,0):r,bg(i)?(n="",t!=null&&(n=t.replace(Mg,"$&/")+"/"),jl(i,e,n,"",function(u){return u})):i!=null&&(hp(i)&&(i=OR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Mg,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",bg(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Sh(o,a);s+=jl(o,e,n,l,i)}else if(l=MR(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Sh(o,a++),s+=jl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function dl(t,e,n){if(t==null)return t;var r=[],i=0;return jl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function FR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},zl={transition:null},UR={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:zl,ReactCurrentOwner:cp};Pe.Children={map:dl,forEach:function(t,e,n){dl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dl(t,function(){e++}),e},toArray:function(t){return dl(t,function(e){return e})||[]},only:function(t){if(!hp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Wo;Pe.Fragment=CR;Pe.Profiler=kR;Pe.PureComponent=lp;Pe.StrictMode=PR;Pe.Suspense=DR;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UR;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=cp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)z_.call(e,l)&&!W_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Da,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:xR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NR,_context:t},t.Consumer=t};Pe.createElement=H_;Pe.createFactory=function(t){var e=H_.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:VR,render:t}};Pe.isValidElement=hp;Pe.lazy=function(t){return{$$typeof:bR,_payload:{_status:-1,_result:t},_init:FR}};Pe.memo=function(t,e){return{$$typeof:LR,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=zl.transition;zl.transition={};try{t()}finally{zl.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return Yt.current.useCallback(t,e)};Pe.useContext=function(t){return Yt.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return Yt.current.useEffect(t,e)};Pe.useId=function(){return Yt.current.useId()};Pe.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return Yt.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};Pe.useRef=function(t){return Yt.current.useRef(t)};Pe.useState=function(t){return Yt.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return Yt.current.useTransition()};Pe.version="18.2.0";$_.exports=Pe;var ne=$_.exports;const _e=ap(ne),BR=RR({__proto__:null,default:_e},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR=ne,zR=Symbol.for("react.element"),WR=Symbol.for("react.fragment"),HR=Object.prototype.hasOwnProperty,qR=jR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KR={key:!0,ref:!0,__self:!0,__source:!0};function q_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)HR.call(e,r)&&!KR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zR,type:t,key:o,ref:s,props:i,_owner:qR.current}}ic.Fragment=WR;ic.jsx=q_;ic.jsxs=q_;O_.exports=ic;var N=O_.exports,Ad={},K_={exports:{}},mn={},G_={exports:{}},Q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,x){var S=B.length;B.push(x);e:for(;0<S;){var z=S-1>>>1,v=B[z];if(0<i(v,x))B[z]=x,B[S]=v,S=z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var x=B[0],S=B.pop();if(S!==x){B[0]=S;e:for(var z=0,v=B.length,P=v>>>1;z<P;){var V=2*(z+1)-1,ee=B[V],W=V+1,le=B[W];if(0>i(ee,S))W<v&&0>i(le,ee)?(B[z]=le,B[W]=S,z=W):(B[z]=ee,B[V]=S,z=V);else if(W<v&&0>i(le,S))B[z]=le,B[W]=S,z=W;else break e}}return x}function i(B,x){var S=B.sortIndex-x.sortIndex;return S!==0?S:B.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,y=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(B){for(var x=n(u);x!==null;){if(x.callback===null)r(u);else if(x.startTime<=B)r(u),x.sortIndex=x.expirationTime,e(l,x);else break;x=n(u)}}function T(B){if(E=!1,g(B),!y)if(n(l)!==null)y=!0,Ae(C);else{var x=n(u);x!==null&&be(T,x.startTime-B)}}function C(B,x){y=!1,E&&(E=!1,m(q),q=-1),p=!0;var S=d;try{for(g(x),h=n(l);h!==null&&(!(h.expirationTime>x)||B&&!Ie());){var z=h.callback;if(typeof z=="function"){h.callback=null,d=h.priorityLevel;var v=z(h.expirationTime<=x);x=t.unstable_now(),typeof v=="function"?h.callback=v:h===n(l)&&r(l),g(x)}else r(l);h=n(l)}if(h!==null)var P=!0;else{var V=n(u);V!==null&&be(T,V.startTime-x),P=!1}return P}finally{h=null,d=S,p=!1}}var L=!1,M=null,q=-1,ae=5,J=-1;function Ie(){return!(t.unstable_now()-J<ae)}function $(){if(M!==null){var B=t.unstable_now();J=B;var x=!0;try{x=M(!0,B)}finally{x?D():(L=!1,M=null)}}else L=!1}var D;if(typeof f=="function")D=function(){f($)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ue=Z.port2;Z.port1.onmessage=$,D=function(){ue.postMessage(null)}}else D=function(){R($,0)};function Ae(B){M=B,L||(L=!0,D())}function be(B,x){q=R(function(){B(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Ae(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var x=3;break;default:x=d}var S=d;d=x;try{return B()}finally{d=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,x){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var S=d;d=B;try{return x()}finally{d=S}},t.unstable_scheduleCallback=function(B,x,S){var z=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?z+S:z):S=z,B){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=S+v,B={id:c++,callback:x,priorityLevel:B,startTime:S,expirationTime:v,sortIndex:-1},S>z?(B.sortIndex=S,e(u,B),n(l)===null&&B===n(u)&&(E?(m(q),q=-1):E=!0,be(T,S-z))):(B.sortIndex=v,e(l,B),y||p||(y=!0,Ae(C))),B},t.unstable_shouldYield=Ie,t.unstable_wrapCallback=function(B){var x=d;return function(){var S=d;d=x;try{return B.apply(this,arguments)}finally{d=S}}}})(Q_);G_.exports=Q_;var GR=G_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=ne,fn=GR;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X_=new Set,Js={};function Li(t,e){To(t,e),To(t+"Capture",e)}function To(t,e){for(Js[t]=e,t=0;t<e.length;t++)X_.add(e[t])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Id=Object.prototype.hasOwnProperty,QR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Og={},$g={};function YR(t){return Id.call($g,t)?!0:Id.call(Og,t)?!1:QR.test(t)?$g[t]=!0:(Og[t]=!0,!1)}function XR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JR(t,e,n,r){if(e===null||typeof e>"u"||XR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dp=/[\-:]([a-z])/g;function fp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dp,fp);bt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dp,fp);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dp,fp);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function pp(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JR(e,n,i,r)&&(n=null),r||i===null?YR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=Y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fl=Symbol.for("react.element"),Xi=Symbol.for("react.portal"),Ji=Symbol.for("react.fragment"),mp=Symbol.for("react.strict_mode"),Cd=Symbol.for("react.profiler"),J_=Symbol.for("react.provider"),Z_=Symbol.for("react.context"),gp=Symbol.for("react.forward_ref"),Pd=Symbol.for("react.suspense"),kd=Symbol.for("react.suspense_list"),yp=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),e0=Symbol.for("react.offscreen"),Fg=Symbol.iterator;function os(t){return t===null||typeof t!="object"?null:(t=Fg&&t[Fg]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Th;function Ss(t){if(Th===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Th=e&&e[1]||""}return`
`+Th+t}var Rh=!1;function Ah(t,e){if(!t||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ss(t):""}function ZR(t){switch(t.tag){case 5:return Ss(t.type);case 16:return Ss("Lazy");case 13:return Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 2:case 15:return t=Ah(t.type,!1),t;case 11:return t=Ah(t.type.render,!1),t;case 1:return t=Ah(t.type,!0),t;default:return""}}function Nd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ji:return"Fragment";case Xi:return"Portal";case Cd:return"Profiler";case mp:return"StrictMode";case Pd:return"Suspense";case kd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z_:return(t.displayName||"Context")+".Consumer";case J_:return(t._context.displayName||"Context")+".Provider";case gp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yp:return e=t.displayName||null,e!==null?e:Nd(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return Nd(t(e))}catch{}}return null}function eA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nd(e);case 8:return e===mp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function t0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tA(t){var e=t0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pl(t){t._valueTracker||(t._valueTracker=tA(t))}function n0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=t0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function su(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xd(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ug(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function r0(t,e){e=e.checked,e!=null&&pp(t,"checked",e,!1)}function Vd(t,e){r0(t,e);var n=Hr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dd(t,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dd(t,e,n){(e!=="number"||su(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ts=Array.isArray;function ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ld(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ts(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hr(n)}}function i0(t,e){var n=Hr(e.value),r=Hr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function o0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?o0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ml,s0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nA=["Webkit","ms","Moz","O"];Object.keys(Ds).forEach(function(t){nA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ds[e]=Ds[t]})});function a0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ds.hasOwnProperty(t)&&Ds[t]?(""+e).trim():e+"px"}function l0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=a0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rA=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Md(t,e){if(e){if(rA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Od(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $d=null;function vp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fd=null,fo=null,po=null;function Wg(t){if(t=Ma(t)){if(typeof Fd!="function")throw Error(U(280));var e=t.stateNode;e&&(e=uc(e),Fd(t.stateNode,t.type,e))}}function u0(t){fo?po?po.push(t):po=[t]:fo=t}function c0(){if(fo){var t=fo,e=po;if(po=fo=null,Wg(t),e)for(t=0;t<e.length;t++)Wg(e[t])}}function h0(t,e){return t(e)}function d0(){}var Ih=!1;function f0(t,e,n){if(Ih)return t(e,n);Ih=!0;try{return h0(t,e,n)}finally{Ih=!1,(fo!==null||po!==null)&&(d0(),c0())}}function ea(t,e){var n=t.stateNode;if(n===null)return null;var r=uc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Ud=!1;if(fr)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Ud=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Ud=!1}function iA(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ls=!1,au=null,lu=!1,Bd=null,oA={onError:function(t){Ls=!0,au=t}};function sA(t,e,n,r,i,o,s,a,l){Ls=!1,au=null,iA.apply(oA,arguments)}function aA(t,e,n,r,i,o,s,a,l){if(sA.apply(this,arguments),Ls){if(Ls){var u=au;Ls=!1,au=null}else throw Error(U(198));lu||(lu=!0,Bd=u)}}function bi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function p0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hg(t){if(bi(t)!==t)throw Error(U(188))}function lA(t){var e=t.alternate;if(!e){if(e=bi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Hg(i),t;if(o===r)return Hg(i),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function m0(t){return t=lA(t),t!==null?g0(t):null}function g0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=g0(t);if(e!==null)return e;t=t.sibling}return null}var y0=fn.unstable_scheduleCallback,qg=fn.unstable_cancelCallback,uA=fn.unstable_shouldYield,cA=fn.unstable_requestPaint,ct=fn.unstable_now,hA=fn.unstable_getCurrentPriorityLevel,_p=fn.unstable_ImmediatePriority,v0=fn.unstable_UserBlockingPriority,uu=fn.unstable_NormalPriority,dA=fn.unstable_LowPriority,_0=fn.unstable_IdlePriority,oc=null,Kn=null;function fA(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(oc,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:gA,pA=Math.log,mA=Math.LN2;function gA(t){return t>>>=0,t===0?32:31-(pA(t)/mA|0)|0}var gl=64,yl=4194304;function Rs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Rs(a):(o&=s,o!==0&&(r=Rs(o)))}else s=n&~i,s!==0?r=Rs(s):o!==0&&(r=Rs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),i=1<<n,r|=t[n],e&=~i;return r}function yA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-bn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=yA(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function jd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E0(){var t=gl;return gl<<=1,!(gl&4194240)&&(gl=64),t}function Ch(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function La(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function _A(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ep(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function w0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S0,wp,T0,R0,A0,zd=!1,vl=[],Dr=null,Lr=null,br=null,ta=new Map,na=new Map,Ir=[],EA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kg(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(e.pointerId)}}function as(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ma(e),e!==null&&wp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wA(t,e,n,r,i){switch(e){case"focusin":return Dr=as(Dr,t,e,n,r,i),!0;case"dragenter":return Lr=as(Lr,t,e,n,r,i),!0;case"mouseover":return br=as(br,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ta.set(o,as(ta.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,na.set(o,as(na.get(o)||null,t,e,n,r,i)),!0}return!1}function I0(t){var e=hi(t.target);if(e!==null){var n=bi(e);if(n!==null){if(e=n.tag,e===13){if(e=p0(n),e!==null){t.blockedOn=e,A0(t.priority,function(){T0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$d=r,n.target.dispatchEvent(r),$d=null}else return e=Ma(n),e!==null&&wp(e),t.blockedOn=n,!1;e.shift()}return!0}function Gg(t,e,n){Wl(t)&&n.delete(e)}function SA(){zd=!1,Dr!==null&&Wl(Dr)&&(Dr=null),Lr!==null&&Wl(Lr)&&(Lr=null),br!==null&&Wl(br)&&(br=null),ta.forEach(Gg),na.forEach(Gg)}function ls(t,e){t.blockedOn===e&&(t.blockedOn=null,zd||(zd=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,SA)))}function ra(t){function e(i){return ls(i,t)}if(0<vl.length){ls(vl[0],t);for(var n=1;n<vl.length;n++){var r=vl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dr!==null&&ls(Dr,t),Lr!==null&&ls(Lr,t),br!==null&&ls(br,t),ta.forEach(e),na.forEach(e),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)I0(n),n.blockedOn===null&&Ir.shift()}var mo=_r.ReactCurrentBatchConfig,hu=!0;function TA(t,e,n,r){var i=$e,o=mo.transition;mo.transition=null;try{$e=1,Sp(t,e,n,r)}finally{$e=i,mo.transition=o}}function RA(t,e,n,r){var i=$e,o=mo.transition;mo.transition=null;try{$e=4,Sp(t,e,n,r)}finally{$e=i,mo.transition=o}}function Sp(t,e,n,r){if(hu){var i=Wd(t,e,n,r);if(i===null)Oh(t,e,r,du,n),Kg(t,r);else if(wA(i,t,e,n,r))r.stopPropagation();else if(Kg(t,r),e&4&&-1<EA.indexOf(t)){for(;i!==null;){var o=Ma(i);if(o!==null&&S0(o),o=Wd(t,e,n,r),o===null&&Oh(t,e,r,du,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Oh(t,e,r,null,n)}}var du=null;function Wd(t,e,n,r){if(du=null,t=vp(r),t=hi(t),t!==null)if(e=bi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=p0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return du=t,null}function C0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hA()){case _p:return 1;case v0:return 4;case uu:case dA:return 16;case _0:return 536870912;default:return 16}default:return 16}}var Pr=null,Tp=null,Hl=null;function P0(){if(Hl)return Hl;var t,e=Tp,n=e.length,r,i="value"in Pr?Pr.value:Pr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Hl=i.slice(t,1<r?1-r:void 0)}function ql(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _l(){return!0}function Qg(){return!1}function gn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_l:Qg,this.isPropagationStopped=Qg,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),e}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rp=gn(Ho),ba=ot({},Ho,{view:0,detail:0}),AA=gn(ba),Ph,kh,us,sc=ot({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ap,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==us&&(us&&t.type==="mousemove"?(Ph=t.screenX-us.screenX,kh=t.screenY-us.screenY):kh=Ph=0,us=t),Ph)},movementY:function(t){return"movementY"in t?t.movementY:kh}}),Yg=gn(sc),IA=ot({},sc,{dataTransfer:0}),CA=gn(IA),PA=ot({},ba,{relatedTarget:0}),Nh=gn(PA),kA=ot({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),NA=gn(kA),xA=ot({},Ho,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VA=gn(xA),DA=ot({},Ho,{data:0}),Xg=gn(DA),LA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MA[t])?!!e[t]:!1}function Ap(){return OA}var $A=ot({},ba,{key:function(t){if(t.key){var e=LA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ql(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ap,charCode:function(t){return t.type==="keypress"?ql(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ql(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FA=gn($A),UA=ot({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=gn(UA),BA=ot({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ap}),jA=gn(BA),zA=ot({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),WA=gn(zA),HA=ot({},sc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qA=gn(HA),KA=[9,13,27,32],Ip=fr&&"CompositionEvent"in window,bs=null;fr&&"documentMode"in document&&(bs=document.documentMode);var GA=fr&&"TextEvent"in window&&!bs,k0=fr&&(!Ip||bs&&8<bs&&11>=bs),Zg=" ",ey=!1;function N0(t,e){switch(t){case"keyup":return KA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zi=!1;function QA(t,e){switch(t){case"compositionend":return x0(e);case"keypress":return e.which!==32?null:(ey=!0,Zg);case"textInput":return t=e.data,t===Zg&&ey?null:t;default:return null}}function YA(t,e){if(Zi)return t==="compositionend"||!Ip&&N0(t,e)?(t=P0(),Hl=Tp=Pr=null,Zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return k0&&e.locale!=="ko"?null:e.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XA[t.type]:e==="textarea"}function V0(t,e,n,r){u0(r),e=fu(e,"onChange"),0<e.length&&(n=new Rp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ms=null,ia=null;function JA(t){z0(t,0)}function ac(t){var e=no(t);if(n0(e))return t}function ZA(t,e){if(t==="change")return e}var D0=!1;if(fr){var xh;if(fr){var Vh="oninput"in document;if(!Vh){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Vh=typeof ny.oninput=="function"}xh=Vh}else xh=!1;D0=xh&&(!document.documentMode||9<document.documentMode)}function ry(){Ms&&(Ms.detachEvent("onpropertychange",L0),ia=Ms=null)}function L0(t){if(t.propertyName==="value"&&ac(ia)){var e=[];V0(e,ia,t,vp(t)),f0(JA,e)}}function eI(t,e,n){t==="focusin"?(ry(),Ms=e,ia=n,Ms.attachEvent("onpropertychange",L0)):t==="focusout"&&ry()}function tI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(ia)}function nI(t,e){if(t==="click")return ac(e)}function rI(t,e){if(t==="input"||t==="change")return ac(e)}function iI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:iI;function oa(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Id.call(e,i)||!On(t[i],e[i]))return!1}return!0}function iy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oy(t,e){var n=iy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iy(n)}}function b0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?b0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M0(){for(var t=window,e=su();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=su(t.document)}return e}function Cp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oI(t){var e=M0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&b0(n.ownerDocument.documentElement,n)){if(r!==null&&Cp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=oy(n,o);var s=oy(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sI=fr&&"documentMode"in document&&11>=document.documentMode,eo=null,Hd=null,Os=null,qd=!1;function sy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qd||eo==null||eo!==su(r)||(r=eo,"selectionStart"in r&&Cp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Os&&oa(Os,r)||(Os=r,r=fu(Hd,"onSelect"),0<r.length&&(e=new Rp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=eo)))}function El(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var to={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},Dh={},O0={};fr&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function lc(t){if(Dh[t])return Dh[t];if(!to[t])return t;var e=to[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in O0)return Dh[t]=e[n];return t}var $0=lc("animationend"),F0=lc("animationiteration"),U0=lc("animationstart"),B0=lc("transitionend"),j0=new Map,ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(t,e){j0.set(t,e),Li(e,[t])}for(var Lh=0;Lh<ay.length;Lh++){var bh=ay[Lh],aI=bh.toLowerCase(),lI=bh[0].toUpperCase()+bh.slice(1);Yr(aI,"on"+lI)}Yr($0,"onAnimationEnd");Yr(F0,"onAnimationIteration");Yr(U0,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(B0,"onTransitionEnd");To("onMouseEnter",["mouseout","mouseover"]);To("onMouseLeave",["mouseout","mouseover"]);To("onPointerEnter",["pointerout","pointerover"]);To("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uI=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function ly(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aA(r,e,void 0,t),t.currentTarget=null}function z0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ly(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ly(i,a,u),o=l}}}if(lu)throw t=Bd,lu=!1,Bd=null,t}function qe(t,e){var n=e[Xd];n===void 0&&(n=e[Xd]=new Set);var r=t+"__bubble";n.has(r)||(W0(e,t,2,!1),n.add(r))}function Mh(t,e,n){var r=0;e&&(r|=4),W0(n,t,r,e)}var wl="_reactListening"+Math.random().toString(36).slice(2);function sa(t){if(!t[wl]){t[wl]=!0,X_.forEach(function(n){n!=="selectionchange"&&(uI.has(n)||Mh(n,!1,t),Mh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wl]||(e[wl]=!0,Mh("selectionchange",!1,e))}}function W0(t,e,n,r){switch(C0(e)){case 1:var i=TA;break;case 4:i=RA;break;default:i=Sp}n=i.bind(null,e,n,t),i=void 0,!Ud||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Oh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=hi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}f0(function(){var u=o,c=vp(n),h=[];e:{var d=j0.get(t);if(d!==void 0){var p=Rp,y=t;switch(t){case"keypress":if(ql(n)===0)break e;case"keydown":case"keyup":p=FA;break;case"focusin":y="focus",p=Nh;break;case"focusout":y="blur",p=Nh;break;case"beforeblur":case"afterblur":p=Nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=CA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jA;break;case $0:case F0:case U0:p=NA;break;case B0:p=WA;break;case"scroll":p=AA;break;case"wheel":p=qA;break;case"copy":case"cut":case"paste":p=VA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jg}var E=(e&4)!==0,R=!E&&t==="scroll",m=E?d!==null?d+"Capture":null:d;E=[];for(var f=u,g;f!==null;){g=f;var T=g.stateNode;if(g.tag===5&&T!==null&&(g=T,m!==null&&(T=ea(f,m),T!=null&&E.push(aa(f,T,g)))),R)break;f=f.return}0<E.length&&(d=new p(d,y,null,n,c),h.push({event:d,listeners:E}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==$d&&(y=n.relatedTarget||n.fromElement)&&(hi(y)||y[pr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?hi(y):null,y!==null&&(R=bi(y),y!==R||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(E=Yg,T="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(E=Jg,T="onPointerLeave",m="onPointerEnter",f="pointer"),R=p==null?d:no(p),g=y==null?d:no(y),d=new E(T,f+"leave",p,n,c),d.target=R,d.relatedTarget=g,T=null,hi(c)===u&&(E=new E(m,f+"enter",y,n,c),E.target=g,E.relatedTarget=R,T=E),R=T,p&&y)t:{for(E=p,m=y,f=0,g=E;g;g=Wi(g))f++;for(g=0,T=m;T;T=Wi(T))g++;for(;0<f-g;)E=Wi(E),f--;for(;0<g-f;)m=Wi(m),g--;for(;f--;){if(E===m||m!==null&&E===m.alternate)break t;E=Wi(E),m=Wi(m)}E=null}else E=null;p!==null&&uy(h,d,p,E,!1),y!==null&&R!==null&&uy(h,R,y,E,!0)}}e:{if(d=u?no(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=ZA;else if(ty(d))if(D0)C=rI;else{C=tI;var L=eI}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=nI);if(C&&(C=C(t,u))){V0(h,C,n,c);break e}L&&L(t,d,u),t==="focusout"&&(L=d._wrapperState)&&L.controlled&&d.type==="number"&&Dd(d,"number",d.value)}switch(L=u?no(u):window,t){case"focusin":(ty(L)||L.contentEditable==="true")&&(eo=L,Hd=u,Os=null);break;case"focusout":Os=Hd=eo=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,sy(h,n,c);break;case"selectionchange":if(sI)break;case"keydown":case"keyup":sy(h,n,c)}var M;if(Ip)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Zi?N0(t,n)&&(q="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(k0&&n.locale!=="ko"&&(Zi||q!=="onCompositionStart"?q==="onCompositionEnd"&&Zi&&(M=P0()):(Pr=c,Tp="value"in Pr?Pr.value:Pr.textContent,Zi=!0)),L=fu(u,q),0<L.length&&(q=new Xg(q,t,null,n,c),h.push({event:q,listeners:L}),M?q.data=M:(M=x0(n),M!==null&&(q.data=M)))),(M=GA?QA(t,n):YA(t,n))&&(u=fu(u,"onBeforeInput"),0<u.length&&(c=new Xg("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=M))}z0(h,e)})}function aa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ea(t,n),o!=null&&r.unshift(aa(t,o,i)),o=ea(t,e),o!=null&&r.push(aa(t,o,i))),t=t.return}return r}function Wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uy(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ea(n,o),l!=null&&s.unshift(aa(n,l,a))):i||(l=ea(n,o),l!=null&&s.push(aa(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var cI=/\r\n?/g,hI=/\u0000|\uFFFD/g;function cy(t){return(typeof t=="string"?t:""+t).replace(cI,`
`).replace(hI,"")}function Sl(t,e,n){if(e=cy(e),cy(t)!==e&&n)throw Error(U(425))}function pu(){}var Kd=null,Gd=null;function Qd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yd=typeof setTimeout=="function"?setTimeout:void 0,dI=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,fI=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(t){return hy.resolve(null).then(t).catch(pI)}:Yd;function pI(t){setTimeout(function(){throw t})}function $h(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ra(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ra(e)}function Mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qo=Math.random().toString(36).slice(2),jn="__reactFiber$"+qo,la="__reactProps$"+qo,pr="__reactContainer$"+qo,Xd="__reactEvents$"+qo,mI="__reactListeners$"+qo,gI="__reactHandles$"+qo;function hi(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dy(t);t!==null;){if(n=t[jn])return n;t=dy(t)}return e}t=n,n=t.parentNode}return null}function Ma(t){return t=t[jn]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function no(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function uc(t){return t[la]||null}var Jd=[],ro=-1;function Xr(t){return{current:t}}function Ye(t){0>ro||(t.current=Jd[ro],Jd[ro]=null,ro--)}function We(t,e){ro++,Jd[ro]=t.current,t.current=e}var qr={},Wt=Xr(qr),nn=Xr(!1),Ti=qr;function Ro(t,e){var n=t.type.contextTypes;if(!n)return qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function mu(){Ye(nn),Ye(Wt)}function fy(t,e,n){if(Wt.current!==qr)throw Error(U(168));We(Wt,e),We(nn,n)}function H0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,eA(t)||"Unknown",i));return ot({},n,r)}function gu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qr,Ti=Wt.current,We(Wt,t),We(nn,nn.current),!0}function py(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=H0(t,e,Ti),r.__reactInternalMemoizedMergedChildContext=t,Ye(nn),Ye(Wt),We(Wt,t)):Ye(nn),We(nn,n)}var or=null,cc=!1,Fh=!1;function q0(t){or===null?or=[t]:or.push(t)}function yI(t){cc=!0,q0(t)}function Jr(){if(!Fh&&or!==null){Fh=!0;var t=0,e=$e;try{var n=or;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}or=null,cc=!1}catch(i){throw or!==null&&(or=or.slice(t+1)),y0(_p,Jr),i}finally{$e=e,Fh=!1}}return null}var io=[],oo=0,yu=null,vu=0,wn=[],Sn=0,Ri=null,ar=1,lr="";function si(t,e){io[oo++]=vu,io[oo++]=yu,yu=t,vu=e}function K0(t,e,n){wn[Sn++]=ar,wn[Sn++]=lr,wn[Sn++]=Ri,Ri=t;var r=ar;t=lr;var i=32-bn(r)-1;r&=~(1<<i),n+=1;var o=32-bn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ar=1<<32-bn(e)+i|n<<i|r,lr=o+t}else ar=1<<o|n<<i|r,lr=t}function Pp(t){t.return!==null&&(si(t,1),K0(t,1,0))}function kp(t){for(;t===yu;)yu=io[--oo],io[oo]=null,vu=io[--oo],io[oo]=null;for(;t===Ri;)Ri=wn[--Sn],wn[Sn]=null,lr=wn[--Sn],wn[Sn]=null,ar=wn[--Sn],wn[Sn]=null}var dn=null,cn=null,Ze=!1,Dn=null;function G0(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function my(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,cn=Mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ri!==null?{id:ar,overflow:lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,cn=null,!0):!1;default:return!1}}function Zd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ef(t){if(Ze){var e=cn;if(e){var n=e;if(!my(t,e)){if(Zd(t))throw Error(U(418));e=Mr(n.nextSibling);var r=dn;e&&my(t,e)?G0(r,n):(t.flags=t.flags&-4097|2,Ze=!1,dn=t)}}else{if(Zd(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ze=!1,dn=t}}}function gy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function Tl(t){if(t!==dn)return!1;if(!Ze)return gy(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qd(t.type,t.memoizedProps)),e&&(e=cn)){if(Zd(t))throw Q0(),Error(U(418));for(;e;)G0(t,e),e=Mr(e.nextSibling)}if(gy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=Mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=dn?Mr(t.stateNode.nextSibling):null;return!0}function Q0(){for(var t=cn;t;)t=Mr(t.nextSibling)}function Ao(){cn=dn=null,Ze=!1}function Np(t){Dn===null?Dn=[t]:Dn.push(t)}var vI=_r.ReactCurrentBatchConfig;function xn(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _u=Xr(null),Eu=null,so=null,xp=null;function Vp(){xp=so=Eu=null}function Dp(t){var e=_u.current;Ye(_u),t._currentValue=e}function tf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){Eu=t,xp=so=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(xp!==t)if(t={context:t,memoizedValue:e,next:null},so===null){if(Eu===null)throw Error(U(308));so=t,Eu.dependencies={lanes:0,firstContext:t}}else so=so.next=t;return e}var di=null;function Lp(t){di===null?di=[t]:di.push(t)}function Y0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Lp(e)):(n.next=i.next,i.next=n),e.interleaved=n,mr(t,r)}function mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rr=!1;function bp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mr(t,n)}return i=r.interleaved,i===null?(e.next=e,Lp(r)):(e.next=i.next,i.next=e),r.interleaved=e,mr(t,n)}function Kl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ep(t,n)}}function yy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wu(t,e,n,r){var i=t.updateQueue;Rr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,E=a;switch(d=e,p=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){h=y.call(p,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,d=typeof y=="function"?y.call(p,h,d):y,d==null)break e;h=ot({},h,d);break e;case 2:Rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ii|=s,t.lanes=s,t.memoizedState=h}}function vy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var J0=new Y_.Component().refs;function nf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hc={isMounted:function(t){return(t=t._reactInternals)?bi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Fr(t),o=cr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Or(t,o,i),e!==null&&(Mn(e,t,i,r),Kl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Fr(t),o=cr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Or(t,o,i),e!==null&&(Mn(e,t,i,r),Kl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=Fr(t),i=cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Or(t,i,r),e!==null&&(Mn(e,t,r,n),Kl(e,t,r))}};function _y(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!oa(n,r)||!oa(i,o):!0}function Z0(t,e,n){var r=!1,i=qr,o=e.contextType;return typeof o=="object"&&o!==null?o=In(o):(i=rn(e)?Ti:Wt.current,r=e.contextTypes,o=(r=r!=null)?Ro(t,i):qr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ey(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hc.enqueueReplaceState(e,e.state,null)}function rf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=J0,bp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=In(o):(o=rn(e)?Ti:Wt.current,i.context=Ro(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(nf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hc.enqueueReplaceState(i,i.state,null),wu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===J0&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Rl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wy(t){var e=t._init;return e(t._payload)}function e1(t){function e(m,f){if(t){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=Ur(m,f),m.index=0,m.sibling=null,m}function o(m,f,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,T){return f===null||f.tag!==6?(f=qh(g,m.mode,T),f.return=m,f):(f=i(f,g),f.return=m,f)}function l(m,f,g,T){var C=g.type;return C===Ji?c(m,f,g.props.children,T,g.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Tr&&wy(C)===f.type)?(T=i(f,g.props),T.ref=cs(m,f,g),T.return=m,T):(T=Zl(g.type,g.key,g.props,null,m.mode,T),T.ref=cs(m,f,g),T.return=m,T)}function u(m,f,g,T){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Kh(g,m.mode,T),f.return=m,f):(f=i(f,g.children||[]),f.return=m,f)}function c(m,f,g,T,C){return f===null||f.tag!==7?(f=Ei(g,m.mode,T,C),f.return=m,f):(f=i(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=qh(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case fl:return g=Zl(f.type,f.key,f.props,null,m.mode,g),g.ref=cs(m,null,f),g.return=m,g;case Xi:return f=Kh(f,m.mode,g),f.return=m,f;case Tr:var T=f._init;return h(m,T(f._payload),g)}if(Ts(f)||os(f))return f=Ei(f,m.mode,g,null),f.return=m,f;Rl(m,f)}return null}function d(m,f,g,T){var C=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:a(m,f,""+g,T);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fl:return g.key===C?l(m,f,g,T):null;case Xi:return g.key===C?u(m,f,g,T):null;case Tr:return C=g._init,d(m,f,C(g._payload),T)}if(Ts(g)||os(g))return C!==null?null:c(m,f,g,T,null);Rl(m,g)}return null}function p(m,f,g,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(g)||null,a(f,m,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case fl:return m=m.get(T.key===null?g:T.key)||null,l(f,m,T,C);case Xi:return m=m.get(T.key===null?g:T.key)||null,u(f,m,T,C);case Tr:var L=T._init;return p(m,f,g,L(T._payload),C)}if(Ts(T)||os(T))return m=m.get(g)||null,c(f,m,T,C,null);Rl(f,T)}return null}function y(m,f,g,T){for(var C=null,L=null,M=f,q=f=0,ae=null;M!==null&&q<g.length;q++){M.index>q?(ae=M,M=null):ae=M.sibling;var J=d(m,M,g[q],T);if(J===null){M===null&&(M=ae);break}t&&M&&J.alternate===null&&e(m,M),f=o(J,f,q),L===null?C=J:L.sibling=J,L=J,M=ae}if(q===g.length)return n(m,M),Ze&&si(m,q),C;if(M===null){for(;q<g.length;q++)M=h(m,g[q],T),M!==null&&(f=o(M,f,q),L===null?C=M:L.sibling=M,L=M);return Ze&&si(m,q),C}for(M=r(m,M);q<g.length;q++)ae=p(M,m,q,g[q],T),ae!==null&&(t&&ae.alternate!==null&&M.delete(ae.key===null?q:ae.key),f=o(ae,f,q),L===null?C=ae:L.sibling=ae,L=ae);return t&&M.forEach(function(Ie){return e(m,Ie)}),Ze&&si(m,q),C}function E(m,f,g,T){var C=os(g);if(typeof C!="function")throw Error(U(150));if(g=C.call(g),g==null)throw Error(U(151));for(var L=C=null,M=f,q=f=0,ae=null,J=g.next();M!==null&&!J.done;q++,J=g.next()){M.index>q?(ae=M,M=null):ae=M.sibling;var Ie=d(m,M,J.value,T);if(Ie===null){M===null&&(M=ae);break}t&&M&&Ie.alternate===null&&e(m,M),f=o(Ie,f,q),L===null?C=Ie:L.sibling=Ie,L=Ie,M=ae}if(J.done)return n(m,M),Ze&&si(m,q),C;if(M===null){for(;!J.done;q++,J=g.next())J=h(m,J.value,T),J!==null&&(f=o(J,f,q),L===null?C=J:L.sibling=J,L=J);return Ze&&si(m,q),C}for(M=r(m,M);!J.done;q++,J=g.next())J=p(M,m,q,J.value,T),J!==null&&(t&&J.alternate!==null&&M.delete(J.key===null?q:J.key),f=o(J,f,q),L===null?C=J:L.sibling=J,L=J);return t&&M.forEach(function($){return e(m,$)}),Ze&&si(m,q),C}function R(m,f,g,T){if(typeof g=="object"&&g!==null&&g.type===Ji&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case fl:e:{for(var C=g.key,L=f;L!==null;){if(L.key===C){if(C=g.type,C===Ji){if(L.tag===7){n(m,L.sibling),f=i(L,g.props.children),f.return=m,m=f;break e}}else if(L.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Tr&&wy(C)===L.type){n(m,L.sibling),f=i(L,g.props),f.ref=cs(m,L,g),f.return=m,m=f;break e}n(m,L);break}else e(m,L);L=L.sibling}g.type===Ji?(f=Ei(g.props.children,m.mode,T,g.key),f.return=m,m=f):(T=Zl(g.type,g.key,g.props,null,m.mode,T),T.ref=cs(m,f,g),T.return=m,m=T)}return s(m);case Xi:e:{for(L=g.key;f!==null;){if(f.key===L)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=i(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=Kh(g,m.mode,T),f.return=m,m=f}return s(m);case Tr:return L=g._init,R(m,f,L(g._payload),T)}if(Ts(g))return y(m,f,g,T);if(os(g))return E(m,f,g,T);Rl(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,g),f.return=m,m=f):(n(m,f),f=qh(g,m.mode,T),f.return=m,m=f),s(m)):n(m,f)}return R}var Io=e1(!0),t1=e1(!1),Oa={},Gn=Xr(Oa),ua=Xr(Oa),ca=Xr(Oa);function fi(t){if(t===Oa)throw Error(U(174));return t}function Mp(t,e){switch(We(ca,e),We(ua,t),We(Gn,Oa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bd(e,t)}Ye(Gn),We(Gn,e)}function Co(){Ye(Gn),Ye(ua),Ye(ca)}function n1(t){fi(ca.current);var e=fi(Gn.current),n=bd(e,t.type);e!==n&&(We(ua,t),We(Gn,n))}function Op(t){ua.current===t&&(Ye(Gn),Ye(ua))}var rt=Xr(0);function Su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uh=[];function $p(){for(var t=0;t<Uh.length;t++)Uh[t]._workInProgressVersionPrimary=null;Uh.length=0}var Gl=_r.ReactCurrentDispatcher,Bh=_r.ReactCurrentBatchConfig,Ai=0,it=null,gt=null,Tt=null,Tu=!1,$s=!1,ha=0,_I=0;function Mt(){throw Error(U(321))}function Fp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!On(t[n],e[n]))return!1;return!0}function Up(t,e,n,r,i,o){if(Ai=o,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gl.current=t===null||t.memoizedState===null?TI:RI,t=n(r,i),$s){o=0;do{if($s=!1,ha=0,25<=o)throw Error(U(301));o+=1,Tt=gt=null,e.updateQueue=null,Gl.current=AI,t=n(r,i)}while($s)}if(Gl.current=Ru,e=gt!==null&&gt.next!==null,Ai=0,Tt=gt=it=null,Tu=!1,e)throw Error(U(300));return t}function Bp(){var t=ha!==0;return ha=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?it.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Cn(){if(gt===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Tt===null?it.memoizedState:Tt.next;if(e!==null)Tt=e,gt=t;else{if(t===null)throw Error(U(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?it.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function da(t,e){return typeof e=="function"?e(t):e}function jh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Ai&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,it.lanes|=c,Ii|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,On(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,it.lanes|=o,Ii|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);On(o,e.memoizedState)||(tn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function r1(){}function i1(t,e){var n=it,r=Cn(),i=e(),o=!On(r.memoizedState,i);if(o&&(r.memoizedState=i,tn=!0),r=r.queue,jp(a1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,fa(9,s1.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(U(349));Ai&30||o1(n,e,i)}return i}function o1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function s1(t,e,n,r){e.value=n,e.getSnapshot=r,l1(e)&&u1(t)}function a1(t,e,n){return n(function(){l1(e)&&u1(t)})}function l1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!On(t,n)}catch{return!0}}function u1(t){var e=mr(t,1);e!==null&&Mn(e,t,1,-1)}function Sy(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:t},e.queue=t,t=t.dispatch=SI.bind(null,it,t),[e.memoizedState,t]}function fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function c1(){return Cn().memoizedState}function Ql(t,e,n,r){var i=Bn();it.flags|=t,i.memoizedState=fa(1|e,n,void 0,r===void 0?null:r)}function dc(t,e,n,r){var i=Cn();r=r===void 0?null:r;var o=void 0;if(gt!==null){var s=gt.memoizedState;if(o=s.destroy,r!==null&&Fp(r,s.deps)){i.memoizedState=fa(e,n,o,r);return}}it.flags|=t,i.memoizedState=fa(1|e,n,o,r)}function Ty(t,e){return Ql(8390656,8,t,e)}function jp(t,e){return dc(2048,8,t,e)}function h1(t,e){return dc(4,2,t,e)}function d1(t,e){return dc(4,4,t,e)}function f1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p1(t,e,n){return n=n!=null?n.concat([t]):null,dc(4,4,f1.bind(null,e,t),n)}function zp(){}function m1(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function g1(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y1(t,e,n){return Ai&21?(On(n,e)||(n=E0(),it.lanes|=n,Ii|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function EI(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=Bh.transition;Bh.transition={};try{t(!1),e()}finally{$e=n,Bh.transition=r}}function v1(){return Cn().memoizedState}function wI(t,e,n){var r=Fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_1(t))E1(e,n);else if(n=Y0(t,e,n,r),n!==null){var i=Qt();Mn(n,t,r,i),w1(n,e,r)}}function SI(t,e,n){var r=Fr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_1(t))E1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,On(a,s)){var l=e.interleaved;l===null?(i.next=i,Lp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Y0(t,e,i,r),n!==null&&(i=Qt(),Mn(n,t,r,i),w1(n,e,r))}}function _1(t){var e=t.alternate;return t===it||e!==null&&e===it}function E1(t,e){$s=Tu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function w1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ep(t,n)}}var Ru={readContext:In,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},TI={readContext:In,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:Ty,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ql(4194308,4,f1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ql(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ql(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wI.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:Sy,useDebugValue:zp,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=Sy(!1),e=t[0];return t=EI.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,i=Bn();if(Ze){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Rt===null)throw Error(U(349));Ai&30||o1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ty(a1.bind(null,r,o,t),[t]),r.flags|=2048,fa(9,s1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Bn(),e=Rt.identifierPrefix;if(Ze){var n=lr,r=ar;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ha++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_I++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RI={readContext:In,useCallback:m1,useContext:In,useEffect:jp,useImperativeHandle:p1,useInsertionEffect:h1,useLayoutEffect:d1,useMemo:g1,useReducer:jh,useRef:c1,useState:function(){return jh(da)},useDebugValue:zp,useDeferredValue:function(t){var e=Cn();return y1(e,gt.memoizedState,t)},useTransition:function(){var t=jh(da)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:r1,useSyncExternalStore:i1,useId:v1,unstable_isNewReconciler:!1},AI={readContext:In,useCallback:m1,useContext:In,useEffect:jp,useImperativeHandle:p1,useInsertionEffect:h1,useLayoutEffect:d1,useMemo:g1,useReducer:zh,useRef:c1,useState:function(){return zh(da)},useDebugValue:zp,useDeferredValue:function(t){var e=Cn();return gt===null?e.memoizedState=t:y1(e,gt.memoizedState,t)},useTransition:function(){var t=zh(da)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:r1,useSyncExternalStore:i1,useId:v1,unstable_isNewReconciler:!1};function Po(t,e){try{var n="",r=e;do n+=ZR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Wh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function of(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var II=typeof WeakMap=="function"?WeakMap:Map;function S1(t,e,n){n=cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Iu||(Iu=!0,mf=r),of(t,e)},n}function T1(t,e,n){n=cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){of(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){of(t,e),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ry(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new II;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UI.bind(null,t,e,n),e.then(t,t))}function Ay(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Iy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cr(-1,1),e.tag=2,Or(n,e,1))),n.lanes|=1),t)}var CI=_r.ReactCurrentOwner,tn=!1;function qt(t,e,n,r){e.child=t===null?t1(e,null,n,r):Io(e,t.child,n,r)}function Cy(t,e,n,r,i){n=n.render;var o=e.ref;return go(e,i),r=Up(t,e,n,r,o,i),n=Bp(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Ze&&n&&Pp(e),e.flags|=1,qt(t,e,r,i),e.child)}function Py(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Xp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,R1(t,e,o,r,i)):(t=Zl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:oa,n(s,r)&&t.ref===e.ref)return gr(t,e,i)}return e.flags|=1,t=Ur(o,r),t.ref=e.ref,t.return=e,e.child=t}function R1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(oa(o,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,gr(t,e,i)}return sf(t,e,n,r,i)}function A1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(lo,un),un|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(lo,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,We(lo,un),un|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,We(lo,un),un|=r;return qt(t,e,i,n),e.child}function I1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sf(t,e,n,r,i){var o=rn(n)?Ti:Wt.current;return o=Ro(e,o),go(e,i),n=Up(t,e,n,r,o,i),r=Bp(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Ze&&r&&Pp(e),e.flags|=1,qt(t,e,n,i),e.child)}function ky(t,e,n,r,i){if(rn(n)){var o=!0;gu(e)}else o=!1;if(go(e,i),e.stateNode===null)Yl(t,e),Z0(e,n,r),rf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=rn(n)?Ti:Wt.current,u=Ro(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ey(e,s,r,u),Rr=!1;var d=e.memoizedState;s.state=d,wu(e,r,s,i),l=e.memoizedState,a!==r||d!==l||nn.current||Rr?(typeof c=="function"&&(nf(e,n,c,r),l=e.memoizedState),(a=Rr||_y(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,X0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xn(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=rn(n)?Ti:Wt.current,l=Ro(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Ey(e,s,r,l),Rr=!1,d=e.memoizedState,s.state=d,wu(e,r,s,i);var y=e.memoizedState;a!==h||d!==y||nn.current||Rr?(typeof p=="function"&&(nf(e,n,p,r),y=e.memoizedState),(u=Rr||_y(e,n,u,r,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return af(t,e,n,r,o,i)}function af(t,e,n,r,i,o){I1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&py(e,n,!1),gr(t,e,o);r=e.stateNode,CI.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Io(e,t.child,null,o),e.child=Io(e,null,a,o)):qt(t,e,a,o),e.memoizedState=r.state,i&&py(e,n,!0),e.child}function C1(t){var e=t.stateNode;e.pendingContext?fy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fy(t,e.context,!1),Mp(t,e.containerInfo)}function Ny(t,e,n,r,i){return Ao(),Np(i),e.flags|=256,qt(t,e,n,r),e.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function uf(t){return{baseLanes:t,cachePool:null,transitions:null}}function P1(t,e,n){var r=e.pendingProps,i=rt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(rt,i&1),t===null)return ef(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=mc(s,r,0,null),t=Ei(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=uf(n),e.memoizedState=lf,t):Wp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return PI(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ur(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ur(a,o):(o=Ei(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?uf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=lf,r}return o=t.child,t=o.sibling,r=Ur(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wp(t,e){return e=mc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Al(t,e,n,r){return r!==null&&Np(r),Io(e,t.child,null,n),t=Wp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PI(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Wh(Error(U(422))),Al(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=mc({mode:"visible",children:r.children},i,0,null),o=Ei(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Io(e,t.child,null,s),e.child.memoizedState=uf(s),e.memoizedState=lf,o);if(!(e.mode&1))return Al(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Wh(o,r,void 0),Al(t,e,s,r)}if(a=(s&t.childLanes)!==0,tn||a){if(r=Rt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mr(t,i),Mn(r,t,i,-1))}return Yp(),r=Wh(Error(U(421))),Al(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BI.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,cn=Mr(i.nextSibling),dn=e,Ze=!0,Dn=null,t!==null&&(wn[Sn++]=ar,wn[Sn++]=lr,wn[Sn++]=Ri,ar=t.id,lr=t.overflow,Ri=e),e=Wp(e,r.children),e.flags|=4096,e)}function xy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tf(t.return,e,n)}function Hh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function k1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qt(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,n,e);else if(t.tag===19)xy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Su(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Su(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hh(e,!0,n,null,o);break;case"together":Hh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ii|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kI(t,e,n){switch(e.tag){case 3:C1(e),Ao();break;case 5:n1(e);break;case 1:rn(e.type)&&gu(e);break;case 4:Mp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(_u,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?P1(t,e,n):(We(rt,rt.current&1),t=gr(t,e,n),t!==null?t.sibling:null);We(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return k1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,A1(t,e,n)}return gr(t,e,n)}var N1,cf,x1,V1;N1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cf=function(){};x1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fi(Gn.current);var o=null;switch(n){case"input":i=xd(t,i),r=xd(t,r),o=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":i=Ld(t,i),r=Ld(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pu)}Md(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Js.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Js.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};V1=function(t,e,n,r){n!==r&&(e.flags|=4)};function hs(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NI(t,e,n){var r=e.pendingProps;switch(kp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return rn(e.type)&&mu(),Ot(e),null;case 3:return r=e.stateNode,Co(),Ye(nn),Ye(Wt),$p(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(vf(Dn),Dn=null))),cf(t,e),Ot(e),null;case 5:Op(e);var i=fi(ca.current);if(n=e.type,t!==null&&e.stateNode!=null)x1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Ot(e),null}if(t=fi(Gn.current),Tl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[jn]=e,r[la]=o,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<As.length;i++)qe(As[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":Ug(r,o),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qe("invalid",r);break;case"textarea":jg(r,o),qe("invalid",r)}Md(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),i=["children",""+a]):Js.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&qe("scroll",r)}switch(n){case"input":pl(r),Bg(r,o,!0);break;case"textarea":pl(r),zg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=o0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[jn]=e,t[la]=r,N1(t,e,!1,!1),e.stateNode=t;e:{switch(s=Od(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<As.length;i++)qe(As[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":Ug(t,r),i=xd(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),qe("invalid",t);break;case"textarea":jg(t,r),i=Ld(t,r),qe("invalid",t);break;default:i=r}Md(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?l0(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&s0(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zs(t,l):typeof l=="number"&&Zs(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Js.hasOwnProperty(o)?l!=null&&o==="onScroll"&&qe("scroll",t):l!=null&&pp(t,o,l,s))}switch(n){case"input":pl(t),Bg(t,r,!1);break;case"textarea":pl(t),zg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ho(t,!!r.multiple,o,!1):r.defaultValue!=null&&ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)V1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=fi(ca.current),fi(Gn.current),Tl(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(o=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:Sl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return Ot(e),null;case 13:if(Ye(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&cn!==null&&e.mode&1&&!(e.flags&128))Q0(),Ao(),e.flags|=98560,o=!1;else if(o=Tl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[jn]=e}else Ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),o=!1}else Dn!==null&&(vf(Dn),Dn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?yt===0&&(yt=3):Yp())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Co(),cf(t,e),t===null&&sa(e.stateNode.containerInfo),Ot(e),null;case 10:return Dp(e.type._context),Ot(e),null;case 17:return rn(e.type)&&mu(),Ot(e),null;case 19:if(Ye(rt),o=e.memoizedState,o===null)return Ot(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)hs(o,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Su(t),s!==null){for(e.flags|=128,hs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(rt,rt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ct()>ko&&(e.flags|=128,r=!0,hs(o,!1),e.lanes=4194304)}else{if(!r)if(t=Su(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ze)return Ot(e),null}else 2*ct()-o.renderingStartTime>ko&&n!==1073741824&&(e.flags|=128,r=!0,hs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ct(),e.sibling=null,n=rt.current,We(rt,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return Qp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function xI(t,e){switch(kp(e),e.tag){case 1:return rn(e.type)&&mu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Co(),Ye(nn),Ye(Wt),$p(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Op(e),null;case 13:if(Ye(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(rt),null;case 4:return Co(),null;case 10:return Dp(e.type._context),null;case 22:case 23:return Qp(),null;case 24:return null;default:return null}}var Il=!1,Ut=!1,VI=typeof WeakSet=="function"?WeakSet:Set,re=null;function ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function hf(t,e,n){try{n()}catch(r){at(t,e,r)}}var Vy=!1;function DI(t,e){if(Kd=hu,t=M0(),Cp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gd={focusedElem:t,selectionRange:n},hu=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,R=y.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?E:xn(e.type,E),R);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(T){at(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return y=Vy,Vy=!1,y}function Fs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&hf(e,n,o)}i=i.next}while(i!==r)}}function fc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function df(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function D1(t){var e=t.alternate;e!==null&&(t.alternate=null,D1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[la],delete e[Xd],delete e[mI],delete e[gI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L1(t){return t.tag===5||t.tag===3||t.tag===4}function Dy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pu));else if(r!==4&&(t=t.child,t!==null))for(ff(t,e,n),t=t.sibling;t!==null;)ff(t,e,n),t=t.sibling}function pf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pf(t,e,n),t=t.sibling;t!==null;)pf(t,e,n),t=t.sibling}var Pt=null,Vn=!1;function Sr(t,e,n){for(n=n.child;n!==null;)b1(t,e,n),n=n.sibling}function b1(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(oc,n)}catch{}switch(n.tag){case 5:Ut||ao(n,e);case 6:var r=Pt,i=Vn;Pt=null,Sr(t,e,n),Pt=r,Vn=i,Pt!==null&&(Vn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Vn?(t=Pt,n=n.stateNode,t.nodeType===8?$h(t.parentNode,n):t.nodeType===1&&$h(t,n),ra(t)):$h(Pt,n.stateNode));break;case 4:r=Pt,i=Vn,Pt=n.stateNode.containerInfo,Vn=!0,Sr(t,e,n),Pt=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&hf(n,e,s),i=i.next}while(i!==r)}Sr(t,e,n);break;case 1:if(!Ut&&(ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Sr(t,e,n);break;case 21:Sr(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Sr(t,e,n),Ut=r):Sr(t,e,n);break;default:Sr(t,e,n)}}function Ly(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VI),e.forEach(function(r){var i=jI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Vn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Vn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Vn=!0;break e}a=a.return}if(Pt===null)throw Error(U(160));b1(o,s,i),Pt=null,Vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M1(e,t),e=e.sibling}function M1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),Un(t),r&4){try{Fs(3,t,t.return),fc(3,t)}catch(E){at(t,t.return,E)}try{Fs(5,t,t.return)}catch(E){at(t,t.return,E)}}break;case 1:kn(e,t),Un(t),r&512&&n!==null&&ao(n,n.return);break;case 5:if(kn(e,t),Un(t),r&512&&n!==null&&ao(n,n.return),t.flags&32){var i=t.stateNode;try{Zs(i,"")}catch(E){at(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&r0(i,o),Od(a,s);var u=Od(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?l0(i,h):c==="dangerouslySetInnerHTML"?s0(i,h):c==="children"?Zs(i,h):pp(i,c,h,u)}switch(a){case"input":Vd(i,o);break;case"textarea":i0(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ho(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?ho(i,!!o.multiple,o.defaultValue,!0):ho(i,!!o.multiple,o.multiple?[]:"",!1))}i[la]=o}catch(E){at(t,t.return,E)}}break;case 6:if(kn(e,t),Un(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){at(t,t.return,E)}}break;case 3:if(kn(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ra(e.containerInfo)}catch(E){at(t,t.return,E)}break;case 4:kn(e,t),Un(t);break;case 13:kn(e,t),Un(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Kp=ct())),r&4&&Ly(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||c,kn(e,t),Ut=u):kn(e,t),Un(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(re=t,c=t.child;c!==null;){for(h=re=c;re!==null;){switch(d=re,p=d.child,d.tag){case 0:case 11:case 14:case 15:Fs(4,d,d.return);break;case 1:ao(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(E){at(r,n,E)}}break;case 5:ao(d,d.return);break;case 22:if(d.memoizedState!==null){My(h);continue}}p!==null?(p.return=d,re=p):My(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=a0("display",s))}catch(E){at(t,t.return,E)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){at(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kn(e,t),Un(t),r&4&&Ly(t);break;case 21:break;default:kn(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(L1(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zs(i,""),r.flags&=-33);var o=Dy(t);pf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Dy(t);ff(t,a,s);break;default:throw Error(U(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LI(t,e,n){re=t,O1(t)}function O1(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Il;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=Il;var u=Ut;if(Il=s,(Ut=l)&&!u)for(re=i;re!==null;)s=re,l=s.child,s.tag===22&&s.memoizedState!==null?Oy(i):l!==null?(l.return=s,re=l):Oy(i);for(;o!==null;)re=o,O1(o),o=o.sibling;re=i,Il=a,Ut=u}by(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):by(t)}}function by(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||fc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vy(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vy(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ra(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ut||e.flags&512&&df(e)}catch(d){at(e,e.return,d)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function My(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Oy(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fc(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var o=e.return;try{df(e)}catch(l){at(e,o,l)}break;case 5:var s=e.return;try{df(e)}catch(l){at(e,s,l)}}}catch(l){at(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var bI=Math.ceil,Au=_r.ReactCurrentDispatcher,Hp=_r.ReactCurrentOwner,An=_r.ReactCurrentBatchConfig,Le=0,Rt=null,pt=null,Vt=0,un=0,lo=Xr(0),yt=0,pa=null,Ii=0,pc=0,qp=0,Us=null,Zt=null,Kp=0,ko=1/0,ir=null,Iu=!1,mf=null,$r=null,Cl=!1,kr=null,Cu=0,Bs=0,gf=null,Xl=-1,Jl=0;function Qt(){return Le&6?ct():Xl!==-1?Xl:Xl=ct()}function Fr(t){return t.mode&1?Le&2&&Vt!==0?Vt&-Vt:vI.transition!==null?(Jl===0&&(Jl=E0()),Jl):(t=$e,t!==0||(t=window.event,t=t===void 0?16:C0(t.type)),t):1}function Mn(t,e,n,r){if(50<Bs)throw Bs=0,gf=null,Error(U(185));La(t,n,r),(!(Le&2)||t!==Rt)&&(t===Rt&&(!(Le&2)&&(pc|=n),yt===4&&Cr(t,Vt)),on(t,r),n===1&&Le===0&&!(e.mode&1)&&(ko=ct()+500,cc&&Jr()))}function on(t,e){var n=t.callbackNode;vA(t,e);var r=cu(t,t===Rt?Vt:0);if(r===0)n!==null&&qg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qg(n),e===1)t.tag===0?yI($y.bind(null,t)):q0($y.bind(null,t)),fI(function(){!(Le&6)&&Jr()}),n=null;else{switch(w0(r)){case 1:n=_p;break;case 4:n=v0;break;case 16:n=uu;break;case 536870912:n=_0;break;default:n=uu}n=H1(n,$1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $1(t,e){if(Xl=-1,Jl=0,Le&6)throw Error(U(327));var n=t.callbackNode;if(yo()&&t.callbackNode!==n)return null;var r=cu(t,t===Rt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pu(t,r);else{e=r;var i=Le;Le|=2;var o=U1();(Rt!==t||Vt!==e)&&(ir=null,ko=ct()+500,_i(t,e));do try{$I();break}catch(a){F1(t,a)}while(!0);Vp(),Au.current=o,Le=i,pt!==null?e=0:(Rt=null,Vt=0,e=yt)}if(e!==0){if(e===2&&(i=jd(t),i!==0&&(r=i,e=yf(t,i))),e===1)throw n=pa,_i(t,0),Cr(t,r),on(t,ct()),n;if(e===6)Cr(t,r);else{if(i=t.current.alternate,!(r&30)&&!MI(i)&&(e=Pu(t,r),e===2&&(o=jd(t),o!==0&&(r=o,e=yf(t,o))),e===1))throw n=pa,_i(t,0),Cr(t,r),on(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ai(t,Zt,ir);break;case 3:if(Cr(t,r),(r&130023424)===r&&(e=Kp+500-ct(),10<e)){if(cu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yd(ai.bind(null,t,Zt,ir),e);break}ai(t,Zt,ir);break;case 4:if(Cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-bn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bI(r/1960))-r,10<r){t.timeoutHandle=Yd(ai.bind(null,t,Zt,ir),r);break}ai(t,Zt,ir);break;case 5:ai(t,Zt,ir);break;default:throw Error(U(329))}}}return on(t,ct()),t.callbackNode===n?$1.bind(null,t):null}function yf(t,e){var n=Us;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=Pu(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&vf(e)),t}function vf(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function MI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!On(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cr(t,e){for(e&=~qp,e&=~pc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function $y(t){if(Le&6)throw Error(U(327));yo();var e=cu(t,0);if(!(e&1))return on(t,ct()),null;var n=Pu(t,e);if(t.tag!==0&&n===2){var r=jd(t);r!==0&&(e=r,n=yf(t,r))}if(n===1)throw n=pa,_i(t,0),Cr(t,e),on(t,ct()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,Zt,ir),on(t,ct()),null}function Gp(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(ko=ct()+500,cc&&Jr())}}function Ci(t){kr!==null&&kr.tag===0&&!(Le&6)&&yo();var e=Le;Le|=1;var n=An.transition,r=$e;try{if(An.transition=null,$e=1,t)return t()}finally{$e=r,An.transition=n,Le=e,!(Le&6)&&Jr()}}function Qp(){un=lo.current,Ye(lo)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dI(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(kp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mu();break;case 3:Co(),Ye(nn),Ye(Wt),$p();break;case 5:Op(r);break;case 4:Co();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:Dp(r.type._context);break;case 22:case 23:Qp()}n=n.return}if(Rt=t,pt=t=Ur(t.current,null),Vt=un=e,yt=0,pa=null,qp=pc=Ii=0,Zt=Us=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}di=null}return t}function F1(t,e){do{var n=pt;try{if(Vp(),Gl.current=Ru,Tu){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tu=!1}if(Ai=0,Tt=gt=it=null,$s=!1,ha=0,Hp.current=null,n===null||n.return===null){yt=1,pa=e,pt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Ay(s);if(p!==null){p.flags&=-257,Iy(p,s,a,o,e),p.mode&1&&Ry(o,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var E=new Set;E.add(l),e.updateQueue=E}else y.add(l);break e}else{if(!(e&1)){Ry(o,u,e),Yp();break e}l=Error(U(426))}}else if(Ze&&a.mode&1){var R=Ay(s);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Iy(R,s,a,o,e),Np(Po(l,a));break e}}o=l=Po(l,a),yt!==4&&(yt=2),Us===null?Us=[o]:Us.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=S1(o,l,e);yy(o,m);break e;case 1:a=l;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($r===null||!$r.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=T1(o,a,e);yy(o,T);break e}}o=o.return}while(o!==null)}j1(n)}catch(C){e=C,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function U1(){var t=Au.current;return Au.current=Ru,t===null?Ru:t}function Yp(){(yt===0||yt===3||yt===2)&&(yt=4),Rt===null||!(Ii&268435455)&&!(pc&268435455)||Cr(Rt,Vt)}function Pu(t,e){var n=Le;Le|=2;var r=U1();(Rt!==t||Vt!==e)&&(ir=null,_i(t,e));do try{OI();break}catch(i){F1(t,i)}while(!0);if(Vp(),Le=n,Au.current=r,pt!==null)throw Error(U(261));return Rt=null,Vt=0,yt}function OI(){for(;pt!==null;)B1(pt)}function $I(){for(;pt!==null&&!uA();)B1(pt)}function B1(t){var e=W1(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?j1(t):pt=e,Hp.current=null}function j1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xI(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,pt=null;return}}else if(n=NI(n,e,un),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);yt===0&&(yt=5)}function ai(t,e,n){var r=$e,i=An.transition;try{An.transition=null,$e=1,FI(t,e,n,r)}finally{An.transition=i,$e=r}return null}function FI(t,e,n,r){do yo();while(kr!==null);if(Le&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(_A(t,o),t===Rt&&(pt=Rt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cl||(Cl=!0,H1(uu,function(){return yo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=An.transition,An.transition=null;var s=$e;$e=1;var a=Le;Le|=4,Hp.current=null,DI(t,n),M1(n,t),oI(Gd),hu=!!Kd,Gd=Kd=null,t.current=n,LI(n),cA(),Le=a,$e=s,An.transition=o}else t.current=n;if(Cl&&(Cl=!1,kr=t,Cu=i),o=t.pendingLanes,o===0&&($r=null),fA(n.stateNode),on(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Iu)throw Iu=!1,t=mf,mf=null,t;return Cu&1&&t.tag!==0&&yo(),o=t.pendingLanes,o&1?t===gf?Bs++:(Bs=0,gf=t):Bs=0,Jr(),null}function yo(){if(kr!==null){var t=w0(Cu),e=An.transition,n=$e;try{if(An.transition=null,$e=16>t?16:t,kr===null)var r=!1;else{if(t=kr,kr=null,Cu=0,Le&6)throw Error(U(331));var i=Le;for(Le|=4,re=t.current;re!==null;){var o=re,s=o.child;if(re.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:Fs(8,c,o)}var h=c.child;if(h!==null)h.return=c,re=h;else for(;re!==null;){c=re;var d=c.sibling,p=c.return;if(D1(c),c===u){re=null;break}if(d!==null){d.return=p,re=d;break}re=p}}}var y=o.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var R=E.sibling;E.sibling=null,E=R}while(E!==null)}}re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,re=s;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fs(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,re=m;break e}re=o.return}}var f=t.current;for(re=f;re!==null;){s=re;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,re=g;else e:for(s=f;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fc(9,a)}}catch(C){at(a,a.return,C)}if(a===s){re=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,re=T;break e}re=a.return}}if(Le=i,Jr(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(oc,t)}catch{}r=!0}return r}finally{$e=n,An.transition=e}}return!1}function Fy(t,e,n){e=Po(n,e),e=S1(t,e,1),t=Or(t,e,1),e=Qt(),t!==null&&(La(t,1,e),on(t,e))}function at(t,e,n){if(t.tag===3)Fy(t,t,n);else for(;e!==null;){if(e.tag===3){Fy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){t=Po(n,t),t=T1(e,t,1),e=Or(e,t,1),t=Qt(),e!==null&&(La(e,1,t),on(e,t));break}}e=e.return}}function UI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Vt&n)===n&&(yt===4||yt===3&&(Vt&130023424)===Vt&&500>ct()-Kp?_i(t,0):qp|=n),on(t,e)}function z1(t,e){e===0&&(t.mode&1?(e=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):e=1);var n=Qt();t=mr(t,e),t!==null&&(La(t,e,n),on(t,n))}function BI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),z1(t,n)}function jI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),z1(t,n)}var W1;W1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,kI(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Ze&&e.flags&1048576&&K0(e,vu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yl(t,e),t=e.pendingProps;var i=Ro(e,Wt.current);go(e,n),i=Up(null,e,r,t,i,n);var o=Bp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(o=!0,gu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bp(e),i.updater=hc,e.stateNode=i,i._reactInternals=e,rf(e,r,t,n),e=af(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&Pp(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WI(r),t=xn(r,t),i){case 0:e=sf(null,e,r,t,n);break e;case 1:e=ky(null,e,r,t,n);break e;case 11:e=Cy(null,e,r,t,n);break e;case 14:e=Py(null,e,r,xn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),sf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),ky(t,e,r,i,n);case 3:e:{if(C1(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,i=o.element,X0(t,e),wu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Po(Error(U(423)),e),e=Ny(t,e,r,n,i);break e}else if(r!==i){i=Po(Error(U(424)),e),e=Ny(t,e,r,n,i);break e}else for(cn=Mr(e.stateNode.containerInfo.firstChild),dn=e,Ze=!0,Dn=null,n=t1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ao(),r===i){e=gr(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return n1(e),t===null&&ef(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Qd(r,i)?s=null:o!==null&&Qd(r,o)&&(e.flags|=32),I1(t,e),qt(t,e,s,n),e.child;case 6:return t===null&&ef(e),null;case 13:return P1(t,e,n);case 4:return Mp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Io(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Cy(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,We(_u,r._currentValue),r._currentValue=s,o!==null)if(On(o.value,s)){if(o.children===i.children&&!nn.current){e=gr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=cr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tf(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),tf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=In(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=xn(r,e.pendingProps),i=xn(r.type,i),Py(t,e,r,i,n);case 15:return R1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Yl(t,e),e.tag=1,rn(r)?(t=!0,gu(e)):t=!1,go(e,n),Z0(e,r,i),rf(e,r,i,n),af(null,e,r,!0,t,n);case 19:return k1(t,e,n);case 22:return A1(t,e,n)}throw Error(U(156,e.tag))};function H1(t,e){return y0(t,e)}function zI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new zI(t,e,n,r)}function Xp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WI(t){if(typeof t=="function")return Xp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gp)return 11;if(t===yp)return 14}return 2}function Ur(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Xp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ji:return Ei(n.children,i,o,e);case mp:s=8,i|=8;break;case Cd:return t=Rn(12,n,e,i|2),t.elementType=Cd,t.lanes=o,t;case Pd:return t=Rn(13,n,e,i),t.elementType=Pd,t.lanes=o,t;case kd:return t=Rn(19,n,e,i),t.elementType=kd,t.lanes=o,t;case e0:return mc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J_:s=10;break e;case Z_:s=9;break e;case gp:s=11;break e;case yp:s=14;break e;case Tr:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Rn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ei(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function mc(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=e0,t.lanes=n,t.stateNode={isHidden:!1},t}function qh(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function Kh(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ch(0),this.expirationTimes=Ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jp(t,e,n,r,i,o,s,a,l){return t=new HI(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Rn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(o),t}function qI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function q1(t){if(!t)return qr;t=t._reactInternals;e:{if(bi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(rn(n))return H0(t,n,e)}return e}function K1(t,e,n,r,i,o,s,a,l){return t=Jp(n,r,!0,t,i,o,s,a,l),t.context=q1(null),n=t.current,r=Qt(),i=Fr(n),o=cr(r,i),o.callback=e??null,Or(n,o,i),t.current.lanes=i,La(t,i,r),on(t,r),t}function gc(t,e,n,r){var i=e.current,o=Qt(),s=Fr(i);return n=q1(n),e.context===null?e.context=n:e.pendingContext=n,e=cr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Or(i,e,s),t!==null&&(Mn(t,i,s,o),Kl(t,i,s)),s}function ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zp(t,e){Uy(t,e),(t=t.alternate)&&Uy(t,e)}function KI(){return null}var G1=typeof reportError=="function"?reportError:function(t){console.error(t)};function em(t){this._internalRoot=t}yc.prototype.render=em.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));gc(t,e,null,null)};yc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ci(function(){gc(null,t,null,null)}),e[pr]=null}};function yc(t){this._internalRoot=t}yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=R0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ir.length&&e!==0&&e<Ir[n].priority;n++);Ir.splice(n,0,t),n===0&&I0(t)}};function tm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function By(){}function GI(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ku(s);o.call(u)}}var s=K1(e,r,t,0,null,!1,!1,"",By);return t._reactRootContainer=s,t[pr]=s.current,sa(t.nodeType===8?t.parentNode:t),Ci(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ku(l);a.call(u)}}var l=Jp(t,0,!1,null,null,!1,!1,"",By);return t._reactRootContainer=l,t[pr]=l.current,sa(t.nodeType===8?t.parentNode:t),Ci(function(){gc(e,l,n,r)}),l}function _c(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=ku(s);a.call(l)}}gc(e,s,t,i)}else s=GI(n,e,t,i,r);return ku(s)}S0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rs(e.pendingLanes);n!==0&&(Ep(e,n|1),on(e,ct()),!(Le&6)&&(ko=ct()+500,Jr()))}break;case 13:Ci(function(){var r=mr(t,1);if(r!==null){var i=Qt();Mn(r,t,1,i)}}),Zp(t,1)}};wp=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var n=Qt();Mn(e,t,134217728,n)}Zp(t,134217728)}};T0=function(t){if(t.tag===13){var e=Fr(t),n=mr(t,e);if(n!==null){var r=Qt();Mn(n,t,e,r)}Zp(t,e)}};R0=function(){return $e};A0=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};Fd=function(t,e,n){switch(e){case"input":if(Vd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=uc(r);if(!i)throw Error(U(90));n0(r),Vd(r,i)}}}break;case"textarea":i0(t,n);break;case"select":e=n.value,e!=null&&ho(t,!!n.multiple,e,!1)}};h0=Gp;d0=Ci;var QI={usingClientEntryPoint:!1,Events:[Ma,no,uc,u0,c0,Gp]},ds={findFiberByHostInstance:hi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YI={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m0(t),t===null?null:t.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||KI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{oc=Pl.inject(YI),Kn=Pl}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QI;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tm(e))throw Error(U(200));return qI(t,e,null,n)};mn.createRoot=function(t,e){if(!tm(t))throw Error(U(299));var n=!1,r="",i=G1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jp(t,1,!1,null,null,n,!1,r,i),t[pr]=e.current,sa(t.nodeType===8?t.parentNode:t),new em(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=m0(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return Ci(t)};mn.hydrate=function(t,e,n){if(!vc(e))throw Error(U(200));return _c(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!tm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=G1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=K1(e,null,t,1,n??null,i,!1,o,s),t[pr]=e.current,sa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yc(e)};mn.render=function(t,e,n){if(!vc(e))throw Error(U(200));return _c(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!vc(t))throw Error(U(40));return t._reactRootContainer?(Ci(function(){_c(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};mn.unstable_batchedUpdates=Gp;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return _c(t,e,n,!1,r)};mn.version="18.2.0-next-9e3b772b8-20220608";function Q1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q1)}catch(t){console.error(t)}}Q1(),K_.exports=mn;var Y1=K_.exports;const XI=ap(Y1);var jy=Y1;Ad.createRoot=jy.createRoot,Ad.hydrateRoot=jy.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}var Nr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nr||(Nr={}));const zy="popstate";function JI(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Mi(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),_f("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:X1(o))}function r(i,o){Ec(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return eC(e,n,r,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ec(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZI(){return Math.random().toString(36).substr(2,8)}function Wy(t,e){return{usr:t.state,key:t.key,idx:e}}function _f(t,e,n,r){return n===void 0&&(n=null),ma({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mi(e):e,{state:n,key:e&&e.key||r||ZI()})}function X1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Nr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(ma({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Nr.Pop;let R=c(),m=R==null?null:R-u;u=R,l&&l({action:a,location:E.location,delta:m})}function d(R,m){a=Nr.Push;let f=_f(E.location,R,m);n&&n(f,R),u=c()+1;let g=Wy(f,u),T=E.createHref(f);try{s.pushState(g,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}o&&l&&l({action:a,location:E.location,delta:1})}function p(R,m){a=Nr.Replace;let f=_f(E.location,R,m);n&&n(f,R),u=c();let g=Wy(f,u),T=E.createHref(f);s.replaceState(g,"",T),o&&l&&l({action:a,location:E.location,delta:0})}function y(R){let m=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof R=="string"?R:X1(R);return vt(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let E={get action(){return a},get location(){return t(i,s)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zy,h),l=R,()=>{i.removeEventListener(zy,h),l=null}},createHref(R){return e(i,R)},createURL:y,encodeLocation(R){let m=y(R);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(R){return s.go(R)}};return E}var Hy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hy||(Hy={}));function tC(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Mi(e):e,i=eE(r.pathname||"/",n);if(i==null)return null;let o=J1(t);nC(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=hC(o[a],pC(i));return s}function J1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=wi([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),J1(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:uC(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Z1(o.path))i(o,s,l)}),e}function Z1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Z1(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rC=/^:\w+$/,iC=3,oC=2,sC=1,aC=10,lC=-2,qy=t=>t==="*";function uC(t,e){let n=t.split("/"),r=n.length;return n.some(qy)&&(r+=lC),e&&(r+=oC),n.filter(i=>!qy(i)).reduce((i,o)=>i+(rC.test(o)?iC:o===""?sC:aC),r)}function cC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hC(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=dC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:wi([i,c.pathname]),pathnameBase:wC(wi([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=wi([i,c.pathnameBase]))}return o}function dC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let E=a[h]||"";s=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?u[d]=void 0:u[d]=mC(y||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function fC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ec(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pC(t){try{return decodeURI(t)}catch(e){return Ec(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mC(t,e){try{return decodeURIComponent(t)}catch(n){return Ec(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function eE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Mi(t):t;return{pathname:n?n.startsWith("/")?n:yC(n,e):e,search:SC(r),hash:TC(i)}}function yC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _C(t,e){let n=vC(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function EC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Mi(t):(i=ma({},t),vt(!i.pathname||!i.pathname.includes("?"),Gh("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),Gh("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),Gh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=gC(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const wi=t=>t.join("/").replace(/\/\/+/g,"/"),wC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tE=["post","put","patch","delete"];new Set(tE);const AC=["get",...tE];new Set(AC);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ga(){return ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ga.apply(this,arguments)}const nm=ne.createContext(null),IC=ne.createContext(null),wc=ne.createContext(null),Sc=ne.createContext(null),Ko=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),nE=ne.createContext(null);function Tc(){return ne.useContext(Sc)!=null}function rm(){return Tc()||vt(!1),ne.useContext(Sc).location}function rE(t){ne.useContext(wc).static||ne.useLayoutEffect(t)}function im(){let{isDataRoute:t}=ne.useContext(Ko);return t?FC():CC()}function CC(){Tc()||vt(!1);let t=ne.useContext(nm),{basename:e,future:n,navigator:r}=ne.useContext(wc),{matches:i}=ne.useContext(Ko),{pathname:o}=rm(),s=JSON.stringify(_C(i,n.v7_relativeSplatPath)),a=ne.useRef(!1);return rE(()=>{a.current=!0}),ne.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=EC(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:wi([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,o,t])}function PC(t,e){return kC(t,e)}function kC(t,e,n,r){Tc()||vt(!1);let{navigator:i}=ne.useContext(wc),{matches:o}=ne.useContext(Ko),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=rm(),c;if(e){var h;let R=typeof e=="string"?Mi(e):e;l==="/"||(h=R.pathname)!=null&&h.startsWith(l)||vt(!1),c=R}else c=u;let d=c.pathname||"/",p=l==="/"?d:d.slice(l.length)||"/",y=tC(t,{pathname:p}),E=LC(y&&y.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:wi([l,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?l:wi([l,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,r);return e&&E?ne.createElement(Sc.Provider,{value:{location:ga({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Nr.Pop}},E):E}function NC(){let t=$C(),e=RC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),n?ne.createElement("pre",{style:i},n):null,null)}const xC=ne.createElement(NC,null);class VC extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ne.createElement(Ko.Provider,{value:this.props.routeContext},ne.createElement(nE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DC(t){let{routeContext:e,match:n,children:r}=t,i=ne.useContext(nm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ne.createElement(Ko.Provider,{value:e},r)}function LC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||vt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:p}=n,y=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let p,y=!1,E=null,R=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||xC,l&&(u<0&&d===0?(UC("route-fallback",!1),y=!0,R=null):u===d&&(y=!0,R=h.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,d+1)),f=()=>{let g;return p?g=E:y?g=R:h.route.Component?g=ne.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=c,ne.createElement(DC,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?ne.createElement(VC,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var iE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iE||{}),Nu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nu||{});function bC(t){let e=ne.useContext(nm);return e||vt(!1),e}function MC(t){let e=ne.useContext(IC);return e||vt(!1),e}function OC(t){let e=ne.useContext(Ko);return e||vt(!1),e}function oE(t){let e=OC(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function $C(){var t;let e=ne.useContext(nE),n=MC(Nu.UseRouteError),r=oE(Nu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FC(){let{router:t}=bC(iE.UseNavigateStable),e=oE(Nu.UseNavigateStable),n=ne.useRef(!1);return rE(()=>{n.current=!0}),ne.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ga({fromRouteId:e},o)))},[t,e])}const Ky={};function UC(t,e,n){!e&&!Ky[t]&&(Ky[t]=!0)}function Is(t){vt(!1)}function BC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Nr.Pop,navigator:o,static:s=!1,future:a}=t;Tc()&&vt(!1);let l=e.replace(/^\/*/,"/"),u=ne.useMemo(()=>({basename:l,navigator:o,static:s,future:ga({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Mi(r));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:y="default"}=r,E=ne.useMemo(()=>{let R=eE(c,l);return R==null?null:{location:{pathname:R,search:h,hash:d,state:p,key:y},navigationType:i}},[l,c,h,d,p,y,i]);return E==null?null:ne.createElement(wc.Provider,{value:u},ne.createElement(Sc.Provider,{children:n,value:E}))}function jC(t){let{children:e,location:n}=t;return PC(Ef(e),n)}new Promise(()=>{});function Ef(t,e){e===void 0&&(e=[]);let n=[];return ne.Children.forEach(t,(r,i)=>{if(!ne.isValidElement(r))return;let o=[...e,i];if(r.type===ne.Fragment){n.push.apply(n,Ef(r.props.children,o));return}r.type!==Is&&vt(!1),!r.props.index||!r.props.children||vt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ef(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const zC="startTransition",Gy=BR[zC];function WC(t){let{basename:e,children:n,future:r,window:i}=t,o=ne.useRef();o.current==null&&(o.current=JI({window:i,v5Compat:!0}));let s=o.current,[a,l]=ne.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=ne.useCallback(h=>{u&&Gy?Gy(()=>l(h)):l(h)},[l,u]);return ne.useLayoutEffect(()=>s.listen(c),[s,c]),ne.createElement(BC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Qy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qy||(Qy={}));var Yy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yy||(Yy={}));var sE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xy=_e.createContext&&_e.createContext(sE),Br=function(){return Br=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Br.apply(this,arguments)},HC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function aE(t){return t&&t.map(function(e,n){return _e.createElement(e.tag,Br({key:n},e.attr),aE(e.child))})}function Zr(t){return function(e){return _e.createElement(qC,Br({attr:Br({},t.attr)},e),aE(t.child))}}function qC(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=HC(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),_e.createElement("svg",Br({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Br(Br({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&_e.createElement("title",null,o),t.children)};return Xy!==void 0?_e.createElement(Xy.Consumer,null,function(n){return e(n)}):e(sE)}function Jy(t){return Zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(t)}function KC(t){return Zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.8 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM102 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM410 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38z"}}]})(t)}const GC=()=>{const t=rm(),e=im(),n=()=>{e(-1)};return N.jsxs("div",{children:[N.jsxs("div",{className:"flex mx-2 my-2 justify-between ",children:[N.jsx("div",{className:"text-2xl",onClick:n,children:N.jsx(Jy,{})}),N.jsx("div",{className:"font-semibold",children:t.pathname==="/"?"게시물":t.pathname==="/comment"?"댓글":"공지사항"}),N.jsx("div",{className:"text-2xl text-white",onClick:n,children:N.jsx(Jy,{})})]}),N.jsx("hr",{})]})};var lE={};function QC(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var YC=QC,Te=YC;function XC(t){return!!t&&typeof t.then=="function"}var Qe=XC;function JC(t,e){if(t!=null)return t;throw Te(e??"Got unexpected null or undefined")}var et=JC;function Ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Rc{getValue(){throw Te("BaseLoadable")}toPromise(){throw Te("BaseLoadable")}valueMaybe(){throw Te("BaseLoadable")}valueOrThrow(){throw Te(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Te("BaseLoadable")}promiseOrThrow(){throw Te(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Te("BaseLoadable")}errorOrThrow(){throw Te(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Te("BaseLoadable")}}class ZC extends Rc{constructor(e){super(),Ee(this,"state","hasValue"),Ee(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Qe(n)?Pi(n):No(n)?n:$a(n)}catch(n){return Qe(n)?Pi(n.next(()=>this.map(e))):Ac(n)}}}class eP extends Rc{constructor(e){super(),Ee(this,"state","hasError"),Ee(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class uE extends Rc{constructor(e){super(),Ee(this,"state","loading"),Ee(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Pi(this.contents.then(n=>{const r=e(n);if(No(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Qe(n))return n.then(()=>this.map(e).contents);throw n}))}}function $a(t){return Object.freeze(new ZC(t))}function Ac(t){return Object.freeze(new eP(t))}function Pi(t){return Object.freeze(new uE(t))}function cE(){return Object.freeze(new uE(new Promise(()=>{})))}function tP(t){return t.every(e=>e.state==="hasValue")?$a(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Ac(et(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Pi(Promise.all(t.map(e=>e.contents)))}function hE(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>No(i)?i:Qe(i)?Pi(i):$a(i)),r=tP(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:i[a]}),{}))}function No(t){return t instanceof Rc}const nP={of:t=>Qe(t)?Pi(t):No(t)?t:$a(t),error:t=>Ac(t),loading:()=>cE(),all:hE,isLoadable:No};var Oi={loadableWithValue:$a,loadableWithError:Ac,loadableWithPromise:Pi,loadableLoading:cE,loadableAll:hE,isLoadable:No,RecoilLoadable:nP},rP=Oi.loadableWithValue,iP=Oi.loadableWithError,oP=Oi.loadableWithPromise,sP=Oi.loadableLoading,aP=Oi.loadableAll,lP=Oi.isLoadable,uP=Oi.RecoilLoadable,Fa=Object.freeze({__proto__:null,loadableWithValue:rP,loadableWithError:iP,loadableWithPromise:oP,loadableLoading:sP,loadableAll:aP,isLoadable:lP,RecoilLoadable:uP});const wf={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function cP(t,e){var n,r;const i=(n=lE[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Te(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function hP(t,e){var n;const r=(n=lE[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function dP(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(cP("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{wf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),hP("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{wf.RECOIL_GKS_ENABLED.add(n)})}))}dP();var Go=wf;function Ic(t){return Go.RECOIL_GKS_ENABLED.has(t)}Ic.setPass=t=>{Go.RECOIL_GKS_ENABLED.add(t)};Ic.setFail=t=>{Go.RECOIL_GKS_ENABLED.delete(t)};Ic.clear=()=>{Go.RECOIL_GKS_ENABLED.clear()};var je=Ic;function fP(t,e,{error:n}={}){return null}var pP=fP,om=pP,Qh,Yh,Xh;const mP=(Qh=_e.createMutableSource)!==null&&Qh!==void 0?Qh:_e.unstable_createMutableSource,dE=(Yh=_e.useMutableSource)!==null&&Yh!==void 0?Yh:_e.unstable_useMutableSource,fE=(Xh=_e.useSyncExternalStore)!==null&&Xh!==void 0?Xh:_e.unstable_useSyncExternalStore;function gP(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function yP(){return je("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:je("recoil_sync_external_store")&&fE!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:je("recoil_mutable_source")&&dE!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?je("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:je("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function vP(){return!1}var Ua={createMutableSource:mP,useMutableSource:dE,useSyncExternalStore:fE,currentRendererSupportsUseSyncExternalStore:gP,reactMode:yP,isFastRefreshEnabled:vP};class sm{constructor(e){Ee(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class pE extends sm{}class mE extends sm{}function _P(t){return t instanceof pE||t instanceof mE}var Cc={AbstractRecoilValue:sm,RecoilState:pE,RecoilValueReadOnly:mE,isRecoilValue:_P},EP=Cc.AbstractRecoilValue,wP=Cc.RecoilState,SP=Cc.RecoilValueReadOnly,TP=Cc.isRecoilValue,xo=Object.freeze({__proto__:null,AbstractRecoilValue:EP,RecoilState:wP,RecoilValueReadOnly:SP,isRecoilValue:TP});function RP(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Pc=RP;class gE{}const AP=new gE,ki=new Map,am=new Map;function IP(t){return Pc(t,e=>et(am.get(e)))}function CP(t){if(ki.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function PP(t){Go.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&CP(t.key),ki.set(t.key,t);const e=t.set==null?new xo.RecoilValueReadOnly(t.key):new xo.RecoilState(t.key);return am.set(t.key,e),e}class yE extends Error{}function kP(t){const e=ki.get(t);if(e==null)throw new yE(`Missing definition for RecoilValue: "${t}""`);return e}function NP(t){return ki.get(t)}const xu=new Map;function xP(t){var e;if(!je("recoil_memory_managament_2020"))return;const n=ki.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;ki.delete(t),(r=vE(t))===null||r===void 0||r(),xu.delete(t)}}function VP(t,e){je("recoil_memory_managament_2020")&&(e===void 0?xu.delete(t):xu.set(t,e))}function vE(t){return xu.get(t)}var ln={nodes:ki,recoilValues:am,registerNode:PP,getNode:kP,getNodeMaybe:NP,deleteNodeConfigIfPossible:xP,setConfigDeletionHandler:VP,getConfigDeletionHandler:vE,recoilValuesForKeys:IP,NodeMissingError:yE,DefaultValue:gE,DEFAULT_VALUE:AP};function DP(t,e){e()}var LP={enqueueExecution:DP};function bP(t,e){return e={exports:{}},t(e,e.exports),e.exports}var MP=bP(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,l={},u=function(w){return function(){return w}},c=n.hash=function(A){var w=typeof A>"u"?"undefined":e(A);if(w==="number")return A;w!=="string"&&(A+="");for(var F=0,Y=0,X=A.length;Y<X;++Y){var ie=A.charCodeAt(Y);F=(F<<5)-F+ie|0}return F},h=function(w){return w-=w>>1&1431655765,w=(w&858993459)+(w>>2&858993459),w=w+(w>>4)&252645135,w+=w>>8,w+=w>>16,w&127},d=function(w,F){return F>>>w&o},p=function(w){return 1<<w},y=function(w,F){return h(w&F-1)},E=function(w,F,Y,X){var ie=X;if(!w){var me=X.length;ie=new Array(me);for(var de=0;de<me;++de)ie[de]=X[de]}return ie[F]=Y,ie},R=function(w,F,Y){var X=Y.length-1,ie=0,me=0,de=Y;if(w)ie=me=F;else for(de=new Array(X);ie<F;)de[me++]=Y[ie++];for(++ie;ie<=X;)de[me++]=Y[ie++];return w&&(de.length=X),de},m=function(w,F,Y,X){var ie=X.length;if(w){for(var me=ie;me>=F;)X[me--]=X[me];return X[F]=Y,X}for(var de=0,fe=0,Re=new Array(ie+1);de<F;)Re[fe++]=X[de++];for(Re[F]=Y;de<ie;)Re[++fe]=X[de++];return Re},f=1,g=2,T=3,C=4,L={__hamt_isEmpty:!0},M=function(w){return w===L||w&&w.__hamt_isEmpty},q=function(w,F,Y,X){return{type:f,edit:w,hash:F,key:Y,value:X,_modify:B}},ae=function(w,F,Y){return{type:g,edit:w,hash:F,children:Y,_modify:x}},J=function(w,F,Y){return{type:T,edit:w,mask:F,children:Y,_modify:S}},Ie=function(w,F,Y){return{type:C,edit:w,size:F,children:Y,_modify:z}},$=function(w){return w===L||w.type===f||w.type===g},D=function(w,F,Y,X,ie){for(var me=[],de=X,fe=0,Re=0;de;++Re)de&1&&(me[Re]=ie[fe++]),de>>>=1;return me[F]=Y,Ie(w,fe+1,me)},Z=function(w,F,Y,X){for(var ie=new Array(F-1),me=0,de=0,fe=0,Re=X.length;fe<Re;++fe)if(fe!==Y){var Xe=X[fe];Xe&&!M(Xe)&&(ie[me++]=Xe,de|=1<<fe)}return J(w,de,ie)},ue=function A(w,F,Y,X,ie,me){if(Y===ie)return ae(w,Y,[me,X]);var de=d(F,Y),fe=d(F,ie);return J(w,p(de)|p(fe),de===fe?[A(w,F+r,Y,X,ie,me)]:de<fe?[X,me]:[me,X])},Ae=function(w,F,Y,X,ie,me,de,fe){for(var Re=ie.length,Xe=0;Xe<Re;++Xe){var Jt=ie[Xe];if(Y(de,Jt.key)){var wt=Jt.value,vn=me(wt);return vn===wt?ie:vn===l?(--fe.value,R(w,Xe,ie)):E(w,Xe,q(F,X,de,vn),ie)}}var Pn=me();return Pn===l?ie:(++fe.value,E(w,Re,q(F,X,de,Pn),ie))},be=function(w,F){return w===F.edit},B=function(w,F,Y,X,ie,me,de){if(F(me,this.key)){var fe=X(this.value);return fe===this.value?this:fe===l?(--de.value,L):be(w,this)?(this.value=fe,this):q(w,ie,me,fe)}var Re=X();return Re===l?this:(++de.value,ue(w,Y,this.hash,this,ie,q(w,ie,me,Re)))},x=function(w,F,Y,X,ie,me,de){if(ie===this.hash){var fe=be(w,this),Re=Ae(fe,w,F,this.hash,this.children,X,me,de);return Re===this.children?this:Re.length>1?ae(w,this.hash,Re):Re[0]}var Xe=X();return Xe===l?this:(++de.value,ue(w,Y,this.hash,this,ie,q(w,ie,me,Xe)))},S=function(w,F,Y,X,ie,me,de){var fe=this.mask,Re=this.children,Xe=d(Y,ie),Jt=p(Xe),wt=y(fe,Jt),vn=fe&Jt,Pn=vn?Re[wt]:L,zi=Pn._modify(w,F,Y+r,X,ie,me,de);if(Pn===zi)return this;var hl=be(w,this),rs=fe,is=void 0;if(vn&&M(zi)){if(rs&=~Jt,!rs)return L;if(Re.length<=2&&$(Re[wt^1]))return Re[wt^1];is=R(hl,wt,Re)}else if(!vn&&!M(zi)){if(Re.length>=s)return D(w,Xe,zi,fe,Re);rs|=Jt,is=m(hl,wt,zi,Re)}else is=E(hl,wt,zi,Re);return hl?(this.mask=rs,this.children=is,this):J(w,rs,is)},z=function(w,F,Y,X,ie,me,de){var fe=this.size,Re=this.children,Xe=d(Y,ie),Jt=Re[Xe],wt=(Jt||L)._modify(w,F,Y+r,X,ie,me,de);if(Jt===wt)return this;var vn=be(w,this),Pn=void 0;if(M(Jt)&&!M(wt))++fe,Pn=E(vn,Xe,wt,Re);else if(!M(Jt)&&M(wt)){if(--fe,fe<=a)return Z(w,fe,Xe,Re);Pn=E(vn,Xe,L,Re)}else Pn=E(vn,Xe,wt,Re);return vn?(this.size=fe,this.children=Pn,this):Ie(w,fe,Pn)};L._modify=function(A,w,F,Y,X,ie,me){var de=Y();return de===l?L:(++me.value,q(A,X,ie,de))};function v(A,w,F,Y,X){this._editable=A,this._edit=w,this._config=F,this._root=Y,this._size=X}v.prototype.setTree=function(A,w){return this._editable?(this._root=A,this._size=w,this):A===this._root?this:new v(this._editable,this._edit,this._config,A,w)};var P=n.tryGetHash=function(A,w,F,Y){for(var X=Y._root,ie=0,me=Y._config.keyEq;;)switch(X.type){case f:return me(F,X.key)?X.value:A;case g:{if(w===X.hash)for(var de=X.children,fe=0,Re=de.length;fe<Re;++fe){var Xe=de[fe];if(me(F,Xe.key))return Xe.value}return A}case T:{var Jt=d(ie,w),wt=p(Jt);if(X.mask&wt){X=X.children[y(X.mask,wt)],ie+=r;break}return A}case C:{if(X=X.children[d(ie,w)],X){ie+=r;break}return A}default:return A}};v.prototype.tryGetHash=function(A,w,F){return P(A,w,F,this)};var V=n.tryGet=function(A,w,F){return P(A,F._config.hash(w),w,F)};v.prototype.tryGet=function(A,w){return V(A,w,this)};var ee=n.getHash=function(A,w,F){return P(void 0,A,w,F)};v.prototype.getHash=function(A,w){return ee(A,w,this)},n.get=function(A,w){return P(void 0,w._config.hash(A),A,w)},v.prototype.get=function(A,w){return V(w,A,this)};var W=n.has=function(A,w,F){return P(l,A,w,F)!==l};v.prototype.hasHash=function(A,w){return W(A,w,this)};var le=n.has=function(A,w){return W(w._config.hash(A),A,w)};v.prototype.has=function(A){return le(A,this)};var pe=function(w,F){return w===F};n.make=function(A){return new v(0,0,{keyEq:A&&A.keyEq||pe,hash:A&&A.hash||c},L,0)},n.empty=n.make();var oe=n.isEmpty=function(A){return A&&!!M(A._root)};v.prototype.isEmpty=function(){return oe(this)};var ke=n.modifyHash=function(A,w,F,Y){var X={value:Y._size},ie=Y._root._modify(Y._editable?Y._edit:NaN,Y._config.keyEq,0,A,w,F,X);return Y.setTree(ie,X.value)};v.prototype.modifyHash=function(A,w,F){return ke(F,A,w,this)};var Ne=n.modify=function(A,w,F){return ke(A,F._config.hash(w),w,F)};v.prototype.modify=function(A,w){return Ne(w,A,this)};var Se=n.setHash=function(A,w,F,Y){return ke(u(F),A,w,Y)};v.prototype.setHash=function(A,w,F){return Se(A,w,F,this)};var xe=n.set=function(A,w,F){return Se(F._config.hash(A),A,w,F)};v.prototype.set=function(A,w){return xe(A,w,this)};var tt=u(l),Me=n.removeHash=function(A,w,F){return ke(tt,A,w,F)};v.prototype.removeHash=v.prototype.deleteHash=function(A,w){return Me(A,w,this)};var ze=n.remove=function(A,w){return Me(w._config.hash(A),A,w)};v.prototype.remove=v.prototype.delete=function(A){return ze(A,this)};var Ue=n.beginMutation=function(A){return new v(A._editable+1,A._edit+1,A._config,A._root,A._size)};v.prototype.beginMutation=function(){return Ue(this)};var nt=n.endMutation=function(A){return A._editable=A._editable&&A._editable-1,A};v.prototype.endMutation=function(){return nt(this)};var _=n.mutate=function(A,w){var F=Ue(w);return A(F),nt(F)};v.prototype.mutate=function(A){return _(A,this)};var I=function(w){return w&&k(w[0],w[1],w[2],w[3],w[4])},k=function(w,F,Y,X,ie){for(;Y<w;){var me=F[Y++];if(me&&!M(me))return K(me,X,[w,F,Y,X,ie])}return I(ie)},K=function(w,F,Y){switch(w.type){case f:return{value:F(w),rest:Y};case g:case C:case T:var X=w.children;return k(X.length,X,0,F,Y);default:return I(Y)}},H={done:!0};function j(A){this.v=A}j.prototype.next=function(){if(!this.v)return H;var A=this.v;return this.v=I(A.rest),A},j.prototype[Symbol.iterator]=function(){return this};var ce=function(w,F){return new j(K(w._root,F))},Be=function(w){return[w.key,w.value]},ht=n.entries=function(A){return ce(A,Be)};v.prototype.entries=v.prototype[Symbol.iterator]=function(){return ht(this)};var yn=function(w){return w.key},wr=n.keys=function(A){return ce(A,yn)};v.prototype.keys=function(){return wr(this)};var Eh=function(w){return w.value},ns=n.values=v.prototype.values=function(A){return ce(A,Eh)};v.prototype.values=function(){return ns(this)};var ji=n.fold=function(A,w,F){var Y=F._root;if(Y.type===f)return A(w,Y.value,Y.key);for(var X=[Y.children],ie=void 0;ie=X.pop();)for(var me=0,de=ie.length;me<de;){var fe=ie[me++];fe&&fe.type&&(fe.type===f?w=A(w,fe.value,fe.key):X.push(fe.children))}return w};v.prototype.fold=function(A,w){return ji(A,w,this)};var wh=n.forEach=function(A,w){return ji(function(F,Y,X){return A(Y,X,w)},null,w)};v.prototype.forEach=function(A){return wh(A,this)};var cl=n.count=function(A){return A._size};v.prototype.count=function(){return cl(this)},Object.defineProperty(v.prototype,"size",{get:v.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class OP{constructor(e){Ee(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return um(this)}toMap(){return new Map(this._map)}}class lm{constructor(e){if(Ee(this,"_hamt",MP.empty.beginMutation()),e instanceof lm){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return um(this)}toMap(){return new Map(this._hamt)}}function um(t){return je("recoil_hamt_2020")?new lm(t):new OP(t)}var $P={persistentMap:um},FP=$P.persistentMap,UP=Object.freeze({__proto__:null,persistentMap:FP});function BP(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var js=BP;function jP(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Vu=jP;function zP(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function WP(t){return{nodeDeps:Vu(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Vu(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Jh(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;i.set(t,e);const a=s==null?e:js(e,s);for(const l of a)o.has(l)||o.set(l,new Set),et(o.get(l)).add(t);if(s){const l=js(s,e);for(const u of l){if(!o.has(u))return;const c=et(o.get(u));c.delete(t),c.size===0&&o.delete(u)}}}function HP(t,e,n,r){var i,o,s,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((o=l.previousTree)===null||o===void 0||o.version);const u=n.getGraph(r);if(Jh(t,e,u),r===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const h=n.getGraph(l.currentTree.version);Jh(t,e,h,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const h=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(h!==void 0){const d=n.getGraph(h);Jh(t,e,d,u)}}}var Ba={cloneGraph:WP,graph:zP,saveDepsToStore:HP};let qP=0;const KP=()=>qP++;let GP=0;const QP=()=>GP++;let YP=0;const XP=()=>YP++;var kc={getNextTreeStateVersion:KP,getNextStoreID:QP,getNextComponentID:XP};const{persistentMap:Zy}=UP,{graph:JP}=Ba,{getNextTreeStateVersion:_E}=kc;function EE(){const t=_E();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Zy(),nonvalidatedAtoms:Zy()}}function ZP(){const t=EE();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,JP()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var wE={makeEmptyTreeState:EE,makeEmptyStoreState:ZP,getNextTreeStateVersion:_E};class SE{}function ek(){return new SE}var Nc={RetentionZone:SE,retentionZone:ek};function tk(t,e){const n=new Set(t);return n.add(e),n}function nk(t,e){const n=new Set(t);return n.delete(e),n}function rk(t,e,n){const r=new Map(t);return r.set(e,n),r}function ik(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function ok(t,e){const n=new Map(t);return n.delete(e),n}function sk(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var TE={setByAddingToSet:tk,setByDeletingFromSet:nk,mapBySettingInMap:rk,mapByUpdatingInMap:ik,mapByDeletingFromMap:ok,mapByDeletingMultipleFromMap:sk};function*ak(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var cm=ak;function lk(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var RE=lk;const{getNode:ja,getNodeMaybe:uk,recoilValuesForKeys:ev}=ln,{RetentionZone:tv}=Nc,{setByAddingToSet:ck}=TE,hk=Object.freeze(new Set);class dk extends Error{}function fk(t,e,n){if(!je("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof tv)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!je("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof tv)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function hm(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=ja(n),s=fk(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function pk(t,e,n){hm(t,t.getState().currentTree,e,n)}function mk(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function gk(t,e,n){return hm(t,e,n,"get"),ja(n).get(t,e)}function AE(t,e,n){return ja(n).peek(t,e)}function yk(t,e,n){var r;const i=uk(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:ck(t.dirtyAtoms,e)}}function vk(t,e,n,r){const i=ja(n);if(i.set==null)throw new dk(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return hm(t,e,n,"set"),o(t,e,r)}function _k(t,e,n){const r=t.getState(),i=t.getGraph(e.version),o=ja(n).nodeType;return RE({type:o},{loadable:()=>AE(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return ev((s=i.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:ev(cm(IE(t,e,new Set([n])),l=>l!==n)),components:Pc((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function IE(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:hk;for(const u of l)r.has(u)||i.push(u)}return r}var ei={getNodeLoadable:gk,peekNodeLoadable:AE,setNodeValue:vk,initializeNode:pk,cleanUpNode:mk,setUnvalidatedAtomValue_DEPRECATED:yk,peekNodeInfo:_k,getDownstreamNodes:IE};let CE=null;function Ek(t){CE=t}function wk(){var t;(t=CE)===null||t===void 0||t()}var PE={setInvalidateMemoizedSnapshot:Ek,invalidateMemoizedSnapshot:wk};const{getDownstreamNodes:Sk,getNodeLoadable:kE,setNodeValue:Tk}=ei,{getNextComponentID:Rk}=kc,{getNode:Ak,getNodeMaybe:NE}=ln,{DefaultValue:dm}=ln,{reactMode:Ik}=Ua,{AbstractRecoilValue:Ck,RecoilState:Pk,RecoilValueReadOnly:kk,isRecoilValue:Nk}=xo,{invalidateMemoizedSnapshot:xk}=PE;function Vk(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=o.previousTree)===null||i===void 0||i.version);const s=kE(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function Dk(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof dm?n.delete(i):n.set(i,r)}),n}function Lk(t,e,{key:n},r){if(typeof r=="function"){const i=kE(t,e,n);if(i.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Te(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function bk(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=Lk(t,e,i,o),a=Tk(t,e,i.key,s);for(const[l,u]of a.entries())Sf(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;Sf(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=NE(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else om(`Unknown action ${n.type}`)}function Sf(t,e,n){n.state==="hasValue"&&n.contents instanceof dm?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function xE(t,e){t.replaceState(n=>{const r=VE(n);for(const i of e)bk(t,r,i);return DE(t,r),xk(),r})}function xc(t,e){if(zs.length){const n=zs[zs.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else xE(t,[e])}const zs=[];function Mk(){const t=new Map;return zs.push(t),()=>{for(const[e,n]of t)xE(e,n);zs.pop()}}function VE(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function DE(t,e){const n=Sk(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=NE(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function LE(t,e,n){xc(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function Ok(t,e,n){if(n instanceof dm)return LE(t,e,n);xc(t,{type:"setLoadable",recoilValue:e,loadable:n})}function $k(t,e){xc(t,{type:"markModified",recoilValue:e})}function Fk(t,e,n){xc(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function Uk(t,{key:e},n,r=null){const i=Rk(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),et(o.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const s=Ik();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function Bk(t,e){var n;const{currentTree:r}=t.getState(),i=Ak(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var tr={RecoilValueReadOnly:kk,AbstractRecoilValue:Ck,RecoilState:Pk,getRecoilValueAsLoadable:Vk,setRecoilValue:LE,setRecoilValueLoadable:Ok,markRecoilValueModified:$k,setUnvalidatedRecoilValue:Fk,subscribeToRecoilValue:Uk,isRecoilValue:Nk,applyAtomValueWrites:Dk,batchStart:Mk,writeLoadableToTreeState:Sf,invalidateDownstreams:DE,copyTreeState:VE,refreshRecoilValue:Bk};function jk(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var zk=jk;const{cleanUpNode:Wk}=ei,{deleteNodeConfigIfPossible:Hk,getNode:bE}=ln,{RetentionZone:ME}=Nc,qk=12e4,OE=new Set;function $E(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const s of e)if(s instanceof ME)for(const a of Yk(n,s))i.add(a);else i.add(s);const o=Kk(t,i);for(const s of o)Qk(t,r,s)}function Kk(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(l){const u=new Set,c=Gk(t,r,l,o,s);for(const y of c){var h;if(bE(y).retainedBy==="recoilRoot"){s.add(y);continue}if(((h=n.retention.referenceCounts.get(y))!==null&&h!==void 0?h:0)>0){s.add(y);continue}if(FE(y).some(R=>n.retention.referenceCounts.get(R))){s.add(y);continue}const E=i.nodeToNodeSubscriptions.get(y);if(E&&zk(E,R=>s.has(R))){s.add(y);continue}o.add(y),u.add(y)}const d=new Set;for(const y of u)for(const E of(p=i.nodeDeps.get(y))!==null&&p!==void 0?p:OE){var p;o.has(E)||d.add(E)}d.size&&a(d)}}function Gk(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(et(n.values().next().value));return s;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=o.nodeToNodeSubscriptions.get(u);if(c)for(const h of c)l(h);a.add(u),n.delete(u),s.push(u)}}function Qk(t,e,n){if(!je("recoil_memory_managament_2020"))return;Wk(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=FE(n);for(const l of i){var o;(o=r.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const u of l){var a;(a=s.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}Hk(n)}function Yk(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:OE}function FE(t){const e=bE(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof ME?[e]:e}function Xk(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):$E(t,new Set([e]))}function Jk(t,e,n){var r;if(!je("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?UE(t,e):i.set(e,o)}function UE(t,e){if(!je("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),Xk(t,e)}function Zk(t){if(!je("recoil_memory_managament_2020"))return;const e=t.getState();$E(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function eN(t){return t===void 0?"recoilRoot":t}var $i={SUSPENSE_TIMEOUT_MS:qk,updateRetainCount:Jk,updateRetainCountToZero:UE,releaseScheduledRetainablesNow:Zk,retainedByOptionWithDefault:eN};const{unstable_batchedUpdates:tN}=XI;var nN={unstable_batchedUpdates:tN};const{unstable_batchedUpdates:rN}=nN;var iN={unstable_batchedUpdates:rN};const{batchStart:oN}=tr,{unstable_batchedUpdates:sN}=iN;let fm=sN||(t=>t());const aN=t=>{fm=t},lN=()=>fm,uN=t=>{fm(()=>{let e=()=>{};try{e=oN(),t()}finally{e()}})};var Vc={getBatcher:lN,setBatcher:aN,batchUpdates:uN};function*cN(t){for(const e of t)for(const n of e)yield n}var BE=cN;const jE=typeof Window>"u"||typeof window>"u",hN=t=>!jE&&(t===window||t instanceof Window),dN=typeof navigator<"u"&&navigator.product==="ReactNative";var Dc={isSSR:jE,isReactNative:dN,isWindow:hN};function fN(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function pN(t,e){let n,r;return(...i)=>{const o=e(...i);return n===o||(n=o,r=t(...i)),r}}function mN(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var gN={memoizeWithArgsHash:fN,memoizeOneWithArgsHash:pN,memoizeOneWithArgsHashAndInvalidation:mN};const{batchUpdates:Tf}=Vc,{initializeNode:yN,peekNodeInfo:vN}=ei,{graph:_N}=Ba,{getNextStoreID:EN}=kc,{DEFAULT_VALUE:wN,recoilValues:nv,recoilValuesForKeys:rv}=ln,{AbstractRecoilValue:SN,getRecoilValueAsLoadable:TN,setRecoilValue:iv,setUnvalidatedRecoilValue:RN}=tr,{updateRetainCount:eu}=$i,{setInvalidateMemoizedSnapshot:AN}=PE,{getNextTreeStateVersion:IN,makeEmptyStoreState:CN}=wE,{isSSR:PN}=Dc,{memoizeOneWithArgsHashAndInvalidation:kN}=gN;class Lc{constructor(e,n){Ee(this,"_store",void 0),Ee(this,"_refCount",1),Ee(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),TN(this._store,r))),Ee(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Ee(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return rv(s.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?nv.values():r.isInitialized===!0?rv(BE([i,o])):cm(nv.values(),({key:s})=>!i.has(s)&&!o.has(s))}),Ee(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),vN(this._store,this._store.getState().currentTree,r))),Ee(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new Rf(this,Tf);return r(i),i}),Ee(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new Rf(this,Tf);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:EN(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return et(i.get(r));const o=_N();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Te("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)yN(this._store,r,"get"),eu(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){PN||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!je("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){je("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function zE(t,e,n=!1){const r=t.getState(),i=n?IN():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Pc(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function NN(t){const e=new Lc(CN());return t!=null?e.map(t):e}const[ov,WE]=kN((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:et(r.previousTree);return new Lc(zE(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});AN(WE);function xN(t,e="latest"){const n=ov(t,e);return n.isRetained()?n:(WE(),ov(t,e))}class Rf extends Lc{constructor(e,n){super(zE(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ee(this,"_batch",void 0),Ee(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{eu(o,r.key,1),iv(this.getStore_INTERNAL(),r,i)})}),Ee(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{eu(i,r.key,1),iv(this.getStore_INTERNAL(),r,wN)})}),Ee(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();Tf(()=>{for(const[o,s]of r.entries())eu(i,o,1),RN(i,new SN(o),s)})}),this._batch=n}}var bc={Snapshot:Lc,MutableSnapshot:Rf,freshSnapshot:NN,cloneSnapshot:xN},VN=bc.Snapshot,DN=bc.MutableSnapshot,LN=bc.freshSnapshot,bN=bc.cloneSnapshot,Mc=Object.freeze({__proto__:null,Snapshot:VN,MutableSnapshot:DN,freshSnapshot:LN,cloneSnapshot:bN});function MN(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var ON=MN;const{useRef:$N}=_e;function FN(t){const e=$N(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var sv=FN;const{getNextTreeStateVersion:UN,makeEmptyStoreState:HE}=wE,{cleanUpNode:BN,getDownstreamNodes:jN,initializeNode:zN,setNodeValue:WN,setUnvalidatedAtomValue_DEPRECATED:HN}=ei,{graph:qN}=Ba,{cloneGraph:KN}=Ba,{getNextStoreID:qE}=kc,{createMutableSource:Zh,reactMode:KE}=Ua,{applyAtomValueWrites:GN}=tr,{releaseScheduledRetainablesNow:GE}=$i,{freshSnapshot:QN}=Mc,{useCallback:YN,useContext:QE,useEffect:Af,useMemo:XN,useRef:JN,useState:ZN}=_e;function fs(){throw Te("This component must be used inside a <RecoilRoot> component.")}const YE=Object.freeze({storeID:qE(),getState:fs,replaceState:fs,getGraph:fs,subscribeToTransactions:fs,addTransactionMetadata:fs});let If=!1;function av(t){if(If)throw Te("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){je("recoil_memory_managament_2020")&&je("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&GE(t);const n=e.currentTree.version,r=UN();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,KN(et(e.graphsByVersion.get(n))))}}const XE=_e.createContext({current:YE}),Oc=()=>QE(XE),JE=_e.createContext(null);function ex(){return QE(JE)}function pm(t,e,n){const r=jN(t,n,n.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[s,[a,l]]of o)l(n)}}function ZE(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[s,a]of o)a(t);for(const[i,o]of e.transactionSubscriptions)o(t);(!KE().early||e.suspendedComponentResolvers.size>0)&&(pm(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function tx(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,ZE(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):om("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,je("recoil_memory_managament_2020")&&n==null&&GE(t)}finally{e.commitDepth--}}function nx({setNotifyBatcherOfChange:t}){const e=Oc(),[,n]=ZN([]);return t(()=>n({})),Af(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Af(()=>{LP.enqueueExecution("Batcher",()=>{tx(e.current)})}),null}function rx(t,e){const n=HE();return e({set:(r,i)=>{const o=n.currentTree,s=WN(t,o,r.key,i),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...o,dirtyAtoms:ON(o.dirtyAtoms,a),atomValues:GN(o.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=HN(n.currentTree,o,i)})}}),n}function ix(t){const e=QN(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let lv=0;function ox({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const o=p=>{const y=i.current.graphsByVersion;if(y.has(p))return et(y.get(p));const E=qN();return y.set(p,E),E},s=(p,y)=>{if(y==null){const{transactionSubscriptions:E}=h.current.getState(),R=lv++;return E.set(R,p),{release:()=>{E.delete(R)}}}else{const{nodeTransactionSubscriptions:E}=h.current.getState();E.has(y)||E.set(y,new Map);const R=lv++;return et(E.get(y)).set(R,p),{release:()=>{const m=E.get(y);m&&(m.delete(R),m.size===0&&E.delete(y))}}}},a=p=>{av(h.current);for(const y of Object.keys(p))et(h.current.getState().nextTree).transactionMetadata[y]=p[y]},l=p=>{av(h.current);const y=et(i.current.nextTree);let E;try{If=!0,E=p(y)}finally{If=!1}E!==y&&(i.current.nextTree=E,KE().early&&pm(h.current,i.current,E),et(u.current)())},u=JN(null),c=YN(p=>{u.current=p},[u]),h=sv(()=>n??{storeID:qE(),getState:()=>i.current,replaceState:l,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(h.current=n),i=sv(()=>t!=null?rx(h.current,t):e!=null?ix(e):HE());const d=XN(()=>Zh==null?void 0:Zh(i,()=>i.current.currentTree.version),[i]);return Af(()=>{const p=h.current;for(const y of new Set(p.getState().knownAtoms))zN(p,y,"get");return()=>{for(const y of p.getState().knownAtoms)BN(p,y)}},[h]),_e.createElement(XE.Provider,{value:h},_e.createElement(JE.Provider,{value:d},_e.createElement(nx,{setNotifyBatcherOfChange:c}),r))}function sx(t){const{override:e,...n}=t,r=Oc();return e===!1&&r.current!==YE?t.children:_e.createElement(ox,n)}function ax(){return Oc().current.storeID}var Er={RecoilRoot:sx,useStoreRef:Oc,useRecoilMutableSource:ex,useRecoilStoreID:ax,notifyComponents_FOR_TESTING:pm,sendEndOfBatchNotifications_FOR_TESTING:ZE};function lx(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var ux=lx;const{useEffect:cx,useRef:hx}=_e;function dx(t){const e=hx();return cx(()=>{e.current=t}),e.current}var ew=dx;const{useStoreRef:fx}=Er,{SUSPENSE_TIMEOUT_MS:px}=$i,{updateRetainCount:ps}=$i,{RetentionZone:mx}=Nc,{useEffect:gx,useRef:yx}=_e,{isSSR:uv}=Dc;function vx(t){if(je("recoil_memory_managament_2020"))return _x(t)}function _x(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof mx?s:s.key),r=fx();gx(()=>{if(!je("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!uv)window.clearTimeout(i.current),i.current=null;else for(const a of n)ps(s,a,1);return()=>{for(const a of n)ps(s,a,-1)}},[r,...n]);const i=yx(),o=ew(n);if(!uv&&(o===void 0||!ux(o,n))){const s=r.current;for(const a of n)ps(s,a,1);if(o)for(const a of o)ps(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)ps(s,a,-1)},px)}}var mm=vx;function Ex(){return"<component name not available>"}var za=Ex;const{batchUpdates:wx}=Vc,{DEFAULT_VALUE:tw}=ln,{currentRendererSupportsUseSyncExternalStore:Sx,reactMode:Qo,useMutableSource:Tx,useSyncExternalStore:Rx}=Ua,{useRecoilMutableSource:Ax,useStoreRef:nr}=Er,{AbstractRecoilValue:Cf,getRecoilValueAsLoadable:Wa,setRecoilValue:Du,setUnvalidatedRecoilValue:Ix,subscribeToRecoilValue:Vo}=tr,{useCallback:sn,useEffect:Do,useMemo:nw,useRef:Ws,useState:gm}=_e,{setByAddingToSet:Cx}=TE,{isSSR:Px}=Dc;function ym(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const o=n.current.getState().suspendedComponentResolvers;o.add(i),Px&&Qe(t.contents)&&t.contents.finally(()=>{o.delete(i)})}):t.state==="hasError"?t.contents:Te(`Invalid value of loadable atom "${e.key}"`)}function kx(){const t=za(),e=nr(),[,n]=gm([]),r=Ws(new Set);r.current=new Set;const i=Ws(new Set),o=Ws(new Map),s=sn(l=>{const u=o.current.get(l);u&&(u.release(),o.current.delete(l))},[o]),a=sn((l,u)=>{o.current.has(u)&&n([])},[]);return Do(()=>{const l=e.current;js(r.current,i.current).forEach(u=>{if(o.current.has(u))return;const c=Vo(l,new Cf(u),d=>a(d,u),t);o.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),js(i.current,r.current).forEach(u=>{s(u)}),i.current=r.current}),Do(()=>{const l=o.current;return js(r.current,new Set(l.keys())).forEach(u=>{const c=Vo(e.current,new Cf(u),h=>a(h,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>s(c))},[t,e,s,a]),nw(()=>{function l(y){return E=>{Du(e.current,y,E)}}function u(y){return()=>Du(e.current,y,tw)}function c(y){var E;r.current.has(y.key)||(r.current=Cx(r.current,y.key));const R=e.current.getState();return Wa(e.current,y,Qo().early&&(E=R.nextTree)!==null&&E!==void 0?E:R.currentTree)}function h(y){const E=c(y);return ym(E,y,e)}function d(y){return[h(y),l(y)]}function p(y){return[c(y),l(y)]}return{getRecoilValue:h,getRecoilValueLoadable:c,getRecoilState:d,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const Nx={current:0};function xx(t){const e=nr(),n=za(),r=sn(()=>{var a;const l=e.current,u=l.getState(),c=Qo().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:Wa(l,t,c),key:t.key}},[e,t]),i=sn(a=>{let l;return()=>{var u,c;const h=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(h.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===h.key?l:(l=h,h)}},[]),o=nw(()=>i(r),[r,i]),s=sn(a=>{const l=e.current;return Vo(l,t,a,n).release},[e,t,n]);return Rx(s,o,o).loadable}function Vx(t){const e=nr(),n=sn(()=>{var u;const c=e.current,h=c.getState(),d=Qo().early&&(u=h.nextTree)!==null&&u!==void 0?u:h.currentTree;return Wa(c,t,d)},[e,t]),r=sn(()=>n(),[n]),i=za(),o=sn((u,c)=>{const h=e.current;return Vo(h,t,()=>{if(!je("recoil_suppress_rerender_in_callback"))return c();const p=n();l.current.is(p)||c(),l.current=p},i).release},[e,t,i,n]),s=Ax();if(s==null)throw Te("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=Tx(s,r,o),l=Ws(a);return Do(()=>{l.current=a}),a}function Pf(t){const e=nr(),n=za(),r=sn(()=>{var l;const u=e.current,c=u.getState(),h=Qo().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return Wa(u,t,h)},[e,t]),i=sn(()=>({loadable:r(),key:t.key}),[r,t.key]),o=sn(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);Do(()=>{const l=Vo(e.current,t,u=>{a(o)},n);return a(o),l.release},[n,t,e,o]);const[s,a]=gm(i);return s.key!==t.key?i().loadable:s.loadable}function Dx(t){const e=nr(),[,n]=gm([]),r=za(),i=sn(()=>{var a;const l=e.current,u=l.getState(),c=Qo().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return Wa(l,t,c)},[e,t]),o=i(),s=Ws(o);return Do(()=>{s.current=o}),Do(()=>{const a=e.current,l=a.getState(),u=Vo(a,t,h=>{var d;if(!je("recoil_suppress_rerender_in_callback"))return n([]);const p=i();(d=s.current)!==null&&d!==void 0&&d.is(p)||n(p),s.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var c;if(!je("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(c=s.current)!==null&&c!==void 0&&c.is(h)||n(h),s.current=h}return u.release},[r,i,t,e]),o}function vm(t){return je("recoil_memory_managament_2020")&&mm(t),{TRANSITION_SUPPORT:Pf,SYNC_EXTERNAL_STORE:Sx()?xx:Pf,MUTABLE_SOURCE:Vx,LEGACY:Dx}[Qo().mode](t)}function rw(t){const e=nr(),n=vm(t);return ym(n,t,e)}function $c(t){const e=nr();return sn(n=>{Du(e.current,t,n)},[e,t])}function Lx(t){const e=nr();return sn(()=>{Du(e.current,t,tw)},[e,t])}function bx(t){return[rw(t),$c(t)]}function Mx(t){return[vm(t),$c(t)]}function Ox(){const t=nr();return(e,n={})=>{wx(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>Ix(t.current,new Cf(i),r))})}}function iw(t){return je("recoil_memory_managament_2020")&&mm(t),Pf(t)}function ow(t){const e=nr(),n=iw(t);return ym(n,t,e)}function $x(t){return[ow(t),$c(t)]}var Fx={recoilComponentGetRecoilValueCount_FOR_TESTING:Nx,useRecoilInterface:kx,useRecoilState:bx,useRecoilStateLoadable:Mx,useRecoilValue:rw,useRecoilValueLoadable:vm,useResetRecoilState:Lx,useSetRecoilState:$c,useSetUnvalidatedAtomValues:Ox,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:iw,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:ow,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:$x};function Ux(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var Bx=Ux;function jx(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var zx=jx;function Wx(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var Hx=Wx;const{batchUpdates:qx}=Vc,{DEFAULT_VALUE:Kx,getNode:sw,nodes:Gx}=ln,{useStoreRef:_m}=Er,{AbstractRecoilValue:Qx,setRecoilValueLoadable:Yx}=tr,{SUSPENSE_TIMEOUT_MS:Xx}=$i,{cloneSnapshot:Lu}=Mc,{useCallback:Fc,useEffect:aw,useRef:cv,useState:Jx}=_e,{isSSR:hv}=Dc;function Uc(t){const e=_m();aw(()=>e.current.subscribeToTransactions(t).release,[t,e])}function dv(t){const e=t.atomValues.toMap(),n=Vu(Bx(e,(r,i)=>{const s=sw(i).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return Hx(t.nonvalidatedAtoms.toMap(),n)}function Zx(t){Uc(Fc(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=dv(r),o=dv(n),s=Vu(Gx,l=>{var u,c,h,d;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(h=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.backButton)!==null&&h!==void 0?h:!1}}}),a=zx(r.dirtyAtoms,l=>i.has(l)||o.has(l));t({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function e2(t){Uc(Fc(e=>{const n=Lu(e,"latest"),r=Lu(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function t2(){const t=_m(),[e,n]=Jx(()=>Lu(t.current)),r=ew(e),i=cv(),o=cv();if(Uc(Fc(a=>n(Lu(a)),[])),aw(()=>{const a=e.retain();if(i.current&&!hv){var l;window.clearTimeout(i.current),i.current=null,(l=o.current)===null||l===void 0||l.call(o),o.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!hv){if(i.current){var s;window.clearTimeout(i.current),i.current=null,(s=o.current)===null||s===void 0||s.call(o),o.current=null}o.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=o.current)===null||a===void 0||a.call(o),o.current=null},Xx)}return e}function lw(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;qx(()=>{const s=new Set;for(const u of[i.atomValues.keys(),o.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&sw(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(u=>{Yx(t,new Qx(u),o.atomValues.has(u)?et(o.atomValues.get(u)):Kx)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function n2(){const t=_m();return Fc(e=>lw(t.current,e),[t])}var uw={useRecoilSnapshot:t2,gotoSnapshot:lw,useGotoRecoilSnapshot:n2,useRecoilTransactionObserver:e2,useTransactionObservation_DEPRECATED:Zx,useTransactionSubscription_DEPRECATED:Uc};const{peekNodeInfo:r2}=ei,{useStoreRef:i2}=Er;function o2(){const t=i2();return({key:e})=>r2(t.current,t.current.getState().currentTree,e)}var s2=o2;const{reactMode:a2}=Ua,{RecoilRoot:l2,useStoreRef:u2}=Er,{useMemo:c2}=_e;function h2(){a2().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=u2().current;return c2(()=>{function e({children:n}){return _e.createElement(l2,{store_INTERNAL:t},n)}return e},[t])}var d2=h2;const{loadableWithValue:f2}=Fa,{initializeNode:p2}=ei,{DEFAULT_VALUE:m2,getNode:g2}=ln,{copyTreeState:y2,getRecoilValueAsLoadable:v2,invalidateDownstreams:_2,writeLoadableToTreeState:E2}=tr;function fv(t){return g2(t.key).nodeType==="atom"}class w2{constructor(e,n){Ee(this,"_store",void 0),Ee(this,"_treeState",void 0),Ee(this,"_changes",void 0),Ee(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!fv(r))throw Te("Reading selectors within atomicUpdate is not supported");const i=v2(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Te(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Ee(this,"set",(r,i)=>{if(!fv(r))throw Te("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else p2(this._store,r.key,"set"),this._changes.set(r.key,i)}),Ee(this,"reset",r=>{this.set(r,m2)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=y2(this._treeState);for(const[n,r]of this._changes)E2(e,n,f2(r));return _2(this._store,e),e}}function S2(t){return e=>{t.replaceState(n=>{const r=new w2(t,n);return e(r),r.newTreeState_INTERNAL()})}}var T2={atomicUpdater:S2},R2=T2.atomicUpdater,cw=Object.freeze({__proto__:null,atomicUpdater:R2});function A2(t,e){if(!t)throw new Error(e)}var I2=A2,Cs=I2;const{atomicUpdater:C2}=cw,{batchUpdates:P2}=Vc,{DEFAULT_VALUE:k2}=ln,{useStoreRef:N2}=Er,{refreshRecoilValue:x2,setRecoilValue:pv}=tr,{cloneSnapshot:V2}=Mc,{gotoSnapshot:D2}=uw,{useCallback:L2}=_e;class hw{}const b2=new hw;function dw(t,e,n,r){let i=b2,o;if(P2(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Te(a);const l=RE({...r??{},set:(c,h)=>pv(t,c,h),reset:c=>pv(t,c,k2),refresh:c=>x2(t,c),gotoSnapshot:c=>D2(t,c),transact_UNSTABLE:c=>C2(t)(c)},{snapshot:()=>{const c=V2(t);return o=c.retain(),c}}),u=e(l);if(typeof u!="function")throw Te(a);i=u(...n)}),i instanceof hw&&Cs(!1),Qe(i))i=i.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return i}function M2(t,e){const n=N2();return L2((...r)=>dw(n.current,t,r),e!=null?[...e,n]:void 0)}var fw={recoilCallback:dw,useRecoilCallback:M2};const{useStoreRef:O2}=Er,{refreshRecoilValue:$2}=tr,{useCallback:F2}=_e;function U2(t){const e=O2();return F2(()=>{const n=e.current;$2(n,t)},[t,e])}var B2=U2;const{atomicUpdater:j2}=cw,{useStoreRef:z2}=Er,{useMemo:W2}=_e;function H2(t,e){const n=z2();return W2(()=>(...r)=>{j2(n.current)(o=>{t(o)(...r)})},e!=null?[...e,n]:void 0)}var q2=H2;class K2{constructor(e){Ee(this,"value",void 0),this.value=e}}var G2={WrappedValue:K2},Q2=G2.WrappedValue,pw=Object.freeze({__proto__:null,WrappedValue:Q2});const{isFastRefreshEnabled:Y2}=Ua;class mv extends Error{}class X2{constructor(e){var n,r,i;Ee(this,"_name",void 0),Ee(this,"_numLeafs",void 0),Ee(this,"_root",void 0),Ee(this,"_onHit",void 0),Ee(this,"_onSet",void 0),Ee(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var o,s,a,l;let u,c;for(const[R,m]of e){var h,d,p;const f=this._root;if((f==null?void 0:f.type)==="leaf")throw this.invalidCacheError();const g=u;if(u=g?g.branches.get(c):f,u=(h=u)!==null&&h!==void 0?h:{type:"branch",nodeKey:R,parent:g,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==R)throw this.invalidCacheError();g==null||g.branches.set(c,u),r==null||(d=r.onNodeVisit)===null||d===void 0||d.call(r,u),c=this._mapNodeValue(m),this._root=(p=this._root)!==null&&p!==void 0?p:u}const y=u?(o=u)===null||o===void 0?void 0:o.branches.get(c):this._root;if(y!=null&&(y.type!=="leaf"||y.branchKey!==c))throw this.invalidCacheError();const E={type:"leaf",value:n,parent:u,branchKey:c};(s=u)===null||s===void 0||s.branches.set(c,E),this._root=(a=this._root)!==null&&a!==void 0?a:E,this._numLeafs++,this._onSet(E),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,E)};try{i()}catch(o){if(o instanceof mv)this.clear(),i();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=Y2()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw om(e+(this._name!=null?` - ${this._name}`:"")),new mv}}var J2={TreeCache:X2},Z2=J2.TreeCache,mw=Object.freeze({__proto__:null,TreeCache:Z2});class eV{constructor(e){var n;Ee(this,"_maxSize",void 0),Ee(this,"_size",void 0),Ee(this,"_head",void 0),Ee(this,"_tail",void 0),Ee(this,"_map",void 0),Ee(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=et(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var tV={LRUCache:eV},nV=tV.LRUCache,gw=Object.freeze({__proto__:null,LRUCache:nV});const{LRUCache:rV}=gw,{TreeCache:iV}=mw;function oV({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new rV({maxSize:e}),i=new iV({name:t,mapNodeValue:n,onHit:o=>{r.set(o,!0)},onSet:o=>{const s=r.tail();r.set(o,!0),s&&i.size()>e&&i.delete(s.key)}});return i}var gv=oV;function Nn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Te("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Qe(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>Nn(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return Nn(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:Nn(o,e)]=s;return Nn(i,e,n)}return t instanceof Set?Nn(Array.from(t).sort((i,o)=>Nn(i,e).localeCompare(Nn(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Nn(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Nn(i,e)}:${Nn(t[i],e,i)}`).join(",")}}`}function sV(t,e={allowFunctions:!1}){return Nn(t,e)}var Bc=sV;const{TreeCache:aV}=mw,kl={equality:"reference",eviction:"keep-all",maxSize:1/0};function lV({equality:t=kl.equality,eviction:e=kl.eviction,maxSize:n=kl.maxSize}=kl,r){const i=uV(t);return cV(e,n,i,r)}function uV(t){switch(t){case"reference":return e=>e;case"value":return e=>Bc(e)}throw Te(`Unrecognized equality policy ${t}`)}function cV(t,e,n,r){switch(t){case"keep-all":return new aV({name:r,mapNodeValue:n});case"lru":return gv({name:r,maxSize:et(e),mapNodeValue:n});case"most-recent":return gv({name:r,maxSize:1,mapNodeValue:n})}throw Te(`Unrecognized eviction policy ${t}`)}var hV=lV;function dV(t){return()=>null}var fV={startPerfBlock:dV};const{isLoadable:pV,loadableWithError:Nl,loadableWithPromise:mV,loadableWithValue:ed}=Fa,{WrappedValue:yw}=pw,{getNodeLoadable:xl,peekNodeLoadable:gV,setNodeValue:yV}=ei,{saveDepsToStore:vV}=Ba,{DEFAULT_VALUE:_V,getConfigDeletionHandler:EV,getNode:wV,registerNode:yv}=ln,{isRecoilValue:SV}=xo,{markRecoilValueModified:vv}=tr,{retainedByOptionWithDefault:TV}=$i,{recoilCallback:RV}=fw,{startPerfBlock:AV}=fV;class vw{}const ms=new vw,gs=[],Vl=new Map,IV=(()=>{let t=0;return()=>t++})();function _w(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,o=t.set!=null?t.set:void 0,s=new Set,a=hV(i??{equality:"reference",eviction:"keep-all"},n),l=TV(t.retainedBy_UNSTABLE),u=new Map;let c=0;function h(){return!je("recoil_memory_managament_2020")||c>0}function d(v){return v.getState().knownSelectors.add(n),c++,()=>{c--}}function p(){return EV(n)!==void 0&&!h()}function y(v,P,V,ee,W){Ae(P,ee,W),E(v,V)}function E(v,P){Z(v,P)&&D(v),m(P,!0)}function R(v,P){Z(v,P)&&(et(J(v)).stateVersions.clear(),m(P,!1))}function m(v,P){const V=Vl.get(v);if(V!=null){for(const ee of V)vv(ee,et(e));P&&Vl.delete(v)}}function f(v,P){let V=Vl.get(P);V==null&&Vl.set(P,V=new Set),V.add(v)}function g(v,P,V,ee,W,le){return P.then(pe=>{if(!h())throw D(v),ms;const oe=ed(pe);return y(v,V,W,oe,ee),pe}).catch(pe=>{if(!h())throw D(v),ms;if(Qe(pe))return T(v,pe,V,ee,W,le);const oe=Nl(pe);throw y(v,V,W,oe,ee),pe})}function T(v,P,V,ee,W,le){return P.then(pe=>{if(!h())throw D(v),ms;le.loadingDepKey!=null&&le.loadingDepPromise===P?V.atomValues.set(le.loadingDepKey,ed(pe)):v.getState().knownSelectors.forEach(Se=>{V.atomValues.delete(Se)});const oe=M(v,V);if(oe&&oe.state!=="loading"){if((Z(v,W)||J(v)==null)&&E(v,W),oe.state==="hasValue")return oe.contents;throw oe.contents}if(!Z(v,W)){const Se=ae(v,V);if(Se!=null)return Se.loadingLoadable.contents}const[ke,Ne]=L(v,V,W);if(ke.state!=="loading"&&y(v,V,W,ke,Ne),ke.state==="hasError")throw ke.contents;return ke.contents}).catch(pe=>{if(pe instanceof vw)throw ms;if(!h())throw D(v),ms;const oe=Nl(pe);throw y(v,V,W,oe,ee),pe})}function C(v,P,V,ee){var W,le,pe,oe;if(Z(v,ee)||P.version===((W=v.getState())===null||W===void 0||(le=W.currentTree)===null||le===void 0?void 0:le.version)||P.version===((pe=v.getState())===null||pe===void 0||(oe=pe.nextTree)===null||oe===void 0?void 0:oe.version)){var ke,Ne,Se;vV(n,V,v,(ke=(Ne=v.getState())===null||Ne===void 0||(Se=Ne.nextTree)===null||Se===void 0?void 0:Se.version)!==null&&ke!==void 0?ke:v.getState().currentTree.version)}for(const xe of V)s.add(xe)}function L(v,P,V){const ee=AV(n);let W=!0,le=!0;const pe=()=>{ee(),le=!1};let oe,ke=!1,Ne;const Se={loadingDepKey:null,loadingDepPromise:null},xe=new Map;function tt({key:ze}){const Ue=xl(v,P,ze);switch(xe.set(ze,Ue),W||(C(v,P,new Set(xe.keys()),V),R(v,V)),Ue.state){case"hasValue":return Ue.contents;case"hasError":throw Ue.contents;case"loading":throw Se.loadingDepKey=ze,Se.loadingDepPromise=Ue.contents,Ue.contents}throw Te("Invalid Loadable state")}const Me=ze=>(...Ue)=>{if(le)throw Te("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Cs(!1),RV(v,ze,Ue,{node:e})};try{oe=r({get:tt,getCallback:Me}),oe=SV(oe)?tt(oe):oe,pV(oe)&&(oe.state==="hasError"&&(ke=!0),oe=oe.contents),Qe(oe)?oe=g(v,oe,P,xe,V,Se).finally(pe):pe(),oe=oe instanceof yw?oe.value:oe}catch(ze){oe=ze,Qe(oe)?oe=T(v,oe,P,xe,V,Se).finally(pe):(ke=!0,pe())}return ke?Ne=Nl(oe):Qe(oe)?Ne=mV(oe):Ne=ed(oe),W=!1,$(v,V,xe),C(v,P,new Set(xe.keys()),V),[Ne,xe]}function M(v,P){let V=P.atomValues.get(n);if(V!=null)return V;const ee=new Set;try{V=a.get(le=>(typeof le!="string"&&Cs(!1),xl(v,P,le).contents),{onNodeVisit:le=>{le.type==="branch"&&le.nodeKey!==n&&ee.add(le.nodeKey)}})}catch(le){throw Te(`Problem with cache lookup for selector "${n}": ${le.message}`)}if(V){var W;P.atomValues.set(n,V),C(v,P,ee,(W=J(v))===null||W===void 0?void 0:W.executionID)}return V}function q(v,P){const V=M(v,P);if(V!=null)return D(v),V;const ee=ae(v,P);if(ee!=null){var W;return((W=ee.loadingLoadable)===null||W===void 0?void 0:W.state)==="loading"&&f(v,ee.executionID),ee.loadingLoadable}const le=IV(),[pe,oe]=L(v,P,le);return pe.state==="loading"?(Ie(v,le,pe,oe,P),f(v,le)):(D(v),Ae(P,pe,oe)),pe}function ae(v,P){const V=BE([u.has(v)?[et(u.get(v))]:[],Pc(cm(u,([W])=>W!==v),([,W])=>W)]);function ee(W){for(const[le,pe]of W)if(!xl(v,P,le).is(pe))return!0;return!1}for(const W of V){if(W.stateVersions.get(P.version)||!ee(W.depValuesDiscoveredSoFarDuringAsyncWork))return W.stateVersions.set(P.version,!0),W;W.stateVersions.set(P.version,!1)}}function J(v){return u.get(v)}function Ie(v,P,V,ee,W){u.set(v,{depValuesDiscoveredSoFarDuringAsyncWork:ee,executionID:P,loadingLoadable:V,stateVersions:new Map([[W.version,!0]])})}function $(v,P,V){if(Z(v,P)){const ee=J(v);ee!=null&&(ee.depValuesDiscoveredSoFarDuringAsyncWork=V)}}function D(v){u.delete(v)}function Z(v,P){var V;return P===((V=J(v))===null||V===void 0?void 0:V.executionID)}function ue(v){return Array.from(v.entries()).map(([P,V])=>[P,V.contents])}function Ae(v,P,V){v.atomValues.set(n,P);try{a.set(ue(V),P)}catch(ee){throw Te(`Problem with setting cache for selector "${n}": ${ee.message}`)}}function be(v){if(gs.includes(n)){const P=`Recoil selector has circular dependencies: ${gs.slice(gs.indexOf(n)).join(" → ")}`;return Nl(Te(P))}gs.push(n);try{return v()}finally{gs.pop()}}function B(v,P){const V=P.atomValues.get(n);return V??a.get(ee=>{var W;return typeof ee!="string"&&Cs(!1),(W=gV(v,P,ee))===null||W===void 0?void 0:W.contents})}function x(v,P){return be(()=>q(v,P))}function S(v){v.atomValues.delete(n)}function z(v,P){e==null&&Cs(!1);for(const ee of s){var V;const W=wV(ee);(V=W.clearCache)===null||V===void 0||V.call(W,v,P)}s.clear(),S(P),a.clear(),vv(v,e)}return o!=null?e=yv({key:n,nodeType:"selector",peek:B,get:x,set:(P,V,ee)=>{let W=!1;const le=new Map;function pe({key:Se}){if(W)throw Te("Recoil: Async selector sets are not currently supported.");const xe=xl(P,V,Se);if(xe.state==="hasValue")return xe.contents;if(xe.state==="loading"){const tt=`Getting value of asynchronous atom or selector "${Se}" in a pending state while setting selector "${n}" is not yet supported.`;throw Te(tt)}else throw xe.contents}function oe(Se,xe){if(W)throw Te("Recoil: Async selector sets are not currently supported.");const tt=typeof xe=="function"?xe(pe(Se)):xe;yV(P,V,Se.key,tt).forEach((ze,Ue)=>le.set(Ue,ze))}function ke(Se){oe(Se,_V)}const Ne=o({set:oe,get:pe,reset:ke},ee);if(Ne!==void 0)throw Qe(Ne)?Te("Recoil: Async selector sets are not currently supported."):Te("Recoil: selector set should be a void function.");return W=!0,le},init:d,invalidate:S,clearCache:z,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=yv({key:n,nodeType:"selector",peek:B,get:x,init:d,invalidate:S,clearCache:z,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}_w.value=t=>new yw(t);var Lo=_w;const{isLoadable:CV,loadableWithError:td,loadableWithPromise:nd,loadableWithValue:Hi}=Fa,{WrappedValue:Ew}=pw,{peekNodeInfo:PV}=ei,{DEFAULT_VALUE:ui,DefaultValue:Ar,getConfigDeletionHandler:ww,registerNode:kV,setConfigDeletionHandler:NV}=ln,{isRecoilValue:xV}=xo,{getRecoilValueAsLoadable:VV,markRecoilValueModified:DV,setRecoilValue:_v,setRecoilValueLoadable:LV}=tr,{retainedByOptionWithDefault:bV}=$i,ys=t=>t instanceof Ew?t.value:t;function MV(t){const{key:e,persistence_UNSTABLE:n}=t,r=bV(t.retainedBy_UNSTABLE);let i=0;function o(f){return nd(f.then(g=>(s=Hi(g),g)).catch(g=>{throw s=td(g),g}))}let s=Qe(t.default)?o(t.default):CV(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:Hi(ys(t.default));s.contents;let a;const l=new Map;function u(f){return f}function c(f,g){const T=g.then(C=>{var L,M;return((M=((L=f.getState().nextTree)!==null&&L!==void 0?L:f.getState().currentTree).atomValues.get(e))===null||M===void 0?void 0:M.contents)===T&&_v(f,m,C),C}).catch(C=>{var L,M;throw((M=((L=f.getState().nextTree)!==null&&L!==void 0?L:f.getState().currentTree).atomValues.get(e))===null||M===void 0?void 0:M.contents)===T&&LV(f,m,td(C)),C});return T}function h(f,g,T){var C;i++;const L=()=>{var J;i--,(J=l.get(f))===null||J===void 0||J.forEach(Ie=>Ie()),l.delete(f)};if(f.getState().knownAtoms.add(e),s.state==="loading"){const J=()=>{var Ie;((Ie=f.getState().nextTree)!==null&&Ie!==void 0?Ie:f.getState().currentTree).atomValues.has(e)||DV(f,m)};s.contents.finally(J)}const M=(C=t.effects)!==null&&C!==void 0?C:t.effects_UNSTABLE;if(M!=null){let J=function(S){if(Z&&S.key===e){const z=D;return z instanceof Ar?d(f,g):Qe(z)?nd(z.then(v=>v instanceof Ar?s.toPromise():v)):Hi(z)}return VV(f,S)},Ie=function(S){return J(S).toPromise()},$=function(S){var z;const v=PV(f,(z=f.getState().nextTree)!==null&&z!==void 0?z:f.getState().currentTree,S.key);return Z&&S.key===e&&!(D instanceof Ar)?{...v,isSet:!0,loadable:J(S)}:v},D=ui,Z=!0,ue=!1,Ae=null;const be=S=>z=>{if(Z){const v=J(m),P=v.state==="hasValue"?v.contents:ui;D=typeof z=="function"?z(P):z,Qe(D)&&(D=D.then(V=>(Ae={effect:S,value:V},V)))}else{if(Qe(z))throw Te("Setting atoms to async values is not implemented.");typeof z!="function"&&(Ae={effect:S,value:ys(z)}),_v(f,m,typeof z=="function"?v=>{const P=ys(z(v));return Ae={effect:S,value:P},P}:ys(z))}},B=S=>()=>be(S)(ui),x=S=>z=>{var v;const{release:P}=f.subscribeToTransactions(V=>{var ee;let{currentTree:W,previousTree:le}=V.getState();le||(le=W);const pe=(ee=W.atomValues.get(e))!==null&&ee!==void 0?ee:s;if(pe.state==="hasValue"){var oe,ke,Ne,Se;const xe=pe.contents,tt=(oe=le.atomValues.get(e))!==null&&oe!==void 0?oe:s,Me=tt.state==="hasValue"?tt.contents:ui;((ke=Ae)===null||ke===void 0?void 0:ke.effect)!==S||((Ne=Ae)===null||Ne===void 0?void 0:Ne.value)!==xe?z(xe,Me,!W.atomValues.has(e)):((Se=Ae)===null||Se===void 0?void 0:Se.effect)===S&&(Ae=null)}},e);l.set(f,[...(v=l.get(f))!==null&&v!==void 0?v:[],P])};for(const S of M)try{const z=S({node:m,storeID:f.storeID,parentStoreID_UNSTABLE:f.parentStoreID,trigger:T,setSelf:be(S),resetSelf:B(S),onSet:x(S),getPromise:Ie,getLoadable:J,getInfo_UNSTABLE:$});if(z!=null){var q;l.set(f,[...(q=l.get(f))!==null&&q!==void 0?q:[],z])}}catch(z){D=z,ue=!0}if(Z=!1,!(D instanceof Ar)){var ae;const S=ue?td(D):Qe(D)?nd(c(f,D)):Hi(ys(D));S.contents,g.atomValues.set(e,S),(ae=f.getState().nextTree)===null||ae===void 0||ae.atomValues.set(e,S)}}return L}function d(f,g){var T,C;return(T=(C=g.atomValues.get(e))!==null&&C!==void 0?C:a)!==null&&T!==void 0?T:s}function p(f,g){if(g.atomValues.has(e))return et(g.atomValues.get(e));if(g.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const T=g.nonvalidatedAtoms.get(e),C=n.validator(T,ui);return a=C instanceof Ar?s:Hi(C),a}else return s}function y(){a=void 0}function E(f,g,T){if(g.atomValues.has(e)){const C=et(g.atomValues.get(e));if(C.state==="hasValue"&&T===C.contents)return new Map}else if(!g.nonvalidatedAtoms.has(e)&&T instanceof Ar)return new Map;return a=void 0,new Map().set(e,Hi(T))}function R(){return ww(e)!==void 0&&i<=0}const m=kV({key:e,nodeType:"atom",peek:d,get:p,set:E,init:h,invalidate:y,shouldDeleteConfigOnRelease:R,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return m}function Em(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return xV(n)?OV({...e,default:n}):MV({...e,default:n})}function OV(t){const e=Em({...t,default:ui,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Ar?r:et(t.persistence_UNSTABLE).validator(r,ui)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Lo({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Ar?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return NV(n.key,ww(t.key)),n}Em.value=t=>new Ew(t);var Sw=Em;class $V{constructor(e){var n;Ee(this,"_map",void 0),Ee(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var FV={MapCache:$V},UV=FV.MapCache,BV=Object.freeze({__proto__:null,MapCache:UV});const{LRUCache:Ev}=gw,{MapCache:jV}=BV,Dl={equality:"reference",eviction:"none",maxSize:1/0};function zV({equality:t=Dl.equality,eviction:e=Dl.eviction,maxSize:n=Dl.maxSize}=Dl){const r=WV(t);return HV(e,n,r)}function WV(t){switch(t){case"reference":return e=>e;case"value":return e=>Bc(e)}throw Te(`Unrecognized equality policy ${t}`)}function HV(t,e,n){switch(t){case"keep-all":return new jV({mapKey:n});case"lru":return new Ev({mapKey:n,maxSize:et(e)});case"most-recent":return new Ev({mapKey:n,maxSize:1})}throw Te(`Unrecognized eviction policy ${t}`)}var Tw=zV;const{setConfigDeletionHandler:qV}=ln;function KV(t){var e,n;const r=Tw({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,s;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),h=Sw({...u,key:`${t.key}__${(o=Bc(i))!==null&&o!==void 0?o:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(i,h),qV(h.key,()=>{r.delete(i)}),h}}var GV=KV;const{setConfigDeletionHandler:QV}=ln;let YV=0;function XV(t){var e,n;const r=Tw({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let s;try{s=r.get(i)}catch(d){throw Te(`Problem with cache lookup for selector ${t.key}: ${d.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=Bc(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${YV++}`,l=d=>t.get(i)(d),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const d=t.set;h=Lo({key:a,get:l,set:(y,E)=>d(i)(y,E),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else h=Lo({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,h),QV(h.key,()=>{r.delete(i)}),h}}var ti=XV;const JV=ti({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function ZV(t){return JV(t)}var eD=ZV;const tD=ti({key:"__error",get:t=>()=>{throw Te(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function nD(t){return tD(t)}var rD=nD;function iD(t){return t}var oD=iD;const{loadableWithError:Rw,loadableWithPromise:Aw,loadableWithValue:Iw}=Fa;function jc(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function sD(t){return t!=null&&!Qe(t)}function zc(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function kf(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function vo(t,e,n){const r=n.map((i,o)=>i==null?Iw(e[o]):Qe(i)?Aw(i):Rw(i));return kf(t,r)}function aD(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const lD=ti({key:"__waitForNone",get:t=>({get:e})=>{const n=zc(t),[r,i]=jc(e,n);return vo(t,r,i)},dangerouslyAllowMutability:!0}),uD=ti({key:"__waitForAny",get:t=>({get:e})=>{const n=zc(t),[r,i]=jc(e,n);return i.some(o=>!Qe(o))?vo(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())Qe(a)&&a.then(l=>{r[s]=l,i[s]=void 0,o(vo(t,r,i))}).catch(l=>{i[s]=l,o(vo(t,r,i))})})},dangerouslyAllowMutability:!0}),cD=ti({key:"__waitForAll",get:t=>({get:e})=>{const n=zc(t),[r,i]=jc(e,n);if(i.every(s=>s==null))return kf(t,r);const o=i.find(sD);if(o!=null)throw o;return Promise.all(i).then(s=>kf(t,aD(r,s)))},dangerouslyAllowMutability:!0}),hD=ti({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=zc(t),[r,i]=jc(e,n);return i.every(o=>!Qe(o))?vo(t,r,i):Promise.all(i.map((o,s)=>Qe(o)?o.then(a=>{r[s]=a,i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>vo(t,r,i))},dangerouslyAllowMutability:!0}),dD=ti({key:"__noWait",get:t=>({get:e})=>{try{return Lo.value(Iw(e(t)))}catch(n){return Lo.value(Qe(n)?Aw(n):Rw(n))}},dangerouslyAllowMutability:!0});var fD={waitForNone:lD,waitForAny:uD,waitForAll:cD,waitForAllSettled:hD,noWait:dD};const{RecoilLoadable:pD}=Fa,{DefaultValue:mD}=ln,{RecoilRoot:gD,useRecoilStoreID:yD}=Er,{isRecoilValue:vD}=xo,{retentionZone:_D}=Nc,{freshSnapshot:ED}=Mc,{useRecoilState:wD,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:SD,useRecoilStateLoadable:TD,useRecoilValue:RD,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:AD,useRecoilValueLoadable:ID,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:CD,useResetRecoilState:PD,useSetRecoilState:kD}=Fx,{useGotoRecoilSnapshot:ND,useRecoilSnapshot:xD,useRecoilTransactionObserver:VD}=uw,{useRecoilCallback:DD}=fw,{noWait:LD,waitForAll:bD,waitForAllSettled:MD,waitForAny:OD,waitForNone:$D}=fD;var Ha={DefaultValue:mD,isRecoilValue:vD,RecoilLoadable:pD,RecoilEnv:Go,RecoilRoot:gD,useRecoilStoreID:yD,useRecoilBridgeAcrossReactRoots_UNSTABLE:d2,atom:Sw,selector:Lo,atomFamily:GV,selectorFamily:ti,constSelector:eD,errorSelector:rD,readOnlySelector:oD,noWait:LD,waitForNone:$D,waitForAny:OD,waitForAll:bD,waitForAllSettled:MD,useRecoilValue:RD,useRecoilValueLoadable:ID,useRecoilState:wD,useRecoilStateLoadable:TD,useSetRecoilState:kD,useResetRecoilState:PD,useGetRecoilValueInfo_UNSTABLE:s2,useRecoilRefresher_UNSTABLE:B2,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:CD,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:AD,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:SD,useRecoilCallback:DD,useRecoilTransaction_UNSTABLE:q2,useGotoRecoilSnapshot:ND,useRecoilSnapshot:xD,useRecoilTransactionObserver_UNSTABLE:VD,snapshot_UNSTABLE:ED,useRetain:mm,retentionZone:_D},FD=Ha.RecoilRoot,UD=Ha.atom,wm=Ha.atomFamily,Cw=Ha.useRecoilValueLoadable,Pw=Ha.useRecoilState;const BD=({onOpenModal:t})=>{const e=ne.useRef(null);return ne.useEffect(()=>{const n=r=>{e.current&&!e.current.contains(r.target)&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t]),N.jsx("div",{className:"h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-70 text-center z-50",children:N.jsxs("div",{ref:e,className:"bg-white rounded w-10/12 md:w-1/3",children:[N.jsx("div",{className:"border-b px-4 py-2",children:N.jsx("h3",{className:"text-center",children:"메뉴"})}),N.jsx("div",{className:"border-b px-4 py-2",children:N.jsx("h3",{className:"text-red-600 text-center cursor-pointer",onClick:t,children:"닫기"})})]})})};function jD(t){return Zr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2zM4 10h2v9H4v-9zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7v1.819z"}}]})(t)}function zD(t){return Zr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21h1V8H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2zM20 8h-7l1.122-3.368A2 2 0 0 0 12.225 2H12L7 7.438V21h11l3.912-8.596L22 12v-2a2 2 0 0 0-2-2z"}}]})(t)}function WD(t){return Zr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"}}]})(t)}function HD(t){return Zr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"}}]})(t)}const qD=t=>{const[e,n]=ne.useState(!1),[r,i]=ne.useState(0),o=r===0,s=r===t.data.imageUrlList.length-1,[a,l]=ne.useState(!1),u=im(),c=()=>{l(!a)},h=()=>{u("/comment")},d=()=>{n(!e)},p=()=>{const E=(r+1)%t.data.imageUrlList.length;i(E)},y=()=>{const E=(r-1+t.data.imageUrlList.length)%t.data.imageUrlList.length;i(E)};return N.jsxs("div",{children:[N.jsxs("div",{className:"flex items-center my-3 mx-2",children:[N.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),N.jsx("div",{className:"ml-2 text-[14px] font-bold",children:t.data.userId}),N.jsx("div",{className:"ml-2 text-blue-400 text-[14px]",children:"팔로우"}),N.jsxs("div",{className:"ml-auto",children:[N.jsx(KC,{onClick:c}),a&&N.jsx(BD,{onOpenModal:c})]})]}),N.jsxs("div",{className:"relative",children:[N.jsx("img",{src:t.data.imageUrlList[r],alt:"컨텐츠 이미지",className:"w-full h-72"}),!o&&N.jsx("button",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 ml-1 text-4xl bg-white rounded-full opacity-70",onClick:y,children:N.jsx(HD,{})}),!s&&N.jsx("button",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 mr-1 text-4xl bg-white rounded-full opacity-70",onClick:p,children:N.jsx(WD,{})})]}),N.jsxs("div",{className:"flex-row ml-3 mt-3",children:[N.jsxs("div",{className:"flex justify-between",children:[N.jsx("div",{className:"text-[14px] my-1 font-semibold",children:"좋아요 1개"}),N.jsx("div",{className:"mx-2 text-[24px]",onClick:d,children:e?N.jsx(zD,{}):N.jsx(jD,{})})]}),N.jsxs("div",{className:"flex text-[14px]",children:[N.jsx("div",{className:"font-semibold",children:t.data.userId}),N.jsx("div",{className:"ml-1",children:t.data.postContent})]}),t.data.tagList.map((E,R)=>N.jsxs("span",{className:"text-[14px]",children:["#",E+" "]},R)),N.jsx("div",{className:"text-[13px] text-gray-500 cursor-pointer hover:text-black w-fit",onClick:h,children:"댓글 1개 모두 보기"}),N.jsx("div",{className:"text-[13px] text-gray-500",children:"1시간 전"})]})]})};var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new GD;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QD=function(t){const e=kw(t);return Nw.encodeByteArray(e,!0)},bu=function(t){return QD(t).replace(/\./g,"")},YD=function(t){try{return Nw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=()=>XD().__FIREBASE_DEFAULTS__,ZD=()=>{if(typeof process>"u"||typeof wv>"u")return;const t=wv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YD(t[1]);return e&&JSON.parse(e)},Sm=()=>{try{return JD()||ZD()||eL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tL=t=>{var e,n;return(n=(e=Sm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nL=t=>{const e=tL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xw=()=>{var t;return(t=Sm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bu(JSON.stringify(n)),bu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oL(){var t;const e=(t=Sm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sL(){return!oL()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vw(){try{return typeof indexedDB=="object"}catch{return!1}}function aL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="FirebaseError";class Yo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lL,Object.setPrototypeOf(this,Yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dw.prototype.create)}}class Dw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?uL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Yo(i,a,r)}}function uL(t,e){return t.replace(cL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cL=/\{\$([^}]+)}/g;function Nf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Sv(o)&&Sv(s)){if(!Nf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){return t&&t._delegate?t._delegate:t}class ya{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fL(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dL(t){return t===li?void 0:t}function fL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const mL={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},gL=De.INFO,yL={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},vL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lw{constructor(e){this.name=e,this._logLevel=gL,this._logHandler=vL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const _L=(t,e)=>e.some(n=>t instanceof n);let Tv,Rv;function EL(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wL(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bw=new WeakMap,xf=new WeakMap,Mw=new WeakMap,rd=new WeakMap,Tm=new WeakMap;function SL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(jr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&bw.set(n,t)}).catch(()=>{}),Tm.set(e,t),e}function TL(t){if(xf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});xf.set(t,e)}let Vf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RL(t){Vf=t(Vf)}function AL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(id(this),e,...n);return Mw.set(r,e.sort?e.sort():[e]),jr(r)}:wL().includes(t)?function(...e){return t.apply(id(this),e),jr(bw.get(this))}:function(...e){return jr(t.apply(id(this),e))}}function IL(t){return typeof t=="function"?AL(t):(t instanceof IDBTransaction&&TL(t),_L(t,EL())?new Proxy(t,Vf):t)}function jr(t){if(t instanceof IDBRequest)return SL(t);if(rd.has(t))return rd.get(t);const e=IL(t);return e!==t&&(rd.set(t,e),Tm.set(e,t)),e}const id=t=>Tm.get(t);function CL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=jr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(jr(s.result),l.oldVersion,l.newVersion,jr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const PL=["get","getKey","getAll","getAllKeys","count"],kL=["put","add","delete","clear"],od=new Map;function Av(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(od.get(e))return od.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PL.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return od.set(e,o),o}RL(t=>({...t,get:(e,n,r)=>Av(e,n)||t.get(e,n,r),has:(e,n)=>!!Av(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Df="@firebase/app",Iv="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Lw("@firebase/app"),VL="@firebase/app-compat",DL="@firebase/analytics-compat",LL="@firebase/analytics",bL="@firebase/app-check-compat",ML="@firebase/app-check",OL="@firebase/auth",$L="@firebase/auth-compat",FL="@firebase/database",UL="@firebase/database-compat",BL="@firebase/functions",jL="@firebase/functions-compat",zL="@firebase/installations",WL="@firebase/installations-compat",HL="@firebase/messaging",qL="@firebase/messaging-compat",KL="@firebase/performance",GL="@firebase/performance-compat",QL="@firebase/remote-config",YL="@firebase/remote-config-compat",XL="@firebase/storage",JL="@firebase/storage-compat",ZL="@firebase/firestore",eb="@firebase/firestore-compat",tb="firebase",nb="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",rb={[Df]:"fire-core",[VL]:"fire-core-compat",[LL]:"fire-analytics",[DL]:"fire-analytics-compat",[ML]:"fire-app-check",[bL]:"fire-app-check-compat",[OL]:"fire-auth",[$L]:"fire-auth-compat",[FL]:"fire-rtdb",[UL]:"fire-rtdb-compat",[BL]:"fire-fn",[jL]:"fire-fn-compat",[zL]:"fire-iid",[WL]:"fire-iid-compat",[HL]:"fire-fcm",[qL]:"fire-fcm-compat",[KL]:"fire-perf",[GL]:"fire-perf-compat",[QL]:"fire-rc",[YL]:"fire-rc-compat",[XL]:"fire-gcs",[JL]:"fire-gcs-compat",[ZL]:"fire-fst",[eb]:"fire-fst-compat","fire-js":"fire-js",[tb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,bf=new Map;function ib(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $u(t){const e=t.name;if(bf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;bf.set(e,t);for(const n of Ou.values())ib(n,t);return!0}function ob(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zr=new Dw("app","Firebase",sb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=nb;function Ow(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zr.create("bad-app-name",{appName:String(i)});if(n||(n=xw()),!n)throw zr.create("no-options");const o=Ou.get(i);if(o){if(Nf(n,o.options)&&Nf(r,o.config))return o;throw zr.create("duplicate-app",{appName:i})}const s=new pL(i);for(const l of bf.values())s.addComponent(l);const a=new ab(n,r,s);return Ou.set(i,a),a}function ub(t=Lf){const e=Ou.get(t);if(!e&&t===Lf&&xw())return Ow();if(!e)throw zr.create("no-app",{appName:t});return e}function _o(t,e,n){var r;let i=(r=rb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(a.join(" "));return}$u(new ya(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="firebase-heartbeat-database",hb=1,va="firebase-heartbeat-store";let sd=null;function $w(){return sd||(sd=CL(cb,hb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(va)}catch(n){console.warn(n)}}}}).catch(t=>{throw zr.create("idb-open",{originalErrorMessage:t.message})})),sd}async function db(t){try{return await(await $w()).transaction(va).objectStore(va).get(Fw(t))}catch(e){if(e instanceof Yo)Ni.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function Cv(t,e){try{const r=(await $w()).transaction(va,"readwrite");await r.objectStore(va).put(e,Fw(t)),await r.done}catch(n){if(n instanceof Yo)Ni.warn(n.message);else{const r=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function Fw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=1024,pb=30*24*60*60*1e3;class mb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Pv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=pb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pv(),{heartbeatsToSend:r,unsentEntries:i}=gb(this._heartbeatsCache.heartbeats),o=bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Pv(){return new Date().toISOString().substring(0,10)}function gb(t,e=fb){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kv(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vw()?aL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await db(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kv(t){return bu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){$u(new ya("platform-logger",e=>new NL(e),"PRIVATE")),$u(new ya("heartbeat",e=>new mb(e),"PRIVATE")),_o(Df,Iv,t),_o(Df,Iv,"esm2017"),_o("fire-js","")}vb("");var _b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,Rm=Rm||{},ye=_b||self;function Wc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function qa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Eb(t){return Object.prototype.hasOwnProperty.call(t,ad)&&t[ad]||(t[ad]=++wb)}var ad="closure_uid_"+(1e9*Math.random()>>>0),wb=0;function Sb(t,e,n){return t.call.apply(t.bind,arguments)}function Tb(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jt=Sb:jt=Tb,jt.apply(null,arguments)}function Ll(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ni(){this.s=this.s,this.o=this.o}var Rb=0;ni.prototype.s=!1;ni.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Rb!=0)&&Eb(this)};ni.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Uw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Am(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Nv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Wc(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var Ab=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ye.addEventListener("test",n,e),ye.removeEventListener("test",n,e)}catch{}return t}();function _a(t){return/^[\s\xa0]*$/.test(t)}function Hc(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function zn(t){return Hc().indexOf(t)!=-1}function Im(t){return Im[" "](t),t}Im[" "]=function(){};function Ib(t,e){var n=vM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Cb=zn("Opera"),bo=zn("Trident")||zn("MSIE"),Bw=zn("Edge"),Mf=Bw||bo,jw=zn("Gecko")&&!(Hc().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),Pb=Hc().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge");function zw(){var t=ye.document;return t?t.documentMode:void 0}var Of;e:{var ld="",ud=function(){var t=Hc();if(jw)return/rv:([^\);]+)(\)|;)/.exec(t);if(Bw)return/Edge\/([\d\.]+)/.exec(t);if(bo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Pb)return/WebKit\/(\S+)/.exec(t);if(Cb)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ud&&(ld=ud?ud[1]:""),bo){var cd=zw();if(cd!=null&&cd>parseFloat(ld)){Of=String(cd);break e}}Of=ld}var $f;if(ye.document&&bo){var xv=zw();$f=xv||parseInt(Of,10)||void 0}else $f=void 0;var kb=$f;function Ea(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(jw){e:{try{Im(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Nb[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ea.$.h.call(this)}}It(Ea,zt);var Nb={2:"touch",3:"pen",4:"mouse"};Ea.prototype.h=function(){Ea.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ka="closure_listenable_"+(1e6*Math.random()|0),xb=0;function Vb(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++xb,this.fa=this.ia=!1}function qc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Cm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Db(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Ww(t){const e={};for(const n in t)e[n]=t[n];return e}const Vv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hw(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Vv.length;o++)n=Vv[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kc(t){this.src=t,this.g={},this.h=0}Kc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Uf(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Vb(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Ff(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Uw(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(qc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Uf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Pm="closure_lm_"+(1e6*Math.random()|0),hd={};function qw(t,e,n,r,i){if(r&&r.once)return Gw(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)qw(t,e[o],n,r,i);return null}return n=xm(n),t&&t[Ka]?t.O(e,n,qa(r)?!!r.capture:!!r,i):Kw(t,e,n,!1,r,i)}function Kw(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=qa(i)?!!i.capture:!!i,a=Nm(t);if(a||(t[Pm]=a=new Kc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=Lb(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ab||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Yw(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Lb(){function t(n){return e.call(t.src,t.listener,n)}const e=bb;return t}function Gw(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Gw(t,e[o],n,r,i);return null}return n=xm(n),t&&t[Ka]?t.P(e,n,qa(r)?!!r.capture:!!r,i):Kw(t,e,n,!0,r,i)}function Qw(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Qw(t,e[o],n,r,i);else r=qa(r)?!!r.capture:!!r,n=xm(n),t&&t[Ka]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Uf(o,n,r,i),-1<n&&(qc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Nm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Uf(e,n,r,i)),(n=-1<t?e[t]:null)&&km(n))}function km(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ka])Ff(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Yw(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Nm(e))?(Ff(n,t),n.h==0&&(n.src=null,e[Pm]=null)):qc(t)}}}function Yw(t){return t in hd?hd[t]:hd[t]="on"+t}function bb(t,e){if(t.fa)t=!0;else{e=new Ea(e,this);var n=t.listener,r=t.la||t.src;t.ia&&km(t),t=n.call(r,e)}return t}function Nm(t){return t=t[Pm],t instanceof Kc?t:null}var dd="__closure_events_fn_"+(1e9*Math.random()>>>0);function xm(t){return typeof t=="function"?t:(t[dd]||(t[dd]=function(e){return t.handleEvent(e)}),t[dd])}function At(){ni.call(this),this.i=new Kc(this),this.S=this,this.J=null}It(At,ni);At.prototype[Ka]=!0;At.prototype.removeEventListener=function(t,e,n,r){Qw(this,t,e,n,r)};function Dt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;e=new zt(r,t),Hw(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=bl(s,r,!0,e)&&i}if(s=e.g=t,i=bl(s,r,!0,e)&&i,i=bl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=bl(s,r,!1,e)&&i}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qc(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function bl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Ff(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vm=ye.JSON.stringify;class Mb{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Ob(){var t=Dm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class $b{constructor(){this.h=this.g=null}add(e,n){const r=Xw.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Xw=new Mb(()=>new Fb,t=>t.reset());class Fb{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ub(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Bb(t){ye.setTimeout(()=>{throw t},0)}let wa,Sa=!1,Dm=new $b,Jw=()=>{const t=ye.Promise.resolve(void 0);wa=()=>{t.then(jb)}};var jb=()=>{for(var t;t=Ob();){try{t.h.call(t.g)}catch(n){Bb(n)}var e=Xw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sa=!1};function Gc(t,e){At.call(this),this.h=t||1,this.g=e||ye,this.j=jt(this.qb,this),this.l=Date.now()}It(Gc,At);Q=Gc.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dt(this,"tick"),this.ga&&(Lm(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){Gc.$.N.call(this),Lm(this),delete this.g};function bm(t,e,n){if(typeof t=="function")n&&(t=jt(t,n));else if(t&&typeof t.handleEvent=="function")t=jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function Zw(t){t.g=bm(()=>{t.g=null,t.i&&(t.i=!1,Zw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class zb extends ni{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zw(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(t){ni.call(this),this.h=t,this.g={}}It(Ta,ni);var Dv=[];function eS(t,e,n,r){Array.isArray(n)||(n&&(Dv[0]=n.toString()),n=Dv);for(var i=0;i<n.length;i++){var o=qw(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function tS(t){Cm(t.g,function(e,n){this.g.hasOwnProperty(n)&&km(e)},t),t.g={}}Ta.prototype.N=function(){Ta.$.N.call(this),tS(this)};Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Qc(){this.g=!0}Qc.prototype.Ea=function(){this.g=!1};function Wb(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function Hb(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function uo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Kb(t,n)+(r?" "+r:"")})}function qb(t,e){t.info(function(){return"TIMEOUT: "+e})}Qc.prototype.info=function(){};function Kb(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Vm(n)}catch{return e}}var Fi={},Lv=null;function Yc(){return Lv=Lv||new At}Fi.Ta="serverreachability";function nS(t){zt.call(this,Fi.Ta,t)}It(nS,zt);function Ra(t){const e=Yc();Dt(e,new nS(e))}Fi.STAT_EVENT="statevent";function rS(t,e){zt.call(this,Fi.STAT_EVENT,t),this.stat=e}It(rS,zt);function Gt(t){const e=Yc();Dt(e,new rS(e,t))}Fi.Ua="timingevent";function iS(t,e){zt.call(this,Fi.Ua,t),this.size=e}It(iS,zt);function Ga(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var Xc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mm(){}Mm.prototype.h=null;function bv(t){return t.h||(t.h=t.i())}function sS(){}var Qa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Om(){zt.call(this,"d")}It(Om,zt);function $m(){zt.call(this,"c")}It($m,zt);var Bf;function Jc(){}It(Jc,Mm);Jc.prototype.g=function(){return new XMLHttpRequest};Jc.prototype.i=function(){return{}};Bf=new Jc;function Ya(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ta(this),this.P=Gb,t=Mf?125:void 0,this.V=new Gc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aS}function aS(){this.i=null,this.g="",this.h=!1}var Gb=45e3,lS={},jf={};Q=Ya.prototype;Q.setTimeout=function(t){this.P=t};function zf(t,e,n){t.L=1,t.A=eh(yr(e)),t.u=n,t.S=!0,uS(t,null)}function uS(t,e){t.G=Date.now(),Xa(t),t.B=yr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),yS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new aS,t.g=$S(t.l,n?e:null,!t.u),0<t.O&&(t.M=new zb(jt(t.Pa,t,t.g),t.O)),eS(t.U,t.g,"readystatechange",t.nb),e=t.I?Ww(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ra(),Wb(t.j,t.v,t.B,t.m,t.W,t.u)}Q.nb=function(t){t=t.target;const e=this.M;e&&Wn(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const c=Wn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Mf||this.g&&(this.h.h||this.g.ja()||Fv(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Ra(3):Ra(2)),Zc(this);var n=this.g.da();this.ca=n;t:if(cS(this)){var r=Fv(this.g);t="";var i=r.length,o=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),Hs(this);var s="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,Hb(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_a(a)){var u=a;break t}}u=null}if(n=u)uo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wf(this,n);else{this.i=!1,this.s=3,Gt(12),pi(this),Hs(this);break e}}this.S?(hS(this,c,s),Mf&&this.i&&c==3&&(eS(this.U,this.V,"tick",this.mb),this.V.start())):(uo(this.j,this.m,s,null),Wf(this,s)),c==4&&pi(this),this.i&&!this.J&&(c==4?LS(this.l,this):(this.i=!1,Xa(this)))}else mM(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),pi(this),Hs(this)}}}catch{}finally{}};function cS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function hS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Qb(t,n),i==jf){e==4&&(t.s=4,Gt(14),r=!1),uo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==lS){t.s=4,Gt(15),uo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else uo(t.j,t.m,i,null),Wf(t,i);cS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wm(e),e.M=!0,Gt(11))):(uo(t.j,t.m,n,"[Invalid Chunked Response]"),pi(t),Hs(t))}Q.mb=function(){if(this.g){var t=Wn(this.g),e=this.g.ja();this.o<e.length&&(Zc(this),hS(this,t,e),this.i&&t!=4&&Xa(this))}};function Qb(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?jf:(n=Number(e.substring(n,r)),isNaN(n)?lS:(r+=1,r+n>e.length?jf:(e=e.slice(r,r+n),t.o=r+n,e)))}Q.cancel=function(){this.J=!0,pi(this)};function Xa(t){t.Y=Date.now()+t.P,dS(t,t.P)}function dS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ga(jt(t.lb,t),e)}function Zc(t){t.C&&(ye.clearTimeout(t.C),t.C=null)}Q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(qb(this.j,this.B),this.L!=2&&(Ra(),Gt(17)),pi(this),this.s=2,Hs(this)):dS(this,this.Y-t)};function Hs(t){t.l.H==0||t.J||LS(t.l,t)}function pi(t){Zc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lm(t.V),tS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Wf(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Hf(n.i,t))){if(!t.K&&Hf(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Bu(n),ih(n);else break e;zm(n),Gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ga(jt(n.ib,n),6e3));if(1>=ES(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else mi(n,11)}else if((t.K||n.g==t)&&Bu(n),!_a(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Fm(o,o.h),o.h=null))}if(r.F){const E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Ke(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=OS(r,r.J?r.pa:null,r.Y),s.K){wS(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Zc(a),Xa(a)),r.g=s}else VS(r);0<n.j.length&&oh(n)}else u[0]!="stop"&&u[0]!="close"||mi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?mi(n,7):jm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ra(4)}catch{}}function Yb(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Xb(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function fS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Xb(t),r=Yb(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var pS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jb(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Si(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Si){this.h=t.h,Fu(this,t.j),this.s=t.s,this.g=t.g,Uu(this,t.m),this.l=t.l;var e=t.i,n=new Aa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Mv(this,n),this.o=t.o}else t&&(e=String(t).match(pS))?(this.h=!1,Fu(this,e[1]||"",!0),this.s=Ps(e[2]||""),this.g=Ps(e[3]||"",!0),Uu(this,e[4]),this.l=Ps(e[5]||"",!0),Mv(this,e[6]||"",!0),this.o=Ps(e[7]||"")):(this.h=!1,this.i=new Aa(null,this.h))}Si.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ks(e,Ov,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ks(e,Ov,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ks(n,n.charAt(0)=="/"?tM:eM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ks(n,rM)),t.join("")};function yr(t){return new Si(t)}function Fu(t,e,n){t.j=n?Ps(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Uu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Mv(t,e,n){e instanceof Aa?(t.i=e,iM(t.i,t.h)):(n||(e=ks(e,nM)),t.i=new Aa(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function eh(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ps(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ks(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Zb),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zb(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ov=/[#\/\?@]/g,eM=/[#\?:]/g,tM=/[#\?]/g,nM=/[#\?@]/g,rM=/#/g;function Aa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ri(t){t.g||(t.g=new Map,t.h=0,t.i&&Jb(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=Aa.prototype;Q.add=function(t,e){ri(this),this.i=null,t=Xo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function mS(t,e){ri(t),e=Xo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gS(t,e){return ri(t),e=Xo(t,e),t.g.has(e)}Q.forEach=function(t,e){ri(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.ta=function(){ri(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Q.Z=function(t){ri(this);let e=[];if(typeof t=="string")gS(this,t)&&(e=e.concat(this.g.get(Xo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return ri(this),this.i=null,t=Xo(this,t),gS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function yS(t,e,n){mS(t,e),0<n.length&&(t.i=null,t.g.set(Xo(t,e),Am(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Xo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function iM(t,e){e&&!t.j&&(ri(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(mS(this,r),yS(this,i,n))},t)),t.j=e}var oM=class{constructor(t,e){this.g=t,this.map=e}};function vS(t){this.l=t||sM,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sM=10;function _S(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ES(t){return t.h?1:t.g?t.g.size:0}function Hf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Fm(t,e){t.g?t.g.add(e):t.h=e}function wS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vS.prototype.cancel=function(){if(this.i=SS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function SS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Am(t.i)}var aM=class{stringify(t){return ye.JSON.stringify(t,void 0)}parse(t){return ye.JSON.parse(t,void 0)}};function lM(){this.g=new aM}function uM(t,e,n){const r=n||"";try{fS(t,function(i,o){let s=i;qa(i)&&(s=Vm(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cM(t,e){const n=new Qc;if(ye.Image){const r=new Image;r.onload=Ll(Ml,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ll(Ml,n,r,"TestLoadImage: error",!1,e),r.onabort=Ll(Ml,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ll(Ml,n,r,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ml(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function th(t){this.l=t.ec||null,this.j=t.ob||!1}It(th,Mm);th.prototype.g=function(){return new nh(this.l,this.j)};th.prototype.i=function(t){return function(){return t}}({});function nh(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(nh,At);var Um=0;Q=nh.prototype;Q.open=function(t,e){if(this.readyState!=Um)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ia(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=Um};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function TS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ja(this):Ia(this),this.readyState==3&&TS(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,Ja(this))};Q.Ya=function(t){this.g&&(this.response=t,Ja(this))};Q.ka=function(){this.g&&Ja(this)};function Ja(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ia(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ia(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(nh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var hM=ye.JSON.parse;function lt(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=RS,this.L=this.M=!1}It(lt,At);var RS="",dM=/^https?$/i,fM=["POST","PUT"];Q=lt.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bf.g(),this.C=this.u?bv(this.u):bv(Bf),this.g.onreadystatechange=jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){$v(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ye.FormData&&t instanceof ye.FormData,!(0<=Uw(fM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{CS(this),0<this.B&&((this.L=pM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.ua,this)):this.A=bm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){$v(this,o)}};function pM(t){return bo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof Rm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))};function $v(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,AS(t),rh(t)}function AS(t){t.F||(t.F=!0,Dt(t,"complete"),Dt(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),rh(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rh(this,!0)),lt.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?IS(this):this.kb())};Q.kb=function(){IS(this)};function IS(t){if(t.h&&typeof Rm<"u"&&(!t.C[1]||Wn(t)!=4||t.da()!=2)){if(t.v&&Wn(t)==4)bm(t.La,0,t);else if(Dt(t,"readystatechange"),Wn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(pS)[1]||null;!i&&ye.self&&ye.self.location&&(i=ye.self.location.protocol.slice(0,-1)),r=!dM.test(i?i.toLowerCase():"")}n=r}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var o=2<Wn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",AS(t)}}finally{rh(t)}}}}function rh(t,e){if(t.g){CS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch{}}}function CS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function Wn(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),hM(e)}};function Fv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case RS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function mM(t){const e={};t=(t.g&&2<=Wn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(_a(t[r]))continue;var n=Ub(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}Db(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function PS(t){let e="";return Cm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Bm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=PS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function vs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kS(t){this.Ga=0,this.j=[],this.l=new Qc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vs("baseRetryDelayMs",5e3,t),this.hb=vs("retryDelaySeedMs",1e4,t),this.eb=vs("forwardChannelMaxRetries",2,t),this.xa=vs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vS(t&&t.concurrentRequestLimit),this.Ja=new lM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=kS.prototype;Q.ra=8;Q.H=1;function jm(t){if(NS(t),t.H==3){var e=t.W++,n=yr(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),Za(t,n),e=new Ya(t,t.l,e),e.L=2,e.A=eh(yr(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon)try{n=ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=$S(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Xa(e)}MS(t)}function ih(t){t.g&&(Wm(t),t.g.cancel(),t.g=null)}function NS(t){ih(t),t.u&&(ye.clearTimeout(t.u),t.u=null),Bu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function oh(t){if(!_S(t.i)&&!t.m){t.m=!0;var e=t.Na;wa||Jw(),Sa||(wa(),Sa=!0),Dm.add(e,t),t.C=0}}function gM(t,e){return ES(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ga(jt(t.Na,t,e),bS(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ya(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Ww(o),Hw(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xS(this,i,e),n=yr(this.I),Ke(n,"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),Za(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(PS(o)))+"&"+e:this.o&&Bm(n,this.o,o)),Fm(this.i,i),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),i.aa=!0,zf(i,n,null)):zf(i,n,e),this.H=2}}else this.H==3&&(t?Uv(this,t):this.j.length==0||_S(this.i)||Uv(this))};function Uv(t,e){var n;e?n=e.m:n=t.W++;const r=yr(t.I);Ke(r,"SID",t.K),Ke(r,"RID",n),Ke(r,"AID",t.V),Za(t,r),t.o&&t.s&&Bm(r,t.o,t.s),n=new Ya(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=xS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Fm(t.i,n),zf(n,r,e)}function Za(t,e){t.na&&Cm(t.na,function(n,r){Ke(e,r,n)}),t.h&&fS({},function(n,r){Ke(e,r,n)})}function xS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{uM(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function VS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;wa||Jw(),Sa||(wa(),Sa=!0),Dm.add(e,t),t.A=0}}function zm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ga(jt(t.Ma,t),bS(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,DS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ga(jt(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gt(10),ih(this),DS(this))};function Wm(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function DS(t){t.g=new Ya(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=yr(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),Za(t,e),t.o&&t.s&&Bm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=eh(yr(e)),n.u=null,n.S=!0,uS(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,ih(this),zm(this),Gt(19))};function Bu(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function LS(t,e){var n=null;if(t.g==e){Bu(t),Wm(t),t.g=null;var r=2}else if(Hf(t.i,e))n=e.F,wS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Yc(),Dt(r,new iS(r,n)),oh(t)}else VS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&gM(t,e)||r==2&&zm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:mi(t,5);break;case 4:mi(t,10);break;case 3:mi(t,6);break;default:mi(t,2)}}}function bS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function mi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jt(t.pb,t);n||(n=new Si("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||Fu(n,"https"),eh(n)),cM(n.toString(),r)}else Gt(2);t.H=0,t.h&&t.h.za(e),MS(t),NS(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gt(2)):(this.l.info("Failed to ping google.com"),Gt(1))};function MS(t){if(t.H=0,t.ma=[],t.h){const e=SS(t.i);(e.length!=0||t.j.length!=0)&&(Nv(t.ma,e),Nv(t.ma,t.j),t.i.i.length=0,Am(t.j),t.j.length=0),t.h.ya()}}function OS(t,e,n){var r=n instanceof Si?yr(n):new Si(n);if(r.g!="")e&&(r.g=e+"."+r.g),Uu(r,r.m);else{var i=ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Si(null);r&&Fu(o,r),e&&(o.g=e),i&&Uu(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ke(r,n,e),Ke(r,"VER",t.ra),Za(t,r),r}function $S(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new lt(new th({ob:n})):new lt(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function FS(){}Q=FS.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function ju(){if(bo&&!(10<=Number(kb)))throw Error("Environmental error: no available transport.")}ju.prototype.g=function(t,e){return new pn(t,e)};function pn(t,e){At.call(this),this.g=new kS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_a(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_a(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Jo(this)}It(pn,At);pn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=OS(t,null,t.Y),oh(t)};pn.prototype.close=function(){jm(this.g)};pn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Vm(t),t=n);e.j.push(new oM(e.fb++,t)),e.H==3&&oh(e)};pn.prototype.N=function(){this.g.h=null,delete this.j,jm(this.g),delete this.g,pn.$.N.call(this)};function US(t){Om.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(US,Om);function BS(){$m.call(this),this.status=1}It(BS,$m);function Jo(t){this.g=t}It(Jo,FS);Jo.prototype.Ba=function(){Dt(this.g,"a")};Jo.prototype.Aa=function(t){Dt(this.g,new US(t))};Jo.prototype.za=function(t){Dt(this.g,new BS)};Jo.prototype.ya=function(){Dt(this.g,"b")};function yM(){this.blockSize=-1}function $n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It($n,yM);$n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function fd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}$n.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)fd(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){fd(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){fd(this,r),i=0;break}}this.h=i,this.i+=e};$n.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var vM={};function Hm(t){return-128<=t&&128>t?Ib(t,function(e){return new Fe([e|0],0>e?-1:0)}):new Fe([t|0],0>t?-1:0)}function Hn(t){if(isNaN(t)||!isFinite(t))return Eo;if(0>t)return Nt(Hn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qf;return new Fe(e,0)}function jS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Nt(jS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hn(Math.pow(e,8)),r=Eo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Hn(Math.pow(e,o)),r=r.R(o).add(Hn(s))):(r=r.R(n),r=r.add(Hn(s)))}return r}var qf=4294967296,Eo=Hm(0),Kf=Hm(1),Bv=Hm(16777216);Q=Fe.prototype;Q.ea=function(){if(Tn(this))return-Nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qf+r)*e,e*=qf}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ur(this))return"0";if(Tn(this))return"-"+Nt(this).toString(t);for(var e=Hn(Math.pow(t,6)),n=this,r="";;){var i=Wu(n,e).g;n=zu(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ur(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ur(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Tn(t){return t.h==-1}Q.X=function(t){return t=zu(this,t),Tn(t)?-1:ur(t)?0:1};function Nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Fe(n,~t.h).add(Kf)}Q.abs=function(){return Tn(this)?Nt(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Fe(n,n[n.length-1]&-2147483648?-1:0)};function zu(t,e){return t.add(Nt(e))}Q.R=function(t){if(ur(this)||ur(t))return Eo;if(Tn(this))return Tn(t)?Nt(this).R(Nt(t)):Nt(Nt(this).R(t));if(Tn(t))return Nt(this.R(Nt(t)));if(0>this.X(Bv)&&0>t.X(Bv))return Hn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Ol(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Ol(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ol(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ol(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Fe(n,0)};function Ol(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _s(t,e){this.g=t,this.h=e}function Wu(t,e){if(ur(e))throw Error("division by zero");if(ur(t))return new _s(Eo,Eo);if(Tn(t))return e=Wu(Nt(t),e),new _s(Nt(e.g),Nt(e.h));if(Tn(e))return e=Wu(t,Nt(e)),new _s(Nt(e.g),e.h);if(30<t.g.length){if(Tn(t)||Tn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Kf,r=e;0>=r.X(t);)n=jv(n),r=jv(r);var i=qi(n,1),o=qi(r,1);for(r=qi(r,2),n=qi(n,2);!ur(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=qi(r,1),n=qi(n,1)}return e=zu(t,i.R(e)),new _s(i,e)}for(i=Eo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Hn(n),s=o.R(e);Tn(s)||0<s.X(t);)n-=r,o=Hn(n),s=o.R(e);ur(o)&&(o=Kf),i=i.add(o),t=zu(t,s)}return new _s(i,t)}Q.gb=function(t){return Wu(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Fe(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Fe(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Fe(n,this.h^t.h)};function jv(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Fe(n,t.h)}function qi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Fe(i,t.h)}ju.prototype.createWebChannel=ju.prototype.g;pn.prototype.send=pn.prototype.u;pn.prototype.open=pn.prototype.m;pn.prototype.close=pn.prototype.close;Xc.NO_ERROR=0;Xc.TIMEOUT=8;Xc.HTTP_ERROR=6;oS.COMPLETE="complete";sS.EventType=Qa;Qa.OPEN="a";Qa.CLOSE="b";Qa.ERROR="c";Qa.MESSAGE="d";At.prototype.listen=At.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;$n.prototype.digest=$n.prototype.l;$n.prototype.reset=$n.prototype.reset;$n.prototype.update=$n.prototype.j;Fe.prototype.add=Fe.prototype.add;Fe.prototype.multiply=Fe.prototype.R;Fe.prototype.modulo=Fe.prototype.gb;Fe.prototype.compare=Fe.prototype.X;Fe.prototype.toNumber=Fe.prototype.ea;Fe.prototype.toString=Fe.prototype.toString;Fe.prototype.getBits=Fe.prototype.D;Fe.fromNumber=Hn;Fe.fromString=jS;var _M=function(){return new ju},EM=function(){return Yc()},pd=Xc,wM=oS,SM=Fi,zv={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$l=sS,TM=lt,RM=$n,wo=Fe;const Wv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Lw("@firebase/firestore");function Es(){return xi.logLevel}function G(t,...e){if(xi.logLevel<=De.DEBUG){const n=e.map(qm);xi.debug(`Firestore (${Zo}): ${t}`,...n)}}function Zn(t,...e){if(xi.logLevel<=De.ERROR){const n=e.map(qm);xi.error(`Firestore (${Zo}): ${t}`,...n)}}function Mo(t,...e){if(xi.logLevel<=De.WARN){const n=e.map(qm);xi.warn(`Firestore (${Zo}): ${t}`,...n)}}function qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw Zn(e),new Error(e)}function He(t,e){t||ge()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Yo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class IM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CM{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new zS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Ft(e)}}class PM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new PM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new NM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=VM(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Oo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new _t(0,0))}static max(){return new ve(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ca.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ca?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Ca{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const DM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Ca{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return DM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new te(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new te(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Ge.fromString(e))}static fromName(e){return new he(Ge.fromString(e).popFirst(5))}static empty(){return new he(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Ge(e.slice()))}}function LM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Kr(i,he.empty(),e)}function bM(t){return new Kr(t.readTime,t.key,-1)}class Kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kr(ve.min(),he.empty(),-1)}static max(){return new Kr(ve.max(),he.empty(),-1)}}function MM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==OM)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new O((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new hr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new qs(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Gm(r.target.error);this.V.reject(new qs(e,i))}}static open(e,n,r,i){try{return new Km(n,e.transaction(i,r))}catch(o){throw new qs(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new UM(n)}}class gi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,gi.S(Mu())===12.2&&Zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),ci(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Vw())return!1;if(gi.C())return!0;const e=Mu(),n=gi.S(e),r=0<n&&n<10,i=gi.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new qs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new te(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new te(b.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new qs(e,s))},i.onupgradeneeded=o=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=Km.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),O.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(G("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class FM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ci(this.k.delete())}}class qs extends te{constructor(e,n){super(b.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function tl(t){return t.name==="IndexedDbTransactionError"}class UM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ci(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),ci(this.store.add(e))}get(e){return ci(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),ci(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),ci(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new O((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new O((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new O((r,i)=>{n.onerror=o=>{const s=Gm(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new O((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new FM(a),u=n(a.primaryKey,a.value,l);if(u instanceof O){const c=u.catch(h=>(l.done(),O.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>O.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ci(t){return new O((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Gm(r.target.error);n(i)}})}let Hv=!1;function Gm(t){const e=gi.S(Mu());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hv||(Hv=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Qm._e=-1;function sh(t){return t==null}function Hu(t){return t===0&&1/t==-1/0}function BM(t){return typeof t=="number"&&Number.isInteger(t)&&!Hu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fl(this.root,e,this.comparator,!0)}}class Fl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=o??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,o){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new Lt(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qS("Invalid base64 string: "+o):o}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const jM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(He(!!t),typeof t=="string"){let e=0;const n=jM.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vi(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xm(t){const e=t.mapValue.fields.__previous_value__;return Ym(e)?Xm(e):e}function Pa(t){const e=Gr(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ka{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ym(t)?4:WM(t)?9007199254740991:10:ge()}function er(t,e){if(t===e)return!0;const n=Di(t);if(n!==Di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pa(t).isEqual(Pa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Gr(i.timestampValue),a=Gr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Vi(i.bytesValue).isEqual(Vi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?Hu(s)===Hu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Oo(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(qv(s)!==qv(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!er(s[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Na(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function $o(t,e){if(t===e)return 0;const n=Di(t),r=Di(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ft(o.integerValue||o.doubleValue),l=ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Gv(t.timestampValue,e.timestampValue);case 4:return Gv(Pa(t),Pa(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Vi(o),l=Vi(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Oe(a[u],l[u]);if(c!==0)return c}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Oe(ft(o.latitude),ft(s.latitude));return a!==0?a:Oe(ft(o.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=$o(a[u],l[u]);if(c)return c}return Oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ul.mapValue&&s===Ul.mapValue)return 0;if(o===Ul.mapValue)return 1;if(s===Ul.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=Oe(l[h],c[h]);if(d!==0)return d;const p=$o(a[l[h]],u[c[h]]);if(p!==0)return p}return Oe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ge()}}function Gv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Gr(t),r=Gr(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function Fo(t){return Gf(t)}function Gf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Gf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Gf(n.fields[s])}`;return i+"}"}(t.mapValue):ge()}function Qv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qf(t){return!!t&&"integerValue"in t}function Jm(t){return!!t&&"arrayValue"in t}function Yv(t){return!!t&&"nullValue"in t}function Xv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tu(t){return!!t&&"mapValue"in t}function Ks(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ui(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ks(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ks(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ks(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ks(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ui(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new en(Ks(this.value))}}function KS(t){const e=[];return Ui(t.fields,(n,r)=>{const i=new xt([n]);if(tu(r)){const o=KS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,ve.min(),ve.min(),ve.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,ve.min(),ve.min(),en.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,ve.min(),ve.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.position=e,this.inclusive=n}}function Jv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=$o(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function HM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{}class mt extends GS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KM(e,n,r):n==="array-contains"?new YM(e,r):n==="in"?new XM(e,r):n==="not-in"?new JM(e,r):n==="array-contains-any"?new ZM(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GM(e,r):new QM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($o(n,this.value)):n!==null&&Di(this.value)===Di(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends GS{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Fn(e,n)}matches(e){return QS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function QS(t){return t.op==="and"}function YS(t){return qM(t)&&QS(t)}function qM(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function Yf(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Fo(t.value);if(YS(t))return t.filters.map(e=>Yf(e)).join(",");{const e=t.filters.map(n=>Yf(n)).join(",");return`${t.op}(${e})`}}function XS(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)}(t,e):t instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&XS(s,i.filters[a]),!0):!1}(t,e):void ge()}function JS(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(JS).join(" ,")+"}"}(t):"Filter"}class KM extends mt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class GM extends mt{constructor(e,n){super(e,"in",n),this.keys=ZS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QM extends mt{constructor(e,n){super(e,"not-in",n),this.keys=ZS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class YM extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jm(n)&&Na(n.arrayValue,this.value)}}class XM extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Na(this.value.arrayValue,n)}}class JM extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Na(this.value.arrayValue,n)}}class ZM extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Na(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function e_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new eO(t,e,n,r,i,o,s)}function Zm(t){const e=we(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fo(r)).join(",")),e.ce=n}return e.ce}function eg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zv(t.startAt,e.startAt)&&Zv(t.endAt,e.endAt)}function Xf(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function tO(t,e,n,r,i,o,s,a){return new nl(t,e,n,r,i,o,s,a)}function tg(t){return new nl(t)}function t_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eT(t){return t.collectionGroup!==null}function Gs(t){const e=we(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Lt(xt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Ku(o,r))}),n.has(xt.keyField().canonicalString())||e.le.push(new Ku(xt.keyField(),r))}return e.le}function Qn(t){const e=we(t);return e.he||(e.he=nO(e,Gs(t))),e.he}function nO(t,e){if(t.limitType==="F")return e_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ku(i.field,o)});const n=t.endAt?new qu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qu(t.startAt.position,t.startAt.inclusive):null;return e_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jf(t,e){const n=t.filters.concat([e]);return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gu(t,e,n){return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ah(t,e){return eg(Qn(t),Qn(e))&&t.limitType===e.limitType}function tT(t){return`${Zm(Qn(t))}|lt:${t.limitType}`}function Gi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JS(i)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fo(i)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function lh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Gs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Jv(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Gs(r),i)||r.endAt&&!function(s,a,l){const u=Jv(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Gs(r),i))}(t,e)}function rO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nT(t){return(e,n)=>{let r=!1;for(const i of Gs(t)){const o=iO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function iO(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?$o(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return HS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new st(he.comparator);function vr(){return oO}const rT=new st(he.comparator);function Ns(...t){let e=rT;for(const n of t)e=e.insert(n.key,n);return e}function iT(t){let e=rT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yi(){return Qs()}function oT(){return Qs()}function Qs(){return new es(t=>t.toString(),(t,e)=>t.isEqual(e))}const sO=new st(he.comparator),aO=new Lt(he.comparator);function Ce(...t){let e=aO;for(const n of t)e=e.add(n);return e}const lO=new Lt(Oe);function uO(){return lO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(e)?"-0":e}}function aT(t){return{integerValue:""+t}}function cO(t,e){return BM(e)?aT(e):sT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function hO(t,e,n){return t instanceof Qu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ym(o)&&(o=Xm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof xa?uT(t,e):t instanceof Va?cT(t,e):function(i,o){const s=lT(i,o),a=n_(s)+n_(i.Ie);return Qf(s)&&Qf(i.Ie)?aT(a):sT(i.serializer,a)}(t,e)}function dO(t,e,n){return t instanceof xa?uT(t,e):t instanceof Va?cT(t,e):n}function lT(t,e){return t instanceof Yu?function(r){return Qf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Qu extends uh{}class xa extends uh{constructor(e){super(),this.elements=e}}function uT(t,e){const n=hT(e);for(const r of t.elements)n.some(i=>er(i,r))||n.push(r);return{arrayValue:{values:n}}}class Va extends uh{constructor(e){super(),this.elements=e}}function cT(t,e){let n=hT(e);for(const r of t.elements)n=n.filter(i=>!er(i,r));return{arrayValue:{values:n}}}class Yu extends uh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function n_(t){return ft(t.integerValue||t.doubleValue)}function hT(t){return Jm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xa&&i instanceof xa||r instanceof Va&&i instanceof Va?Oo(r.elements,i.elements,er):r instanceof Yu&&i instanceof Yu?er(r.Ie,i.Ie):r instanceof Qu&&i instanceof Qu}(t.transform,e.transform)}class pO{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ch{}function dT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pT(t.key,Yn.none()):new rl(t.key,t.data,Yn.none());{const n=t.data,r=en.empty();let i=new Lt(xt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ii(t.key,r,new hn(i.toArray()),Yn.none())}}function mO(t,e,n){t instanceof rl?function(i,o,s){const a=i.value.clone(),l=i_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ii?function(i,o,s){if(!nu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=i_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(fT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ys(t,e,n,r){return t instanceof rl?function(o,s,a,l){if(!nu(o.precondition,s))return a;const u=o.value.clone(),c=o_(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ii?function(o,s,a,l){if(!nu(o.precondition,s))return a;const u=o_(o.fieldTransforms,l,s),c=s.data;return c.setAll(fT(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return nu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function gO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=lT(r.transform,i||null);o!=null&&(n===null&&(n=en.empty()),n.set(r.field,o))}return n||null}function r_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oo(r,i,(o,s)=>fO(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rl extends ch{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ii extends ch{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function i_(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,dO(s,a,n[i]))}return r}function o_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,hO(o,s,e))}return r}class pT extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yO extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&mO(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ys(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ys(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=dT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(n,r)=>r_(n,r))&&Oo(this.baseMutations,e.baseMutations,(n,r)=>r_(n,r))}}class ng{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return sO}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ng(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ve;function wO(t){switch(t){default:return ge();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function mT(t){if(t===void 0)return Zn("GRPC error has no .code"),b.UNKNOWN;switch(t){case dt.OK:return b.OK;case dt.CANCELLED:return b.CANCELLED;case dt.UNKNOWN:return b.UNKNOWN;case dt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case dt.INTERNAL:return b.INTERNAL;case dt.UNAVAILABLE:return b.UNAVAILABLE;case dt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case dt.NOT_FOUND:return b.NOT_FOUND;case dt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case dt.ABORTED:return b.ABORTED;case dt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case dt.DATA_LOSS:return b.DATA_LOSS;default:return ge()}}(Ve=dt||(dt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new wo([4294967295,4294967295],0);function s_(t){const e=SO().encode(t),n=new RM;return n.update(e),new Uint8Array(n.digest())}function a_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([n,r],0),new wo([i,o],0)]}class rg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xs(`Invalid padding: ${n}`);if(r<0)throw new xs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=wo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(wo.fromNumber(r)));return i.compare(TO)===1&&(i=new wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=s_(e),[r,i]=a_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new rg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=s_(e),[r,i]=a_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,il.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hh(ve.min(),i,new st(Oe),vr(),Ce())}}class il{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new il(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class gT{constructor(e,n){this.targetId=e,this.fe=n}}class yT{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l_{constructor(){this.ge=0,this.pe=c_(),this.ye=Ht.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new il(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=c_()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,He(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class RO{constructor(e){this.Le=e,this.ke=new Map,this.qe=vr(),this.Qe=u_(),this.Ke=new st(Oe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Xf(o))if(r===0){const s=new he(o.path);this.We(n,s,Bt.newNoDocument(s,ve.min()))}else He(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Vi(r).toUint8Array()}catch(l){if(l instanceof qS)return Mo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new rg(s,i,o)}catch(l){return Mo(l instanceof xs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Xf(a.target)){const l=new he(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Bt.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Ce();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new hh(e,n,this.Ke,this.qe,r);return this.qe=vr(),this.Qe=u_(),this.Ke=new st(Oe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new l_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Lt(Oe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new l_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function u_(){return new st(he.comparator)}function c_(){return new st(he.comparator)}const AO={asc:"ASCENDING",desc:"DESCENDING"},IO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CO={and:"AND",or:"OR"};class PO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zf(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function Xu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kO(t,e){return Xu(t,e.toTimestamp())}function Xn(t){return He(!!t),ve.fromTimestamp(function(n){const r=Gr(n);return new _t(r.seconds,r.nanos)}(t))}function ig(t,e){return ep(t,e).canonicalString()}function ep(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _T(t){const e=Ge.fromString(t);return He(RT(e)),e}function tp(t,e){return ig(t.databaseId,e.path)}function md(t,e){const n=_T(e);if(n.get(1)!==t.databaseId.projectId)throw new te(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(wT(n))}function ET(t,e){return ig(t.databaseId,e)}function NO(t){const e=_T(t);return e.length===4?Ge.emptyPath():wT(e)}function np(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wT(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function h_(t,e,n){return{name:tp(t,e),fields:n.value.mapValue.fields}}function xO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(He(c===void 0||typeof c=="string"),Ht.fromBase64String(c||"")):(He(c===void 0||c instanceof Uint8Array),Ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?b.UNKNOWN:mT(u.code);return new te(c,u.message||"")}(s);n=new yT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=md(t,r.document.name),o=Xn(r.document.updateTime),s=r.document.createTime?Xn(r.document.createTime):ve.min(),a=new en({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ru(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=md(t,r.document),o=r.readTime?Xn(r.readTime):ve.min(),s=Bt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ru([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=md(t,r.document),o=r.removedTargetIds||[];n=new ru([],o,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new EO(i,o),a=r.targetId;n=new gT(a,s)}}return n}function VO(t,e){let n;if(e instanceof rl)n={update:h_(t,e.key,e.value)};else if(e instanceof pT)n={delete:tp(t,e.key)};else if(e instanceof ii)n={update:h_(t,e.key,e.data),updateMask:BO(e.fieldMask)};else{if(!(e instanceof yO))return ge();n={verify:tp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Qu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Va)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yu)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:kO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(t,e.precondition)),n}function DO(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Xn(i.updateTime):Xn(o);return s.isEqual(ve.min())&&(s=Xn(o)),new pO(s,i.transformResults||[])}(n,e))):[]}function LO(t,e){return{documents:[ET(t,e.path)]}}function bO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ET(t,i);const o=function(u){if(u.length!==0)return TT(Fn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Qi(d.field),direction:$O(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Zf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function MO(t){let e=NO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=ST(h);return d instanceof Fn&&YS(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(y){return new Ku(Yi(y.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,sh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new qu(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new qu(p,d)}(n.endAt)),tO(e,i,s,o,a,"F",l,u)}function OO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yi(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yi(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yi(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yi(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Yi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>ST(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function $O(t){return AO[t]}function FO(t){return IO[t]}function UO(t){return CO[t]}function Qi(t){return{fieldPath:t.canonicalString()}}function Yi(t){return xt.fromServerFormat(t.fieldPath)}function TT(t){return t instanceof mt?function(n){if(n.op==="=="){if(Xv(n.value))return{unaryFilter:{field:Qi(n.field),op:"IS_NAN"}};if(Yv(n.value))return{unaryFilter:{field:Qi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xv(n.value))return{unaryFilter:{field:Qi(n.field),op:"IS_NOT_NAN"}};if(Yv(n.value))return{unaryFilter:{field:Qi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qi(n.field),op:FO(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(i=>TT(i));return r.length===1?r[0]:{compositeFilter:{op:UO(n.op),filters:r}}}(t):ge()}function BO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,i,o=ve.min(),s=ve.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.ct=e}}function zO(t){const e=MO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this._n=new HO}addToCollectionParentIndex(e,n){return this._n.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Kr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class HO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(Ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Uo(0)}static Bn(){return new Uo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.changes=new es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ys(r.mutation,i,hn.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=yi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ns();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=vr();const s=Qs(),a=function(){return Qs()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ii)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Ys(c.mutation,u,c.mutation.getFieldMask(),_t.now())):s.set(u.key,hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new KO(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qs();let i=new st((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||hn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=oT();c.forEach(d=>{if(!o.has(d)){const p=dT(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(yi());let a=-1,l=o;return s.next(u=>O.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?O.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:a,changes:iT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Ns();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ns();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,l=>{const u=function(h,d){return new nl(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Bt.newInvalidDocument(c)))});let a=Ns();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Ys(c.mutation,u,hn.empty(),_t.now()),lh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return O.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:zO(i.bundledQuery),readTime:Xn(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.overlays=new st(he.comparator),this.hr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yi();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=yi(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new st((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=yi(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=yi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new _O(n,r));let o=this.hr.get(n);o===void 0&&(o=Ce(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Pr=new Lt(St.Ir),this.Tr=new Lt(St.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new St(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new he(new Ge([])),r=new St(n,e),i=new St(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new he(new Ge([])),r=new St(n,e),i=new St(n,e+1);let o=Ce();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new St(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return he.comparator(e.key,n.key)||Oe(e.pr,n.pr)}static Er(e,n){return Oe(e.pr,n.pr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Lt(St.Ir)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new vO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new St(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Oe);return n.forEach(i=>{const o=new St(i,0),s=new St(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),O.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new St(new he(o),0);let a=new Lt(Oe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),O.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return O.forEach(n.mutations,i=>{const o=new St(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new St(n,0),i=this.wr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.vr=e,this.docs=function(){return new st(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=vr();const s=n.path,a=new he(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||MM(bM(c),r)<=0||(i.has(c.key)||lh(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZO(this)}getSize(e){return O.resolve(this.size)}}class ZO extends qO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.persistence=e,this.Mr=new es(n=>Zm(n),eg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Or=0,this.Nr=new og,this.targetCount=0,this.Br=Uo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),O.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.qn(n),O.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Qm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new e4(this),this.indexManager=new WO,this.remoteDocumentCache=function(i){return new JO(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new jO(n),this.$r=new QO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new XO(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new n4(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return O.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class n4 extends $M{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.zr=new og,this.jr=null}static Hr(e){return new sg(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),O.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Jr,r=>{const i=he.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ve.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return O.or([()=>O.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ce(),i=Ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ag(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return sL()?8:gi.v(Mu())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new r4;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Es()<=De.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Gi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),O.resolve()):(Es()<=De.DEBUG&&G("QueryEngine","Query:",Gi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Es()<=De.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Gi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):O.resolve())}ji(e,n){if(t_(n))return O.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gu(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ce(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,Gu(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return t_(n)||i.isEqual(ve.min())?O.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?O.resolve(null):(Es()<=De.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gi(n)),this.es(e,s,n,LM(i,-1)).next(a=>a))})}Zi(e,n){let r=new Lt(nT(e));return n.forEach((i,o)=>{lh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Es()<=De.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Gi(n)),this.zi.getDocumentsMatchingQuery(e,n,Kr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new st(Oe),this.rs=new es(o=>Zm(o),eg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function s4(t,e,n,r){return new o4(t,e,n,r)}async function AT(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ce();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function a4(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let p=O.resolve();return d.forEach(y=>{p=p.next(()=>c.getEntry(l,y)).next(E=>{const R=u.docVersions.get(y);He(R!==null),E.version.compareTo(R)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),c.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IT(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function l4(t,e){const n=we(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(E,R,m){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,p,c)&&a.push(n.Qr.updateTargetData(o,p))});let l=vr(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(u4(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ve.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function u4(t,e,n){let r=Ce(),i=Ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=vr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function c4(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function h4(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new xr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function rp(t,e,n){const r=we(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!tl(s))throw s;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function d_(t,e,n){const r=we(t);let i=ve.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=we(l),d=h.rs.get(c);return d!==void 0?O.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,s,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ve.min(),n?o:Ce())).next(a=>(d4(r,rO(e),a),{documents:a,hs:o})))}function d4(t,e,n){let r=t.ss.get(e)||ve.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class f_{constructor(){this.activeTargetIds=uO()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f4{constructor(){this.no=new f_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new f_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl=null;function gd(){return Bl===null?Bl=function(){return 268435456+Math.round(2147483648*Math.random())}():Bl++,"0x"+Bl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class y4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=gd(),l=this.bo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(G("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Mo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=m4[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=gd();return new Promise((s,a)=>{const l=new TM;l.setWithCredentials(!0),l.listenOnce(wM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pd.NO_ERROR:const c=l.getResponseJson();G($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case pd.TIMEOUT:G($t,`RPC '${e}' ${o} timed out`),a(new te(b.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const h=l.getStatus();if(G($t,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const y=function(R){const m=R.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(m)>=0?m:b.UNKNOWN}(p.status);a(new te(y,p.message))}else a(new te(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(b.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{G($t,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);G($t,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=gd(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_M(),a=EM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");G($t,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,p=!1;const y=new g4({lo:R=>{p?G($t,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(d||(G($t,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),G($t,`RPC '${e}' stream ${i} sending:`,R),h.send(R))},ho:()=>h.close()}),E=(R,m,f)=>{R.listen(m,g=>{try{f(g)}catch(T){setTimeout(()=>{throw T},0)}})};return E(h,$l.EventType.OPEN,()=>{p||G($t,`RPC '${e}' stream ${i} transport opened.`)}),E(h,$l.EventType.CLOSE,()=>{p||(p=!0,G($t,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),E(h,$l.EventType.ERROR,R=>{p||(p=!0,Mo($t,`RPC '${e}' stream ${i} transport errored:`,R),y.Vo(new te(b.UNAVAILABLE,"The operation could not be completed")))}),E(h,$l.EventType.MESSAGE,R=>{var m;if(!p){const f=R.data[0];He(!!f);const g=f,T=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(T){G($t,`RPC '${e}' stream ${i} received error:`,T);const C=T.status;let L=function(ae){const J=dt[ae];if(J!==void 0)return mT(J)}(C),M=T.message;L===void 0&&(L=b.INTERNAL,M="Unknown error status: "+C+" with message "+T.message),p=!0,y.Vo(new te(L,M)),h.close()}else G($t,`RPC '${e}' stream ${i} received:`,f),y.mo(f)}}),E(a,SM.STAT_EVENT,R=>{R.stat===zv.PROXY?G($t,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===zv.NOPROXY&&G($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){return new PO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new CT(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new te(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v4 extends PT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=xO(this.serializer,e),r=function(o){if(!("targetChange"in o))return ve.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?Xn(s.readTime):ve.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=np(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Xf(l)?{documents:LO(o,l)}:{query:bO(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=vT(o,s.resumeToken);const u=Zf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=Xu(o,s.snapshotVersion.toTimestamp());const u=Zf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=OO(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=np(this.serializer),n.removeTarget=e,this.t_(n)}}class _4 extends PT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=DO(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.T_(r,n)}return He(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=np(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VO(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new te(b.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,ep(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(b.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,ep(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(b.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class w4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Zn(n),this.g_=!1):G("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Bi(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=we(l);u.v_.add(4),await ol(u),u.x_.set("Unknown"),u.v_.delete(4),await fh(u)}(this))})}),this.x_=new w4(r,i)}}async function fh(t){if(Bi(t))for(const e of t.F_)await e(!0)}async function ol(t){for(const e of t.F_)await e(!1)}function kT(t,e){const n=we(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),cg(n)?ug(n):ts(n).Jo()&&lg(n,e))}function NT(t,e){const n=we(t),r=ts(n);n.C_.delete(e),r.Jo()&&xT(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Bi(n)&&n.x_.set("Unknown"))}function lg(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ts(t).c_(e)}function xT(t,e){t.O_.Oe(e),ts(t).l_(e)}function ug(t){t.O_=new RO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ts(t).start(),t.x_.p_()}function cg(t){return Bi(t)&&!ts(t).Ho()&&t.C_.size>0}function Bi(t){return we(t).v_.size===0}function VT(t){t.O_=void 0}async function T4(t){t.C_.forEach((e,n)=>{lg(t,e)})}async function R4(t,e){VT(t),cg(t)?(t.x_.S_(e),ug(t)):t.x_.set("Unknown")}async function A4(t,e,n){if(t.x_.set("Online"),e instanceof yT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ju(t,r)}else if(e instanceof ru?t.O_.$e(e):e instanceof gT?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ve.min()))try{const r=await IT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(Ht.EMPTY_BYTE_STRING,c.snapshotVersion)),xT(o,l);const h=new xr(c.target,l,u,c.sequenceNumber);lg(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Ju(t,r)}}async function Ju(t,e,n){if(!tl(e))throw e;t.v_.add(1),await ol(t),t.x_.set("Offline"),n||(n=()=>IT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await fh(t)})}function DT(t,e){return e().catch(n=>Ju(t,n,e))}async function ph(t){const e=we(t),n=Qr(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;I4(e);)try{const i=await c4(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,C4(e,i)}catch(i){await Ju(e,i)}LT(e)&&bT(e)}function I4(t){return Bi(t)&&t.D_.length<10}function C4(t,e){t.D_.push(e);const n=Qr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function LT(t){return Bi(t)&&!Qr(t).Ho()&&t.D_.length>0}function bT(t){Qr(t).start()}async function P4(t){Qr(t).d_()}async function k4(t){const e=Qr(t);for(const n of t.D_)e.I_(n.mutations)}async function N4(t,e,n){const r=t.D_.shift(),i=ng.from(r,e,n);await DT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ph(t)}async function x4(t,e){e&&Qr(t).P_&&await async function(r,i){if(function(s){return wO(s)&&s!==b.ABORTED}(i.code)){const o=r.D_.shift();Qr(r).Zo(),await DT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ph(r)}}(t,e),LT(t)&&bT(t)}async function m_(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Bi(n);n.v_.add(3),await ol(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await fh(n)}async function V4(t,e){const n=we(t);e?(n.v_.delete(2),await fh(n)):e||(n.v_.add(2),await ol(n),n.x_.set("Unknown"))}function ts(t){return t.N_||(t.N_=function(n,r,i){const o=we(n);return o.R_(),new v4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:T4.bind(null,t),To:R4.bind(null,t),u_:A4.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),cg(t)?ug(t):t.x_.set("Unknown")):(await t.N_.stop(),VT(t))})),t.N_}function Qr(t){return t.B_||(t.B_=function(n,r,i){const o=we(n);return o.R_(),new _4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:P4.bind(null,t),To:x4.bind(null,t),E_:k4.bind(null,t),T_:N4.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await ph(t)):(await t.B_.stop(),t.D_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new hg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),tl(t))return new te(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Ns(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new So(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new So;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.L_=new st(he.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ge():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Bo(e,n,So.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.q_=void 0,this.Q_=[]}}class L4{constructor(){this.queries=new es(e=>tT(e),ah),this.onlineState="Unknown",this.K_=new Set}}async function MT(t,e){const n=we(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new D4),i)try{o.q_=await n.onListen(r)}catch(s){const a=dg(s,`Initialization of query '${Gi(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&fg(n)}async function OT(t,e){const n=we(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function b4(t,e){const n=we(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&fg(n)}function M4(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function fg(t){t.K_.forEach(e=>{e.next()})}class $T{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.key=e}}class UT{constructor(e){this.key=e}}class O4{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ce(),this.mutatedKeys=Ce(),this.ua=nT(e),this.ca=new So(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new g_,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=lh(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let R=!1;d&&p?d.data.isEqual(p.data)?y!==E&&(r.track({type:3,doc:p}),R=!0):this.Ia(d,p)||(r.track({type:2,doc:p}),R=!0,(l&&this.ua(p,l)>0||u&&this.ua(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),R=!0):d&&!p&&(r.track({type:1,doc:d}),R=!0,(l||u)&&(a=!0)),R&&(p?(s=s.add(p),o=E?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,h)=>function(p,y){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return E(p)-E(y)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new Bo(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new g_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Ce(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new UT(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new FT(r))}),n}Ra(e){this.oa=e.hs,this.aa=Ce();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Bo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class $4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F4{constructor(e){this.key=e,this.ma=!1}}class U4{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new es(a=>tT(a),ah),this.pa=new Map,this.ya=new Set,this.wa=new st(he.comparator),this.Sa=new Map,this.ba=new og,this.Da={},this.Ca=new Map,this.va=Uo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function B4(t,e){const n=X4(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await h4(n.localStore,Qn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await j4(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&kT(n.remoteStore,s)}return i}async function j4(t,e,n,r,i){t.Ma=(h,d,p)=>async function(E,R,m,f){let g=R.view.ha(m);g.Xi&&(g=await d_(E.localStore,R.query,!1).then(({documents:M})=>R.view.ha(M,g)));const T=f&&f.targetChanges.get(R.targetId),C=f&&f.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(g,E.isPrimaryClient,T,C);return v_(E,R.targetId,L.da),L.snapshot}(t,h,d,p);const o=await d_(t.localStore,e,!0),s=new O4(e,o.hs),a=s.ha(o.documents),l=il.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);v_(t,n,u.da);const c=new $4(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function z4(t,e){const n=we(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!ah(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await rp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),NT(n.remoteStore,r.targetId),ip(n,r.targetId)}).catch(el)):(ip(n,r.targetId),await rp(n.localStore,r.targetId,!0))}async function W4(t,e,n){const r=J4(t);try{const i=await function(s,a){const l=we(s),u=_t.now(),c=a.reduce((p,y)=>p.add(y.key),Ce());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=vr(),E=Ce();return l.os.getEntries(p,c).next(R=>{y=R,y.forEach((m,f)=>{f.isValidDocument()||(E=E.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(R=>{h=R;const m=[];for(const f of a){const g=gO(f,h.get(f.key).overlayedDocument);g!=null&&m.push(new ii(f.key,g,KS(g.value.mapValue),Yn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,a)}).next(R=>{d=R;const m=R.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(p,R.batchId,m)})}).then(()=>({batchId:d.batchId,changes:iT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new st(Oe)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await sl(r,i.changes),await ph(r.remoteStore)}catch(i){const o=dg(i,"Failed to persist write");n.reject(o)}}async function BT(t,e){const n=we(t);try{const r=await l4(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?He(s.ma):i.removedDocuments.size>0&&(He(s.ma),s.ma=!1))}),await sl(n,r,e)}catch(r){await el(r)}}function y_(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=we(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Q_)d.U_(a)&&(u=!0)}),u&&fg(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H4(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new st(he.comparator);s=s.insert(o,Bt.newNoDocument(o,ve.min()));const a=Ce().add(o),l=new hh(ve.min(),new Map,new st(Oe),s,a);await BT(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),pg(r)}else await rp(r.localStore,e,!1).then(()=>ip(r,e,n)).catch(el)}async function q4(t,e){const n=we(t),r=e.batch.batchId;try{const i=await a4(n.localStore,e);zT(n,r,null),jT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sl(n,i)}catch(i){await el(i)}}async function K4(t,e,n){const r=we(t);try{const i=await function(s,a){const l=we(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(He(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);zT(r,e,n),jT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sl(r,i)}catch(i){await el(i)}}function jT(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function zT(t,e,n){const r=we(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function ip(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||WT(t,r)})}function WT(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(NT(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),pg(t))}function v_(t,e,n){for(const r of n)r instanceof FT?(t.ba.addReference(r.key,e),G4(t,r)):r instanceof UT?(G("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||WT(t,r.key)):ge()}function G4(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(G("SyncEngine","New document in limbo: "+n),t.ya.add(r),pg(t))}function pg(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new he(Ge.fromString(e)),r=t.va.next();t.Sa.set(r,new F4(n)),t.wa=t.wa.insert(n,r),kT(t.remoteStore,new xr(Qn(tg(n.path)),r,"TargetPurposeLimboResolution",Qm._e))}}async function sl(t,e,n){const r=we(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=ag.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=we(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>O.forEach(u,d=>O.forEach(d.qi,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>O.forEach(d.Qi,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!tl(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.ns.get(d),y=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(y);c.ns=c.ns.insert(d,E)}}}(r.localStore,o))}async function Q4(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await AT(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new te(b.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sl(n,r.us)}}function Y4(t,e){const n=we(t),r=n.Sa.get(e);if(r&&r.ma)return Ce().add(r.key);{let i=Ce();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function X4(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H4.bind(null,e),e.fa.u_=b4.bind(null,e.eventManager),e.fa.xa=M4.bind(null,e.eventManager),e}function J4(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K4.bind(null,e),e}class __{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return s4(this.persistence,new i4,e.initialUser,this.serializer)}createPersistence(e){return new t4(sg.Hr,this.serializer)}createSharedClientState(e){return new f4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Z4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q4.bind(null,this.syncEngine),await V4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L4}()}createDatastore(e){const n=dh(e.databaseInfo.databaseId),r=function(o){return new y4(o)}(e.databaseInfo);return function(o,s,a,l){return new E4(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new S4(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>y_(this.syncEngine,n,0),function(){return p_.D()?new p_:new p4}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new U4(i,o,s,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=we(r);G("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await ol(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=WS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vd(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n$(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>m_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>m_(e.remoteStore,i)),t._onlineComponents=e}function t$(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function n$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await vd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!t$(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await vd(t,new __)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await vd(t,new __);return t._offlineComponents}async function qT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await E_(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await E_(t,new Z4))),t._onlineComponents}function r$(t){return qT(t).then(e=>e.syncEngine)}async function op(t){const e=await qT(t),n=e.eventManager;return n.onListen=B4.bind(null,e.syncEngine),n.onUnlisten=z4.bind(null,e.syncEngine),n}function i$(t,e,n={}){const r=new hr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new HT({next:d=>{s.enqueueAndForget(()=>OT(o,h)),d.fromCache&&l.source==="server"?u.reject(new te(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new $T(a,c,{includeMetadataChanges:!0,Z_:!0});return MT(o,h)}(await op(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t,e,n){if(!n)throw new te(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o$(t,e,n,r){if(e===!0&&r===!0)throw new te(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function S_(t){if(!he.isDocumentKey(t))throw new te(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T_(t){if(he.isDocumentKey(t))throw new te(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mh(t);throw new te(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function s$(t,e){if(e<=0)throw new te(b.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new te(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AM;switch(r.type){case"firstParty":return new kM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w_.get(n);r&&(G("ComponentProvider","Removing Datastore"),w_.delete(n),r.terminate())}(this),Promise.resolve()}}function a$(t,e,n,r={}){var i;const o=(t=dr(t,gh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ft.MOCK_USER;else{a=iL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new te(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ft(u)}t._authCredentials=new IM(new zS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oi(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class Wr extends oi{constructor(e,n,r){super(e,n,tg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new he(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function mg(t,e,...n){if(t=Jn(t),GT("collection","path",e),t instanceof gh){const r=Ge.fromString(e,...n);return T_(r),new Wr(t,null,r)}{if(!(t instanceof an||t instanceof Wr))throw new te(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return T_(r),new Wr(t.firestore,null,r)}}function QT(t,e,...n){if(t=Jn(t),arguments.length===1&&(e=WS.newId()),GT("doc","path",e),t instanceof gh){const r=Ge.fromString(e,...n);return S_(r),new an(t,null,new he(r))}{if(!(t instanceof an||t instanceof Wr))throw new te(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return S_(r),new an(t.firestore,t instanceof Wr?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new CT(this,"async_queue_retry"),this._u=()=>{const n=yd();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=yd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new hr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!tl(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=hg.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&ge()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function A_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class jo extends gh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new l$}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||YT(this),this._firestoreClient.terminate()}}function u$(t,e){const n=typeof t=="object"?t:ub(),r=typeof t=="string"?t:e||"(default)",i=ob(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=nL("firestore");o&&a$(i,...o)}return i}function gg(t){return t._firestoreClient||YT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YT(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new zM(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,KT(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new e$(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(Ht.fromBase64String(e))}catch(n){throw new te(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=/^__.*__$/;class h${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new rl(e,this.data,n,this.fieldTransforms)}}class XT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class _g{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new _g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Zu(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(JT(this.du)&&c$.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class d${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dh(e)}Su(e,n,r,i=!1){return new _g({du:e,methodName:n,wu:r,path:xt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(t){const e=t._freezeSettings(),n=dh(t._databaseId);return new d$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f$(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);wg("Data must be an object, but it was:",s,r);const a=ZT(r,s);let l,u;if(o.merge)l=new hn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=sp(e,h,n);if(!s.contains(d))throw new te(b.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);tR(c,d)||c.push(d)}l=new hn(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new h$(new en(a),l,u)}class vh extends yg{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function p$(t,e,n,r){const i=t.Su(1,e,n);wg("Data must be an object, but it was:",i,r);const o=[],s=en.empty();Ui(r,(l,u)=>{const c=Sg(e,l,n);u=Jn(u);const h=i.fu(c);if(u instanceof vh)o.push(c);else{const d=al(u,h);d!=null&&(o.push(c),s.set(c,d))}});const a=new hn(o);return new XT(s,a,i.fieldTransforms)}function m$(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[sp(e,r,n)],l=[i];if(o.length%2!=0)throw new te(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(sp(e,o[d])),l.push(o[d+1]);const u=[],c=en.empty();for(let d=a.length-1;d>=0;--d)if(!tR(u,a[d])){const p=a[d];let y=l[d];y=Jn(y);const E=s.fu(p);if(y instanceof vh)u.push(p);else{const R=al(y,E);R!=null&&(u.push(p),c.set(p,R))}}const h=new hn(u);return new XT(c,h,s.fieldTransforms)}function g$(t,e,n,r=!1){return al(n,t.Su(r?4:3,e))}function al(t,e){if(eR(t=Jn(t)))return wg("Unsupported field value:",e,t),ZT(t,e);if(t instanceof yg)return function(r,i){if(!JT(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=al(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_t.fromDate(r);return{timestampValue:Xu(i.serializer,o)}}if(r instanceof _t){const o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xu(i.serializer,o)}}if(r instanceof vg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:vT(i.serializer,r._byteString)};if(r instanceof an){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ig(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${mh(r)}`)}(t,e)}function ZT(t,e){const n={};return HS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(t,(r,i)=>{const o=al(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function eR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof vg||t instanceof zo||t instanceof an||t instanceof yg)}function wg(t,e,n){if(!eR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=mh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function sp(t,e,n){if((e=Jn(e))instanceof yh)return e._internalPath;if(typeof e=="string")return Sg(t,e);throw Zu("Field path arguments must be of type string or ",t,!1,void 0,n)}const y$=new RegExp("[~\\*/\\[\\]]");function Sg(t,e,n){if(e.search(y$)>=0)throw Zu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yh(...e.split("."))._internalPath}catch{throw Zu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new te(b.INVALID_ARGUMENT,a+t+l)}function tR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v$ extends nR{data(){return super.data()}}function Tg(t,e){return typeof e=="string"?Sg(t,e):e instanceof yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class iR extends Rg{}function oR(t,e,...n){let r=[];e instanceof Rg&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Ag).length,a=o.filter(l=>l instanceof _h).length;if(s>1||s>0&&a>0)throw new te(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _h extends iR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _h(e,n,r)}_apply(e){const n=this._parse(e);return aR(e._query,n),new oi(e.firestore,e.converter,Jf(e._query,n))}_parse(e){const n=Eg(e.firestore);return function(o,s,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new te(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){C_(h,c);const p=[];for(const y of h)p.push(I_(l,o,y));d={arrayValue:{values:p}}}else d=I_(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||C_(h,c),d=g$(a,s,h,c==="in"||c==="not-in");return mt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sR(t,e,n){const r=e,i=Tg("where",t);return _h._create(i,r,n)}class Ag extends Rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ag(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)aR(s,l),s=Jf(s,l)}(e._query,n),new oi(e.firestore,e.converter,Jf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends iR{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ig(e,n,r)}_apply(e){return new oi(e.firestore,e.converter,Gu(e._query,this._limit,this._limitType))}}function _$(t){return s$("limit",t),Ig._create("limit",t,"F")}function I_(t,e,n){if(typeof(n=Jn(n))=="string"){if(n==="")throw new te(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(e)&&n.indexOf("/")!==-1)throw new te(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!he.isDocumentKey(r))throw new te(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qv(t,new he(r))}if(n instanceof an)return Qv(t,n._key);throw new te(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(n)}.`)}function C_(t,e){if(!Array.isArray(t)||t.length===0)throw new te(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aR(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class E${convertValue(e,n="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ui(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new vg(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);He(RT(r));const i=new ka(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||Zn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lR extends nR{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class iu extends lR{data(e={}){return super.data(e)}}class uR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new iu(this._firestore,this._userDataWriter,r.key,r,new Vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new iu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new iu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:S$(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class Cg extends E${constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function T$(t){t=dr(t,oi);const e=dr(t.firestore,jo),n=gg(e),r=new Cg(e);return rR(t._query),i$(n,t._query).then(i=>new uR(e,r,t,i))}function R$(t,e,n,...r){t=dr(t,an);const i=dr(t.firestore,jo),o=Eg(i);let s;return s=typeof(e=Jn(e))=="string"||e instanceof yh?m$(o,"updateDoc",t._key,e,n,r):p$(o,"updateDoc",t._key,e),cR(i,[s.toMutation(t._key,Yn.exists(!0))])}function A$(t,e){const n=dr(t.firestore,jo),r=QT(t),i=w$(t.converter,e);return cR(n,[f$(Eg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function I$(t,...e){var n,r,i;t=Jn(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||A_(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(A_(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof an)u=dr(t.firestore,jo),c=tg(t._key.path),l={next:h=>{e[s]&&e[s](C$(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=dr(t,oi);u=dr(h.firestore,jo),c=h._query;const d=new Cg(u);l={next:p=>{e[s]&&e[s](new uR(u,d,h,p))},error:e[s+1],complete:e[s+2]},rR(t._query)}return function(d,p,y,E){const R=new HT(E),m=new $T(p,R,y);return d.asyncQueue.enqueueAndForget(async()=>MT(await op(d),m)),()=>{R.La(),d.asyncQueue.enqueueAndForget(async()=>OT(await op(d),m))}}(gg(u),c,a,l)}function cR(t,e){return function(r,i){const o=new hr;return r.asyncQueue.enqueueAndForget(async()=>W4(await r$(r),i,o)),o.promise}(gg(t),e)}function C$(t,e,n){const r=n.docs.get(e._key),i=new Cg(t);return new lR(t,i,e._key,r,new Vs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Zo=i})(lb),$u(new ya("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new jo(new CM(r.getProvider("auth-internal")),new xM(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),_o(Wv,"4.4.1",e),_o(Wv,"4.4.1","esm2017")})();var P$="firebase",k$="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_o(P$,k$,"app");var _d={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const N$={apiKey:_d.REACT_APP_Firebase_apiKey,authDomain:"overdog-577c3.firebaseapp.com",projectId:"overdog-577c3",storageBucket:"overdog-577c3.appspot.com",messagingSenderId:_d.REACT_APP_Firebase_messagingSenderId,appId:_d.REACT_APP_Firebase_appId},x$=Ow(N$),Pg=u$(x$);var kg={};Object.defineProperty(kg,"__esModule",{value:!0});var hR=kg.recoilPersist=void 0;const V$=(t={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:n=localStorage,converter:r=JSON}=t,i=({onSet:u,node:c,trigger:h,setSelf:d})=>{if(h==="get"){const p=s();typeof p.then=="function"&&p.then(y=>{y.hasOwnProperty(c.key)&&d(y[c.key])}),p.hasOwnProperty(c.key)&&d(p[c.key])}u(async(p,y,E)=>{const R=s();typeof R.then=="function"?R.then(m=>o(p,m,c.key,E)):o(p,R,c.key,E)})},o=(u,c,h,d)=>{d?delete c[h]:c[h]=u,l(c)},s=()=>{const u=n.getItem(e);return u==null?{}:typeof u=="string"?a(u):typeof u.then=="function"?u.then(a):{}},a=u=>{if(u===void 0)return{};try{return r.parse(u)}catch(c){return console.error(c),{}}},l=u=>{try{typeof n.mergeItem=="function"?n.mergeItem(e,r.stringify(u)):n.setItem(e,r.stringify(u))}catch(c){console.error(c)}};return{persistAtom:i}};hR=kg.recoilPersist=V$;const{persistAtom:D$}=hR(),L$=async t=>{const e=mg(Pg,"posts"),n=oR(e,sR("postId","==",t),_$(1));return(await T$(n)).docs.map(o=>o.data())},b$=t=>{const e=mg(Pg,"comments"),n=oR(e,sR("postId","==",t));return new Promise((r,i)=>{I$(n,o=>{const s=o.docs.map(a=>({...a.data()}));console.log(s),r(s)},o=>{i(o)})})},M$=async t=>{try{const e=mg(Pg,"comments"),r=(await A$(e,{commentContent:t.commentContent,postId:t.postId,origin_commentId:t.originCommentId,userId:t.userId,createdAt:new Date})).id;await R$(QT(e,r),{commentId:r})}catch(e){console.log(e)}},O$=wm({key:"postState",default:async t=>await L$(t)}),$$=wm({key:"commentState",default:async t=>b$(t)}),F$=wm({key:"setCommentState",default:async t=>await M$(t)}),dR=UD({key:"postIdState",default:"null",effects_UNSTABLE:[D$]}),U$=()=>{const t=Cw(O$("NZPl4Cr1fxH54bzJm7Wy")),[,e]=Pw(dR);if(t.state==="loading")return N.jsx("div",{children:"로딩 중..."});if(t.state==="hasError")return N.jsx("div",{children:"에러가 발생했습니다."});const n=t.contents;return t.state==="hasValue"&&e(n[0].postId),N.jsx(ne.Suspense,{fallback:"...loading",children:N.jsx("div",{className:"grid-rows-3",children:N.jsx(qD,{data:n[0]})})})},fR=t=>{const e=t.createdAt.toDate(),r=new Date-e,i=Math.floor(r/(1e3*60));let o;return i/60>=24?o=`${Math.floor(i/60/24)} 일`:i>=60?o=`${Math.floor(i/60)} 시간`:o=`${i} 분`,o},B$=t=>N.jsx("div",{children:t.data.map((e,n)=>N.jsxs("div",{className:"flex items-center my-3 mx-2",children:[N.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:"nickname"}),N.jsx("div",{className:"ml-2 text-[14px]",children:e.commentContent})]}),N.jsx("div",{className:"flex",children:N.jsx("div",{className:"ml-2 text-[11px]",children:fR(e)})})]})]},n))});var ll=t=>t.type==="checkbox",co=t=>t instanceof Date,Kt=t=>t==null;const pR=t=>typeof t=="object";var Et=t=>!Kt(t)&&!Array.isArray(t)&&pR(t)&&!co(t),j$=t=>Et(t)&&t.target?ll(t.target)?t.target.checked:t.target.value:t,z$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,W$=(t,e)=>t.has(z$(e)),H$=t=>{const e=t.constructor&&t.constructor.prototype;return Et(e)&&e.hasOwnProperty("isPrototypeOf")},Ng=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _n(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ng&&(t instanceof Blob||t instanceof FileList))&&(n||Et(t)))if(e=n?[]:{},!n&&!H$(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=_n(t[r]));else return t;return e}var ul=t=>Array.isArray(t)?t.filter(Boolean):[],ut=t=>t===void 0,se=(t,e,n)=>{if(!e||!Et(t))return n;const r=ul(e.split(/[,[\].]+?/)).reduce((i,o)=>Kt(i)?i:i[o],t);return ut(r)||r===t?ut(t[e])?n:t[e]:r},sr=t=>typeof t=="boolean";const P_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};_e.createContext(null);var q$=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==Ln.all&&(e._proxyFormState[s]=!r||Ln.all),n&&(n[s]=!0),t[s]}});return i},En=t=>Et(t)&&!Object.keys(t).length,K$=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return En(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!r||Ln.all))},Ed=t=>Array.isArray(t)?t:[t];function G$(t){const e=_e.useRef(t);e.current=t,_e.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var qn=t=>typeof t=="string",Q$=(t,e,n,r,i)=>qn(t)?(r&&e.watch.add(t),se(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),se(n,o))):(r&&(e.watchAll=!0),n),xg=t=>/^\w*$/.test(t),mR=t=>ul(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(t,e,n)=>{let r=-1;const i=xg(e)?[e]:mR(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=t[a];l=Et(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},Y$=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},k_=t=>({isOnSubmit:!t||t===Ln.onSubmit,isOnBlur:t===Ln.onBlur,isOnChange:t===Ln.onChange,isOnAll:t===Ln.all,isOnTouch:t===Ln.onTouched}),N_=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Xs=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=se(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)break;if(s.ref&&e(s.ref,s.name)&&!r)break;Xs(a,e)}else Et(a)&&Xs(a,e)}}};var X$=(t,e,n)=>{const r=ul(se(t,n));return Je(r,"root",e[n]),Je(t,n,r),t},Vg=t=>t.type==="file",Vr=t=>typeof t=="function",ec=t=>{if(!Ng)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ou=t=>qn(t),Dg=t=>t.type==="radio",tc=t=>t instanceof RegExp;const x_={value:!1,isValid:!1},V_={value:!0,isValid:!0};var gR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ut(t[0].attributes.value)?ut(t[0].value)||t[0].value===""?V_:{value:t[0].value,isValid:!0}:V_:x_}return x_};const D_={isValid:!1,value:null};var yR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,D_):D_;function L_(t,e,n="validate"){if(ou(t)||Array.isArray(t)&&t.every(ou)||sr(t)&&!t)return{type:n,message:ou(t)?t:"",ref:e}}var Ki=t=>Et(t)&&!tc(t)?t:{value:t,message:""},b_=async(t,e,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:d,validate:p,name:y,valueAsNumber:E,mount:R,disabled:m}=t._f,f=se(e,y);if(!R||m)return{};const g=s?s[0]:o,T=$=>{r&&g.reportValidity&&(g.setCustomValidity(sr($)?"":$||""),g.reportValidity())},C={},L=Dg(o),M=ll(o),q=L||M,ae=(E||Vg(o))&&ut(o.value)&&ut(f)||ec(o)&&o.value===""||f===""||Array.isArray(f)&&!f.length,J=Y$.bind(null,y,n,C),Ie=($,D,Z,ue=rr.maxLength,Ae=rr.minLength)=>{const be=$?D:Z;C[y]={type:$?ue:Ae,message:be,ref:o,...J($?ue:Ae,be)}};if(i?!Array.isArray(f)||!f.length:a&&(!q&&(ae||Kt(f))||sr(f)&&!f||M&&!gR(s).isValid||L&&!yR(s).isValid)){const{value:$,message:D}=ou(a)?{value:!!a,message:a}:Ki(a);if($&&(C[y]={type:rr.required,message:D,ref:g,...J(rr.required,D)},!n))return T(D),C}if(!ae&&(!Kt(c)||!Kt(h))){let $,D;const Z=Ki(h),ue=Ki(c);if(!Kt(f)&&!isNaN(f)){const Ae=o.valueAsNumber||f&&+f;Kt(Z.value)||($=Ae>Z.value),Kt(ue.value)||(D=Ae<ue.value)}else{const Ae=o.valueAsDate||new Date(f),be=S=>new Date(new Date().toDateString()+" "+S),B=o.type=="time",x=o.type=="week";qn(Z.value)&&f&&($=B?be(f)>be(Z.value):x?f>Z.value:Ae>new Date(Z.value)),qn(ue.value)&&f&&(D=B?be(f)<be(ue.value):x?f<ue.value:Ae<new Date(ue.value))}if(($||D)&&(Ie(!!$,Z.message,ue.message,rr.max,rr.min),!n))return T(C[y].message),C}if((l||u)&&!ae&&(qn(f)||i&&Array.isArray(f))){const $=Ki(l),D=Ki(u),Z=!Kt($.value)&&f.length>+$.value,ue=!Kt(D.value)&&f.length<+D.value;if((Z||ue)&&(Ie(Z,$.message,D.message),!n))return T(C[y].message),C}if(d&&!ae&&qn(f)){const{value:$,message:D}=Ki(d);if(tc($)&&!f.match($)&&(C[y]={type:rr.pattern,message:D,ref:o,...J(rr.pattern,D)},!n))return T(D),C}if(p){if(Vr(p)){const $=await p(f,e),D=L_($,g);if(D&&(C[y]={...D,...J(rr.validate,D.message)},!n))return T(D.message),C}else if(Et(p)){let $={};for(const D in p){if(!En($)&&!n)break;const Z=L_(await p[D](f,e),g,D);Z&&($={...Z,...J(D,Z.message)},T(Z.message),n&&(C[y]=$))}if(!En($)&&(C[y]={ref:g,...$},!n))return C}}return T(!0),C};function J$(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ut(t)?r++:t[e[r++]];return t}function Z$(t){for(const e in t)if(t.hasOwnProperty(e)&&!ut(t[e]))return!1;return!0}function Ct(t,e){const n=Array.isArray(e)?e:xg(e)?[e]:mR(e),r=n.length===1?t:J$(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Et(r)&&En(r)||Array.isArray(r)&&Z$(r))&&Ct(t,n.slice(0,-1)),t}var wd=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},nc=t=>Kt(t)||!pR(t);function vi(t,e){if(nc(t)||nc(e))return t===e;if(co(t)&&co(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(co(o)&&co(s)||Et(o)&&Et(s)||Array.isArray(o)&&Array.isArray(s)?!vi(o,s):o!==s)return!1}}return!0}var vR=t=>t.type==="select-multiple",eF=t=>Dg(t)||ll(t),Sd=t=>ec(t)&&t.isConnected,_R=t=>{for(const e in t)if(Vr(t[e]))return!0;return!1};function rc(t,e={}){const n=Array.isArray(t);if(Et(t)||n)for(const r in t)Array.isArray(t[r])||Et(t[r])&&!_R(t[r])?(e[r]=Array.isArray(t[r])?[]:{},rc(t[r],e[r])):Kt(t[r])||(e[r]=!0);return e}function ER(t,e,n){const r=Array.isArray(t);if(Et(t)||r)for(const i in t)Array.isArray(t[i])||Et(t[i])&&!_R(t[i])?ut(e)||nc(n[i])?n[i]=Array.isArray(t[i])?rc(t[i],[]):{...rc(t[i])}:ER(t[i],Kt(e)?{}:e[i],n[i]):n[i]=!vi(t[i],e[i]);return n}var Td=(t,e)=>ER(t,e,rc(e)),wR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ut(t)?t:e?t===""?NaN:t&&+t:n&&qn(t)?new Date(t):r?r(t):t;function Rd(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Vg(e)?e.files:Dg(e)?yR(t.refs).value:vR(e)?[...e.selectedOptions].map(({value:n})=>n):ll(e)?gR(t.refs).value:wR(ut(e.value)?t.ref.value:e.value,t)}var tF=(t,e,n,r)=>{const i={};for(const o of t){const s=se(e,o);s&&Je(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ws=t=>ut(t)?t:tc(t)?t.source:Et(t)?tc(t.value)?t.value.source:t.value:t,nF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function M_(t,e,n){const r=se(t,n);if(r||xg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=se(e,o),a=se(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var rF=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,iF=(t,e)=>!ul(se(t,e)).length&&Ct(t,e);const oF={mode:Ln.onSubmit,reValidateMode:Ln.onChange,shouldFocusError:!0};function sF(t={},e){let n={...oF,...t},r={submitCount:0,isDirty:!1,isLoading:Vr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=Et(n.defaultValues)||Et(n.values)?_n(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:_n(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:wd(),array:wd(),state:wd()},p=k_(n.mode),y=k_(n.reValidateMode),E=n.criteriaMode===Ln.all,R=_=>I=>{clearTimeout(c),c=setTimeout(_,I)},m=async _=>{if(h.isValid||_){const I=n.resolver?En((await ae()).errors):await Ie(i,!0);I!==r.isValid&&d.state.next({isValid:I})}},f=_=>h.isValidating&&d.state.next({isValidating:_}),g=(_,I=[],k,K,H=!0,j=!0)=>{if(K&&k){if(a.action=!0,j&&Array.isArray(se(i,_))){const ce=k(se(i,_),K.argA,K.argB);H&&Je(i,_,ce)}if(j&&Array.isArray(se(r.errors,_))){const ce=k(se(r.errors,_),K.argA,K.argB);H&&Je(r.errors,_,ce),iF(r.errors,_)}if(h.touchedFields&&j&&Array.isArray(se(r.touchedFields,_))){const ce=k(se(r.touchedFields,_),K.argA,K.argB);H&&Je(r.touchedFields,_,ce)}h.dirtyFields&&(r.dirtyFields=Td(o,s)),d.state.next({name:_,isDirty:D(_,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(s,_,I)},T=(_,I)=>{Je(r.errors,_,I),d.state.next({errors:r.errors})},C=_=>{r.errors=_,d.state.next({errors:r.errors,isValid:!1})},L=(_,I,k,K)=>{const H=se(i,_);if(H){const j=se(s,_,ut(k)?se(o,_):k);ut(j)||K&&K.defaultChecked||I?Je(s,_,I?j:Rd(H._f)):Ae(_,j),a.mount&&m()}},M=(_,I,k,K,H)=>{let j=!1,ce=!1;const Be={name:_},ht=!!(se(i,_)&&se(i,_)._f.disabled);if(!k||K){h.isDirty&&(ce=r.isDirty,r.isDirty=Be.isDirty=D(),j=ce!==Be.isDirty);const yn=ht||vi(se(o,_),I);ce=!!(!ht&&se(r.dirtyFields,_)),yn||ht?Ct(r.dirtyFields,_):Je(r.dirtyFields,_,!0),Be.dirtyFields=r.dirtyFields,j=j||h.dirtyFields&&ce!==!yn}if(k){const yn=se(r.touchedFields,_);yn||(Je(r.touchedFields,_,k),Be.touchedFields=r.touchedFields,j=j||h.touchedFields&&yn!==k)}return j&&H&&d.state.next(Be),j?Be:{}},q=(_,I,k,K)=>{const H=se(r.errors,_),j=h.isValid&&sr(I)&&r.isValid!==I;if(t.delayError&&k?(u=R(()=>T(_,k)),u(t.delayError)):(clearTimeout(c),u=null,k?Je(r.errors,_,k):Ct(r.errors,_)),(k?!vi(H,k):H)||!En(K)||j){const ce={...K,...j&&sr(I)?{isValid:I}:{},errors:r.errors,name:_};r={...r,...ce},d.state.next(ce)}f(!1)},ae=async _=>n.resolver(s,n.context,tF(_||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),J=async _=>{const{errors:I}=await ae(_);if(_)for(const k of _){const K=se(I,k);K?Je(r.errors,k,K):Ct(r.errors,k)}else r.errors=I;return I},Ie=async(_,I,k={valid:!0})=>{for(const K in _){const H=_[K];if(H){const{_f:j,...ce}=H;if(j){const Be=l.array.has(j.name),ht=await b_(H,s,E,n.shouldUseNativeValidation&&!I,Be);if(ht[j.name]&&(k.valid=!1,I))break;!I&&(se(ht,j.name)?Be?X$(r.errors,ht,j.name):Je(r.errors,j.name,ht[j.name]):Ct(r.errors,j.name))}ce&&await Ie(ce,I,k)}}return k.valid},$=()=>{for(const _ of l.unMount){const I=se(i,_);I&&(I._f.refs?I._f.refs.every(k=>!Sd(k)):!Sd(I._f.ref))&&le(_)}l.unMount=new Set},D=(_,I)=>(_&&I&&Je(s,_,I),!vi(v(),o)),Z=(_,I,k)=>Q$(_,l,{...a.mount?s:ut(I)?o:qn(_)?{[_]:I}:I},k,I),ue=_=>ul(se(a.mount?s:o,_,t.shouldUnregister?se(o,_,[]):[])),Ae=(_,I,k={})=>{const K=se(i,_);let H=I;if(K){const j=K._f;j&&(!j.disabled&&Je(s,_,wR(I,j)),H=ec(j.ref)&&Kt(I)?"":I,vR(j.ref)?[...j.ref.options].forEach(ce=>ce.selected=H.includes(ce.value)):j.refs?ll(j.ref)?j.refs.length>1?j.refs.forEach(ce=>(!ce.defaultChecked||!ce.disabled)&&(ce.checked=Array.isArray(H)?!!H.find(Be=>Be===ce.value):H===ce.value)):j.refs[0]&&(j.refs[0].checked=!!H):j.refs.forEach(ce=>ce.checked=ce.value===H):Vg(j.ref)?j.ref.value="":(j.ref.value=H,j.ref.type||d.values.next({name:_,values:{...s}})))}(k.shouldDirty||k.shouldTouch)&&M(_,H,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&z(_)},be=(_,I,k)=>{for(const K in I){const H=I[K],j=`${_}.${K}`,ce=se(i,j);(l.array.has(_)||!nc(H)||ce&&!ce._f)&&!co(H)?be(j,H,k):Ae(j,H,k)}},B=(_,I,k={})=>{const K=se(i,_),H=l.array.has(_),j=_n(I);Je(s,_,j),H?(d.array.next({name:_,values:{...s}}),(h.isDirty||h.dirtyFields)&&k.shouldDirty&&d.state.next({name:_,dirtyFields:Td(o,s),isDirty:D(_,j)})):K&&!K._f&&!Kt(j)?be(_,j,k):Ae(_,j,k),N_(_,l)&&d.state.next({...r}),d.values.next({name:_,values:{...s}}),!a.mount&&e()},x=async _=>{const I=_.target;let k=I.name,K=!0;const H=se(i,k),j=()=>I.type?Rd(H._f):j$(_),ce=Be=>{K=Number.isNaN(Be)||Be===se(s,k,Be)};if(H){let Be,ht;const yn=j(),wr=_.type===P_.BLUR||_.type===P_.FOCUS_OUT,Eh=!nF(H._f)&&!n.resolver&&!se(r.errors,k)&&!H._f.deps||rF(wr,se(r.touchedFields,k),r.isSubmitted,y,p),ns=N_(k,l,wr);Je(s,k,yn),wr?(H._f.onBlur&&H._f.onBlur(_),u&&u(0)):H._f.onChange&&H._f.onChange(_);const ji=M(k,yn,wr,!1),wh=!En(ji)||ns;if(!wr&&d.values.next({name:k,type:_.type,values:{...s}}),Eh)return h.isValid&&m(),wh&&d.state.next({name:k,...ns?{}:ji});if(!wr&&ns&&d.state.next({...r}),f(!0),n.resolver){const{errors:cl}=await ae([k]);if(ce(yn),K){const A=M_(r.errors,i,k),w=M_(cl,i,A.name||k);Be=w.error,k=w.name,ht=En(cl)}}else Be=(await b_(H,s,E,n.shouldUseNativeValidation))[k],ce(yn),K&&(Be?ht=!1:h.isValid&&(ht=await Ie(i,!0)));K&&(H._f.deps&&z(H._f.deps),q(k,ht,Be,ji))}},S=(_,I)=>{if(se(r.errors,I)&&_.focus)return _.focus(),1},z=async(_,I={})=>{let k,K;const H=Ed(_);if(f(!0),n.resolver){const j=await J(ut(_)?_:H);k=En(j),K=_?!H.some(ce=>se(j,ce)):k}else _?(K=(await Promise.all(H.map(async j=>{const ce=se(i,j);return await Ie(ce&&ce._f?{[j]:ce}:ce)}))).every(Boolean),!(!K&&!r.isValid)&&m()):K=k=await Ie(i);return d.state.next({...!qn(_)||h.isValid&&k!==r.isValid?{}:{name:_},...n.resolver||!_?{isValid:k}:{},errors:r.errors,isValidating:!1}),I.shouldFocus&&!K&&Xs(i,S,_?H:l.mount),K},v=_=>{const I={...o,...a.mount?s:{}};return ut(_)?I:qn(_)?se(I,_):_.map(k=>se(I,k))},P=(_,I)=>({invalid:!!se((I||r).errors,_),isDirty:!!se((I||r).dirtyFields,_),isTouched:!!se((I||r).touchedFields,_),error:se((I||r).errors,_)}),V=_=>{_&&Ed(_).forEach(I=>Ct(r.errors,I)),d.state.next({errors:_?r.errors:{}})},ee=(_,I,k)=>{const K=(se(i,_,{_f:{}})._f||{}).ref;Je(r.errors,_,{...I,ref:K}),d.state.next({name:_,errors:r.errors,isValid:!1}),k&&k.shouldFocus&&K&&K.focus&&K.focus()},W=(_,I)=>Vr(_)?d.values.subscribe({next:k=>_(Z(void 0,I),k)}):Z(_,I,!0),le=(_,I={})=>{for(const k of _?Ed(_):l.mount)l.mount.delete(k),l.array.delete(k),I.keepValue||(Ct(i,k),Ct(s,k)),!I.keepError&&Ct(r.errors,k),!I.keepDirty&&Ct(r.dirtyFields,k),!I.keepTouched&&Ct(r.touchedFields,k),!n.shouldUnregister&&!I.keepDefaultValue&&Ct(o,k);d.values.next({values:{...s}}),d.state.next({...r,...I.keepDirty?{isDirty:D()}:{}}),!I.keepIsValid&&m()},pe=({disabled:_,name:I,field:k,fields:K,value:H})=>{if(sr(_)){const j=_?void 0:ut(H)?Rd(k?k._f:se(K,I)._f):H;Je(s,I,j),M(I,j,!1,!1,!0)}},oe=(_,I={})=>{let k=se(i,_);const K=sr(I.disabled);return Je(i,_,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:_}},name:_,mount:!0,...I}}),l.mount.add(_),k?pe({field:k,disabled:I.disabled,name:_,value:I.value}):L(_,!0,I.value),{...K?{disabled:I.disabled}:{},...n.progressive?{required:!!I.required,min:ws(I.min),max:ws(I.max),minLength:ws(I.minLength),maxLength:ws(I.maxLength),pattern:ws(I.pattern)}:{},name:_,onChange:x,onBlur:x,ref:H=>{if(H){oe(_,I),k=se(i,_);const j=ut(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,ce=eF(j),Be=k._f.refs||[];if(ce?Be.find(ht=>ht===j):j===k._f.ref)return;Je(i,_,{_f:{...k._f,...ce?{refs:[...Be.filter(Sd),j,...Array.isArray(se(o,_))?[{}]:[]],ref:{type:j.type,name:_}}:{ref:j}}}),L(_,!1,void 0,j)}else k=se(i,_,{}),k._f&&(k._f.mount=!1),(n.shouldUnregister||I.shouldUnregister)&&!(W$(l.array,_)&&a.action)&&l.unMount.add(_)}}},ke=()=>n.shouldFocusError&&Xs(i,S,l.mount),Ne=_=>{sr(_)&&(d.state.next({disabled:_}),Xs(i,(I,k)=>{let K=_;const H=se(i,k);H&&sr(H._f.disabled)&&(K||(K=H._f.disabled)),I.disabled=K},0,!1))},Se=(_,I)=>async k=>{k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let K=_n(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:H,values:j}=await ae();r.errors=H,K=j}else await Ie(i);Ct(r.errors,"root"),En(r.errors)?(d.state.next({errors:{}}),await _(K,k)):(I&&await I({...r.errors},k),ke(),setTimeout(ke)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:En(r.errors),submitCount:r.submitCount+1,errors:r.errors})},xe=(_,I={})=>{se(i,_)&&(ut(I.defaultValue)?B(_,_n(se(o,_))):(B(_,I.defaultValue),Je(o,_,_n(I.defaultValue))),I.keepTouched||Ct(r.touchedFields,_),I.keepDirty||(Ct(r.dirtyFields,_),r.isDirty=I.defaultValue?D(_,_n(se(o,_))):D()),I.keepError||(Ct(r.errors,_),h.isValid&&m()),d.state.next({...r}))},tt=(_,I={})=>{const k=_?_n(_):o,K=_n(k),H=_&&!En(_)?K:o;if(I.keepDefaultValues||(o=k),!I.keepValues){if(I.keepDirtyValues)for(const j of l.mount)se(r.dirtyFields,j)?Je(H,j,se(s,j)):B(j,se(H,j));else{if(Ng&&ut(_))for(const j of l.mount){const ce=se(i,j);if(ce&&ce._f){const Be=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(ec(Be)){const ht=Be.closest("form");if(ht){ht.reset();break}}}}i={}}s=t.shouldUnregister?I.keepDefaultValues?_n(o):{}:_n(H),d.array.next({values:{...H}}),d.values.next({values:{...H}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!I.keepIsValid,a.watch=!!t.shouldUnregister,d.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!vi(_,o)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:I.keepDirtyValues?r.dirtyFields:I.keepDefaultValues&&_?Td(o,_):{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(_,I)=>tt(Vr(_)?_(s):_,I);return{control:{register:oe,unregister:le,getFieldState:P,handleSubmit:Se,setError:ee,_executeSchema:ae,_getWatch:Z,_getDirty:D,_updateValid:m,_removeUnmounted:$,_updateFieldArray:g,_updateDisabledField:pe,_getFieldArray:ue,_reset:tt,_resetDefaultValues:()=>Vr(n.defaultValues)&&n.defaultValues().then(_=>{Me(_,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:_=>{r={...r,..._}},_disableForm:Ne,_subjects:d,_proxyFormState:h,_setErrors:C,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(_){a=_},get _defaultValues(){return o},get _names(){return l},set _names(_){l=_},get _formState(){return r},set _formState(_){r=_},get _options(){return n},set _options(_){n={...n,..._}}},trigger:z,register:oe,handleSubmit:Se,watch:W,setValue:B,getValues:v,reset:Me,resetField:xe,clearErrors:V,unregister:le,setError:ee,setFocus:(_,I={})=>{const k=se(i,_),K=k&&k._f;if(K){const H=K.refs?K.refs[0]:K.ref;H.focus&&(H.focus(),I.shouldSelect&&H.select())}},getFieldState:P}}function aF(t={}){const e=_e.useRef(),n=_e.useRef(),[r,i]=_e.useState({isDirty:!1,isValidating:!1,isLoading:Vr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Vr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...sF(t,()=>i(s=>({...s}))),formState:r});const o=e.current.control;return o._options=t,G$({subject:o._subjects.state,next:s=>{K$(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),_e.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),_e.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),_e.useEffect(()=>{t.values&&!vi(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),_e.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),_e.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=q$(r,o),e.current}function lF(t){return Zr({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M169.64,134.33l44.77-19.46A16,16,0,0,0,213,85.07L52.92,32.8A16,16,0,0,0,32.8,52.92L85.07,213a15.83,15.83,0,0,0,14.41,11l.79,0a15.83,15.83,0,0,0,14.6-9.59h0l19.46-44.77L184,219.31a16,16,0,0,0,22.63,0l12.68-12.68a16,16,0,0,0,0-22.63Zm-69.48,73.76.06-.05Zm95.15-.09-49.66-49.67a16,16,0,0,0-26,4.94l-19.42,44.65L48,48l159.87,52.21-44.64,19.41a16,16,0,0,0-4.94,26L208,195.31ZM88,24V16a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0ZM8,96a8,8,0,0,1,8-8h8a8,8,0,0,1,0,16H16A8,8,0,0,1,8,96ZM120.85,28.42l8-16a8,8,0,0,1,14.31,7.16l-8,16a8,8,0,1,1-14.31-7.16Zm-81.69,96a8,8,0,0,1-3.58,10.74l-16,8a8,8,0,0,1-7.16-14.31l16-8A8,8,0,0,1,39.16,124.42Z"}}]})(t)}const uF=()=>{const[t]=Pw(dR),[e,n]=ne.useState(!1),[r,i]=ne.useState(""),[o,s]=ne.useState(""),[a,l]=ne.useState(""),[u,c]=ne.useState(Array(1e3).fill(!1)),{formState:{isSubmitting:h},handleSubmit:d,reset:p,register:y,setValue:E}=aF(),R=(T,C)=>{s(T),l(C)},m=()=>{p();const C={userId:1,commentContent:r.trim(),postId:t,originCommentId:a!=""?a:"null"};n(!0),F$(C),setTimeout(()=>{n(!1),E("comment","")},200),s(""),l("")},f=Cw($$(t));if(f.state==="loading")return N.jsx("div",{children:"로딩 중..."});if(f.state==="hasError")return N.jsx("div",{children:"에러가 발생했습니다."});console.log(f);const g=f.contents;return N.jsxs("div",{children:[g.map((T,C)=>N.jsx("div",{children:T.origin_commentId!="null"?"":N.jsxs("div",{children:[N.jsxs("div",{className:"flex items-center my-3 mx-2",children:[N.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:"nickname"}),N.jsx("div",{className:"ml-2 text-[14px]",children:T.commentContent})]}),N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"ml-2 text-[11px]",children:fR(T)}),N.jsx("div",{className:"ml-2 text-[11px]",onClick:()=>R(T.userId,T.commentId),children:"답글 달기"})]})]})]}),N.jsxs("div",{className:"ml-12 text-[11px]  w-fit",onClick:()=>{const L=[...u];L[C]=!L[C],c(L)},children:[N.jsx("div",{className:"text-gray-500 cursor-pointer hover:text-black",children:g.filter(L=>L.origin_commentId===T.commentId).length>0?u[C]?"답글 숨기기":`답글 ${g.filter(L=>L.origin_commentId===T.commentId).length}개 모두 보기`:""}),u[C]&&N.jsx(B$,{data:g.filter(L=>L.origin_commentId===T.commentId)})]})]})},T.commentId)),o&&N.jsx("div",{className:"fixed bottom-12 left-0 right-0 p-4",children:N.jsxs("div",{className:"bg-white border w-fit p-1 rounded-3xl text-[14px] text-gray-500",onClick:()=>s(""),children:[o," X"]})}),N.jsx("form",{onSubmit:d(m),children:N.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 flex justify-center",children:[N.jsx("textarea",{...y("comment"),placeholder:"댓글을 입력하세요.",name:"",id:"comment",cols:30,rows:1,onKeyDown:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),d(m)())},onChange:T=>i(T.target.value),required:!0,className:"border border-solid border-gray-500 p-2 rounded-xl focus:outline-none mr-2 w-full"}),N.jsx("button",{type:"submit",disabled:h,className:`bg-black text-white py-2 px-4 rounded-full ${e&&r.trim()!==""?"bg-slate-500":""}`,onClick:()=>r.trim()==""?n(!0):"",children:N.jsx(lF,{})})]})})]})};function SR(t){return Zr({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"}}]})(t)}var TR={exports:{}};(function(t,e){(function(n,r){t.exports=r(ne)})(AR,n=>(()=>{var r={703:(a,l,u)=>{var c=u(414);function h(){}function d(){}d.resetWarningCache=h,a.exports=function(){function p(R,m,f,g,T,C){if(C!==c){var L=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw L.name="Invariant Violation",L}}function y(){return p}p.isRequired=p;var E={array:p,bigint:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:y,element:p,elementType:p,instanceOf:y,node:p,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:d,resetWarningCache:h};return E.PropTypes=E,E}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,o),u.exports}o.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return o.d(l,{a:l}),l},o.d=(a,l)=>{for(var u in l)o.o(l,u)&&!o.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s={};return(()=>{o.r(s),o.d(s,{default:()=>Ie});var a=o(98),l=o.n(a),u=o(697),c=o.n(u);function h(){return h=Object.assign?Object.assign.bind():function($){for(var D=1;D<arguments.length;D++){var Z=arguments[D];for(var ue in Z)Object.prototype.hasOwnProperty.call(Z,ue)&&($[ue]=Z[ue])}return $},h.apply(this,arguments)}var d=function($){var D=$.pageClassName,Z=$.pageLinkClassName,ue=$.page,Ae=$.selected,be=$.activeClassName,B=$.activeLinkClassName,x=$.getEventListener,S=$.pageSelectedHandler,z=$.href,v=$.extraAriaContext,P=$.pageLabelBuilder,V=$.rel,ee=$.ariaLabel||"Page "+ue+(v?" "+v:""),W=null;return Ae&&(W="page",ee=$.ariaLabel||"Page "+ue+" is your current page",D=D!==void 0?D+" "+be:be,Z!==void 0?B!==void 0&&(Z=Z+" "+B):Z=B),l().createElement("li",{className:D},l().createElement("a",h({rel:V,role:z?void 0:"button",className:Z,href:z,tabIndex:Ae?"-1":"0","aria-label":ee,"aria-current":W,onKeyPress:S},x(S)),P(ue)))};d.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const p=d;function y(){return y=Object.assign?Object.assign.bind():function($){for(var D=1;D<arguments.length;D++){var Z=arguments[D];for(var ue in Z)Object.prototype.hasOwnProperty.call(Z,ue)&&($[ue]=Z[ue])}return $},y.apply(this,arguments)}var E=function($){var D=$.breakLabel,Z=$.breakAriaLabel,ue=$.breakClassName,Ae=$.breakLinkClassName,be=$.breakHandler,B=$.getEventListener,x=ue||"break";return l().createElement("li",{className:x},l().createElement("a",y({className:Ae,role:"button",tabIndex:"0","aria-label":Z,onKeyPress:be},B(be)),D))};E.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabel:c().string,breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const R=E;function m($){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return $??D}function f($){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},f($)}function g(){return g=Object.assign?Object.assign.bind():function($){for(var D=1;D<arguments.length;D++){var Z=arguments[D];for(var ue in Z)Object.prototype.hasOwnProperty.call(Z,ue)&&($[ue]=Z[ue])}return $},g.apply(this,arguments)}function T($,D){for(var Z=0;Z<D.length;Z++){var ue=D[Z];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty($,ue.key,ue)}}function C($,D){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,ue){return Z.__proto__=ue,Z},C($,D)}function L($,D){if(D&&(f(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M($)}function M($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function q($){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},q($)}function ae($,D,Z){return D in $?Object.defineProperty($,D,{value:Z,enumerable:!0,configurable:!0,writable:!0}):$[D]=Z,$}var J=function($){(function(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),S&&C(x,S)})(B,$);var D,Z,ue,Ae,be=(ue=B,Ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,S=q(ue);if(Ae){var z=q(this).constructor;x=Reflect.construct(S,arguments,z)}else x=S.apply(this,arguments);return L(this,x)});function B(x){var S,z;return function(v,P){if(!(v instanceof P))throw new TypeError("Cannot call a class as a function")}(this,B),ae(M(S=be.call(this,x)),"handlePreviousPage",function(v){var P=S.state.selected;S.handleClick(v,null,P>0?P-1:void 0,{isPrevious:!0})}),ae(M(S),"handleNextPage",function(v){var P=S.state.selected,V=S.props.pageCount;S.handleClick(v,null,P<V-1?P+1:void 0,{isNext:!0})}),ae(M(S),"handlePageSelected",function(v,P){if(S.state.selected===v)return S.callActiveCallback(v),void S.handleClick(P,null,void 0,{isActive:!0});S.handleClick(P,null,v)}),ae(M(S),"handlePageChange",function(v){S.state.selected!==v&&(S.setState({selected:v}),S.callCallback(v))}),ae(M(S),"getEventListener",function(v){return ae({},S.props.eventListener,v)}),ae(M(S),"handleClick",function(v,P,V){var ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},W=ee.isPrevious,le=W!==void 0&&W,pe=ee.isNext,oe=pe!==void 0&&pe,ke=ee.isBreak,Ne=ke!==void 0&&ke,Se=ee.isActive,xe=Se!==void 0&&Se;v.preventDefault?v.preventDefault():v.returnValue=!1;var tt=S.state.selected,Me=S.props.onClick,ze=V;if(Me){var Ue=Me({index:P,selected:tt,nextSelectedPage:V,event:v,isPrevious:le,isNext:oe,isBreak:Ne,isActive:xe});if(Ue===!1)return;Number.isInteger(Ue)&&(ze=Ue)}ze!==void 0&&S.handlePageChange(ze)}),ae(M(S),"handleBreakClick",function(v,P){var V=S.state.selected;S.handleClick(P,v,V<v?S.getForwardJump():S.getBackwardJump(),{isBreak:!0})}),ae(M(S),"callCallback",function(v){S.props.onPageChange!==void 0&&typeof S.props.onPageChange=="function"&&S.props.onPageChange({selected:v})}),ae(M(S),"callActiveCallback",function(v){S.props.onPageActive!==void 0&&typeof S.props.onPageActive=="function"&&S.props.onPageActive({selected:v})}),ae(M(S),"getElementPageRel",function(v){var P=S.state.selected,V=S.props,ee=V.nextPageRel,W=V.prevPageRel,le=V.selectedPageRel;return P-1===v?W:P===v?le:P+1===v?ee:void 0}),ae(M(S),"pagination",function(){var v=[],P=S.props,V=P.pageRangeDisplayed,ee=P.pageCount,W=P.marginPagesDisplayed,le=P.breakLabel,pe=P.breakClassName,oe=P.breakLinkClassName,ke=P.breakAriaLabels,Ne=S.state.selected;if(ee<=V)for(var Se=0;Se<ee;Se++)v.push(S.getPageElement(Se));else{var xe=V/2,tt=V-xe;Ne>ee-V/2?xe=V-(tt=ee-Ne):Ne<V/2&&(tt=V-(xe=Ne));var Me,ze,Ue=function(k){return S.getPageElement(k)},nt=[];for(Me=0;Me<ee;Me++){var _=Me+1;if(_<=W)nt.push({type:"page",index:Me,display:Ue(Me)});else if(_>ee-W)nt.push({type:"page",index:Me,display:Ue(Me)});else if(Me>=Ne-xe&&Me<=Ne+(Ne===0&&V>1?tt-1:tt))nt.push({type:"page",index:Me,display:Ue(Me)});else if(le&&nt.length>0&&nt[nt.length-1].display!==ze&&(V>0||W>0)){var I=Me<Ne?ke.backward:ke.forward;ze=l().createElement(R,{key:Me,breakAriaLabel:I,breakLabel:le,breakClassName:pe,breakLinkClassName:oe,breakHandler:S.handleBreakClick.bind(null,Me),getEventListener:S.getEventListener}),nt.push({type:"break",index:Me,display:ze})}}nt.forEach(function(k,K){var H=k;k.type==="break"&&nt[K-1]&&nt[K-1].type==="page"&&nt[K+1]&&nt[K+1].type==="page"&&nt[K+1].index-nt[K-1].index<=2&&(H={type:"page",index:k.index,display:Ue(k.index)}),v.push(H.display)})}return v}),x.initialPage!==void 0&&x.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(x.initialPage,") and forcePage (").concat(x.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),z=x.initialPage?x.initialPage:x.forcePage?x.forcePage:0,S.state={selected:z},S}return D=B,(Z=[{key:"componentDidMount",value:function(){var x=this.props,S=x.initialPage,z=x.disableInitialCallback,v=x.extraAriaContext,P=x.pageCount,V=x.forcePage;S===void 0||z||this.callCallback(S),v&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(P)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(P,"). Did you forget a Math.ceil()?")),S!==void 0&&S>P-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(S," > ").concat(P-1,").")),V!==void 0&&V>P-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(V," > ").concat(P-1,")."))}},{key:"componentDidUpdate",value:function(x){this.props.forcePage!==void 0&&this.props.forcePage!==x.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(x.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var x=this.state.selected,S=this.props,z=S.pageCount,v=x+S.pageRangeDisplayed;return v>=z?z-1:v}},{key:"getBackwardJump",value:function(){var x=this.state.selected-this.props.pageRangeDisplayed;return x<0?0:x}},{key:"getElementHref",value:function(x){var S=this.props,z=S.hrefBuilder,v=S.pageCount,P=S.hrefAllControls;if(z)return P||x>=0&&x<v?z(x+1,v,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(x){var S=x===this.state.selected;if(this.props.ariaLabelBuilder&&x>=0&&x<this.props.pageCount){var z=this.props.ariaLabelBuilder(x+1,S);return this.props.extraAriaContext&&!S&&(z=z+" "+this.props.extraAriaContext),z}}},{key:"getPageElement",value:function(x){var S=this.state.selected,z=this.props,v=z.pageClassName,P=z.pageLinkClassName,V=z.activeClassName,ee=z.activeLinkClassName,W=z.extraAriaContext,le=z.pageLabelBuilder;return l().createElement(p,{key:x,pageSelectedHandler:this.handlePageSelected.bind(null,x),selected:S===x,rel:this.getElementPageRel(x),pageClassName:v,pageLinkClassName:P,activeClassName:V,activeLinkClassName:ee,extraAriaContext:W,href:this.getElementHref(x),ariaLabel:this.ariaLabelBuilder(x),page:x+1,pageLabelBuilder:le,getEventListener:this.getEventListener})}},{key:"render",value:function(){var x=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&x!==void 0)return x&&x(this.props);var S=this.props,z=S.disabledClassName,v=S.disabledLinkClassName,P=S.pageCount,V=S.className,ee=S.containerClassName,W=S.previousLabel,le=S.previousClassName,pe=S.previousLinkClassName,oe=S.previousAriaLabel,ke=S.prevRel,Ne=S.nextLabel,Se=S.nextClassName,xe=S.nextLinkClassName,tt=S.nextAriaLabel,Me=S.nextRel,ze=this.state.selected,Ue=ze===0,nt=ze===P-1,_="".concat(m(le)).concat(Ue?" ".concat(m(z)):""),I="".concat(m(Se)).concat(nt?" ".concat(m(z)):""),k="".concat(m(pe)).concat(Ue?" ".concat(m(v)):""),K="".concat(m(xe)).concat(nt?" ".concat(m(v)):""),H=Ue?"true":"false",j=nt?"true":"false";return l().createElement("ul",{className:V||ee,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:_},l().createElement("a",g({className:k,href:this.getElementHref(ze-1),tabIndex:Ue?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":H,"aria-label":oe,rel:ke},this.getEventListener(this.handlePreviousPage)),W)),this.pagination(),l().createElement("li",{className:I},l().createElement("a",g({className:K,href:this.getElementHref(ze+1),tabIndex:nt?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":j,"aria-label":tt,rel:Me},this.getEventListener(this.handleNextPage)),Ne)))}}])&&T(D.prototype,Z),Object.defineProperty(D,"prototype",{writable:!1}),B}(a.Component);ae(J,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabels:c().shape({forward:c().string,backward:c().string}),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),ae(J,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function($){return $},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const Ie=J})(),s})())})(TR);var cF=TR.exports;const hF=ap(cF),dF=()=>{const[e,n]=ne.useState(0),r=[{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용...1"},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용...2"},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용...3"}],i=Math.ceil(r.length/5),o=({selected:c})=>{n(c)},s=e*5,a=r.slice(s,s+5),l=im(),u=()=>{l("/notice_detail")};return N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:N.jsxs("div",{children:[N.jsx("img",{src:"../../public/free-icon-cool-7298816.png",width:55}),N.jsx("span",{children:"overdog"})]})}),a.map(c=>N.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[N.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"text-[13px]",children:N.jsx(SR,{})}),N.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:c.title})]}),N.jsx("span",{className:"text-gray-500 text-[11px]",children:c.time})]}),N.jsx("div",{children:N.jsx("div",{className:"flex items-center",children:N.jsx("div",{className:"flex-1",onClick:u,children:N.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.contents})})})})]})),N.jsx(hF,{pageClassName:"inline-block mx-1 p-2 rounded-full cursor-pointer  ",pageLinkClassName:"block w-8 h-8 leading-8 text-center border border-gray-300 bg-white rounded-full transition duration-300 ease-in-out hover:bg-gray-300",containerClassName:"pagination flex justify-center my-2",activeClassName:"bg-gray-300",previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:o})]})},fF=()=>N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:N.jsxs("div",{children:[N.jsx("img",{src:"../../public/free-icon-cool-7298816.png",width:55}),N.jsx("span",{children:"overdog"})]})}),N.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[N.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"text-[13px]",children:N.jsx(SR,{})}),N.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:"공지사항 제목"})]}),N.jsx("span",{className:"text-gray-500 text-[11px]",children:"1분전 작성"})]}),N.jsx("div",{children:N.jsx("div",{className:"flex items-center",children:N.jsx("div",{className:"flex-1",children:N.jsx("p",{className:"text-sm font-medium text-gray-900 w-full h-[30vh]",children:"공지사항 내용"})})})})]})]});var pF={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function mF(){return N.jsx(FD,{children:N.jsx("div",{className:"font-pretendard",children:N.jsxs(WC,{basename:pF.PUBLIC_URL,children:[N.jsx(GC,{}),N.jsxs(jC,{children:[N.jsx(Is,{path:"/",element:N.jsx(U$,{})}),N.jsx(Is,{path:"/comment",element:N.jsx(uF,{})}),N.jsx(Is,{path:"/notice",element:N.jsx(dF,{})}),N.jsx(Is,{path:"/notice_detail",element:N.jsx(fF,{})})]})]})})})}Ad.createRoot(document.getElementById("root")).render(N.jsx(mF,{}));
