function jC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var BC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o1={exports:{}},Cd={},s1={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),zC=Symbol.for("react.portal"),HC=Symbol.for("react.fragment"),WC=Symbol.for("react.strict_mode"),qC=Symbol.for("react.profiler"),GC=Symbol.for("react.provider"),KC=Symbol.for("react.context"),QC=Symbol.for("react.forward_ref"),YC=Symbol.for("react.suspense"),XC=Symbol.for("react.memo"),JC=Symbol.for("react.lazy"),h_=Symbol.iterator;function ZC(t){return t===null||typeof t!="object"?null:(t=h_&&t[h_]||t["@@iterator"],typeof t=="function"?t:null)}var a1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l1=Object.assign,u1={};function ea(t,e,n){this.props=t,this.context=e,this.refs=u1,this.updater=n||a1}ea.prototype.isReactComponent={};ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function c1(){}c1.prototype=ea.prototype;function yv(t,e,n){this.props=t,this.context=e,this.refs=u1,this.updater=n||a1}var _v=yv.prototype=new c1;_v.constructor=yv;l1(_v,ea.prototype);_v.isPureReactComponent=!0;var p_=Array.isArray,f1=Object.prototype.hasOwnProperty,wv={current:null},d1={key:!0,ref:!0,__self:!0,__source:!0};function h1(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)f1.call(e,r)&&!d1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pu,type:t,key:o,ref:s,props:i,_owner:wv.current}}function eP(t,e){return{$$typeof:pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ev(t){return typeof t=="object"&&t!==null&&t.$$typeof===pu}function tP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m_=/\/+/g;function np(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tP(""+t.key):e.toString(36)}function Hc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case pu:case zC:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+np(s,0):r,p_(i)?(n="",t!=null&&(n=t.replace(m_,"$&/")+"/"),Hc(i,e,n,"",function(u){return u})):i!=null&&(Ev(i)&&(i=eP(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(m_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",p_(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+np(o,a);s+=Hc(o,e,n,l,i)}else if(l=ZC(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+np(o,a++),s+=Hc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Yu(t,e,n){if(t==null)return t;var r=[],i=0;return Hc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function nP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wn={current:null},Wc={transition:null},rP={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:wv};Me.Children={map:Yu,forEach:function(t,e,n){Yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yu(t,function(){e++}),e},toArray:function(t){return Yu(t,function(e){return e})||[]},only:function(t){if(!Ev(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=ea;Me.Fragment=HC;Me.Profiler=qC;Me.PureComponent=yv;Me.StrictMode=WC;Me.Suspense=YC;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rP;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=l1({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=wv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)f1.call(e,l)&&!d1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pu,type:t.type,key:i,ref:o,props:r,_owner:s}};Me.createContext=function(t){return t={$$typeof:KC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GC,_context:t},t.Consumer=t};Me.createElement=h1;Me.createFactory=function(t){var e=h1.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:QC,render:t}};Me.isValidElement=Ev;Me.lazy=function(t){return{$$typeof:JC,_payload:{_status:-1,_result:t},_init:nP}};Me.memo=function(t,e){return{$$typeof:XC,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=e}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(t,e){return wn.current.useCallback(t,e)};Me.useContext=function(t){return wn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return wn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return wn.current.useEffect(t,e)};Me.useId=function(){return wn.current.useId()};Me.useImperativeHandle=function(t,e,n){return wn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return wn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return wn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return wn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return wn.current.useReducer(t,e,n)};Me.useRef=function(t){return wn.current.useRef(t)};Me.useState=function(t){return wn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return wn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return wn.current.useTransition()};Me.version="18.2.0";s1.exports=Me;var A=s1.exports;const ve=vv(A),iP=jC({__proto__:null,default:ve},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oP=A,sP=Symbol.for("react.element"),aP=Symbol.for("react.fragment"),lP=Object.prototype.hasOwnProperty,uP=oP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cP={key:!0,ref:!0,__self:!0,__source:!0};function p1(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)lP.call(e,r)&&!cP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sP,type:t,key:o,ref:s,props:i,_owner:uP.current}}Cd.Fragment=aP;Cd.jsx=p1;Cd.jsxs=p1;o1.exports=Cd;var U=o1.exports,pm={},m1={exports:{}},Un={},g1={exports:{}},v1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,$){var C=z.length;z.push($);e:for(;0<C;){var q=C-1>>>1,w=z[q];if(0<i(w,$))z[q]=$,z[C]=w,C=q;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var $=z[0],C=z.pop();if(C!==$){z[0]=C;e:for(var q=0,w=z.length,O=w>>>1;q<O;){var j=2*(q+1)-1,ne=z[j],Z=j+1,me=z[Z];if(0>i(ne,C))Z<w&&0>i(me,ne)?(z[q]=me,z[Z]=C,q=Z):(z[q]=ne,z[j]=C,q=j);else if(Z<w&&0>i(me,C))z[q]=me,z[Z]=C,q=Z;else break e}}return $}function i(z,$){var C=z.sortIndex-$.sortIndex;return C!==0?C:z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,m=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=z)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function b(z){if(y=!1,v(z),!m)if(n(l)!==null)m=!0,Ee(I);else{var $=n(u);$!==null&&we(b,$.startTime-z)}}function I(z,$){m=!1,y&&(y=!1,g(P),P=-1),h=!0;var C=d;try{for(v($),f=n(l);f!==null&&(!(f.expirationTime>$)||z&&!B());){var q=f.callback;if(typeof q=="function"){f.callback=null,d=f.priorityLevel;var w=q(f.expirationTime<=$);$=t.unstable_now(),typeof w=="function"?f.callback=w:f===n(l)&&r(l),v($)}else r(l);f=n(l)}if(f!==null)var O=!0;else{var j=n(u);j!==null&&we(b,j.startTime-$),O=!1}return O}finally{f=null,d=C,h=!1}}var E=!1,S=null,P=-1,M=5,L=-1;function B(){return!(t.unstable_now()-L<M)}function k(){if(S!==null){var z=t.unstable_now();L=z;var $=!0;try{$=S(!0,z)}finally{$?V():(E=!1,S=null)}}else E=!1}var V;if(typeof p=="function")V=function(){p(k)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=k,V=function(){te.postMessage(null)}}else V=function(){T(k,0)};function Ee(z){S=z,E||(E=!0,V())}function we(z,$){P=T(function(){z(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Ee(I))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var C=d;d=$;try{return z()}finally{d=C}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var C=d;d=z;try{return $()}finally{d=C}},t.unstable_scheduleCallback=function(z,$,C){var q=t.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?q+C:q):C=q,z){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=C+w,z={id:c++,callback:$,priorityLevel:z,startTime:C,expirationTime:w,sortIndex:-1},C>q?(z.sortIndex=C,e(u,z),n(l)===null&&z===n(u)&&(y?(g(P),P=-1):y=!0,we(b,C-q))):(z.sortIndex=w,e(l,z),m||h||(m=!0,Ee(I))),z},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(z){var $=d;return function(){var C=d;d=$;try{return z.apply(this,arguments)}finally{d=C}}}})(v1);g1.exports=v1;var fP=g1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1=A,$n=fP;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _1=new Set,Cl={};function ko(t,e){ks(t,e),ks(t+"Capture",e)}function ks(t,e){for(Cl[t]=e,t=0;t<e.length;t++)_1.add(e[t])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mm=Object.prototype.hasOwnProperty,dP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g_={},v_={};function hP(t){return mm.call(v_,t)?!0:mm.call(g_,t)?!1:dP.test(t)?v_[t]=!0:(g_[t]=!0,!1)}function pP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mP(t,e,n,r){if(e===null||typeof e>"u"||pP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sv=/[\-:]([a-z])/g;function Tv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sv,Tv);en[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sv,Tv);en[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sv,Tv);en[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rv(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mP(e,n,i,r)&&(n=null),r||i===null?hP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zr=y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),ns=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),bv=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),w1=Symbol.for("react.provider"),E1=Symbol.for("react.context"),Av=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),xv=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),S1=Symbol.for("react.offscreen"),y_=Symbol.iterator;function va(t){return t===null||typeof t!="object"?null:(t=y_&&t[y_]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,rp;function Fa(t){if(rp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rp=e&&e[1]||""}return`
`+rp+t}var ip=!1;function op(t,e){if(!t||ip)return"";ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fa(t):""}function gP(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=op(t.type,!1),t;case 11:return t=op(t.type.render,!1),t;case 1:return t=op(t.type,!0),t;default:return""}}function _m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rs:return"Fragment";case ns:return"Portal";case gm:return"Profiler";case bv:return"StrictMode";case vm:return"Suspense";case ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E1:return(t.displayName||"Context")+".Consumer";case w1:return(t._context.displayName||"Context")+".Provider";case Av:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xv:return e=t.displayName||null,e!==null?e:_m(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return _m(t(e))}catch{}}return null}function vP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _m(e);case 8:return e===bv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yP(t){var e=T1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=yP(t))}function R1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=T1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _f(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wm(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function __(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b1(t,e){e=e.checked,e!=null&&Rv(t,"checked",e,!1)}function Em(t,e){b1(t,e);var n=Ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sm(t,e.type,Ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function w_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sm(t,e,n){(e!=="number"||_f(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ua=Array.isArray;function vs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Ua(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ni(n)}}function A1(t,e){var n=Ni(e.value),r=Ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function S_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function x1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zu,I1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zu=Zu||document.createElement("div"),Zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_P=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){_P.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function C1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function P1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wP=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bm(t,e){if(e){if(wP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=null;function Iv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Im=null,ys=null,_s=null;function T_(t){if(t=vu(t)){if(typeof Im!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Vd(e),Im(t.stateNode,t.type,e))}}function k1(t){ys?_s?_s.push(t):_s=[t]:ys=t}function N1(){if(ys){var t=ys,e=_s;if(_s=ys=null,T_(t),e)for(t=0;t<e.length;t++)T_(e[t])}}function D1(t,e){return t(e)}function V1(){}var sp=!1;function L1(t,e,n){if(sp)return t(e,n);sp=!0;try{return D1(t,e,n)}finally{sp=!1,(ys!==null||_s!==null)&&(V1(),N1())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=Vd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Cm=!1;if(qr)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){Cm=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{Cm=!1}function EP(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var tl=!1,wf=null,Ef=!1,Pm=null,SP={onError:function(t){tl=!0,wf=t}};function TP(t,e,n,r,i,o,s,a,l){tl=!1,wf=null,EP.apply(SP,arguments)}function RP(t,e,n,r,i,o,s,a,l){if(TP.apply(this,arguments),tl){if(tl){var u=wf;tl=!1,wf=null}else throw Error(J(198));Ef||(Ef=!0,Pm=u)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function O1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function R_(t){if(No(t)!==t)throw Error(J(188))}function bP(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return R_(i),t;if(o===r)return R_(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function M1(t){return t=bP(t),t!==null?$1(t):null}function $1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$1(t);if(e!==null)return e;t=t.sibling}return null}var F1=$n.unstable_scheduleCallback,b_=$n.unstable_cancelCallback,AP=$n.unstable_shouldYield,xP=$n.unstable_requestPaint,It=$n.unstable_now,IP=$n.unstable_getCurrentPriorityLevel,Cv=$n.unstable_ImmediatePriority,U1=$n.unstable_UserBlockingPriority,Sf=$n.unstable_NormalPriority,CP=$n.unstable_LowPriority,j1=$n.unstable_IdlePriority,Pd=null,Tr=null;function PP(t){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Pd,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:DP,kP=Math.log,NP=Math.LN2;function DP(t){return t>>>=0,t===0?32:31-(kP(t)/NP|0)|0}var ec=64,tc=4194304;function ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ja(a):(o&=s,o!==0&&(r=ja(o)))}else s=n&~i,s!==0?r=ja(s):o!==0&&(r=ja(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function VP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ur(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=VP(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function km(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function B1(){var t=ec;return ec<<=1,!(ec&4194240)&&(ec=64),t}function ap(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function OP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Pv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ye=0;function z1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H1,kv,W1,q1,G1,Nm=!1,nc=[],wi=null,Ei=null,Si=null,Nl=new Map,Dl=new Map,ai=[],MP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A_(t,e){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(e.pointerId)}}function _a(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=vu(e),e!==null&&kv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $P(t,e,n,r,i){switch(e){case"focusin":return wi=_a(wi,t,e,n,r,i),!0;case"dragenter":return Ei=_a(Ei,t,e,n,r,i),!0;case"mouseover":return Si=_a(Si,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nl.set(o,_a(Nl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dl.set(o,_a(Dl.get(o)||null,t,e,n,r,i)),!0}return!1}function K1(t){var e=no(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=O1(n),e!==null){t.blockedOn=e,G1(t.priority,function(){W1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xm=r,n.target.dispatchEvent(r),xm=null}else return e=vu(n),e!==null&&kv(e),t.blockedOn=n,!1;e.shift()}return!0}function x_(t,e,n){qc(t)&&n.delete(e)}function FP(){Nm=!1,wi!==null&&qc(wi)&&(wi=null),Ei!==null&&qc(Ei)&&(Ei=null),Si!==null&&qc(Si)&&(Si=null),Nl.forEach(x_),Dl.forEach(x_)}function wa(t,e){t.blockedOn===e&&(t.blockedOn=null,Nm||(Nm=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,FP)))}function Vl(t){function e(i){return wa(i,t)}if(0<nc.length){wa(nc[0],t);for(var n=1;n<nc.length;n++){var r=nc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wi!==null&&wa(wi,t),Ei!==null&&wa(Ei,t),Si!==null&&wa(Si,t),Nl.forEach(e),Dl.forEach(e),n=0;n<ai.length;n++)r=ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)K1(n),n.blockedOn===null&&ai.shift()}var ws=Zr.ReactCurrentBatchConfig,Rf=!0;function UP(t,e,n,r){var i=Ye,o=ws.transition;ws.transition=null;try{Ye=1,Nv(t,e,n,r)}finally{Ye=i,ws.transition=o}}function jP(t,e,n,r){var i=Ye,o=ws.transition;ws.transition=null;try{Ye=4,Nv(t,e,n,r)}finally{Ye=i,ws.transition=o}}function Nv(t,e,n,r){if(Rf){var i=Dm(t,e,n,r);if(i===null)vp(t,e,r,bf,n),A_(t,r);else if($P(i,t,e,n,r))r.stopPropagation();else if(A_(t,r),e&4&&-1<MP.indexOf(t)){for(;i!==null;){var o=vu(i);if(o!==null&&H1(o),o=Dm(t,e,n,r),o===null&&vp(t,e,r,bf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vp(t,e,r,null,n)}}var bf=null;function Dm(t,e,n,r){if(bf=null,t=Iv(r),t=no(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=O1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bf=t,null}function Q1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IP()){case Cv:return 1;case U1:return 4;case Sf:case CP:return 16;case j1:return 536870912;default:return 16}default:return 16}}var hi=null,Dv=null,Gc=null;function Y1(){if(Gc)return Gc;var t,e=Dv,n=e.length,r,i="value"in hi?hi.value:hi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Gc=i.slice(t,1<r?1-r:void 0)}function Kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rc(){return!0}function I_(){return!1}function jn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rc:I_,this.isPropagationStopped=I_,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),e}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vv=jn(ta),gu=Et({},ta,{view:0,detail:0}),BP=jn(gu),lp,up,Ea,kd=Et({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ea&&(Ea&&t.type==="mousemove"?(lp=t.screenX-Ea.screenX,up=t.screenY-Ea.screenY):up=lp=0,Ea=t),lp)},movementY:function(t){return"movementY"in t?t.movementY:up}}),C_=jn(kd),zP=Et({},kd,{dataTransfer:0}),HP=jn(zP),WP=Et({},gu,{relatedTarget:0}),cp=jn(WP),qP=Et({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),GP=jn(qP),KP=Et({},ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QP=jn(KP),YP=Et({},ta,{data:0}),P_=jn(YP),XP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ek(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZP[t])?!!e[t]:!1}function Lv(){return ek}var tk=Et({},gu,{key:function(t){if(t.key){var e=XP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lv,charCode:function(t){return t.type==="keypress"?Kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nk=jn(tk),rk=Et({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k_=jn(rk),ik=Et({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lv}),ok=jn(ik),sk=Et({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),ak=jn(sk),lk=Et({},kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uk=jn(lk),ck=[9,13,27,32],Ov=qr&&"CompositionEvent"in window,nl=null;qr&&"documentMode"in document&&(nl=document.documentMode);var fk=qr&&"TextEvent"in window&&!nl,X1=qr&&(!Ov||nl&&8<nl&&11>=nl),N_=" ",D_=!1;function J1(t,e){switch(t){case"keyup":return ck.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var is=!1;function dk(t,e){switch(t){case"compositionend":return Z1(e);case"keypress":return e.which!==32?null:(D_=!0,N_);case"textInput":return t=e.data,t===N_&&D_?null:t;default:return null}}function hk(t,e){if(is)return t==="compositionend"||!Ov&&J1(t,e)?(t=Y1(),Gc=Dv=hi=null,is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X1&&e.locale!=="ko"?null:e.data;default:return null}}var pk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pk[t.type]:e==="textarea"}function eT(t,e,n,r){k1(r),e=Af(e,"onChange"),0<e.length&&(n=new Vv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,Ll=null;function mk(t){fT(t,0)}function Nd(t){var e=as(t);if(R1(e))return t}function gk(t,e){if(t==="change")return e}var tT=!1;if(qr){var fp;if(qr){var dp="oninput"in document;if(!dp){var L_=document.createElement("div");L_.setAttribute("oninput","return;"),dp=typeof L_.oninput=="function"}fp=dp}else fp=!1;tT=fp&&(!document.documentMode||9<document.documentMode)}function O_(){rl&&(rl.detachEvent("onpropertychange",nT),Ll=rl=null)}function nT(t){if(t.propertyName==="value"&&Nd(Ll)){var e=[];eT(e,Ll,t,Iv(t)),L1(mk,e)}}function vk(t,e,n){t==="focusin"?(O_(),rl=e,Ll=n,rl.attachEvent("onpropertychange",nT)):t==="focusout"&&O_()}function yk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nd(Ll)}function _k(t,e){if(t==="click")return Nd(e)}function wk(t,e){if(t==="input"||t==="change")return Nd(e)}function Ek(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:Ek;function Ol(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mm.call(e,i)||!dr(t[i],e[i]))return!1}return!0}function M_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $_(t,e){var n=M_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M_(n)}}function rT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iT(){for(var t=window,e=_f();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_f(t.document)}return e}function Mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Sk(t){var e=iT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rT(n.ownerDocument.documentElement,n)){if(r!==null&&Mv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=$_(n,o);var s=$_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tk=qr&&"documentMode"in document&&11>=document.documentMode,os=null,Vm=null,il=null,Lm=!1;function F_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lm||os==null||os!==_f(r)||(r=os,"selectionStart"in r&&Mv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&Ol(il,r)||(il=r,r=Af(Vm,"onSelect"),0<r.length&&(e=new Vv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=os)))}function ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ss={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},hp={},oT={};qr&&(oT=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Dd(t){if(hp[t])return hp[t];if(!ss[t])return t;var e=ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oT)return hp[t]=e[n];return t}var sT=Dd("animationend"),aT=Dd("animationiteration"),lT=Dd("animationstart"),uT=Dd("transitionend"),cT=new Map,U_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){cT.set(t,e),ko(e,[t])}for(var pp=0;pp<U_.length;pp++){var mp=U_[pp],Rk=mp.toLowerCase(),bk=mp[0].toUpperCase()+mp.slice(1);Mi(Rk,"on"+bk)}Mi(sT,"onAnimationEnd");Mi(aT,"onAnimationIteration");Mi(lT,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(uT,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ak=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function j_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RP(r,e,void 0,t),t.currentTarget=null}function fT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;j_(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;j_(i,a,u),o=l}}}if(Ef)throw t=Pm,Ef=!1,Pm=null,t}function st(t,e){var n=e[Um];n===void 0&&(n=e[Um]=new Set);var r=t+"__bubble";n.has(r)||(dT(e,t,2,!1),n.add(r))}function gp(t,e,n){var r=0;e&&(r|=4),dT(n,t,r,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Ml(t){if(!t[oc]){t[oc]=!0,_1.forEach(function(n){n!=="selectionchange"&&(Ak.has(n)||gp(n,!1,t),gp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,gp("selectionchange",!1,e))}}function dT(t,e,n,r){switch(Q1(e)){case 1:var i=UP;break;case 4:i=jP;break;default:i=Nv}n=i.bind(null,e,n,t),i=void 0,!Cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=no(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}L1(function(){var u=o,c=Iv(n),f=[];e:{var d=cT.get(t);if(d!==void 0){var h=Vv,m=t;switch(t){case"keypress":if(Kc(n)===0)break e;case"keydown":case"keyup":h=nk;break;case"focusin":m="focus",h=cp;break;case"focusout":m="blur",h=cp;break;case"beforeblur":case"afterblur":h=cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=C_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=HP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ok;break;case sT:case aT:case lT:h=GP;break;case uT:h=ak;break;case"scroll":h=BP;break;case"wheel":h=uk;break;case"copy":case"cut":case"paste":h=QP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=k_}var y=(e&4)!==0,T=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var p=u,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=kl(p,g),b!=null&&y.push($l(p,b,v)))),T)break;p=p.return}0<y.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==xm&&(m=n.relatedTarget||n.fromElement)&&(no(m)||m[Gr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?no(m):null,m!==null&&(T=No(m),m!==T||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(y=C_,b="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=k_,b="onPointerLeave",g="onPointerEnter",p="pointer"),T=h==null?d:as(h),v=m==null?d:as(m),d=new y(b,p+"leave",h,n,c),d.target=T,d.relatedTarget=v,b=null,no(c)===u&&(y=new y(g,p+"enter",m,n,c),y.target=v,y.relatedTarget=T,b=y),T=b,h&&m)t:{for(y=h,g=m,p=0,v=y;v;v=zo(v))p++;for(v=0,b=g;b;b=zo(b))v++;for(;0<p-v;)y=zo(y),p--;for(;0<v-p;)g=zo(g),v--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=zo(y),g=zo(g)}y=null}else y=null;h!==null&&B_(f,d,h,y,!1),m!==null&&T!==null&&B_(f,T,m,y,!0)}}e:{if(d=u?as(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var I=gk;else if(V_(d))if(tT)I=wk;else{I=yk;var E=vk}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=_k);if(I&&(I=I(t,u))){eT(f,I,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Sm(d,"number",d.value)}switch(E=u?as(u):window,t){case"focusin":(V_(E)||E.contentEditable==="true")&&(os=E,Vm=u,il=null);break;case"focusout":il=Vm=os=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,F_(f,n,c);break;case"selectionchange":if(Tk)break;case"keydown":case"keyup":F_(f,n,c)}var S;if(Ov)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else is?J1(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(X1&&n.locale!=="ko"&&(is||P!=="onCompositionStart"?P==="onCompositionEnd"&&is&&(S=Y1()):(hi=c,Dv="value"in hi?hi.value:hi.textContent,is=!0)),E=Af(u,P),0<E.length&&(P=new P_(P,t,null,n,c),f.push({event:P,listeners:E}),S?P.data=S:(S=Z1(n),S!==null&&(P.data=S)))),(S=fk?dk(t,n):hk(t,n))&&(u=Af(u,"onBeforeInput"),0<u.length&&(c=new P_("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}fT(f,e)})}function $l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Af(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=kl(t,n),o!=null&&r.unshift($l(t,o,i)),o=kl(t,e),o!=null&&r.push($l(t,o,i))),t=t.return}return r}function zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function B_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=kl(n,o),l!=null&&s.unshift($l(n,l,a))):i||(l=kl(n,o),l!=null&&s.push($l(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var xk=/\r\n?/g,Ik=/\u0000|\uFFFD/g;function z_(t){return(typeof t=="string"?t:""+t).replace(xk,`
`).replace(Ik,"")}function sc(t,e,n){if(e=z_(e),z_(t)!==e&&n)throw Error(J(425))}function xf(){}var Om=null,Mm=null;function $m(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,Ck=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,Pk=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(t){return H_.resolve(null).then(t).catch(kk)}:Fm;function kk(t){setTimeout(function(){throw t})}function yp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vl(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var na=Math.random().toString(36).slice(2),yr="__reactFiber$"+na,Fl="__reactProps$"+na,Gr="__reactContainer$"+na,Um="__reactEvents$"+na,Nk="__reactListeners$"+na,Dk="__reactHandles$"+na;function no(t){var e=t[yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W_(t);t!==null;){if(n=t[yr])return n;t=W_(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[yr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function as(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Vd(t){return t[Fl]||null}var jm=[],ls=-1;function $i(t){return{current:t}}function ft(t){0>ls||(t.current=jm[ls],jm[ls]=null,ls--)}function nt(t,e){ls++,jm[ls]=t.current,t.current=e}var Di={},dn=$i(Di),An=$i(!1),yo=Di;function Ns(t,e){var n=t.type.contextTypes;if(!n)return Di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function If(){ft(An),ft(dn)}function q_(t,e,n){if(dn.current!==Di)throw Error(J(168));nt(dn,e),nt(An,n)}function hT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,vP(t)||"Unknown",i));return Et({},n,r)}function Cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Di,yo=dn.current,nt(dn,t),nt(An,An.current),!0}function G_(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=hT(t,e,yo),r.__reactInternalMemoizedMergedChildContext=t,ft(An),ft(dn),nt(dn,t)):ft(An),nt(An,n)}var Fr=null,Ld=!1,_p=!1;function pT(t){Fr===null?Fr=[t]:Fr.push(t)}function Vk(t){Ld=!0,pT(t)}function Fi(){if(!_p&&Fr!==null){_p=!0;var t=0,e=Ye;try{var n=Fr;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,Ld=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(t+1)),F1(Cv,Fi),i}finally{Ye=e,_p=!1}}return null}var us=[],cs=0,Pf=null,kf=0,Wn=[],qn=0,_o=null,jr=1,Br="";function Yi(t,e){us[cs++]=kf,us[cs++]=Pf,Pf=t,kf=e}function mT(t,e,n){Wn[qn++]=jr,Wn[qn++]=Br,Wn[qn++]=_o,_o=t;var r=jr;t=Br;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var o=32-ur(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,jr=1<<32-ur(e)+i|n<<i|r,Br=o+t}else jr=1<<o|n<<i|r,Br=t}function $v(t){t.return!==null&&(Yi(t,1),mT(t,1,0))}function Fv(t){for(;t===Pf;)Pf=us[--cs],us[cs]=null,kf=us[--cs],us[cs]=null;for(;t===_o;)_o=Wn[--qn],Wn[qn]=null,Br=Wn[--qn],Wn[qn]=null,jr=Wn[--qn],Wn[qn]=null}var Mn=null,Vn=null,mt=!1,or=null;function gT(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function K_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Vn=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_o!==null?{id:jr,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Vn=null,!0):!1;default:return!1}}function Bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(mt){var e=Vn;if(e){var n=e;if(!K_(t,e)){if(Bm(t))throw Error(J(418));e=Ti(n.nextSibling);var r=Mn;e&&K_(t,e)?gT(r,n):(t.flags=t.flags&-4097|2,mt=!1,Mn=t)}}else{if(Bm(t))throw Error(J(418));t.flags=t.flags&-4097|2,mt=!1,Mn=t}}}function Q_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function ac(t){if(t!==Mn)return!1;if(!mt)return Q_(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$m(t.type,t.memoizedProps)),e&&(e=Vn)){if(Bm(t))throw vT(),Error(J(418));for(;e;)gT(t,e),e=Ti(e.nextSibling)}if(Q_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=Mn?Ti(t.stateNode.nextSibling):null;return!0}function vT(){for(var t=Vn;t;)t=Ti(t.nextSibling)}function Ds(){Vn=Mn=null,mt=!1}function Uv(t){or===null?or=[t]:or.push(t)}var Lk=Zr.ReactCurrentBatchConfig;function nr(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nf=$i(null),Df=null,fs=null,jv=null;function Bv(){jv=fs=Df=null}function zv(t){var e=Nf.current;ft(Nf),t._currentValue=e}function Hm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Es(t,e){Df=t,jv=fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(jv!==t)if(t={context:t,memoizedValue:e,next:null},fs===null){if(Df===null)throw Error(J(308));fs=t,Df.dependencies={lanes:0,firstContext:t}}else fs=fs.next=t;return e}var ro=null;function Hv(t){ro===null?ro=[t]:ro.push(t)}function yT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oi=!1;function Wv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _T(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kr(t,n)}return i=r.interleaved,i===null?(e.next=e,Hv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kr(t,n)}function Qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pv(t,n)}}function Y_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vf(t,e,n,r){var i=t.updateQueue;oi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(d=e,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=Et({},f,d);break e;case 2:oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Eo|=s,t.lanes=s,t.memoizedState=f}}function X_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var wT=new y1.Component().refs;function Wm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Od={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Ai(t),o=Hr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ri(t,o,i),e!==null&&(cr(e,t,i,r),Qc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Ai(t),o=Hr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ri(t,o,i),e!==null&&(cr(e,t,i,r),Qc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=Ai(t),i=Hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ri(t,i,r),e!==null&&(cr(e,t,r,n),Qc(e,t,r))}};function J_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ol(n,r)||!Ol(i,o):!0}function ET(t,e,n){var r=!1,i=Di,o=e.contextType;return typeof o=="object"&&o!==null?o=Yn(o):(i=xn(e)?yo:dn.current,r=e.contextTypes,o=(r=r!=null)?Ns(t,i):Di),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Od,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Z_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Od.enqueueReplaceState(e,e.state,null)}function qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=wT,Wv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Yn(o):(o=xn(e)?yo:dn.current,i.context=Ns(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Wm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Od.enqueueReplaceState(i,i.state,null),Vf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===wT&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function lc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ew(t){var e=t._init;return e(t._payload)}function ST(t){function e(g,p){if(t){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=xi(g,p),g.index=0,g.sibling=null,g}function o(g,p,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,b){return p===null||p.tag!==6?(p=Ap(v,g.mode,b),p.return=g,p):(p=i(p,v),p.return=g,p)}function l(g,p,v,b){var I=v.type;return I===rs?c(g,p,v.props.children,b,v.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ii&&ew(I)===p.type)?(b=i(p,v.props),b.ref=Sa(g,p,v),b.return=g,b):(b=tf(v.type,v.key,v.props,null,g.mode,b),b.ref=Sa(g,p,v),b.return=g,b)}function u(g,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=xp(v,g.mode,b),p.return=g,p):(p=i(p,v.children||[]),p.return=g,p)}function c(g,p,v,b,I){return p===null||p.tag!==7?(p=fo(v,g.mode,b,I),p.return=g,p):(p=i(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ap(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xu:return v=tf(p.type,p.key,p.props,null,g.mode,v),v.ref=Sa(g,null,p),v.return=g,v;case ns:return p=xp(p,g.mode,v),p.return=g,p;case ii:var b=p._init;return f(g,b(p._payload),v)}if(Ua(p)||va(p))return p=fo(p,g.mode,v,null),p.return=g,p;lc(g,p)}return null}function d(g,p,v,b){var I=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:a(g,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xu:return v.key===I?l(g,p,v,b):null;case ns:return v.key===I?u(g,p,v,b):null;case ii:return I=v._init,d(g,p,I(v._payload),b)}if(Ua(v)||va(v))return I!==null?null:c(g,p,v,b,null);lc(g,v)}return null}function h(g,p,v,b,I){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,a(p,g,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xu:return g=g.get(b.key===null?v:b.key)||null,l(p,g,b,I);case ns:return g=g.get(b.key===null?v:b.key)||null,u(p,g,b,I);case ii:var E=b._init;return h(g,p,v,E(b._payload),I)}if(Ua(b)||va(b))return g=g.get(v)||null,c(p,g,b,I,null);lc(p,b)}return null}function m(g,p,v,b){for(var I=null,E=null,S=p,P=p=0,M=null;S!==null&&P<v.length;P++){S.index>P?(M=S,S=null):M=S.sibling;var L=d(g,S,v[P],b);if(L===null){S===null&&(S=M);break}t&&S&&L.alternate===null&&e(g,S),p=o(L,p,P),E===null?I=L:E.sibling=L,E=L,S=M}if(P===v.length)return n(g,S),mt&&Yi(g,P),I;if(S===null){for(;P<v.length;P++)S=f(g,v[P],b),S!==null&&(p=o(S,p,P),E===null?I=S:E.sibling=S,E=S);return mt&&Yi(g,P),I}for(S=r(g,S);P<v.length;P++)M=h(S,g,P,v[P],b),M!==null&&(t&&M.alternate!==null&&S.delete(M.key===null?P:M.key),p=o(M,p,P),E===null?I=M:E.sibling=M,E=M);return t&&S.forEach(function(B){return e(g,B)}),mt&&Yi(g,P),I}function y(g,p,v,b){var I=va(v);if(typeof I!="function")throw Error(J(150));if(v=I.call(v),v==null)throw Error(J(151));for(var E=I=null,S=p,P=p=0,M=null,L=v.next();S!==null&&!L.done;P++,L=v.next()){S.index>P?(M=S,S=null):M=S.sibling;var B=d(g,S,L.value,b);if(B===null){S===null&&(S=M);break}t&&S&&B.alternate===null&&e(g,S),p=o(B,p,P),E===null?I=B:E.sibling=B,E=B,S=M}if(L.done)return n(g,S),mt&&Yi(g,P),I;if(S===null){for(;!L.done;P++,L=v.next())L=f(g,L.value,b),L!==null&&(p=o(L,p,P),E===null?I=L:E.sibling=L,E=L);return mt&&Yi(g,P),I}for(S=r(g,S);!L.done;P++,L=v.next())L=h(S,g,P,L.value,b),L!==null&&(t&&L.alternate!==null&&S.delete(L.key===null?P:L.key),p=o(L,p,P),E===null?I=L:E.sibling=L,E=L);return t&&S.forEach(function(k){return e(g,k)}),mt&&Yi(g,P),I}function T(g,p,v,b){if(typeof v=="object"&&v!==null&&v.type===rs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xu:e:{for(var I=v.key,E=p;E!==null;){if(E.key===I){if(I=v.type,I===rs){if(E.tag===7){n(g,E.sibling),p=i(E,v.props.children),p.return=g,g=p;break e}}else if(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ii&&ew(I)===E.type){n(g,E.sibling),p=i(E,v.props),p.ref=Sa(g,E,v),p.return=g,g=p;break e}n(g,E);break}else e(g,E);E=E.sibling}v.type===rs?(p=fo(v.props.children,g.mode,b,v.key),p.return=g,g=p):(b=tf(v.type,v.key,v.props,null,g.mode,b),b.ref=Sa(g,p,v),b.return=g,g=b)}return s(g);case ns:e:{for(E=v.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=i(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=xp(v,g.mode,b),p.return=g,g=p}return s(g);case ii:return E=v._init,T(g,p,E(v._payload),b)}if(Ua(v))return m(g,p,v,b);if(va(v))return y(g,p,v,b);lc(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,v),p.return=g,g=p):(n(g,p),p=Ap(v,g.mode,b),p.return=g,g=p),s(g)):n(g,p)}return T}var Vs=ST(!0),TT=ST(!1),yu={},Rr=$i(yu),Ul=$i(yu),jl=$i(yu);function io(t){if(t===yu)throw Error(J(174));return t}function qv(t,e){switch(nt(jl,e),nt(Ul,t),nt(Rr,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rm(e,t)}ft(Rr),nt(Rr,e)}function Ls(){ft(Rr),ft(Ul),ft(jl)}function RT(t){io(jl.current);var e=io(Rr.current),n=Rm(e,t.type);e!==n&&(nt(Ul,t),nt(Rr,n))}function Gv(t){Ul.current===t&&(ft(Rr),ft(Ul))}var _t=$i(0);function Lf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wp=[];function Kv(){for(var t=0;t<wp.length;t++)wp[t]._workInProgressVersionPrimary=null;wp.length=0}var Yc=Zr.ReactCurrentDispatcher,Ep=Zr.ReactCurrentBatchConfig,wo=0,wt=null,Dt=null,jt=null,Of=!1,ol=!1,Bl=0,Ok=0;function tn(){throw Error(J(321))}function Qv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function Yv(t,e,n,r,i,o){if(wo=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yc.current=t===null||t.memoizedState===null?Uk:jk,t=n(r,i),ol){o=0;do{if(ol=!1,Bl=0,25<=o)throw Error(J(301));o+=1,jt=Dt=null,e.updateQueue=null,Yc.current=Bk,t=n(r,i)}while(ol)}if(Yc.current=Mf,e=Dt!==null&&Dt.next!==null,wo=0,jt=Dt=wt=null,Of=!1,e)throw Error(J(300));return t}function Xv(){var t=Bl!==0;return Bl=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?wt.memoizedState=jt=t:jt=jt.next=t,jt}function Xn(){if(Dt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=jt===null?wt.memoizedState:jt.next;if(e!==null)jt=e,Dt=t;else{if(t===null)throw Error(J(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},jt===null?wt.memoizedState=jt=t:jt=jt.next=t}return jt}function zl(t,e){return typeof e=="function"?e(t):e}function Sp(t){var e=Xn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((wo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,wt.lanes|=c,Eo|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,dr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,wt.lanes|=o,Eo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tp(t){var e=Xn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);dr(o,e.memoizedState)||(bn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function bT(){}function AT(t,e){var n=wt,r=Xn(),i=e(),o=!dr(r.memoizedState,i);if(o&&(r.memoizedState=i,bn=!0),r=r.queue,Jv(CT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Hl(9,IT.bind(null,n,r,i,e),void 0,null),Bt===null)throw Error(J(349));wo&30||xT(n,e,i)}return i}function xT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IT(t,e,n,r){e.value=n,e.getSnapshot=r,PT(e)&&kT(t)}function CT(t,e,n){return n(function(){PT(e)&&kT(t)})}function PT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function kT(t){var e=Kr(t,1);e!==null&&cr(e,t,1,-1)}function tw(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=Fk.bind(null,wt,t),[e.memoizedState,t]}function Hl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NT(){return Xn().memoizedState}function Xc(t,e,n,r){var i=vr();wt.flags|=t,i.memoizedState=Hl(1|e,n,void 0,r===void 0?null:r)}function Md(t,e,n,r){var i=Xn();r=r===void 0?null:r;var o=void 0;if(Dt!==null){var s=Dt.memoizedState;if(o=s.destroy,r!==null&&Qv(r,s.deps)){i.memoizedState=Hl(e,n,o,r);return}}wt.flags|=t,i.memoizedState=Hl(1|e,n,o,r)}function nw(t,e){return Xc(8390656,8,t,e)}function Jv(t,e){return Md(2048,8,t,e)}function DT(t,e){return Md(4,2,t,e)}function VT(t,e){return Md(4,4,t,e)}function LT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OT(t,e,n){return n=n!=null?n.concat([t]):null,Md(4,4,LT.bind(null,e,t),n)}function Zv(){}function MT(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $T(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FT(t,e,n){return wo&21?(dr(n,e)||(n=B1(),wt.lanes|=n,Eo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function Mk(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=Ep.transition;Ep.transition={};try{t(!1),e()}finally{Ye=n,Ep.transition=r}}function UT(){return Xn().memoizedState}function $k(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jT(t))BT(e,n);else if(n=yT(t,e,n,r),n!==null){var i=_n();cr(n,t,r,i),zT(n,e,r)}}function Fk(t,e,n){var r=Ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jT(t))BT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,dr(a,s)){var l=e.interleaved;l===null?(i.next=i,Hv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=yT(t,e,i,r),n!==null&&(i=_n(),cr(n,t,r,i),zT(n,e,r))}}function jT(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function BT(t,e){ol=Of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pv(t,n)}}var Mf={readContext:Yn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},Uk={readContext:Yn,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:nw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4194308,4,LT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$k.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:tw,useDebugValue:Zv,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=tw(!1),e=t[0];return t=Mk.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=vr();if(mt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Bt===null)throw Error(J(349));wo&30||xT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,nw(CT.bind(null,r,o,t),[t]),r.flags|=2048,Hl(9,IT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=vr(),e=Bt.identifierPrefix;if(mt){var n=Br,r=jr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ok++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jk={readContext:Yn,useCallback:MT,useContext:Yn,useEffect:Jv,useImperativeHandle:OT,useInsertionEffect:DT,useLayoutEffect:VT,useMemo:$T,useReducer:Sp,useRef:NT,useState:function(){return Sp(zl)},useDebugValue:Zv,useDeferredValue:function(t){var e=Xn();return FT(e,Dt.memoizedState,t)},useTransition:function(){var t=Sp(zl)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:bT,useSyncExternalStore:AT,useId:UT,unstable_isNewReconciler:!1},Bk={readContext:Yn,useCallback:MT,useContext:Yn,useEffect:Jv,useImperativeHandle:OT,useInsertionEffect:DT,useLayoutEffect:VT,useMemo:$T,useReducer:Tp,useRef:NT,useState:function(){return Tp(zl)},useDebugValue:Zv,useDeferredValue:function(t){var e=Xn();return Dt===null?e.memoizedState=t:FT(e,Dt.memoizedState,t)},useTransition:function(){var t=Tp(zl)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:bT,useSyncExternalStore:AT,useId:UT,unstable_isNewReconciler:!1};function Os(t,e){try{var n="",r=e;do n+=gP(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Rp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zk=typeof WeakMap=="function"?WeakMap:Map;function HT(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ff||(Ff=!0,rg=r),Gm(t,e)},n}function WT(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gm(t,e),typeof r!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function rw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rN.bind(null,t,e,n),e.then(t,t))}function iw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ow(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Ri(n,e,1))),n.lanes|=1),t)}var Hk=Zr.ReactCurrentOwner,bn=!1;function mn(t,e,n,r){e.child=t===null?TT(e,null,n,r):Vs(e,t.child,n,r)}function sw(t,e,n,r,i){n=n.render;var o=e.ref;return Es(e,i),r=Yv(t,e,n,r,o,i),n=Xv(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(mt&&n&&$v(e),e.flags|=1,mn(t,e,r,i),e.child)}function aw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ay(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,qT(t,e,o,r,i)):(t=tf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ol,n(s,r)&&t.ref===e.ref)return Qr(t,e,i)}return e.flags|=1,t=xi(o,r),t.ref=e.ref,t.return=e,e.child=t}function qT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ol(o,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,Qr(t,e,i)}return Km(t,e,n,r,i)}function GT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(hs,Dn),Dn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(hs,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,nt(hs,Dn),Dn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,nt(hs,Dn),Dn|=r;return mn(t,e,i,n),e.child}function KT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Km(t,e,n,r,i){var o=xn(n)?yo:dn.current;return o=Ns(e,o),Es(e,i),n=Yv(t,e,n,r,o,i),r=Xv(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(mt&&r&&$v(e),e.flags|=1,mn(t,e,n,i),e.child)}function lw(t,e,n,r,i){if(xn(n)){var o=!0;Cf(e)}else o=!1;if(Es(e,i),e.stateNode===null)Jc(t,e),ET(e,n,r),qm(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yn(u):(u=xn(n)?yo:dn.current,u=Ns(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Z_(e,s,r,u),oi=!1;var d=e.memoizedState;s.state=d,Vf(e,r,s,i),l=e.memoizedState,a!==r||d!==l||An.current||oi?(typeof c=="function"&&(Wm(e,n,c,r),l=e.memoizedState),(a=oi||J_(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,_T(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:nr(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=xn(n)?yo:dn.current,l=Ns(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Z_(e,s,r,l),oi=!1,d=e.memoizedState,s.state=d,Vf(e,r,s,i);var m=e.memoizedState;a!==f||d!==m||An.current||oi?(typeof h=="function"&&(Wm(e,n,h,r),m=e.memoizedState),(u=oi||J_(e,n,u,r,d,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Qm(t,e,n,r,o,i)}function Qm(t,e,n,r,i,o){KT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&G_(e,n,!1),Qr(t,e,o);r=e.stateNode,Hk.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Vs(e,t.child,null,o),e.child=Vs(e,null,a,o)):mn(t,e,a,o),e.memoizedState=r.state,i&&G_(e,n,!0),e.child}function QT(t){var e=t.stateNode;e.pendingContext?q_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q_(t,e.context,!1),qv(t,e.containerInfo)}function uw(t,e,n,r,i){return Ds(),Uv(i),e.flags|=256,mn(t,e,n,r),e.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Xm(t){return{baseLanes:t,cachePool:null,transitions:null}}function YT(t,e,n){var r=e.pendingProps,i=_t.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(_t,i&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ud(s,r,0,null),t=fo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Xm(n),e.memoizedState=Ym,t):ey(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Wk(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=xi(a,o):(o=fo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Xm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ym,r}return o=t.child,t=o.sibling,r=xi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ey(t,e){return e=Ud({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uc(t,e,n,r){return r!==null&&Uv(r),Vs(e,t.child,null,n),t=ey(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wk(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Rp(Error(J(422))),uc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ud({mode:"visible",children:r.children},i,0,null),o=fo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Vs(e,t.child,null,s),e.child.memoizedState=Xm(s),e.memoizedState=Ym,o);if(!(e.mode&1))return uc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(J(419)),r=Rp(o,r,void 0),uc(t,e,s,r)}if(a=(s&t.childLanes)!==0,bn||a){if(r=Bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Kr(t,i),cr(r,t,i,-1))}return sy(),r=Rp(Error(J(421))),uc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iN.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Vn=Ti(i.nextSibling),Mn=e,mt=!0,or=null,t!==null&&(Wn[qn++]=jr,Wn[qn++]=Br,Wn[qn++]=_o,jr=t.id,Br=t.overflow,_o=e),e=ey(e,r.children),e.flags|=4096,e)}function cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hm(t.return,e,n)}function bp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function XT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mn(t,e,r.children,n),r=_t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cw(t,n,e);else if(t.tag===19)cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(_t,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bp(e,!0,n,null,o);break;case"together":bp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Eo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qk(t,e,n){switch(e.tag){case 3:QT(e),Ds();break;case 5:RT(e);break;case 1:xn(e.type)&&Cf(e);break;case 4:qv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(Nf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?YT(t,e,n):(nt(_t,_t.current&1),t=Qr(t,e,n),t!==null?t.sibling:null);nt(_t,_t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(_t,_t.current),r)break;return null;case 22:case 23:return e.lanes=0,GT(t,e,n)}return Qr(t,e,n)}var JT,Jm,ZT,eR;JT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jm=function(){};ZT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,io(Rr.current);var o=null;switch(n){case"input":i=wm(t,i),r=wm(t,r),o=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),o=[];break;case"textarea":i=Tm(t,i),r=Tm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xf)}bm(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};eR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ta(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gk(t,e,n){var r=e.pendingProps;switch(Fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return xn(e.type)&&If(),nn(e),null;case 3:return r=e.stateNode,Ls(),ft(An),ft(dn),Kv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ac(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(sg(or),or=null))),Jm(t,e),nn(e),null;case 5:Gv(e);var i=io(jl.current);if(n=e.type,t!==null&&e.stateNode!=null)ZT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return nn(e),null}if(t=io(Rr.current),ac(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[yr]=e,r[Fl]=o,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<Ba.length;i++)st(Ba[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":__(r,o),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},st("invalid",r);break;case"textarea":E_(r,o),st("invalid",r)}bm(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",""+a]):Cl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&st("scroll",r)}switch(n){case"input":Ju(r),w_(r,o,!0);break;case"textarea":Ju(r),S_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=x1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[yr]=e,t[Fl]=r,JT(t,e,!1,!1),e.stateNode=t;e:{switch(s=Am(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ba.length;i++)st(Ba[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":__(t,r),i=wm(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),st("invalid",t);break;case"textarea":E_(t,r),i=Tm(t,r),st("invalid",t);break;default:i=r}bm(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?P1(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&I1(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pl(t,l):typeof l=="number"&&Pl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&st("scroll",t):l!=null&&Rv(t,o,l,s))}switch(n){case"input":Ju(t),w_(t,r,!1);break;case"textarea":Ju(t),S_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ni(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?vs(t,!!r.multiple,o,!1):r.defaultValue!=null&&vs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)eR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=io(jl.current),io(Rr.current),ac(e)){if(r=e.stateNode,n=e.memoizedProps,r[yr]=e,(o=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:sc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yr]=e,e.stateNode=r}return nn(e),null;case 13:if(ft(_t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&Vn!==null&&e.mode&1&&!(e.flags&128))vT(),Ds(),e.flags|=98560,o=!1;else if(o=ac(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[yr]=e}else Ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),o=!1}else or!==null&&(sg(or),or=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Vt===0&&(Vt=3):sy())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return Ls(),Jm(t,e),t===null&&Ml(e.stateNode.containerInfo),nn(e),null;case 10:return zv(e.type._context),nn(e),null;case 17:return xn(e.type)&&If(),nn(e),null;case 19:if(ft(_t),o=e.memoizedState,o===null)return nn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ta(o,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Lf(t),s!==null){for(e.flags|=128,Ta(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(_t,_t.current&1|2),e.child}t=t.sibling}o.tail!==null&&It()>Ms&&(e.flags|=128,r=!0,Ta(o,!1),e.lanes=4194304)}else{if(!r)if(t=Lf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ta(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!mt)return nn(e),null}else 2*It()-o.renderingStartTime>Ms&&n!==1073741824&&(e.flags|=128,r=!0,Ta(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=It(),e.sibling=null,n=_t.current,nt(_t,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return oy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function Kk(t,e){switch(Fv(e),e.tag){case 1:return xn(e.type)&&If(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ls(),ft(An),ft(dn),Kv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gv(e),null;case 13:if(ft(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(_t),null;case 4:return Ls(),null;case 10:return zv(e.type._context),null;case 22:case 23:return oy(),null;case 24:return null;default:return null}}var cc=!1,ln=!1,Qk=typeof WeakSet=="function"?WeakSet:Set,he=null;function ds(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function Zm(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var fw=!1;function Yk(t,e){if(Om=Rf,t=iT(),Mv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mm={focusedElem:t,selectionRange:n},Rf=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,T=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:nr(e.type,y),T);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){Rt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return m=fw,fw=!1,m}function sl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Zm(e,n,o)}i=i.next}while(i!==r)}}function $d(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function eg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tR(t){var e=t.alternate;e!==null&&(t.alternate=null,tR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[Fl],delete e[Um],delete e[Nk],delete e[Dk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nR(t){return t.tag===5||t.tag===3||t.tag===4}function dw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xf));else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}function ng(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ng(t,e,n),t=t.sibling;t!==null;)ng(t,e,n),t=t.sibling}var qt=null,ir=!1;function ri(t,e,n){for(n=n.child;n!==null;)rR(t,e,n),n=n.sibling}function rR(t,e,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Pd,n)}catch{}switch(n.tag){case 5:ln||ds(n,e);case 6:var r=qt,i=ir;qt=null,ri(t,e,n),qt=r,ir=i,qt!==null&&(ir?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(ir?(t=qt,n=n.stateNode,t.nodeType===8?yp(t.parentNode,n):t.nodeType===1&&yp(t,n),Vl(t)):yp(qt,n.stateNode));break;case 4:r=qt,i=ir,qt=n.stateNode.containerInfo,ir=!0,ri(t,e,n),qt=r,ir=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Zm(n,e,s),i=i.next}while(i!==r)}ri(t,e,n);break;case 1:if(!ln&&(ds(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,ri(t,e,n),ln=r):ri(t,e,n);break;default:ri(t,e,n)}}function hw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qk),e.forEach(function(r){var i=oN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,ir=!1;break e;case 3:qt=a.stateNode.containerInfo,ir=!0;break e;case 4:qt=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if(qt===null)throw Error(J(160));rR(o,s,i),qt=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iR(e,t),e=e.sibling}function iR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),mr(t),r&4){try{sl(3,t,t.return),$d(3,t)}catch(y){Rt(t,t.return,y)}try{sl(5,t,t.return)}catch(y){Rt(t,t.return,y)}}break;case 1:er(e,t),mr(t),r&512&&n!==null&&ds(n,n.return);break;case 5:if(er(e,t),mr(t),r&512&&n!==null&&ds(n,n.return),t.flags&32){var i=t.stateNode;try{Pl(i,"")}catch(y){Rt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&b1(i,o),Am(a,s);var u=Am(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?P1(i,f):c==="dangerouslySetInnerHTML"?I1(i,f):c==="children"?Pl(i,f):Rv(i,c,f,u)}switch(a){case"input":Em(i,o);break;case"textarea":A1(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?vs(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?vs(i,!!o.multiple,o.defaultValue,!0):vs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Fl]=o}catch(y){Rt(t,t.return,y)}}break;case 6:if(er(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Rt(t,t.return,y)}}break;case 3:if(er(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vl(e.containerInfo)}catch(y){Rt(t,t.return,y)}break;case 4:er(e,t),mr(t);break;case 13:er(e,t),mr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ry=It())),r&4&&hw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||c,er(e,t),ln=u):er(e,t),mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(he=t,c=t.child;c!==null;){for(f=he=c;he!==null;){switch(d=he,h=d.child,d.tag){case 0:case 11:case 14:case 15:sl(4,d,d.return);break;case 1:ds(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Rt(r,n,y)}}break;case 5:ds(d,d.return);break;case 22:if(d.memoizedState!==null){mw(f);continue}}h!==null?(h.return=d,he=h):mw(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C1("display",s))}catch(y){Rt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Rt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:er(e,t),mr(t),r&4&&hw(t);break;case 21:break;default:er(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nR(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pl(i,""),r.flags&=-33);var o=dw(t);ng(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=dw(t);tg(t,a,s);break;default:throw Error(J(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xk(t,e,n){he=t,oR(t)}function oR(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||cc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=cc;var u=ln;if(cc=s,(ln=l)&&!u)for(he=i;he!==null;)s=he,l=s.child,s.tag===22&&s.memoizedState!==null?gw(i):l!==null?(l.return=s,he=l):gw(i);for(;o!==null;)he=o,oR(o),o=o.sibling;he=i,cc=a,ln=u}pw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,he=o):pw(t)}}function pw(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||$d(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&X_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Vl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}ln||e.flags&512&&eg(e)}catch(d){Rt(e,e.return,d)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function mw(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function gw(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$d(4,e)}catch(l){Rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rt(e,i,l)}}var o=e.return;try{eg(e)}catch(l){Rt(e,o,l)}break;case 5:var s=e.return;try{eg(e)}catch(l){Rt(e,s,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var Jk=Math.ceil,$f=Zr.ReactCurrentDispatcher,ty=Zr.ReactCurrentOwner,Qn=Zr.ReactCurrentBatchConfig,ze=0,Bt=null,kt=null,Xt=0,Dn=0,hs=$i(0),Vt=0,Wl=null,Eo=0,Fd=0,ny=0,al=null,Tn=null,ry=0,Ms=1/0,$r=null,Ff=!1,rg=null,bi=null,fc=!1,pi=null,Uf=0,ll=0,ig=null,Zc=-1,ef=0;function _n(){return ze&6?It():Zc!==-1?Zc:Zc=It()}function Ai(t){return t.mode&1?ze&2&&Xt!==0?Xt&-Xt:Lk.transition!==null?(ef===0&&(ef=B1()),ef):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:Q1(t.type)),t):1}function cr(t,e,n,r){if(50<ll)throw ll=0,ig=null,Error(J(185));mu(t,n,r),(!(ze&2)||t!==Bt)&&(t===Bt&&(!(ze&2)&&(Fd|=n),Vt===4&&li(t,Xt)),In(t,r),n===1&&ze===0&&!(e.mode&1)&&(Ms=It()+500,Ld&&Fi()))}function In(t,e){var n=t.callbackNode;LP(t,e);var r=Tf(t,t===Bt?Xt:0);if(r===0)n!==null&&b_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&b_(n),e===1)t.tag===0?Vk(vw.bind(null,t)):pT(vw.bind(null,t)),Pk(function(){!(ze&6)&&Fi()}),n=null;else{switch(z1(r)){case 1:n=Cv;break;case 4:n=U1;break;case 16:n=Sf;break;case 536870912:n=j1;break;default:n=Sf}n=hR(n,sR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sR(t,e){if(Zc=-1,ef=0,ze&6)throw Error(J(327));var n=t.callbackNode;if(Ss()&&t.callbackNode!==n)return null;var r=Tf(t,t===Bt?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jf(t,r);else{e=r;var i=ze;ze|=2;var o=lR();(Bt!==t||Xt!==e)&&($r=null,Ms=It()+500,co(t,e));do try{tN();break}catch(a){aR(t,a)}while(!0);Bv(),$f.current=o,ze=i,kt!==null?e=0:(Bt=null,Xt=0,e=Vt)}if(e!==0){if(e===2&&(i=km(t),i!==0&&(r=i,e=og(t,i))),e===1)throw n=Wl,co(t,0),li(t,r),In(t,It()),n;if(e===6)li(t,r);else{if(i=t.current.alternate,!(r&30)&&!Zk(i)&&(e=jf(t,r),e===2&&(o=km(t),o!==0&&(r=o,e=og(t,o))),e===1))throw n=Wl,co(t,0),li(t,r),In(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Xi(t,Tn,$r);break;case 3:if(li(t,r),(r&130023424)===r&&(e=ry+500-It(),10<e)){if(Tf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fm(Xi.bind(null,t,Tn,$r),e);break}Xi(t,Tn,$r);break;case 4:if(li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ur(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jk(r/1960))-r,10<r){t.timeoutHandle=Fm(Xi.bind(null,t,Tn,$r),r);break}Xi(t,Tn,$r);break;case 5:Xi(t,Tn,$r);break;default:throw Error(J(329))}}}return In(t,It()),t.callbackNode===n?sR.bind(null,t):null}function og(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(co(t,e).flags|=256),t=jf(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&sg(e)),t}function sg(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function Zk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!dr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e){for(e&=~ny,e&=~Fd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function vw(t){if(ze&6)throw Error(J(327));Ss();var e=Tf(t,0);if(!(e&1))return In(t,It()),null;var n=jf(t,e);if(t.tag!==0&&n===2){var r=km(t);r!==0&&(e=r,n=og(t,r))}if(n===1)throw n=Wl,co(t,0),li(t,e),In(t,It()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xi(t,Tn,$r),In(t,It()),null}function iy(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Ms=It()+500,Ld&&Fi())}}function So(t){pi!==null&&pi.tag===0&&!(ze&6)&&Ss();var e=ze;ze|=1;var n=Qn.transition,r=Ye;try{if(Qn.transition=null,Ye=1,t)return t()}finally{Ye=r,Qn.transition=n,ze=e,!(ze&6)&&Fi()}}function oy(){Dn=hs.current,ft(hs)}function co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ck(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&If();break;case 3:Ls(),ft(An),ft(dn),Kv();break;case 5:Gv(r);break;case 4:Ls();break;case 13:ft(_t);break;case 19:ft(_t);break;case 10:zv(r.type._context);break;case 22:case 23:oy()}n=n.return}if(Bt=t,kt=t=xi(t.current,null),Xt=Dn=e,Vt=0,Wl=null,ny=Fd=Eo=0,Tn=al=null,ro!==null){for(e=0;e<ro.length;e++)if(n=ro[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ro=null}return t}function aR(t,e){do{var n=kt;try{if(Bv(),Yc.current=Mf,Of){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Of=!1}if(wo=0,jt=Dt=wt=null,ol=!1,Bl=0,ty.current=null,n===null||n.return===null){Vt=1,Wl=e,kt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=iw(s);if(h!==null){h.flags&=-257,ow(h,s,a,o,e),h.mode&1&&rw(o,u,e),e=h,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){rw(o,u,e),sy();break e}l=Error(J(426))}}else if(mt&&a.mode&1){var T=iw(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),ow(T,s,a,o,e),Uv(Os(l,a));break e}}o=l=Os(l,a),Vt!==4&&(Vt=2),al===null?al=[o]:al.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=HT(o,l,e);Y_(o,g);break e;case 1:a=l;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bi===null||!bi.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=WT(o,a,e);Y_(o,b);break e}}o=o.return}while(o!==null)}cR(n)}catch(I){e=I,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function lR(){var t=$f.current;return $f.current=Mf,t===null?Mf:t}function sy(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Bt===null||!(Eo&268435455)&&!(Fd&268435455)||li(Bt,Xt)}function jf(t,e){var n=ze;ze|=2;var r=lR();(Bt!==t||Xt!==e)&&($r=null,co(t,e));do try{eN();break}catch(i){aR(t,i)}while(!0);if(Bv(),ze=n,$f.current=r,kt!==null)throw Error(J(261));return Bt=null,Xt=0,Vt}function eN(){for(;kt!==null;)uR(kt)}function tN(){for(;kt!==null&&!AP();)uR(kt)}function uR(t){var e=dR(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?cR(t):kt=e,ty.current=null}function cR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kk(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,kt=null;return}}else if(n=Gk(n,e,Dn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Vt===0&&(Vt=5)}function Xi(t,e,n){var r=Ye,i=Qn.transition;try{Qn.transition=null,Ye=1,nN(t,e,n,r)}finally{Qn.transition=i,Ye=r}return null}function nN(t,e,n,r){do Ss();while(pi!==null);if(ze&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(OP(t,o),t===Bt&&(kt=Bt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fc||(fc=!0,hR(Sf,function(){return Ss(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qn.transition,Qn.transition=null;var s=Ye;Ye=1;var a=ze;ze|=4,ty.current=null,Yk(t,n),iR(n,t),Sk(Mm),Rf=!!Om,Mm=Om=null,t.current=n,Xk(n),xP(),ze=a,Ye=s,Qn.transition=o}else t.current=n;if(fc&&(fc=!1,pi=t,Uf=i),o=t.pendingLanes,o===0&&(bi=null),PP(n.stateNode),In(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ff)throw Ff=!1,t=rg,rg=null,t;return Uf&1&&t.tag!==0&&Ss(),o=t.pendingLanes,o&1?t===ig?ll++:(ll=0,ig=t):ll=0,Fi(),null}function Ss(){if(pi!==null){var t=z1(Uf),e=Qn.transition,n=Ye;try{if(Qn.transition=null,Ye=16>t?16:t,pi===null)var r=!1;else{if(t=pi,pi=null,Uf=0,ze&6)throw Error(J(331));var i=ze;for(ze|=4,he=t.current;he!==null;){var o=he,s=o.child;if(he.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(he=u;he!==null;){var c=he;switch(c.tag){case 0:case 11:case 15:sl(8,c,o)}var f=c.child;if(f!==null)f.return=c,he=f;else for(;he!==null;){c=he;var d=c.sibling,h=c.return;if(tR(c),c===u){he=null;break}if(d!==null){d.return=h,he=d;break}he=h}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}he=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,he=s;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sl(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,he=g;break e}he=o.return}}var p=t.current;for(he=p;he!==null;){s=he;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,he=v;else e:for(s=p;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$d(9,a)}}catch(I){Rt(a,a.return,I)}if(a===s){he=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,he=b;break e}he=a.return}}if(ze=i,Fi(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Pd,t)}catch{}r=!0}return r}finally{Ye=n,Qn.transition=e}}return!1}function yw(t,e,n){e=Os(n,e),e=HT(t,e,1),t=Ri(t,e,1),e=_n(),t!==null&&(mu(t,1,e),In(t,e))}function Rt(t,e,n){if(t.tag===3)yw(t,t,n);else for(;e!==null;){if(e.tag===3){yw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bi===null||!bi.has(r))){t=Os(n,t),t=WT(e,t,1),e=Ri(e,t,1),t=_n(),e!==null&&(mu(e,1,t),In(e,t));break}}e=e.return}}function rN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,Bt===t&&(Xt&n)===n&&(Vt===4||Vt===3&&(Xt&130023424)===Xt&&500>It()-ry?co(t,0):ny|=n),In(t,e)}function fR(t,e){e===0&&(t.mode&1?(e=tc,tc<<=1,!(tc&130023424)&&(tc=4194304)):e=1);var n=_n();t=Kr(t,e),t!==null&&(mu(t,e,n),In(t,n))}function iN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fR(t,n)}function oN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),fR(t,n)}var dR;dR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,qk(t,e,n);bn=!!(t.flags&131072)}else bn=!1,mt&&e.flags&1048576&&mT(e,kf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jc(t,e),t=e.pendingProps;var i=Ns(e,dn.current);Es(e,n),i=Yv(null,e,r,t,i,n);var o=Xv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(o=!0,Cf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wv(e),i.updater=Od,e.stateNode=i,i._reactInternals=e,qm(e,r,t,n),e=Qm(null,e,r,!0,o,n)):(e.tag=0,mt&&o&&$v(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aN(r),t=nr(r,t),i){case 0:e=Km(null,e,r,t,n);break e;case 1:e=lw(null,e,r,t,n);break e;case 11:e=sw(null,e,r,t,n);break e;case 14:e=aw(null,e,r,nr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Km(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),lw(t,e,r,i,n);case 3:e:{if(QT(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,_T(t,e),Vf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Os(Error(J(423)),e),e=uw(t,e,r,n,i);break e}else if(r!==i){i=Os(Error(J(424)),e),e=uw(t,e,r,n,i);break e}else for(Vn=Ti(e.stateNode.containerInfo.firstChild),Mn=e,mt=!0,or=null,n=TT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ds(),r===i){e=Qr(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return RT(e),t===null&&zm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,$m(r,i)?s=null:o!==null&&$m(r,o)&&(e.flags|=32),KT(t,e),mn(t,e,s,n),e.child;case 6:return t===null&&zm(e),null;case 13:return YT(t,e,n);case 4:return qv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vs(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),sw(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,nt(Nf,r._currentValue),r._currentValue=s,o!==null)if(dr(o.value,s)){if(o.children===i.children&&!An.current){e=Qr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Hr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hm(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(J(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Hm(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Es(e,n),i=Yn(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=nr(r,e.pendingProps),i=nr(r.type,i),aw(t,e,r,i,n);case 15:return qT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Jc(t,e),e.tag=1,xn(r)?(t=!0,Cf(e)):t=!1,Es(e,n),ET(e,r,i),qm(e,r,i,n),Qm(null,e,r,!0,t,n);case 19:return XT(t,e,n);case 22:return GT(t,e,n)}throw Error(J(156,e.tag))};function hR(t,e){return F1(t,e)}function sN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new sN(t,e,n,r)}function ay(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aN(t){if(typeof t=="function")return ay(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Av)return 11;if(t===xv)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ay(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case rs:return fo(n.children,i,o,e);case bv:s=8,i|=8;break;case gm:return t=Kn(12,n,e,i|2),t.elementType=gm,t.lanes=o,t;case vm:return t=Kn(13,n,e,i),t.elementType=vm,t.lanes=o,t;case ym:return t=Kn(19,n,e,i),t.elementType=ym,t.lanes=o,t;case S1:return Ud(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w1:s=10;break e;case E1:s=9;break e;case Av:s=11;break e;case xv:s=14;break e;case ii:s=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Kn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function fo(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function Ud(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=S1,t.lanes=n,t.stateNode={isHidden:!1},t}function Ap(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function xp(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ap(0),this.expirationTimes=ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ap(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ly(t,e,n,r,i,o,s,a,l){return t=new lN(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wv(o),t}function uN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ns,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pR(t){if(!t)return Di;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(xn(n))return hT(t,n,e)}return e}function mR(t,e,n,r,i,o,s,a,l){return t=ly(n,r,!0,t,i,o,s,a,l),t.context=pR(null),n=t.current,r=_n(),i=Ai(n),o=Hr(r,i),o.callback=e??null,Ri(n,o,i),t.current.lanes=i,mu(t,i,r),In(t,r),t}function jd(t,e,n,r){var i=e.current,o=_n(),s=Ai(i);return n=pR(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ri(i,e,s),t!==null&&(cr(t,i,s,o),Qc(t,i,s)),s}function Bf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _w(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uy(t,e){_w(t,e),(t=t.alternate)&&_w(t,e)}function cN(){return null}var gR=typeof reportError=="function"?reportError:function(t){console.error(t)};function cy(t){this._internalRoot=t}Bd.prototype.render=cy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));jd(t,e,null,null)};Bd.prototype.unmount=cy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;So(function(){jd(null,t,null,null)}),e[Gr]=null}};function Bd(t){this._internalRoot=t}Bd.prototype.unstable_scheduleHydration=function(t){if(t){var e=q1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ai.length&&e!==0&&e<ai[n].priority;n++);ai.splice(n,0,t),n===0&&K1(t)}};function fy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ww(){}function fN(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Bf(s);o.call(u)}}var s=mR(e,r,t,0,null,!1,!1,"",ww);return t._reactRootContainer=s,t[Gr]=s.current,Ml(t.nodeType===8?t.parentNode:t),So(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Bf(l);a.call(u)}}var l=ly(t,0,!1,null,null,!1,!1,"",ww);return t._reactRootContainer=l,t[Gr]=l.current,Ml(t.nodeType===8?t.parentNode:t),So(function(){jd(e,l,n,r)}),l}function Hd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Bf(s);a.call(l)}}jd(e,s,t,i)}else s=fN(n,e,t,i,r);return Bf(s)}H1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ja(e.pendingLanes);n!==0&&(Pv(e,n|1),In(e,It()),!(ze&6)&&(Ms=It()+500,Fi()))}break;case 13:So(function(){var r=Kr(t,1);if(r!==null){var i=_n();cr(r,t,1,i)}}),uy(t,1)}};kv=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=_n();cr(e,t,134217728,n)}uy(t,134217728)}};W1=function(t){if(t.tag===13){var e=Ai(t),n=Kr(t,e);if(n!==null){var r=_n();cr(n,t,e,r)}uy(t,e)}};q1=function(){return Ye};G1=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};Im=function(t,e,n){switch(e){case"input":if(Em(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vd(r);if(!i)throw Error(J(90));R1(r),Em(r,i)}}}break;case"textarea":A1(t,n);break;case"select":e=n.value,e!=null&&vs(t,!!n.multiple,e,!1)}};D1=iy;V1=So;var dN={usingClientEntryPoint:!1,Events:[vu,as,Vd,k1,N1,iy]},Ra={findFiberByHostInstance:no,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hN={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||cN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Pd=dc.inject(hN),Tr=dc}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dN;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fy(e))throw Error(J(200));return uN(t,e,null,n)};Un.createRoot=function(t,e){if(!fy(t))throw Error(J(299));var n=!1,r="",i=gR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ly(t,1,!1,null,null,n,!1,r,i),t[Gr]=e.current,Ml(t.nodeType===8?t.parentNode:t),new cy(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=M1(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return So(t)};Un.hydrate=function(t,e,n){if(!zd(e))throw Error(J(200));return Hd(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!fy(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=gR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=mR(e,null,t,1,n??null,i,!1,o,s),t[Gr]=e.current,Ml(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bd(e)};Un.render=function(t,e,n){if(!zd(e))throw Error(J(200));return Hd(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!zd(t))throw Error(J(40));return t._reactRootContainer?(So(function(){Hd(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};Un.unstable_batchedUpdates=iy;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zd(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Hd(t,e,n,!1,r)};Un.version="18.2.0-next-9e3b772b8-20220608";function vR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vR)}catch(t){console.error(t)}}vR(),m1.exports=Un;var dy=m1.exports;const pN=vv(dy);var Ew=dy;pm.createRoot=Ew.createRoot,pm.hydrateRoot=Ew.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}var mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mi||(mi={}));const Sw="popstate";function mN(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Do(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ag("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:yR(o))}function r(i,o){Wd(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return vN(e,n,r,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gN(){return Math.random().toString(36).substr(2,8)}function Tw(t,e){return{usr:t.state,key:t.key,idx:e}}function ag(t,e,n,r){return n===void 0&&(n=null),ql({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Do(e):e,{state:n,key:e&&e.key||r||gN()})}function yR(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Do(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=mi.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(ql({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=mi.Pop;let T=c(),g=T==null?null:T-u;u=T,l&&l({action:a,location:y.location,delta:g})}function d(T,g){a=mi.Push;let p=ag(y.location,T,g);n&&n(p,T),u=c()+1;let v=Tw(p,u),b=y.createHref(p);try{s.pushState(v,"",b)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(b)}o&&l&&l({action:a,location:y.location,delta:1})}function h(T,g){a=mi.Replace;let p=ag(y.location,T,g);n&&n(p,T),u=c();let v=Tw(p,u),b=y.createHref(p);s.replaceState(v,"",b),o&&l&&l({action:a,location:y.location,delta:0})}function m(T){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof T=="string"?T:yR(T);return Lt(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return t(i,s)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Sw,f),l=T,()=>{i.removeEventListener(Sw,f),l=null}},createHref(T){return e(i,T)},createURL:m,encodeLocation(T){let g=m(T);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(T){return s.go(T)}};return y}var Rw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rw||(Rw={}));function yN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Do(e):e,i=ER(r.pathname||"/",n);if(i==null)return null;let o=_R(t);_N(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=IN(o[a],kN(i));return s}function _R(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ho([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_R(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:AN(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of wR(o.path))i(o,s,l)}),e}function wR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=wR(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _N(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wN=/^:\w+$/,EN=3,SN=2,TN=1,RN=10,bN=-2,bw=t=>t==="*";function AN(t,e){let n=t.split("/"),r=n.length;return n.some(bw)&&(r+=bN),e&&(r+=SN),n.filter(i=>!bw(i)).reduce((i,o)=>i+(wN.test(o)?EN:o===""?TN:RN),r)}function xN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IN(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=CN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:ho([i,c.pathname]),pathnameBase:$N(ho([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=ho([i,c.pathnameBase]))}return o}function CN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=NN(m||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function PN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kN(t){try{return decodeURI(t)}catch(e){return Wd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function NN(t,e){try{return decodeURIComponent(t)}catch(n){return Wd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ER(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Do(t):t;return{pathname:n?n.startsWith("/")?n:VN(n,e):e,search:FN(r),hash:UN(i)}}function VN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ip(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ON(t,e){let n=LN(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function MN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Do(t):(i=ql({},t),Lt(!i.pathname||!i.pathname.includes("?"),Ip("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),Ip("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),Ip("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=DN(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ho=t=>t.join("/").replace(/\/\/+/g,"/"),$N=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SR=["post","put","patch","delete"];new Set(SR);const BN=["get",...SR];new Set(BN);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}const hy=A.createContext(null),zN=A.createContext(null),qd=A.createContext(null),Gd=A.createContext(null),ra=A.createContext({outlet:null,matches:[],isDataRoute:!1}),TR=A.createContext(null);function Kd(){return A.useContext(Gd)!=null}function py(){return Kd()||Lt(!1),A.useContext(Gd).location}function RR(t){A.useContext(qd).static||A.useLayoutEffect(t)}function bR(){let{isDataRoute:t}=A.useContext(ra);return t?n2():HN()}function HN(){Kd()||Lt(!1);let t=A.useContext(hy),{basename:e,future:n,navigator:r}=A.useContext(qd),{matches:i}=A.useContext(ra),{pathname:o}=py(),s=JSON.stringify(ON(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return RR(()=>{a.current=!0}),A.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=MN(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ho([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function WN(t,e){return qN(t,e)}function qN(t,e,n,r){Kd()||Lt(!1);let{navigator:i}=A.useContext(qd),{matches:o}=A.useContext(ra),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=py(),c;if(e){var f;let T=typeof e=="string"?Do(e):e;l==="/"||(f=T.pathname)!=null&&f.startsWith(l)||Lt(!1),c=T}else c=u;let d=c.pathname||"/",h=l==="/"?d:d.slice(l.length)||"/",m=yN(t,{pathname:h}),y=XN(m&&m.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:ho([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:ho([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&y?A.createElement(Gd.Provider,{value:{location:Gl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:mi.Pop}},y):y}function GN(){let t=t2(),e=jN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const KN=A.createElement(GN,null);class QN extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(ra.Provider,{value:this.props.routeContext},A.createElement(TR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YN(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(hy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(ra.Provider,{value:e},r)}function XN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Lt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let h,m=!1,y=null,T=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||KN,l&&(u<0&&d===0?(r2("route-fallback",!1),m=!0,T=null):u===d&&(m=!0,T=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,d+1)),p=()=>{let v;return h?v=y:m?v=T:f.route.Component?v=A.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=c,A.createElement(YN,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?A.createElement(QN,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var AR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AR||{}),zf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zf||{});function JN(t){let e=A.useContext(hy);return e||Lt(!1),e}function ZN(t){let e=A.useContext(zN);return e||Lt(!1),e}function e2(t){let e=A.useContext(ra);return e||Lt(!1),e}function xR(t){let e=e2(),n=e.matches[e.matches.length-1];return n.route.id||Lt(!1),n.route.id}function t2(){var t;let e=A.useContext(TR),n=ZN(zf.UseRouteError),r=xR(zf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function n2(){let{router:t}=JN(AR.UseNavigateStable),e=xR(zf.UseNavigateStable),n=A.useRef(!1);return RR(()=>{n.current=!0}),A.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gl({fromRouteId:e},o)))},[t,e])}const Aw={};function r2(t,e,n){!e&&!Aw[t]&&(Aw[t]=!0)}function za(t){Lt(!1)}function i2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mi.Pop,navigator:o,static:s=!1,future:a}=t;Kd()&&Lt(!1);let l=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:o,static:s,future:Gl({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Do(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:m="default"}=r,y=A.useMemo(()=>{let T=ER(c,l);return T==null?null:{location:{pathname:T,search:f,hash:d,state:h,key:m},navigationType:i}},[l,c,f,d,h,m,i]);return y==null?null:A.createElement(qd.Provider,{value:u},A.createElement(Gd.Provider,{children:n,value:y}))}function o2(t){let{children:e,location:n}=t;return WN(lg(e),n)}new Promise(()=>{});function lg(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let o=[...e,i];if(r.type===A.Fragment){n.push.apply(n,lg(r.props.children,o));return}r.type!==za&&Lt(!1),!r.props.index||!r.props.children||Lt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=lg(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const s2="startTransition",xw=iP[s2];function a2(t){let{basename:e,children:n,future:r,window:i}=t,o=A.useRef();o.current==null&&(o.current=mN({window:i,v5Compat:!0}));let s=o.current,[a,l]=A.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=A.useCallback(f=>{u&&xw?xw(()=>l(f)):l(f)},[l,u]);return A.useLayoutEffect(()=>s.listen(c),[s,c]),A.createElement(i2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Iw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Iw||(Iw={}));var Cw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cw||(Cw={}));var IR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pw=ve.createContext&&ve.createContext(IR),Ii=function(){return Ii=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ii.apply(this,arguments)},l2=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function CR(t){return t&&t.map(function(e,n){return ve.createElement(e.tag,Ii({key:n},e.attr),CR(e.child))})}function Ui(t){return function(e){return ve.createElement(u2,Ii({attr:Ii({},t.attr)},e),CR(t.child))}}function u2(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=l2(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ve.createElement("svg",Ii({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Ii(Ii({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ve.createElement("title",null,o),t.children)};return Pw!==void 0?ve.createElement(Pw.Consumer,null,function(n){return e(n)}):e(IR)}function kw(t){return Ui({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(t)}function c2(t){return Ui({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.8 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM102 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM410 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38z"}}]})(t)}const f2=()=>{const t=py(),e=bR(),n=()=>{e(-1)};return U.jsxs("div",{children:[U.jsxs("div",{className:"flex mx-2 my-2 justify-between ",children:[U.jsx("div",{className:"text-2xl",onClick:n,children:U.jsx(kw,{})}),U.jsx("div",{className:"font-semibold",children:t.pathname==="/"?"":t.pathname==="/comment"?"":""}),U.jsx("div",{className:"text-2xl text-white",onClick:n,children:U.jsx(kw,{})})]}),U.jsx("hr",{})]})};var PR={};function d2(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var h2=d2,Ne=h2;function p2(t){return!!t&&typeof t.then=="function"}var ct=p2;function m2(t,e){if(t!=null)return t;throw Ne(e??"Got unexpected null or undefined")}var gt=m2;function Ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Qd{getValue(){throw Ne("BaseLoadable")}toPromise(){throw Ne("BaseLoadable")}valueMaybe(){throw Ne("BaseLoadable")}valueOrThrow(){throw Ne(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Ne("BaseLoadable")}promiseOrThrow(){throw Ne(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Ne("BaseLoadable")}errorOrThrow(){throw Ne(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Ne("BaseLoadable")}}class g2 extends Qd{constructor(e){super(),Ie(this,"state","hasValue"),Ie(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return ct(n)?To(n):$s(n)?n:_u(n)}catch(n){return ct(n)?To(n.next(()=>this.map(e))):Yd(n)}}}class v2 extends Qd{constructor(e){super(),Ie(this,"state","hasError"),Ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class kR extends Qd{constructor(e){super(),Ie(this,"state","loading"),Ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return To(this.contents.then(n=>{const r=e(n);if($s(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(ct(n))return n.then(()=>this.map(e).contents);throw n}))}}function _u(t){return Object.freeze(new g2(t))}function Yd(t){return Object.freeze(new v2(t))}function To(t){return Object.freeze(new kR(t))}function NR(){return Object.freeze(new kR(new Promise(()=>{})))}function y2(t){return t.every(e=>e.state==="hasValue")?_u(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Yd(gt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):To(Promise.all(t.map(e=>e.contents)))}function DR(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>$s(i)?i:ct(i)?To(i):_u(i)),r=y2(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:i[a]}),{}))}function $s(t){return t instanceof Qd}const _2={of:t=>ct(t)?To(t):$s(t)?t:_u(t),error:t=>Yd(t),loading:()=>NR(),all:DR,isLoadable:$s};var Vo={loadableWithValue:_u,loadableWithError:Yd,loadableWithPromise:To,loadableLoading:NR,loadableAll:DR,isLoadable:$s,RecoilLoadable:_2},w2=Vo.loadableWithValue,E2=Vo.loadableWithError,S2=Vo.loadableWithPromise,T2=Vo.loadableLoading,R2=Vo.loadableAll,b2=Vo.isLoadable,A2=Vo.RecoilLoadable,wu=Object.freeze({__proto__:null,loadableWithValue:w2,loadableWithError:E2,loadableWithPromise:S2,loadableLoading:T2,loadableAll:R2,isLoadable:b2,RecoilLoadable:A2});const ug={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function x2(t,e){var n,r;const i=(n=PR[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Ne(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function I2(t,e){var n;const r=(n=PR[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function C2(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(x2("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{ug.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),I2("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{ug.RECOIL_GKS_ENABLED.add(n)})}))}C2();var ia=ug;function Xd(t){return ia.RECOIL_GKS_ENABLED.has(t)}Xd.setPass=t=>{ia.RECOIL_GKS_ENABLED.add(t)};Xd.setFail=t=>{ia.RECOIL_GKS_ENABLED.delete(t)};Xd.clear=()=>{ia.RECOIL_GKS_ENABLED.clear()};var tt=Xd;function P2(t,e,{error:n}={}){return null}var k2=P2,my=k2,Cp,Pp,kp;const N2=(Cp=ve.createMutableSource)!==null&&Cp!==void 0?Cp:ve.unstable_createMutableSource,VR=(Pp=ve.useMutableSource)!==null&&Pp!==void 0?Pp:ve.unstable_useMutableSource,LR=(kp=ve.useSyncExternalStore)!==null&&kp!==void 0?kp:ve.unstable_useSyncExternalStore;function D2(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function V2(){return tt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:tt("recoil_sync_external_store")&&LR!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:tt("recoil_mutable_source")&&VR!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?tt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:tt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function L2(){return!1}var Eu={createMutableSource:N2,useMutableSource:VR,useSyncExternalStore:LR,currentRendererSupportsUseSyncExternalStore:D2,reactMode:V2,isFastRefreshEnabled:L2};class gy{constructor(e){Ie(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class OR extends gy{}class MR extends gy{}function O2(t){return t instanceof OR||t instanceof MR}var Jd={AbstractRecoilValue:gy,RecoilState:OR,RecoilValueReadOnly:MR,isRecoilValue:O2},M2=Jd.AbstractRecoilValue,$2=Jd.RecoilState,F2=Jd.RecoilValueReadOnly,U2=Jd.isRecoilValue,Fs=Object.freeze({__proto__:null,AbstractRecoilValue:M2,RecoilState:$2,RecoilValueReadOnly:F2,isRecoilValue:U2});function j2(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Zd=j2;class $R{}const B2=new $R,Ro=new Map,vy=new Map;function z2(t){return Zd(t,e=>gt(vy.get(e)))}function H2(t){if(Ro.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function W2(t){ia.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&H2(t.key),Ro.set(t.key,t);const e=t.set==null?new Fs.RecoilValueReadOnly(t.key):new Fs.RecoilState(t.key);return vy.set(t.key,e),e}class FR extends Error{}function q2(t){const e=Ro.get(t);if(e==null)throw new FR(`Missing definition for RecoilValue: "${t}""`);return e}function G2(t){return Ro.get(t)}const Hf=new Map;function K2(t){var e;if(!tt("recoil_memory_managament_2020"))return;const n=Ro.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Ro.delete(t),(r=UR(t))===null||r===void 0||r(),Hf.delete(t)}}function Q2(t,e){tt("recoil_memory_managament_2020")&&(e===void 0?Hf.delete(t):Hf.set(t,e))}function UR(t){return Hf.get(t)}var kn={nodes:Ro,recoilValues:vy,registerNode:W2,getNode:q2,getNodeMaybe:G2,deleteNodeConfigIfPossible:K2,setConfigDeletionHandler:Q2,getConfigDeletionHandler:UR,recoilValuesForKeys:z2,NodeMissingError:FR,DefaultValue:$R,DEFAULT_VALUE:B2};function Y2(t,e){e()}var X2={enqueueExecution:Y2};function J2(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Z2=J2(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,l={},u=function(R){return function(){return R}},c=n.hash=function(_){var R=typeof _>"u"?"undefined":e(_);if(R==="number")return _;R!=="string"&&(_+="");for(var N=0,G=0,Y=_.length;G<Y;++G){var X=_.charCodeAt(G);N=(N<<5)-N+X|0}return N},f=function(R){return R-=R>>1&1431655765,R=(R&858993459)+(R>>2&858993459),R=R+(R>>4)&252645135,R+=R>>8,R+=R>>16,R&127},d=function(R,N){return N>>>R&o},h=function(R){return 1<<R},m=function(R,N){return f(R&N-1)},y=function(R,N,G,Y){var X=Y;if(!R){var le=Y.length;X=new Array(le);for(var ue=0;ue<le;++ue)X[ue]=Y[ue]}return X[N]=G,X},T=function(R,N,G){var Y=G.length-1,X=0,le=0,ue=G;if(R)X=le=N;else for(ue=new Array(Y);X<N;)ue[le++]=G[X++];for(++X;X<=Y;)ue[le++]=G[X++];return R&&(ue.length=Y),ue},g=function(R,N,G,Y){var X=Y.length;if(R){for(var le=X;le>=N;)Y[le--]=Y[le];return Y[N]=G,Y}for(var ue=0,ce=0,oe=new Array(X+1);ue<N;)oe[ce++]=Y[ue++];for(oe[N]=G;ue<X;)oe[++ce]=Y[ue++];return oe},p=1,v=2,b=3,I=4,E={__hamt_isEmpty:!0},S=function(R){return R===E||R&&R.__hamt_isEmpty},P=function(R,N,G,Y){return{type:p,edit:R,hash:N,key:G,value:Y,_modify:z}},M=function(R,N,G){return{type:v,edit:R,hash:N,children:G,_modify:$}},L=function(R,N,G){return{type:b,edit:R,mask:N,children:G,_modify:C}},B=function(R,N,G){return{type:I,edit:R,size:N,children:G,_modify:q}},k=function(R){return R===E||R.type===p||R.type===v},V=function(R,N,G,Y,X){for(var le=[],ue=Y,ce=0,oe=0;ue;++oe)ue&1&&(le[oe]=X[ce++]),ue>>>=1;return le[N]=G,B(R,ce+1,le)},W=function(R,N,G,Y){for(var X=new Array(N-1),le=0,ue=0,ce=0,oe=Y.length;ce<oe;++ce)if(ce!==G){var ye=Y[ce];ye&&!S(ye)&&(X[le++]=ye,ue|=1<<ce)}return L(R,ue,X)},te=function _(R,N,G,Y,X,le){if(G===X)return M(R,G,[le,Y]);var ue=d(N,G),ce=d(N,X);return L(R,h(ue)|h(ce),ue===ce?[_(R,N+r,G,Y,X,le)]:ue<ce?[Y,le]:[le,Y])},Ee=function(R,N,G,Y,X,le,ue,ce){for(var oe=X.length,ye=0;ye<oe;++ye){var et=X[ye];if(G(ue,et.key)){var ot=et.value,ht=le(ot);return ht===ot?X:ht===l?(--ce.value,T(R,ye,X)):y(R,ye,P(N,Y,ue,ht),X)}}var Qe=le();return Qe===l?X:(++ce.value,y(R,oe,P(N,Y,ue,Qe),X))},we=function(R,N){return R===N.edit},z=function(R,N,G,Y,X,le,ue){if(N(le,this.key)){var ce=Y(this.value);return ce===this.value?this:ce===l?(--ue.value,E):we(R,this)?(this.value=ce,this):P(R,X,le,ce)}var oe=Y();return oe===l?this:(++ue.value,te(R,G,this.hash,this,X,P(R,X,le,oe)))},$=function(R,N,G,Y,X,le,ue){if(X===this.hash){var ce=we(R,this),oe=Ee(ce,R,N,this.hash,this.children,Y,le,ue);return oe===this.children?this:oe.length>1?M(R,this.hash,oe):oe[0]}var ye=Y();return ye===l?this:(++ue.value,te(R,G,this.hash,this,X,P(R,X,le,ye)))},C=function(R,N,G,Y,X,le,ue){var ce=this.mask,oe=this.children,ye=d(G,X),et=h(ye),ot=m(ce,et),ht=ce&et,Qe=ht?oe[ot]:E,$t=Qe._modify(R,N,G+r,Y,X,le,ue);if(Qe===$t)return this;var Sn=we(R,this),At=ce,Nn=void 0;if(ht&&S($t)){if(At&=~et,!At)return E;if(oe.length<=2&&k(oe[ot^1]))return oe[ot^1];Nn=T(Sn,ot,oe)}else if(!ht&&!S($t)){if(oe.length>=s)return V(R,ye,$t,ce,oe);At|=et,Nn=g(Sn,ot,$t,oe)}else Nn=y(Sn,ot,$t,oe);return Sn?(this.mask=At,this.children=Nn,this):L(R,At,Nn)},q=function(R,N,G,Y,X,le,ue){var ce=this.size,oe=this.children,ye=d(G,X),et=oe[ye],ot=(et||E)._modify(R,N,G+r,Y,X,le,ue);if(et===ot)return this;var ht=we(R,this),Qe=void 0;if(S(et)&&!S(ot))++ce,Qe=y(ht,ye,ot,oe);else if(!S(et)&&S(ot)){if(--ce,ce<=a)return W(R,ce,ye,oe);Qe=y(ht,ye,E,oe)}else Qe=y(ht,ye,ot,oe);return ht?(this.size=ce,this.children=Qe,this):B(R,ce,Qe)};E._modify=function(_,R,N,G,Y,X,le){var ue=G();return ue===l?E:(++le.value,P(_,Y,X,ue))};function w(_,R,N,G,Y){this._editable=_,this._edit=R,this._config=N,this._root=G,this._size=Y}w.prototype.setTree=function(_,R){return this._editable?(this._root=_,this._size=R,this):_===this._root?this:new w(this._editable,this._edit,this._config,_,R)};var O=n.tryGetHash=function(_,R,N,G){for(var Y=G._root,X=0,le=G._config.keyEq;;)switch(Y.type){case p:return le(N,Y.key)?Y.value:_;case v:{if(R===Y.hash)for(var ue=Y.children,ce=0,oe=ue.length;ce<oe;++ce){var ye=ue[ce];if(le(N,ye.key))return ye.value}return _}case b:{var et=d(X,R),ot=h(et);if(Y.mask&ot){Y=Y.children[m(Y.mask,ot)],X+=r;break}return _}case I:{if(Y=Y.children[d(X,R)],Y){X+=r;break}return _}default:return _}};w.prototype.tryGetHash=function(_,R,N){return O(_,R,N,this)};var j=n.tryGet=function(_,R,N){return O(_,N._config.hash(R),R,N)};w.prototype.tryGet=function(_,R){return j(_,R,this)};var ne=n.getHash=function(_,R,N){return O(void 0,_,R,N)};w.prototype.getHash=function(_,R){return ne(_,R,this)},n.get=function(_,R){return O(void 0,R._config.hash(_),_,R)},w.prototype.get=function(_,R){return j(R,_,this)};var Z=n.has=function(_,R,N){return O(l,_,R,N)!==l};w.prototype.hasHash=function(_,R){return Z(_,R,this)};var me=n.has=function(_,R){return Z(R._config.hash(_),_,R)};w.prototype.has=function(_){return me(_,this)};var Se=function(R,N){return R===N};n.make=function(_){return new w(0,0,{keyEq:_&&_.keyEq||Se,hash:_&&_.hash||c},E,0)},n.empty=n.make();var pe=n.isEmpty=function(_){return _&&!!S(_._root)};w.prototype.isEmpty=function(){return pe(this)};var De=n.modifyHash=function(_,R,N,G){var Y={value:G._size},X=G._root._modify(G._editable?G._edit:NaN,G._config.keyEq,0,_,R,N,Y);return G.setTree(X,Y.value)};w.prototype.modifyHash=function(_,R,N){return De(N,_,R,this)};var Ve=n.modify=function(_,R,N){return De(_,N._config.hash(R),R,N)};w.prototype.modify=function(_,R){return Ve(R,_,this)};var Te=n.setHash=function(_,R,N,G){return De(u(N),_,R,G)};w.prototype.setHash=function(_,R,N){return Te(_,R,N,this)};var Pe=n.set=function(_,R,N){return Te(N._config.hash(_),_,R,N)};w.prototype.set=function(_,R){return Pe(_,R,this)};var Ze=u(l),ke=n.removeHash=function(_,R,N){return De(Ze,_,R,N)};w.prototype.removeHash=w.prototype.deleteHash=function(_,R){return ke(_,R,this)};var je=n.remove=function(_,R){return ke(R._config.hash(_),_,R)};w.prototype.remove=w.prototype.delete=function(_){return je(_,this)};var $e=n.beginMutation=function(_){return new w(_._editable+1,_._edit+1,_._config,_._root,_._size)};w.prototype.beginMutation=function(){return $e(this)};var Ge=n.endMutation=function(_){return _._editable=_._editable&&_._editable-1,_};w.prototype.endMutation=function(){return Ge(this)};var x=n.mutate=function(_,R){var N=$e(R);return _(N),Ge(N)};w.prototype.mutate=function(_){return x(_,this)};var D=function(R){return R&&F(R[0],R[1],R[2],R[3],R[4])},F=function(R,N,G,Y,X){for(;G<R;){var le=N[G++];if(le&&!S(le))return re(le,Y,[R,N,G,Y,X])}return D(X)},re=function(R,N,G){switch(R.type){case p:return{value:N(R),rest:G};case v:case I:case b:var Y=R.children;return F(Y.length,Y,0,N,G);default:return D(G)}},ee={done:!0};function Q(_){this.v=_}Q.prototype.next=function(){if(!this.v)return ee;var _=this.v;return this.v=D(_.rest),_},Q.prototype[Symbol.iterator]=function(){return this};var de=function(R,N){return new Q(re(R._root,N))},Re=function(R){return[R.key,R.value]},it=n.entries=function(_){return de(_,Re)};w.prototype.entries=w.prototype[Symbol.iterator]=function(){return it(this)};var vt=function(R){return R.key},dt=n.keys=function(_){return de(_,vt)};w.prototype.keys=function(){return dt(this)};var Uo=function(R){return R.value},Ki=n.values=w.prototype.values=function(_){return de(_,Uo)};w.prototype.values=function(){return Ki(this)};var pn=n.fold=function(_,R,N){var G=N._root;if(G.type===p)return _(R,G.value,G.key);for(var Y=[G.children],X=void 0;X=Y.pop();)for(var le=0,ue=X.length;le<ue;){var ce=X[le++];ce&&ce.type&&(ce.type===p?R=_(R,ce.value,ce.key):Y.push(ce.children))}return R};w.prototype.fold=function(_,R){return pn(_,R,this)};var ni=n.forEach=function(_,R){return pn(function(N,G,Y){return _(G,Y,R)},null,R)};w.prototype.forEach=function(_){return ni(_,this)};var jo=n.count=function(_){return _._size};w.prototype.count=function(){return jo(this)},Object.defineProperty(w.prototype,"size",{get:w.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class eD{constructor(e){Ie(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return _y(this)}toMap(){return new Map(this._map)}}class yy{constructor(e){if(Ie(this,"_hamt",Z2.empty.beginMutation()),e instanceof yy){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return _y(this)}toMap(){return new Map(this._hamt)}}function _y(t){return tt("recoil_hamt_2020")?new yy(t):new eD(t)}var tD={persistentMap:_y},nD=tD.persistentMap,rD=Object.freeze({__proto__:null,persistentMap:nD});function iD(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var ul=iD;function oD(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Wf=oD;function sD(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function aD(t){return{nodeDeps:Wf(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Wf(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Np(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;i.set(t,e);const a=s==null?e:ul(e,s);for(const l of a)o.has(l)||o.set(l,new Set),gt(o.get(l)).add(t);if(s){const l=ul(s,e);for(const u of l){if(!o.has(u))return;const c=gt(o.get(u));c.delete(t),c.size===0&&o.delete(u)}}}function lD(t,e,n,r){var i,o,s,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((o=l.previousTree)===null||o===void 0||o.version);const u=n.getGraph(r);if(Np(t,e,u),r===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const f=n.getGraph(l.currentTree.version);Np(t,e,f,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const f=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(f!==void 0){const d=n.getGraph(f);Np(t,e,d,u)}}}var Su={cloneGraph:aD,graph:sD,saveDepsToStore:lD};let uD=0;const cD=()=>uD++;let fD=0;const dD=()=>fD++;let hD=0;const pD=()=>hD++;var eh={getNextTreeStateVersion:cD,getNextStoreID:dD,getNextComponentID:pD};const{persistentMap:Nw}=rD,{graph:mD}=Su,{getNextTreeStateVersion:jR}=eh;function BR(){const t=jR();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Nw(),nonvalidatedAtoms:Nw()}}function gD(){const t=BR();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,mD()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var zR={makeEmptyTreeState:BR,makeEmptyStoreState:gD,getNextTreeStateVersion:jR};class HR{}function vD(){return new HR}var th={RetentionZone:HR,retentionZone:vD};function yD(t,e){const n=new Set(t);return n.add(e),n}function _D(t,e){const n=new Set(t);return n.delete(e),n}function wD(t,e,n){const r=new Map(t);return r.set(e,n),r}function ED(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function SD(t,e){const n=new Map(t);return n.delete(e),n}function TD(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var WR={setByAddingToSet:yD,setByDeletingFromSet:_D,mapBySettingInMap:wD,mapByUpdatingInMap:ED,mapByDeletingFromMap:SD,mapByDeletingMultipleFromMap:TD};function*RD(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var wy=RD;function bD(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var qR=bD;const{getNode:Tu,getNodeMaybe:AD,recoilValuesForKeys:Dw}=kn,{RetentionZone:Vw}=th,{setByAddingToSet:xD}=WR,ID=Object.freeze(new Set);class CD extends Error{}function PD(t,e,n){if(!tt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof Vw)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!tt("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof Vw)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function Ey(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Tu(n),s=PD(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function kD(t,e,n){Ey(t,t.getState().currentTree,e,n)}function ND(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function DD(t,e,n){return Ey(t,e,n,"get"),Tu(n).get(t,e)}function GR(t,e,n){return Tu(n).peek(t,e)}function VD(t,e,n){var r;const i=AD(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:xD(t.dirtyAtoms,e)}}function LD(t,e,n,r){const i=Tu(n);if(i.set==null)throw new CD(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return Ey(t,e,n,"set"),o(t,e,r)}function OD(t,e,n){const r=t.getState(),i=t.getGraph(e.version),o=Tu(n).nodeType;return qR({type:o},{loadable:()=>GR(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return Dw((s=i.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:Dw(wy(KR(t,e,new Set([n])),l=>l!==n)),components:Zd((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function KR(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:ID;for(const u of l)r.has(u)||i.push(u)}return r}var ji={getNodeLoadable:DD,peekNodeLoadable:GR,setNodeValue:LD,initializeNode:kD,cleanUpNode:ND,setUnvalidatedAtomValue_DEPRECATED:VD,peekNodeInfo:OD,getDownstreamNodes:KR};let QR=null;function MD(t){QR=t}function $D(){var t;(t=QR)===null||t===void 0||t()}var YR={setInvalidateMemoizedSnapshot:MD,invalidateMemoizedSnapshot:$D};const{getDownstreamNodes:FD,getNodeLoadable:XR,setNodeValue:UD}=ji,{getNextComponentID:jD}=eh,{getNode:BD,getNodeMaybe:JR}=kn,{DefaultValue:Sy}=kn,{reactMode:zD}=Eu,{AbstractRecoilValue:HD,RecoilState:WD,RecoilValueReadOnly:qD,isRecoilValue:GD}=Fs,{invalidateMemoizedSnapshot:KD}=YR;function QD(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=o.previousTree)===null||i===void 0||i.version);const s=XR(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function YD(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Sy?n.delete(i):n.set(i,r)}),n}function XD(t,e,{key:n},r){if(typeof r=="function"){const i=XR(t,e,n);if(i.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Ne(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function JD(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=XD(t,e,i,o),a=UD(t,e,i.key,s);for(const[l,u]of a.entries())cg(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;cg(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=JR(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else my(`Unknown action ${n.type}`)}function cg(t,e,n){n.state==="hasValue"&&n.contents instanceof Sy?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function ZR(t,e){t.replaceState(n=>{const r=eb(n);for(const i of e)JD(t,r,i);return tb(t,r),KD(),r})}function nh(t,e){if(cl.length){const n=cl[cl.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else ZR(t,[e])}const cl=[];function ZD(){const t=new Map;return cl.push(t),()=>{for(const[e,n]of t)ZR(e,n);cl.pop()}}function eb(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function tb(t,e){const n=FD(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=JR(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function nb(t,e,n){nh(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function eV(t,e,n){if(n instanceof Sy)return nb(t,e,n);nh(t,{type:"setLoadable",recoilValue:e,loadable:n})}function tV(t,e){nh(t,{type:"markModified",recoilValue:e})}function nV(t,e,n){nh(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function rV(t,{key:e},n,r=null){const i=jD(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),gt(o.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const s=zD();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function iV(t,e){var n;const{currentTree:r}=t.getState(),i=BD(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var kr={RecoilValueReadOnly:qD,AbstractRecoilValue:HD,RecoilState:WD,getRecoilValueAsLoadable:QD,setRecoilValue:nb,setRecoilValueLoadable:eV,markRecoilValueModified:tV,setUnvalidatedRecoilValue:nV,subscribeToRecoilValue:rV,isRecoilValue:GD,applyAtomValueWrites:YD,batchStart:ZD,writeLoadableToTreeState:cg,invalidateDownstreams:tb,copyTreeState:eb,refreshRecoilValue:iV};function oV(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var sV=oV;const{cleanUpNode:aV}=ji,{deleteNodeConfigIfPossible:lV,getNode:rb}=kn,{RetentionZone:ib}=th,uV=12e4,ob=new Set;function sb(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const s of e)if(s instanceof ib)for(const a of hV(n,s))i.add(a);else i.add(s);const o=cV(t,i);for(const s of o)dV(t,r,s)}function cV(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(l){const u=new Set,c=fV(t,r,l,o,s);for(const m of c){var f;if(rb(m).retainedBy==="recoilRoot"){s.add(m);continue}if(((f=n.retention.referenceCounts.get(m))!==null&&f!==void 0?f:0)>0){s.add(m);continue}if(ab(m).some(T=>n.retention.referenceCounts.get(T))){s.add(m);continue}const y=i.nodeToNodeSubscriptions.get(m);if(y&&sV(y,T=>s.has(T))){s.add(m);continue}o.add(m),u.add(m)}const d=new Set;for(const m of u)for(const y of(h=i.nodeDeps.get(m))!==null&&h!==void 0?h:ob){var h;o.has(y)||d.add(y)}d.size&&a(d)}}function fV(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(gt(n.values().next().value));return s;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=o.nodeToNodeSubscriptions.get(u);if(c)for(const f of c)l(f);a.add(u),n.delete(u),s.push(u)}}function dV(t,e,n){if(!tt("recoil_memory_managament_2020"))return;aV(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=ab(n);for(const l of i){var o;(o=r.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const u of l){var a;(a=s.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}lV(n)}function hV(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:ob}function ab(t){const e=rb(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof ib?[e]:e}function pV(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):sb(t,new Set([e]))}function mV(t,e,n){var r;if(!tt("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?lb(t,e):i.set(e,o)}function lb(t,e){if(!tt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),pV(t,e)}function gV(t){if(!tt("recoil_memory_managament_2020"))return;const e=t.getState();sb(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function vV(t){return t===void 0?"recoilRoot":t}var Lo={SUSPENSE_TIMEOUT_MS:uV,updateRetainCount:mV,updateRetainCountToZero:lb,releaseScheduledRetainablesNow:gV,retainedByOptionWithDefault:vV};const{unstable_batchedUpdates:yV}=pN;var _V={unstable_batchedUpdates:yV};const{unstable_batchedUpdates:wV}=_V;var EV={unstable_batchedUpdates:wV};const{batchStart:SV}=kr,{unstable_batchedUpdates:TV}=EV;let Ty=TV||(t=>t());const RV=t=>{Ty=t},bV=()=>Ty,AV=t=>{Ty(()=>{let e=()=>{};try{e=SV(),t()}finally{e()}})};var rh={getBatcher:bV,setBatcher:RV,batchUpdates:AV};function*xV(t){for(const e of t)for(const n of e)yield n}var ub=xV;const cb=typeof Window>"u"||typeof window>"u",IV=t=>!cb&&(t===window||t instanceof Window),CV=typeof navigator<"u"&&navigator.product==="ReactNative";var ih={isSSR:cb,isReactNative:CV,isWindow:IV};function PV(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function kV(t,e){let n,r;return(...i)=>{const o=e(...i);return n===o||(n=o,r=t(...i)),r}}function NV(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var DV={memoizeWithArgsHash:PV,memoizeOneWithArgsHash:kV,memoizeOneWithArgsHashAndInvalidation:NV};const{batchUpdates:fg}=rh,{initializeNode:VV,peekNodeInfo:LV}=ji,{graph:OV}=Su,{getNextStoreID:MV}=eh,{DEFAULT_VALUE:$V,recoilValues:Lw,recoilValuesForKeys:Ow}=kn,{AbstractRecoilValue:FV,getRecoilValueAsLoadable:UV,setRecoilValue:Mw,setUnvalidatedRecoilValue:jV}=kr,{updateRetainCount:nf}=Lo,{setInvalidateMemoizedSnapshot:BV}=YR,{getNextTreeStateVersion:zV,makeEmptyStoreState:HV}=zR,{isSSR:WV}=ih,{memoizeOneWithArgsHashAndInvalidation:qV}=DV;class oh{constructor(e,n){Ie(this,"_store",void 0),Ie(this,"_refCount",1),Ie(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),UV(this._store,r))),Ie(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Ie(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return Ow(s.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?Lw.values():r.isInitialized===!0?Ow(ub([i,o])):wy(Lw.values(),({key:s})=>!i.has(s)&&!o.has(s))}),Ie(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),LV(this._store,this._store.getState().currentTree,r))),Ie(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new dg(this,fg);return r(i),i}),Ie(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new dg(this,fg);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:MV(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return gt(i.get(r));const o=OV();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Ne("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)VV(this._store,r,"get"),nf(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){WV||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!tt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){tt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function fb(t,e,n=!1){const r=t.getState(),i=n?zV():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Zd(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function GV(t){const e=new oh(HV());return t!=null?e.map(t):e}const[$w,db]=qV((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:gt(r.previousTree);return new oh(fb(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});BV(db);function KV(t,e="latest"){const n=$w(t,e);return n.isRetained()?n:(db(),$w(t,e))}class dg extends oh{constructor(e,n){super(fb(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ie(this,"_batch",void 0),Ie(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{nf(o,r.key,1),Mw(this.getStore_INTERNAL(),r,i)})}),Ie(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{nf(i,r.key,1),Mw(this.getStore_INTERNAL(),r,$V)})}),Ie(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();fg(()=>{for(const[o,s]of r.entries())nf(i,o,1),jV(i,new FV(o),s)})}),this._batch=n}}var sh={Snapshot:oh,MutableSnapshot:dg,freshSnapshot:GV,cloneSnapshot:KV},QV=sh.Snapshot,YV=sh.MutableSnapshot,XV=sh.freshSnapshot,JV=sh.cloneSnapshot,ah=Object.freeze({__proto__:null,Snapshot:QV,MutableSnapshot:YV,freshSnapshot:XV,cloneSnapshot:JV});function ZV(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var eL=ZV;const{useRef:tL}=ve;function nL(t){const e=tL(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var Fw=nL;const{getNextTreeStateVersion:rL,makeEmptyStoreState:hb}=zR,{cleanUpNode:iL,getDownstreamNodes:oL,initializeNode:sL,setNodeValue:aL,setUnvalidatedAtomValue_DEPRECATED:lL}=ji,{graph:uL}=Su,{cloneGraph:cL}=Su,{getNextStoreID:pb}=eh,{createMutableSource:Dp,reactMode:mb}=Eu,{applyAtomValueWrites:fL}=kr,{releaseScheduledRetainablesNow:gb}=Lo,{freshSnapshot:dL}=ah,{useCallback:hL,useContext:vb,useEffect:hg,useMemo:pL,useRef:mL,useState:gL}=ve;function ba(){throw Ne("This component must be used inside a <RecoilRoot> component.")}const yb=Object.freeze({storeID:pb(),getState:ba,replaceState:ba,getGraph:ba,subscribeToTransactions:ba,addTransactionMetadata:ba});let pg=!1;function Uw(t){if(pg)throw Ne("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){tt("recoil_memory_managament_2020")&&tt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&gb(t);const n=e.currentTree.version,r=rL();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,cL(gt(e.graphsByVersion.get(n))))}}const _b=ve.createContext({current:yb}),lh=()=>vb(_b),wb=ve.createContext(null);function vL(){return vb(wb)}function Ry(t,e,n){const r=oL(t,n,n.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[s,[a,l]]of o)l(n)}}function Eb(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[s,a]of o)a(t);for(const[i,o]of e.transactionSubscriptions)o(t);(!mb().early||e.suspendedComponentResolvers.size>0)&&(Ry(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function yL(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,Eb(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):my("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,tt("recoil_memory_managament_2020")&&n==null&&gb(t)}finally{e.commitDepth--}}function _L({setNotifyBatcherOfChange:t}){const e=lh(),[,n]=gL([]);return t(()=>n({})),hg(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),hg(()=>{X2.enqueueExecution("Batcher",()=>{yL(e.current)})}),null}function wL(t,e){const n=hb();return e({set:(r,i)=>{const o=n.currentTree,s=aL(t,o,r.key,i),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...o,dirtyAtoms:eL(o.dirtyAtoms,a),atomValues:fL(o.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=lL(n.currentTree,o,i)})}}),n}function EL(t){const e=dL(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let jw=0;function SL({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const o=h=>{const m=i.current.graphsByVersion;if(m.has(h))return gt(m.get(h));const y=uL();return m.set(h,y),y},s=(h,m)=>{if(m==null){const{transactionSubscriptions:y}=f.current.getState(),T=jw++;return y.set(T,h),{release:()=>{y.delete(T)}}}else{const{nodeTransactionSubscriptions:y}=f.current.getState();y.has(m)||y.set(m,new Map);const T=jw++;return gt(y.get(m)).set(T,h),{release:()=>{const g=y.get(m);g&&(g.delete(T),g.size===0&&y.delete(m))}}}},a=h=>{Uw(f.current);for(const m of Object.keys(h))gt(f.current.getState().nextTree).transactionMetadata[m]=h[m]},l=h=>{Uw(f.current);const m=gt(i.current.nextTree);let y;try{pg=!0,y=h(m)}finally{pg=!1}y!==m&&(i.current.nextTree=y,mb().early&&Ry(f.current,i.current,y),gt(u.current)())},u=mL(null),c=hL(h=>{u.current=h},[u]),f=Fw(()=>n??{storeID:pb(),getState:()=>i.current,replaceState:l,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(f.current=n),i=Fw(()=>t!=null?wL(f.current,t):e!=null?EL(e):hb());const d=pL(()=>Dp==null?void 0:Dp(i,()=>i.current.currentTree.version),[i]);return hg(()=>{const h=f.current;for(const m of new Set(h.getState().knownAtoms))sL(h,m,"get");return()=>{for(const m of h.getState().knownAtoms)iL(h,m)}},[f]),ve.createElement(_b.Provider,{value:f},ve.createElement(wb.Provider,{value:d},ve.createElement(_L,{setNotifyBatcherOfChange:c}),r))}function TL(t){const{override:e,...n}=t,r=lh();return e===!1&&r.current!==yb?t.children:ve.createElement(SL,n)}function RL(){return lh().current.storeID}var ei={RecoilRoot:TL,useStoreRef:lh,useRecoilMutableSource:vL,useRecoilStoreID:RL,notifyComponents_FOR_TESTING:Ry,sendEndOfBatchNotifications_FOR_TESTING:Eb};function bL(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var AL=bL;const{useEffect:xL,useRef:IL}=ve;function CL(t){const e=IL();return xL(()=>{e.current=t}),e.current}var Sb=CL;const{useStoreRef:PL}=ei,{SUSPENSE_TIMEOUT_MS:kL}=Lo,{updateRetainCount:Aa}=Lo,{RetentionZone:NL}=th,{useEffect:DL,useRef:VL}=ve,{isSSR:Bw}=ih;function LL(t){if(tt("recoil_memory_managament_2020"))return OL(t)}function OL(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof NL?s:s.key),r=PL();DL(()=>{if(!tt("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!Bw)window.clearTimeout(i.current),i.current=null;else for(const a of n)Aa(s,a,1);return()=>{for(const a of n)Aa(s,a,-1)}},[r,...n]);const i=VL(),o=Sb(n);if(!Bw&&(o===void 0||!AL(o,n))){const s=r.current;for(const a of n)Aa(s,a,1);if(o)for(const a of o)Aa(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Aa(s,a,-1)},kL)}}var by=LL;function ML(){return"<component name not available>"}var Ru=ML;const{batchUpdates:$L}=rh,{DEFAULT_VALUE:Tb}=kn,{currentRendererSupportsUseSyncExternalStore:FL,reactMode:oa,useMutableSource:UL,useSyncExternalStore:jL}=Eu,{useRecoilMutableSource:BL,useStoreRef:Nr}=ei,{AbstractRecoilValue:mg,getRecoilValueAsLoadable:bu,setRecoilValue:qf,setUnvalidatedRecoilValue:zL,subscribeToRecoilValue:Us}=kr,{useCallback:Cn,useEffect:js,useMemo:Rb,useRef:fl,useState:Ay}=ve,{setByAddingToSet:HL}=WR,{isSSR:WL}=ih;function xy(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const o=n.current.getState().suspendedComponentResolvers;o.add(i),WL&&ct(t.contents)&&t.contents.finally(()=>{o.delete(i)})}):t.state==="hasError"?t.contents:Ne(`Invalid value of loadable atom "${e.key}"`)}function qL(){const t=Ru(),e=Nr(),[,n]=Ay([]),r=fl(new Set);r.current=new Set;const i=fl(new Set),o=fl(new Map),s=Cn(l=>{const u=o.current.get(l);u&&(u.release(),o.current.delete(l))},[o]),a=Cn((l,u)=>{o.current.has(u)&&n([])},[]);return js(()=>{const l=e.current;ul(r.current,i.current).forEach(u=>{if(o.current.has(u))return;const c=Us(l,new mg(u),d=>a(d,u),t);o.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),ul(i.current,r.current).forEach(u=>{s(u)}),i.current=r.current}),js(()=>{const l=o.current;return ul(r.current,new Set(l.keys())).forEach(u=>{const c=Us(e.current,new mg(u),f=>a(f,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>s(c))},[t,e,s,a]),Rb(()=>{function l(m){return y=>{qf(e.current,m,y)}}function u(m){return()=>qf(e.current,m,Tb)}function c(m){var y;r.current.has(m.key)||(r.current=HL(r.current,m.key));const T=e.current.getState();return bu(e.current,m,oa().early&&(y=T.nextTree)!==null&&y!==void 0?y:T.currentTree)}function f(m){const y=c(m);return xy(y,m,e)}function d(m){return[f(m),l(m)]}function h(m){return[c(m),l(m)]}return{getRecoilValue:f,getRecoilValueLoadable:c,getRecoilState:d,getRecoilStateLoadable:h,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const GL={current:0};function KL(t){const e=Nr(),n=Ru(),r=Cn(()=>{var a;const l=e.current,u=l.getState(),c=oa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:bu(l,t,c),key:t.key}},[e,t]),i=Cn(a=>{let l;return()=>{var u,c;const f=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(f.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===f.key?l:(l=f,f)}},[]),o=Rb(()=>i(r),[r,i]),s=Cn(a=>{const l=e.current;return Us(l,t,a,n).release},[e,t,n]);return jL(s,o,o).loadable}function QL(t){const e=Nr(),n=Cn(()=>{var u;const c=e.current,f=c.getState(),d=oa().early&&(u=f.nextTree)!==null&&u!==void 0?u:f.currentTree;return bu(c,t,d)},[e,t]),r=Cn(()=>n(),[n]),i=Ru(),o=Cn((u,c)=>{const f=e.current;return Us(f,t,()=>{if(!tt("recoil_suppress_rerender_in_callback"))return c();const h=n();l.current.is(h)||c(),l.current=h},i).release},[e,t,i,n]),s=BL();if(s==null)throw Ne("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=UL(s,r,o),l=fl(a);return js(()=>{l.current=a}),a}function gg(t){const e=Nr(),n=Ru(),r=Cn(()=>{var l;const u=e.current,c=u.getState(),f=oa().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return bu(u,t,f)},[e,t]),i=Cn(()=>({loadable:r(),key:t.key}),[r,t.key]),o=Cn(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);js(()=>{const l=Us(e.current,t,u=>{a(o)},n);return a(o),l.release},[n,t,e,o]);const[s,a]=Ay(i);return s.key!==t.key?i().loadable:s.loadable}function YL(t){const e=Nr(),[,n]=Ay([]),r=Ru(),i=Cn(()=>{var a;const l=e.current,u=l.getState(),c=oa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return bu(l,t,c)},[e,t]),o=i(),s=fl(o);return js(()=>{s.current=o}),js(()=>{const a=e.current,l=a.getState(),u=Us(a,t,f=>{var d;if(!tt("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(d=s.current)!==null&&d!==void 0&&d.is(h)||n(h),s.current=h},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var c;if(!tt("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(c=s.current)!==null&&c!==void 0&&c.is(f)||n(f),s.current=f}return u.release},[r,i,t,e]),o}function Iy(t){return tt("recoil_memory_managament_2020")&&by(t),{TRANSITION_SUPPORT:gg,SYNC_EXTERNAL_STORE:FL()?KL:gg,MUTABLE_SOURCE:QL,LEGACY:YL}[oa().mode](t)}function bb(t){const e=Nr(),n=Iy(t);return xy(n,t,e)}function uh(t){const e=Nr();return Cn(n=>{qf(e.current,t,n)},[e,t])}function XL(t){const e=Nr();return Cn(()=>{qf(e.current,t,Tb)},[e,t])}function JL(t){return[bb(t),uh(t)]}function ZL(t){return[Iy(t),uh(t)]}function eO(){const t=Nr();return(e,n={})=>{$L(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>zL(t.current,new mg(i),r))})}}function Ab(t){return tt("recoil_memory_managament_2020")&&by(t),gg(t)}function xb(t){const e=Nr(),n=Ab(t);return xy(n,t,e)}function tO(t){return[xb(t),uh(t)]}var nO={recoilComponentGetRecoilValueCount_FOR_TESTING:GL,useRecoilInterface:qL,useRecoilState:JL,useRecoilStateLoadable:ZL,useRecoilValue:bb,useRecoilValueLoadable:Iy,useResetRecoilState:XL,useSetRecoilState:uh,useSetUnvalidatedAtomValues:eO,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Ab,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:xb,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:tO};function rO(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var iO=rO;function oO(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var sO=oO;function aO(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var lO=aO;const{batchUpdates:uO}=rh,{DEFAULT_VALUE:cO,getNode:Ib,nodes:fO}=kn,{useStoreRef:Cy}=ei,{AbstractRecoilValue:dO,setRecoilValueLoadable:hO}=kr,{SUSPENSE_TIMEOUT_MS:pO}=Lo,{cloneSnapshot:Gf}=ah,{useCallback:ch,useEffect:Cb,useRef:zw,useState:mO}=ve,{isSSR:Hw}=ih;function fh(t){const e=Cy();Cb(()=>e.current.subscribeToTransactions(t).release,[t,e])}function Ww(t){const e=t.atomValues.toMap(),n=Wf(iO(e,(r,i)=>{const s=Ib(i).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return lO(t.nonvalidatedAtoms.toMap(),n)}function gO(t){fh(ch(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=Ww(r),o=Ww(n),s=Wf(fO,l=>{var u,c,f,d;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(f=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.backButton)!==null&&f!==void 0?f:!1}}}),a=sO(r.dirtyAtoms,l=>i.has(l)||o.has(l));t({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function vO(t){fh(ch(e=>{const n=Gf(e,"latest"),r=Gf(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function yO(){const t=Cy(),[e,n]=mO(()=>Gf(t.current)),r=Sb(e),i=zw(),o=zw();if(fh(ch(a=>n(Gf(a)),[])),Cb(()=>{const a=e.retain();if(i.current&&!Hw){var l;window.clearTimeout(i.current),i.current=null,(l=o.current)===null||l===void 0||l.call(o),o.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!Hw){if(i.current){var s;window.clearTimeout(i.current),i.current=null,(s=o.current)===null||s===void 0||s.call(o),o.current=null}o.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=o.current)===null||a===void 0||a.call(o),o.current=null},pO)}return e}function Pb(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;uO(()=>{const s=new Set;for(const u of[i.atomValues.keys(),o.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&Ib(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(u=>{hO(t,new dO(u),o.atomValues.has(u)?gt(o.atomValues.get(u)):cO)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function _O(){const t=Cy();return ch(e=>Pb(t.current,e),[t])}var kb={useRecoilSnapshot:yO,gotoSnapshot:Pb,useGotoRecoilSnapshot:_O,useRecoilTransactionObserver:vO,useTransactionObservation_DEPRECATED:gO,useTransactionSubscription_DEPRECATED:fh};const{peekNodeInfo:wO}=ji,{useStoreRef:EO}=ei;function SO(){const t=EO();return({key:e})=>wO(t.current,t.current.getState().currentTree,e)}var TO=SO;const{reactMode:RO}=Eu,{RecoilRoot:bO,useStoreRef:AO}=ei,{useMemo:xO}=ve;function IO(){RO().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=AO().current;return xO(()=>{function e({children:n}){return ve.createElement(bO,{store_INTERNAL:t},n)}return e},[t])}var CO=IO;const{loadableWithValue:PO}=wu,{initializeNode:kO}=ji,{DEFAULT_VALUE:NO,getNode:DO}=kn,{copyTreeState:VO,getRecoilValueAsLoadable:LO,invalidateDownstreams:OO,writeLoadableToTreeState:MO}=kr;function qw(t){return DO(t.key).nodeType==="atom"}class $O{constructor(e,n){Ie(this,"_store",void 0),Ie(this,"_treeState",void 0),Ie(this,"_changes",void 0),Ie(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!qw(r))throw Ne("Reading selectors within atomicUpdate is not supported");const i=LO(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Ne(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Ie(this,"set",(r,i)=>{if(!qw(r))throw Ne("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else kO(this._store,r.key,"set"),this._changes.set(r.key,i)}),Ie(this,"reset",r=>{this.set(r,NO)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=VO(this._treeState);for(const[n,r]of this._changes)MO(e,n,PO(r));return OO(this._store,e),e}}function FO(t){return e=>{t.replaceState(n=>{const r=new $O(t,n);return e(r),r.newTreeState_INTERNAL()})}}var UO={atomicUpdater:FO},jO=UO.atomicUpdater,Nb=Object.freeze({__proto__:null,atomicUpdater:jO});function BO(t,e){if(!t)throw new Error(e)}var zO=BO,Ha=zO;const{atomicUpdater:HO}=Nb,{batchUpdates:WO}=rh,{DEFAULT_VALUE:qO}=kn,{useStoreRef:GO}=ei,{refreshRecoilValue:KO,setRecoilValue:Gw}=kr,{cloneSnapshot:QO}=ah,{gotoSnapshot:YO}=kb,{useCallback:XO}=ve;class Db{}const JO=new Db;function Vb(t,e,n,r){let i=JO,o;if(WO(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Ne(a);const l=qR({...r??{},set:(c,f)=>Gw(t,c,f),reset:c=>Gw(t,c,qO),refresh:c=>KO(t,c),gotoSnapshot:c=>YO(t,c),transact_UNSTABLE:c=>HO(t)(c)},{snapshot:()=>{const c=QO(t);return o=c.retain(),c}}),u=e(l);if(typeof u!="function")throw Ne(a);i=u(...n)}),i instanceof Db&&Ha(!1),ct(i))i=i.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return i}function ZO(t,e){const n=GO();return XO((...r)=>Vb(n.current,t,r),e!=null?[...e,n]:void 0)}var Lb={recoilCallback:Vb,useRecoilCallback:ZO};const{useStoreRef:eM}=ei,{refreshRecoilValue:tM}=kr,{useCallback:nM}=ve;function rM(t){const e=eM();return nM(()=>{const n=e.current;tM(n,t)},[t,e])}var iM=rM;const{atomicUpdater:oM}=Nb,{useStoreRef:sM}=ei,{useMemo:aM}=ve;function lM(t,e){const n=sM();return aM(()=>(...r)=>{oM(n.current)(o=>{t(o)(...r)})},e!=null?[...e,n]:void 0)}var uM=lM;class cM{constructor(e){Ie(this,"value",void 0),this.value=e}}var fM={WrappedValue:cM},dM=fM.WrappedValue,Ob=Object.freeze({__proto__:null,WrappedValue:dM});const{isFastRefreshEnabled:hM}=Eu;class Kw extends Error{}class pM{constructor(e){var n,r,i;Ie(this,"_name",void 0),Ie(this,"_numLeafs",void 0),Ie(this,"_root",void 0),Ie(this,"_onHit",void 0),Ie(this,"_onSet",void 0),Ie(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var o,s,a,l;let u,c;for(const[T,g]of e){var f,d,h;const p=this._root;if((p==null?void 0:p.type)==="leaf")throw this.invalidCacheError();const v=u;if(u=v?v.branches.get(c):p,u=(f=u)!==null&&f!==void 0?f:{type:"branch",nodeKey:T,parent:v,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==T)throw this.invalidCacheError();v==null||v.branches.set(c,u),r==null||(d=r.onNodeVisit)===null||d===void 0||d.call(r,u),c=this._mapNodeValue(g),this._root=(h=this._root)!==null&&h!==void 0?h:u}const m=u?(o=u)===null||o===void 0?void 0:o.branches.get(c):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==c))throw this.invalidCacheError();const y={type:"leaf",value:n,parent:u,branchKey:c};(s=u)===null||s===void 0||s.branches.set(c,y),this._root=(a=this._root)!==null&&a!==void 0?a:y,this._numLeafs++,this._onSet(y),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,y)};try{i()}catch(o){if(o instanceof Kw)this.clear(),i();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=hM()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw my(e+(this._name!=null?` - ${this._name}`:"")),new Kw}}var mM={TreeCache:pM},gM=mM.TreeCache,Mb=Object.freeze({__proto__:null,TreeCache:gM});class vM{constructor(e){var n;Ie(this,"_maxSize",void 0),Ie(this,"_size",void 0),Ie(this,"_head",void 0),Ie(this,"_tail",void 0),Ie(this,"_map",void 0),Ie(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=gt(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var yM={LRUCache:vM},_M=yM.LRUCache,$b=Object.freeze({__proto__:null,LRUCache:_M});const{LRUCache:wM}=$b,{TreeCache:EM}=Mb;function SM({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new wM({maxSize:e}),i=new EM({name:t,mapNodeValue:n,onHit:o=>{r.set(o,!0)},onSet:o=>{const s=r.tail();r.set(o,!0),s&&i.size()>e&&i.delete(s.key)}});return i}var Qw=SM;function tr(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Ne("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(ct(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>tr(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return tr(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:tr(o,e)]=s;return tr(i,e,n)}return t instanceof Set?tr(Array.from(t).sort((i,o)=>tr(i,e).localeCompare(tr(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?tr(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${tr(i,e)}:${tr(t[i],e,i)}`).join(",")}}`}function TM(t,e={allowFunctions:!1}){return tr(t,e)}var dh=TM;const{TreeCache:RM}=Mb,hc={equality:"reference",eviction:"keep-all",maxSize:1/0};function bM({equality:t=hc.equality,eviction:e=hc.eviction,maxSize:n=hc.maxSize}=hc,r){const i=AM(t);return xM(e,n,i,r)}function AM(t){switch(t){case"reference":return e=>e;case"value":return e=>dh(e)}throw Ne(`Unrecognized equality policy ${t}`)}function xM(t,e,n,r){switch(t){case"keep-all":return new RM({name:r,mapNodeValue:n});case"lru":return Qw({name:r,maxSize:gt(e),mapNodeValue:n});case"most-recent":return Qw({name:r,maxSize:1,mapNodeValue:n})}throw Ne(`Unrecognized eviction policy ${t}`)}var IM=bM;function CM(t){return()=>null}var PM={startPerfBlock:CM};const{isLoadable:kM,loadableWithError:pc,loadableWithPromise:NM,loadableWithValue:Vp}=wu,{WrappedValue:Fb}=Ob,{getNodeLoadable:mc,peekNodeLoadable:DM,setNodeValue:VM}=ji,{saveDepsToStore:LM}=Su,{DEFAULT_VALUE:OM,getConfigDeletionHandler:MM,getNode:$M,registerNode:Yw}=kn,{isRecoilValue:FM}=Fs,{markRecoilValueModified:Xw}=kr,{retainedByOptionWithDefault:UM}=Lo,{recoilCallback:jM}=Lb,{startPerfBlock:BM}=PM;class Ub{}const xa=new Ub,Ia=[],gc=new Map,zM=(()=>{let t=0;return()=>t++})();function jb(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,o=t.set!=null?t.set:void 0,s=new Set,a=IM(i??{equality:"reference",eviction:"keep-all"},n),l=UM(t.retainedBy_UNSTABLE),u=new Map;let c=0;function f(){return!tt("recoil_memory_managament_2020")||c>0}function d(w){return w.getState().knownSelectors.add(n),c++,()=>{c--}}function h(){return MM(n)!==void 0&&!f()}function m(w,O,j,ne,Z){Ee(O,ne,Z),y(w,j)}function y(w,O){W(w,O)&&V(w),g(O,!0)}function T(w,O){W(w,O)&&(gt(L(w)).stateVersions.clear(),g(O,!1))}function g(w,O){const j=gc.get(w);if(j!=null){for(const ne of j)Xw(ne,gt(e));O&&gc.delete(w)}}function p(w,O){let j=gc.get(O);j==null&&gc.set(O,j=new Set),j.add(w)}function v(w,O,j,ne,Z,me){return O.then(Se=>{if(!f())throw V(w),xa;const pe=Vp(Se);return m(w,j,Z,pe,ne),Se}).catch(Se=>{if(!f())throw V(w),xa;if(ct(Se))return b(w,Se,j,ne,Z,me);const pe=pc(Se);throw m(w,j,Z,pe,ne),Se})}function b(w,O,j,ne,Z,me){return O.then(Se=>{if(!f())throw V(w),xa;me.loadingDepKey!=null&&me.loadingDepPromise===O?j.atomValues.set(me.loadingDepKey,Vp(Se)):w.getState().knownSelectors.forEach(Te=>{j.atomValues.delete(Te)});const pe=S(w,j);if(pe&&pe.state!=="loading"){if((W(w,Z)||L(w)==null)&&y(w,Z),pe.state==="hasValue")return pe.contents;throw pe.contents}if(!W(w,Z)){const Te=M(w,j);if(Te!=null)return Te.loadingLoadable.contents}const[De,Ve]=E(w,j,Z);if(De.state!=="loading"&&m(w,j,Z,De,Ve),De.state==="hasError")throw De.contents;return De.contents}).catch(Se=>{if(Se instanceof Ub)throw xa;if(!f())throw V(w),xa;const pe=pc(Se);throw m(w,j,Z,pe,ne),Se})}function I(w,O,j,ne){var Z,me,Se,pe;if(W(w,ne)||O.version===((Z=w.getState())===null||Z===void 0||(me=Z.currentTree)===null||me===void 0?void 0:me.version)||O.version===((Se=w.getState())===null||Se===void 0||(pe=Se.nextTree)===null||pe===void 0?void 0:pe.version)){var De,Ve,Te;LM(n,j,w,(De=(Ve=w.getState())===null||Ve===void 0||(Te=Ve.nextTree)===null||Te===void 0?void 0:Te.version)!==null&&De!==void 0?De:w.getState().currentTree.version)}for(const Pe of j)s.add(Pe)}function E(w,O,j){const ne=BM(n);let Z=!0,me=!0;const Se=()=>{ne(),me=!1};let pe,De=!1,Ve;const Te={loadingDepKey:null,loadingDepPromise:null},Pe=new Map;function Ze({key:je}){const $e=mc(w,O,je);switch(Pe.set(je,$e),Z||(I(w,O,new Set(Pe.keys()),j),T(w,j)),$e.state){case"hasValue":return $e.contents;case"hasError":throw $e.contents;case"loading":throw Te.loadingDepKey=je,Te.loadingDepPromise=$e.contents,$e.contents}throw Ne("Invalid Loadable state")}const ke=je=>(...$e)=>{if(me)throw Ne("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Ha(!1),jM(w,je,$e,{node:e})};try{pe=r({get:Ze,getCallback:ke}),pe=FM(pe)?Ze(pe):pe,kM(pe)&&(pe.state==="hasError"&&(De=!0),pe=pe.contents),ct(pe)?pe=v(w,pe,O,Pe,j,Te).finally(Se):Se(),pe=pe instanceof Fb?pe.value:pe}catch(je){pe=je,ct(pe)?pe=b(w,pe,O,Pe,j,Te).finally(Se):(De=!0,Se())}return De?Ve=pc(pe):ct(pe)?Ve=NM(pe):Ve=Vp(pe),Z=!1,k(w,j,Pe),I(w,O,new Set(Pe.keys()),j),[Ve,Pe]}function S(w,O){let j=O.atomValues.get(n);if(j!=null)return j;const ne=new Set;try{j=a.get(me=>(typeof me!="string"&&Ha(!1),mc(w,O,me).contents),{onNodeVisit:me=>{me.type==="branch"&&me.nodeKey!==n&&ne.add(me.nodeKey)}})}catch(me){throw Ne(`Problem with cache lookup for selector "${n}": ${me.message}`)}if(j){var Z;O.atomValues.set(n,j),I(w,O,ne,(Z=L(w))===null||Z===void 0?void 0:Z.executionID)}return j}function P(w,O){const j=S(w,O);if(j!=null)return V(w),j;const ne=M(w,O);if(ne!=null){var Z;return((Z=ne.loadingLoadable)===null||Z===void 0?void 0:Z.state)==="loading"&&p(w,ne.executionID),ne.loadingLoadable}const me=zM(),[Se,pe]=E(w,O,me);return Se.state==="loading"?(B(w,me,Se,pe,O),p(w,me)):(V(w),Ee(O,Se,pe)),Se}function M(w,O){const j=ub([u.has(w)?[gt(u.get(w))]:[],Zd(wy(u,([Z])=>Z!==w),([,Z])=>Z)]);function ne(Z){for(const[me,Se]of Z)if(!mc(w,O,me).is(Se))return!0;return!1}for(const Z of j){if(Z.stateVersions.get(O.version)||!ne(Z.depValuesDiscoveredSoFarDuringAsyncWork))return Z.stateVersions.set(O.version,!0),Z;Z.stateVersions.set(O.version,!1)}}function L(w){return u.get(w)}function B(w,O,j,ne,Z){u.set(w,{depValuesDiscoveredSoFarDuringAsyncWork:ne,executionID:O,loadingLoadable:j,stateVersions:new Map([[Z.version,!0]])})}function k(w,O,j){if(W(w,O)){const ne=L(w);ne!=null&&(ne.depValuesDiscoveredSoFarDuringAsyncWork=j)}}function V(w){u.delete(w)}function W(w,O){var j;return O===((j=L(w))===null||j===void 0?void 0:j.executionID)}function te(w){return Array.from(w.entries()).map(([O,j])=>[O,j.contents])}function Ee(w,O,j){w.atomValues.set(n,O);try{a.set(te(j),O)}catch(ne){throw Ne(`Problem with setting cache for selector "${n}": ${ne.message}`)}}function we(w){if(Ia.includes(n)){const O=`Recoil selector has circular dependencies: ${Ia.slice(Ia.indexOf(n)).join("  ")}`;return pc(Ne(O))}Ia.push(n);try{return w()}finally{Ia.pop()}}function z(w,O){const j=O.atomValues.get(n);return j??a.get(ne=>{var Z;return typeof ne!="string"&&Ha(!1),(Z=DM(w,O,ne))===null||Z===void 0?void 0:Z.contents})}function $(w,O){return we(()=>P(w,O))}function C(w){w.atomValues.delete(n)}function q(w,O){e==null&&Ha(!1);for(const ne of s){var j;const Z=$M(ne);(j=Z.clearCache)===null||j===void 0||j.call(Z,w,O)}s.clear(),C(O),a.clear(),Xw(w,e)}return o!=null?e=Yw({key:n,nodeType:"selector",peek:z,get:$,set:(O,j,ne)=>{let Z=!1;const me=new Map;function Se({key:Te}){if(Z)throw Ne("Recoil: Async selector sets are not currently supported.");const Pe=mc(O,j,Te);if(Pe.state==="hasValue")return Pe.contents;if(Pe.state==="loading"){const Ze=`Getting value of asynchronous atom or selector "${Te}" in a pending state while setting selector "${n}" is not yet supported.`;throw Ne(Ze)}else throw Pe.contents}function pe(Te,Pe){if(Z)throw Ne("Recoil: Async selector sets are not currently supported.");const Ze=typeof Pe=="function"?Pe(Se(Te)):Pe;VM(O,j,Te.key,Ze).forEach((je,$e)=>me.set($e,je))}function De(Te){pe(Te,OM)}const Ve=o({set:pe,get:Se,reset:De},ne);if(Ve!==void 0)throw ct(Ve)?Ne("Recoil: Async selector sets are not currently supported."):Ne("Recoil: selector set should be a void function.");return Z=!0,me},init:d,invalidate:C,clearCache:q,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=Yw({key:n,nodeType:"selector",peek:z,get:$,init:d,invalidate:C,clearCache:q,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}jb.value=t=>new Fb(t);var Bs=jb;const{isLoadable:HM,loadableWithError:Lp,loadableWithPromise:Op,loadableWithValue:Ho}=wu,{WrappedValue:Bb}=Ob,{peekNodeInfo:WM}=ji,{DEFAULT_VALUE:eo,DefaultValue:si,getConfigDeletionHandler:zb,registerNode:qM,setConfigDeletionHandler:GM}=kn,{isRecoilValue:KM}=Fs,{getRecoilValueAsLoadable:QM,markRecoilValueModified:YM,setRecoilValue:Jw,setRecoilValueLoadable:XM}=kr,{retainedByOptionWithDefault:JM}=Lo,Ca=t=>t instanceof Bb?t.value:t;function ZM(t){const{key:e,persistence_UNSTABLE:n}=t,r=JM(t.retainedBy_UNSTABLE);let i=0;function o(p){return Op(p.then(v=>(s=Ho(v),v)).catch(v=>{throw s=Lp(v),v}))}let s=ct(t.default)?o(t.default):HM(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:Ho(Ca(t.default));s.contents;let a;const l=new Map;function u(p){return p}function c(p,v){const b=v.then(I=>{var E,S;return((S=((E=p.getState().nextTree)!==null&&E!==void 0?E:p.getState().currentTree).atomValues.get(e))===null||S===void 0?void 0:S.contents)===b&&Jw(p,g,I),I}).catch(I=>{var E,S;throw((S=((E=p.getState().nextTree)!==null&&E!==void 0?E:p.getState().currentTree).atomValues.get(e))===null||S===void 0?void 0:S.contents)===b&&XM(p,g,Lp(I)),I});return b}function f(p,v,b){var I;i++;const E=()=>{var L;i--,(L=l.get(p))===null||L===void 0||L.forEach(B=>B()),l.delete(p)};if(p.getState().knownAtoms.add(e),s.state==="loading"){const L=()=>{var B;((B=p.getState().nextTree)!==null&&B!==void 0?B:p.getState().currentTree).atomValues.has(e)||YM(p,g)};s.contents.finally(L)}const S=(I=t.effects)!==null&&I!==void 0?I:t.effects_UNSTABLE;if(S!=null){let L=function(C){if(W&&C.key===e){const q=V;return q instanceof si?d(p,v):ct(q)?Op(q.then(w=>w instanceof si?s.toPromise():w)):Ho(q)}return QM(p,C)},B=function(C){return L(C).toPromise()},k=function(C){var q;const w=WM(p,(q=p.getState().nextTree)!==null&&q!==void 0?q:p.getState().currentTree,C.key);return W&&C.key===e&&!(V instanceof si)?{...w,isSet:!0,loadable:L(C)}:w},V=eo,W=!0,te=!1,Ee=null;const we=C=>q=>{if(W){const w=L(g),O=w.state==="hasValue"?w.contents:eo;V=typeof q=="function"?q(O):q,ct(V)&&(V=V.then(j=>(Ee={effect:C,value:j},j)))}else{if(ct(q))throw Ne("Setting atoms to async values is not implemented.");typeof q!="function"&&(Ee={effect:C,value:Ca(q)}),Jw(p,g,typeof q=="function"?w=>{const O=Ca(q(w));return Ee={effect:C,value:O},O}:Ca(q))}},z=C=>()=>we(C)(eo),$=C=>q=>{var w;const{release:O}=p.subscribeToTransactions(j=>{var ne;let{currentTree:Z,previousTree:me}=j.getState();me||(me=Z);const Se=(ne=Z.atomValues.get(e))!==null&&ne!==void 0?ne:s;if(Se.state==="hasValue"){var pe,De,Ve,Te;const Pe=Se.contents,Ze=(pe=me.atomValues.get(e))!==null&&pe!==void 0?pe:s,ke=Ze.state==="hasValue"?Ze.contents:eo;((De=Ee)===null||De===void 0?void 0:De.effect)!==C||((Ve=Ee)===null||Ve===void 0?void 0:Ve.value)!==Pe?q(Pe,ke,!Z.atomValues.has(e)):((Te=Ee)===null||Te===void 0?void 0:Te.effect)===C&&(Ee=null)}},e);l.set(p,[...(w=l.get(p))!==null&&w!==void 0?w:[],O])};for(const C of S)try{const q=C({node:g,storeID:p.storeID,parentStoreID_UNSTABLE:p.parentStoreID,trigger:b,setSelf:we(C),resetSelf:z(C),onSet:$(C),getPromise:B,getLoadable:L,getInfo_UNSTABLE:k});if(q!=null){var P;l.set(p,[...(P=l.get(p))!==null&&P!==void 0?P:[],q])}}catch(q){V=q,te=!0}if(W=!1,!(V instanceof si)){var M;const C=te?Lp(V):ct(V)?Op(c(p,V)):Ho(Ca(V));C.contents,v.atomValues.set(e,C),(M=p.getState().nextTree)===null||M===void 0||M.atomValues.set(e,C)}}return E}function d(p,v){var b,I;return(b=(I=v.atomValues.get(e))!==null&&I!==void 0?I:a)!==null&&b!==void 0?b:s}function h(p,v){if(v.atomValues.has(e))return gt(v.atomValues.get(e));if(v.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const b=v.nonvalidatedAtoms.get(e),I=n.validator(b,eo);return a=I instanceof si?s:Ho(I),a}else return s}function m(){a=void 0}function y(p,v,b){if(v.atomValues.has(e)){const I=gt(v.atomValues.get(e));if(I.state==="hasValue"&&b===I.contents)return new Map}else if(!v.nonvalidatedAtoms.has(e)&&b instanceof si)return new Map;return a=void 0,new Map().set(e,Ho(b))}function T(){return zb(e)!==void 0&&i<=0}const g=qM({key:e,nodeType:"atom",peek:d,get:h,set:y,init:f,invalidate:m,shouldDeleteConfigOnRelease:T,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return g}function Py(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return KM(n)?e$({...e,default:n}):ZM({...e,default:n})}function e$(t){const e=Py({...t,default:eo,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof si?r:gt(t.persistence_UNSTABLE).validator(r,eo)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Bs({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof si?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return GM(n.key,zb(t.key)),n}Py.value=t=>new Bb(t);var Hb=Py;class t${constructor(e){var n;Ie(this,"_map",void 0),Ie(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var n$={MapCache:t$},r$=n$.MapCache,i$=Object.freeze({__proto__:null,MapCache:r$});const{LRUCache:Zw}=$b,{MapCache:o$}=i$,vc={equality:"reference",eviction:"none",maxSize:1/0};function s$({equality:t=vc.equality,eviction:e=vc.eviction,maxSize:n=vc.maxSize}=vc){const r=a$(t);return l$(e,n,r)}function a$(t){switch(t){case"reference":return e=>e;case"value":return e=>dh(e)}throw Ne(`Unrecognized equality policy ${t}`)}function l$(t,e,n){switch(t){case"keep-all":return new o$({mapKey:n});case"lru":return new Zw({mapKey:n,maxSize:gt(e)});case"most-recent":return new Zw({mapKey:n,maxSize:1})}throw Ne(`Unrecognized eviction policy ${t}`)}var Wb=s$;const{setConfigDeletionHandler:u$}=kn;function c$(t){var e,n;const r=Wb({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,s;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),f=Hb({...u,key:`${t.key}__${(o=dh(i))!==null&&o!==void 0?o:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(i,f),u$(f.key,()=>{r.delete(i)}),f}}var f$=c$;const{setConfigDeletionHandler:d$}=kn;let h$=0;function p$(t){var e,n;const r=Wb({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let s;try{s=r.get(i)}catch(d){throw Ne(`Problem with cache lookup for selector ${t.key}: ${d.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=dh(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${h$++}`,l=d=>t.get(i)(d),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let f;if(t.set!=null){const d=t.set;f=Bs({key:a,get:l,set:(m,y)=>d(i)(m,y),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else f=Bs({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,f),d$(f.key,()=>{r.delete(i)}),f}}var Bi=p$;const m$=Bi({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function g$(t){return m$(t)}var v$=g$;const y$=Bi({key:"__error",get:t=>()=>{throw Ne(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function _$(t){return y$(t)}var w$=_$;function E$(t){return t}var S$=E$;const{loadableWithError:qb,loadableWithPromise:Gb,loadableWithValue:Kb}=wu;function hh(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function T$(t){return t!=null&&!ct(t)}function ph(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function vg(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function Ts(t,e,n){const r=n.map((i,o)=>i==null?Kb(e[o]):ct(i)?Gb(i):qb(i));return vg(t,r)}function R$(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const b$=Bi({key:"__waitForNone",get:t=>({get:e})=>{const n=ph(t),[r,i]=hh(e,n);return Ts(t,r,i)},dangerouslyAllowMutability:!0}),A$=Bi({key:"__waitForAny",get:t=>({get:e})=>{const n=ph(t),[r,i]=hh(e,n);return i.some(o=>!ct(o))?Ts(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())ct(a)&&a.then(l=>{r[s]=l,i[s]=void 0,o(Ts(t,r,i))}).catch(l=>{i[s]=l,o(Ts(t,r,i))})})},dangerouslyAllowMutability:!0}),x$=Bi({key:"__waitForAll",get:t=>({get:e})=>{const n=ph(t),[r,i]=hh(e,n);if(i.every(s=>s==null))return vg(t,r);const o=i.find(T$);if(o!=null)throw o;return Promise.all(i).then(s=>vg(t,R$(r,s)))},dangerouslyAllowMutability:!0}),I$=Bi({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=ph(t),[r,i]=hh(e,n);return i.every(o=>!ct(o))?Ts(t,r,i):Promise.all(i.map((o,s)=>ct(o)?o.then(a=>{r[s]=a,i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>Ts(t,r,i))},dangerouslyAllowMutability:!0}),C$=Bi({key:"__noWait",get:t=>({get:e})=>{try{return Bs.value(Kb(e(t)))}catch(n){return Bs.value(ct(n)?Gb(n):qb(n))}},dangerouslyAllowMutability:!0});var P$={waitForNone:b$,waitForAny:A$,waitForAll:x$,waitForAllSettled:I$,noWait:C$};const{RecoilLoadable:k$}=wu,{DefaultValue:N$}=kn,{RecoilRoot:D$,useRecoilStoreID:V$}=ei,{isRecoilValue:L$}=Fs,{retentionZone:O$}=th,{freshSnapshot:M$}=ah,{useRecoilState:$$,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:F$,useRecoilStateLoadable:U$,useRecoilValue:j$,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:B$,useRecoilValueLoadable:z$,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:H$,useResetRecoilState:W$,useSetRecoilState:q$}=nO,{useGotoRecoilSnapshot:G$,useRecoilSnapshot:K$,useRecoilTransactionObserver:Q$}=kb,{useRecoilCallback:Y$}=Lb,{noWait:X$,waitForAll:J$,waitForAllSettled:Z$,waitForAny:e4,waitForNone:t4}=P$;var sa={DefaultValue:N$,isRecoilValue:L$,RecoilLoadable:k$,RecoilEnv:ia,RecoilRoot:D$,useRecoilStoreID:V$,useRecoilBridgeAcrossReactRoots_UNSTABLE:CO,atom:Hb,selector:Bs,atomFamily:f$,selectorFamily:Bi,constSelector:v$,errorSelector:w$,readOnlySelector:S$,noWait:X$,waitForNone:t4,waitForAny:e4,waitForAll:J$,waitForAllSettled:Z$,useRecoilValue:j$,useRecoilValueLoadable:z$,useRecoilState:$$,useRecoilStateLoadable:U$,useSetRecoilState:q$,useResetRecoilState:W$,useGetRecoilValueInfo_UNSTABLE:TO,useRecoilRefresher_UNSTABLE:iM,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:H$,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:B$,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:F$,useRecoilCallback:Y$,useRecoilTransaction_UNSTABLE:uM,useGotoRecoilSnapshot:G$,useRecoilSnapshot:K$,useRecoilTransactionObserver_UNSTABLE:Q$,snapshot_UNSTABLE:M$,useRetain:by,retentionZone:O$},n4=sa.RecoilRoot,Qb=sa.atom,Dr=sa.atomFamily,r4=sa.useRecoilValueLoadable,gi=sa.useRecoilState,i4=sa.useRecoilStateLoadable;const o4=({onOpenModal:t})=>{const e=A.useRef(null);return A.useEffect(()=>{const n=r=>{e.current&&!e.current.contains(r.target)&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t]),U.jsx("div",{className:"h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-70 text-center z-50",children:U.jsxs("div",{ref:e,className:"bg-white rounded w-10/12 md:w-1/3",children:[U.jsx("div",{className:"border-b px-4 py-2",children:U.jsx("h3",{className:"text-center",children:""})}),U.jsx("div",{className:"border-b px-4 py-2",children:U.jsx("h3",{className:"text-red-600 text-center cursor-pointer",onClick:t,children:""})})]})})};function s4(t){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2zM4 10h2v9H4v-9zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7v1.819z"}}]})(t)}function a4(t){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21h1V8H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2zM20 8h-7l1.122-3.368A2 2 0 0 0 12.225 2H12L7 7.438V21h11l3.912-8.596L22 12v-2a2 2 0 0 0-2-2z"}}]})(t)}function l4(t){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"}}]})(t)}function u4(t){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"}}]})(t)}var eE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},c4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new f4;const d=o<<2|a>>4;if(r.push(d),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d4=function(t){const e=Yb(t);return Xb.encodeByteArray(e,!0)},Kf=function(t){return d4(t).replace(/\./g,"")},h4=function(t){try{return Xb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=()=>p4().__FIREBASE_DEFAULTS__,g4=()=>{if(typeof process>"u"||typeof eE>"u")return;const t=eE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&h4(t[1]);return e&&JSON.parse(e)},ky=()=>{try{return m4()||g4()||v4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y4=t=>{var e,n;return(n=(e=ky())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_4=t=>{const e=y4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jb=()=>{var t;return(t=ky())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kf(JSON.stringify(n)),Kf(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S4(){var t;const e=(t=ky())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T4(){return!S4()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function R4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="FirebaseError";class aa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=b4,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eA.prototype.create)}}class eA{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?A4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new aa(i,a,r)}}function A4(t,e){return t.replace(x4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const x4=/\{\$([^}]+)}/g;function yg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(tE(o)&&tE(s)){if(!yg(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return t&&t._delegate?t._delegate:t}class Kl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P4(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C4(t){return t===Ji?void 0:t}function P4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const N4={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},D4=Be.INFO,V4={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},L4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=V4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tA{constructor(e){this.name=e,this._logLevel=D4,this._logHandler=L4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const O4=(t,e)=>e.some(n=>t instanceof n);let nE,rE;function M4(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $4(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nA=new WeakMap,_g=new WeakMap,rA=new WeakMap,Mp=new WeakMap,Ny=new WeakMap;function F4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ci(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&nA.set(n,t)}).catch(()=>{}),Ny.set(e,t),e}function U4(t){if(_g.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_g.set(t,e)}let wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j4(t){wg=t(wg)}function B4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($p(this),e,...n);return rA.set(r,e.sort?e.sort():[e]),Ci(r)}:$4().includes(t)?function(...e){return t.apply($p(this),e),Ci(nA.get(this))}:function(...e){return Ci(t.apply($p(this),e))}}function z4(t){return typeof t=="function"?B4(t):(t instanceof IDBTransaction&&U4(t),O4(t,M4())?new Proxy(t,wg):t)}function Ci(t){if(t instanceof IDBRequest)return F4(t);if(Mp.has(t))return Mp.get(t);const e=z4(t);return e!==t&&(Mp.set(t,e),Ny.set(e,t)),e}const $p=t=>Ny.get(t);function H4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ci(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ci(s.result),l.oldVersion,l.newVersion,Ci(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const W4=["get","getKey","getAll","getAllKeys","count"],q4=["put","add","delete","clear"],Fp=new Map;function iE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=q4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W4.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fp.set(e,o),o}j4(t=>({...t,get:(e,n,r)=>iE(e,n)||t.get(e,n,r),has:(e,n)=>!!iE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",oE="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new tA("@firebase/app"),Q4="@firebase/app-compat",Y4="@firebase/analytics-compat",X4="@firebase/analytics",J4="@firebase/app-check-compat",Z4="@firebase/app-check",eF="@firebase/auth",tF="@firebase/auth-compat",nF="@firebase/database",rF="@firebase/database-compat",iF="@firebase/functions",oF="@firebase/functions-compat",sF="@firebase/installations",aF="@firebase/installations-compat",lF="@firebase/messaging",uF="@firebase/messaging-compat",cF="@firebase/performance",fF="@firebase/performance-compat",dF="@firebase/remote-config",hF="@firebase/remote-config-compat",pF="@firebase/storage",mF="@firebase/storage-compat",gF="@firebase/firestore",vF="@firebase/firestore-compat",yF="firebase",_F="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="[DEFAULT]",wF={[Eg]:"fire-core",[Q4]:"fire-core-compat",[X4]:"fire-analytics",[Y4]:"fire-analytics-compat",[Z4]:"fire-app-check",[J4]:"fire-app-check-compat",[eF]:"fire-auth",[tF]:"fire-auth-compat",[nF]:"fire-rtdb",[rF]:"fire-rtdb-compat",[iF]:"fire-fn",[oF]:"fire-fn-compat",[sF]:"fire-iid",[aF]:"fire-iid-compat",[lF]:"fire-fcm",[uF]:"fire-fcm-compat",[cF]:"fire-perf",[fF]:"fire-perf-compat",[dF]:"fire-rc",[hF]:"fire-rc-compat",[pF]:"fire-gcs",[mF]:"fire-gcs-compat",[gF]:"fire-fst",[vF]:"fire-fst-compat","fire-js":"fire-js",[yF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,Tg=new Map;function EF(t,e){try{t.container.addComponent(e)}catch(n){bo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xf(t){const e=t.name;if(Tg.has(e))return bo.debug(`There were multiple attempts to register component ${e}.`),!1;Tg.set(e,t);for(const n of Yf.values())EF(n,t);return!0}function SF(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Pi=new eA("app","Firebase",TF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=_F;function iA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=Jb()),!n)throw Pi.create("no-options");const o=Yf.get(i);if(o){if(yg(n,o.options)&&yg(r,o.config))return o;throw Pi.create("duplicate-app",{appName:i})}const s=new k4(i);for(const l of Tg.values())s.addComponent(l);const a=new RF(n,r,s);return Yf.set(i,a),a}function AF(t=Sg){const e=Yf.get(t);if(!e&&t===Sg&&Jb())return iA();if(!e)throw Pi.create("no-app",{appName:t});return e}function Rs(t,e,n){var r;let i=(r=wF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bo.warn(a.join(" "));return}Xf(new Kl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF="firebase-heartbeat-database",IF=1,Ql="firebase-heartbeat-store";let Up=null;function oA(){return Up||(Up=H4(xF,IF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),Up}async function CF(t){try{return await(await oA()).transaction(Ql).objectStore(Ql).get(sA(t))}catch(e){if(e instanceof aa)bo.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bo.warn(n.message)}}}async function sE(t,e){try{const r=(await oA()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,sA(t)),await r.done}catch(n){if(n instanceof aa)bo.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bo.warn(r.message)}}}function sA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=1024,kF=30*24*60*60*1e3;class NF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=kF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aE(),{heartbeatsToSend:r,unsentEntries:i}=DF(this._heartbeatsCache.heartbeats),o=Kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function aE(){return new Date().toISOString().substring(0,10)}function DF(t,e=PF){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?R4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lE(t){return Kf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){Xf(new Kl("platform-logger",e=>new G4(e),"PRIVATE")),Xf(new Kl("heartbeat",e=>new NF(e),"PRIVATE")),Rs(Eg,oE,t),Rs(Eg,oE,"esm2017"),Rs("fire-js","")}LF("");var OF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae,Dy=Dy||{},Ae=OF||self;function mh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Au(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MF(t){return Object.prototype.hasOwnProperty.call(t,jp)&&t[jp]||(t[jp]=++$F)}var jp="closure_uid_"+(1e9*Math.random()>>>0),$F=0;function FF(t,e,n){return t.call.apply(t.bind,arguments)}function UF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function cn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?cn=FF:cn=UF,cn.apply(null,arguments)}function yc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ht(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function zi(){this.s=this.s,this.o=this.o}var jF=0;zi.prototype.s=!1;zi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),jF!=0)&&MF(this)};zi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function uE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(mh(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function fn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var BF=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ae.addEventListener("test",n,e),Ae.removeEventListener("test",n,e)}catch{}return t}();function Yl(t){return/^[\s\xa0]*$/.test(t)}function gh(){var t=Ae.navigator;return t&&(t=t.userAgent)?t:""}function _r(t){return gh().indexOf(t)!=-1}function Ly(t){return Ly[" "](t),t}Ly[" "]=function(){};function zF(t,e){var n=L3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var HF=_r("Opera"),zs=_r("Trident")||_r("MSIE"),lA=_r("Edge"),Rg=lA||zs,uA=_r("Gecko")&&!(gh().toLowerCase().indexOf("webkit")!=-1&&!_r("Edge"))&&!(_r("Trident")||_r("MSIE"))&&!_r("Edge"),WF=gh().toLowerCase().indexOf("webkit")!=-1&&!_r("Edge");function cA(){var t=Ae.document;return t?t.documentMode:void 0}var bg;e:{var Bp="",zp=function(){var t=gh();if(uA)return/rv:([^\);]+)(\)|;)/.exec(t);if(lA)return/Edge\/([\d\.]+)/.exec(t);if(zs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(WF)return/WebKit\/(\S+)/.exec(t);if(HF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(zp&&(Bp=zp?zp[1]:""),zs){var Hp=cA();if(Hp!=null&&Hp>parseFloat(Bp)){bg=String(Hp);break e}}bg=Bp}var Ag;if(Ae.document&&zs){var cE=cA();Ag=cE||parseInt(bg,10)||void 0}else Ag=void 0;var qF=Ag;function Xl(t,e){if(fn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uA){e:{try{Ly(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xl.$.h.call(this)}}Ht(Xl,fn);var GF={2:"touch",3:"pen",4:"mouse"};Xl.prototype.h=function(){Xl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xu="closure_listenable_"+(1e6*Math.random()|0),KF=0;function QF(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++KF,this.fa=this.ia=!1}function vh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Oy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function YF(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function fA(t){const e={};for(const n in t)e[n]=t[n];return e}const fE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<fE.length;o++)n=fE[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yh(t){this.src=t,this.g={},this.h=0}yh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Ig(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new QF(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function xg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=aA(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(vh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ig(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var My="closure_lm_"+(1e6*Math.random()|0),Wp={};function hA(t,e,n,r,i){if(r&&r.once)return mA(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)hA(t,e[o],n,r,i);return null}return n=Uy(n),t&&t[xu]?t.O(e,n,Au(r)?!!r.capture:!!r,i):pA(t,e,n,!1,r,i)}function pA(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Au(i)?!!i.capture:!!i,a=Fy(t);if(a||(t[My]=a=new yh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=XF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BF||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function XF(){function t(n){return e.call(t.src,t.listener,n)}const e=JF;return t}function mA(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)mA(t,e[o],n,r,i);return null}return n=Uy(n),t&&t[xu]?t.P(e,n,Au(r)?!!r.capture:!!r,i):pA(t,e,n,!0,r,i)}function gA(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gA(t,e[o],n,r,i);else r=Au(r)?!!r.capture:!!r,n=Uy(n),t&&t[xu]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Ig(o,n,r,i),-1<n&&(vh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Fy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ig(e,n,r,i)),(n=-1<t?e[t]:null)&&$y(n))}function $y(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[xu])xg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fy(e))?(xg(n,t),n.h==0&&(n.src=null,e[My]=null)):vh(t)}}}function vA(t){return t in Wp?Wp[t]:Wp[t]="on"+t}function JF(t,e){if(t.fa)t=!0;else{e=new Xl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$y(t),t=n.call(r,e)}return t}function Fy(t){return t=t[My],t instanceof yh?t:null}var qp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uy(t){return typeof t=="function"?t:(t[qp]||(t[qp]=function(e){return t.handleEvent(e)}),t[qp])}function zt(){zi.call(this),this.i=new yh(this),this.S=this,this.J=null}Ht(zt,zi);zt.prototype[xu]=!0;zt.prototype.removeEventListener=function(t,e,n,r){gA(this,t,e,n,r)};function Jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new fn(e,t);else if(e instanceof fn)e.target=e.target||t;else{var i=e;e=new fn(r,t),dA(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=_c(s,r,!0,e)&&i}if(s=e.g=t,i=_c(s,r,!0,e)&&i,i=_c(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=_c(s,r,!1,e)&&i}zt.prototype.N=function(){if(zt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vh(n[r]);delete t.g[e],t.h--}}this.J=null};zt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};zt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function _c(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&xg(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var jy=Ae.JSON.stringify;class ZF{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function e3(){var t=By;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class t3{constructor(){this.h=this.g=null}add(e,n){const r=yA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yA=new ZF(()=>new n3,t=>t.reset());class n3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function r3(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function i3(t){Ae.setTimeout(()=>{throw t},0)}let Jl,Zl=!1,By=new t3,_A=()=>{const t=Ae.Promise.resolve(void 0);Jl=()=>{t.then(o3)}};var o3=()=>{for(var t;t=e3();){try{t.h.call(t.g)}catch(n){i3(n)}var e=yA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Zl=!1};function _h(t,e){zt.call(this),this.h=t||1,this.g=e||Ae,this.j=cn(this.qb,this),this.l=Date.now()}Ht(_h,zt);ae=_h.prototype;ae.ga=!1;ae.T=null;ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jt(this,"tick"),this.ga&&(zy(this),this.start()))}};ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ae.N=function(){_h.$.N.call(this),zy(this),delete this.g};function Hy(t,e,n){if(typeof t=="function")n&&(t=cn(t,n));else if(t&&typeof t.handleEvent=="function")t=cn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ae.setTimeout(t,e||0)}function wA(t){t.g=Hy(()=>{t.g=null,t.i&&(t.i=!1,wA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class s3 extends zi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wA(this)}N(){super.N(),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eu(t){zi.call(this),this.h=t,this.g={}}Ht(eu,zi);var dE=[];function EA(t,e,n,r){Array.isArray(n)||(n&&(dE[0]=n.toString()),n=dE);for(var i=0;i<n.length;i++){var o=hA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function SA(t){Oy(t.g,function(e,n){this.g.hasOwnProperty(n)&&$y(e)},t),t.g={}}eu.prototype.N=function(){eu.$.N.call(this),SA(this)};eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wh(){this.g=!0}wh.prototype.Ea=function(){this.g=!1};function a3(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function l3(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ps(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+c3(t,n)+(r?" "+r:"")})}function u3(t,e){t.info(function(){return"TIMEOUT: "+e})}wh.prototype.info=function(){};function c3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return jy(n)}catch{return e}}var Oo={},hE=null;function Eh(){return hE=hE||new zt}Oo.Ta="serverreachability";function TA(t){fn.call(this,Oo.Ta,t)}Ht(TA,fn);function tu(t){const e=Eh();Jt(e,new TA(e))}Oo.STAT_EVENT="statevent";function RA(t,e){fn.call(this,Oo.STAT_EVENT,t),this.stat=e}Ht(RA,fn);function vn(t){const e=Eh();Jt(e,new RA(e,t))}Oo.Ua="timingevent";function bA(t,e){fn.call(this,Oo.Ua,t),this.size=e}Ht(bA,fn);function Iu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){t()},e)}var Sh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wy(){}Wy.prototype.h=null;function pE(t){return t.h||(t.h=t.i())}function xA(){}var Cu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qy(){fn.call(this,"d")}Ht(qy,fn);function Gy(){fn.call(this,"c")}Ht(Gy,fn);var Cg;function Th(){}Ht(Th,Wy);Th.prototype.g=function(){return new XMLHttpRequest};Th.prototype.i=function(){return{}};Cg=new Th;function Pu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new eu(this),this.P=f3,t=Rg?125:void 0,this.V=new _h(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new IA}function IA(){this.i=null,this.g="",this.h=!1}var f3=45e3,CA={},Pg={};ae=Pu.prototype;ae.setTimeout=function(t){this.P=t};function kg(t,e,n){t.L=1,t.A=bh(Yr(e)),t.u=n,t.S=!0,PA(t,null)}function PA(t,e){t.G=Date.now(),ku(t),t.B=Yr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),$A(n.i,"t",r),t.o=0,n=t.l.J,t.h=new IA,t.g=ox(t.l,n?e:null,!t.u),0<t.O&&(t.M=new s3(cn(t.Pa,t,t.g),t.O)),EA(t.U,t.g,"readystatechange",t.nb),e=t.I?fA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),tu(),a3(t.j,t.v,t.B,t.m,t.W,t.u)}ae.nb=function(t){t=t.target;const e=this.M;e&&wr(t)==3?e.l():this.Pa(t)};ae.Pa=function(t){try{if(t==this.g)e:{const c=wr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||Rg||this.g&&(this.h.h||this.g.ja()||yE(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?tu(3):tu(2)),Rh(this);var n=this.g.da();this.ca=n;t:if(kA(this)){var r=yE(this.g);t="";var i=r.length,o=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),dl(this);var s="";break t}this.h.i=new Ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,l3(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yl(a)){var u=a;break t}}u=null}if(n=u)ps(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ng(this,n);else{this.i=!1,this.s=3,vn(12),oo(this),dl(this);break e}}this.S?(NA(this,c,s),Rg&&this.i&&c==3&&(EA(this.U,this.V,"tick",this.mb),this.V.start())):(ps(this.j,this.m,s,null),Ng(this,s)),c==4&&oo(this),this.i&&!this.J&&(c==4?tx(this.l,this):(this.i=!1,ku(this)))}else N3(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),oo(this),dl(this)}}}catch{}finally{}};function kA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function NA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=d3(t,n),i==Pg){e==4&&(t.s=4,vn(14),r=!1),ps(t.j,t.m,null,"[Incomplete Response]");break}else if(i==CA){t.s=4,vn(15),ps(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ps(t.j,t.m,i,null),Ng(t,i);kA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,vn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zy(e),e.M=!0,vn(11))):(ps(t.j,t.m,n,"[Invalid Chunked Response]"),oo(t),dl(t))}ae.mb=function(){if(this.g){var t=wr(this.g),e=this.g.ja();this.o<e.length&&(Rh(this),NA(this,t,e),this.i&&t!=4&&ku(this))}};function d3(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Pg:(n=Number(e.substring(n,r)),isNaN(n)?CA:(r+=1,r+n>e.length?Pg:(e=e.slice(r,r+n),t.o=r+n,e)))}ae.cancel=function(){this.J=!0,oo(this)};function ku(t){t.Y=Date.now()+t.P,DA(t,t.P)}function DA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Iu(cn(t.lb,t),e)}function Rh(t){t.C&&(Ae.clearTimeout(t.C),t.C=null)}ae.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(u3(this.j,this.B),this.L!=2&&(tu(),vn(17)),oo(this),this.s=2,dl(this)):DA(this,this.Y-t)};function dl(t){t.l.H==0||t.J||tx(t.l,t)}function oo(t){Rh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,zy(t.V),SA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ng(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Dg(n.i,t))){if(!t.K&&Dg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ed(n),Ch(n);else break e;Jy(n),vn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Iu(cn(n.ib,n),6e3));if(1>=jA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else so(n,11)}else if((t.K||n.g==t)&&ed(n),!Yl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const m=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Ky(o,o.h),o.h=null))}if(r.F){const y=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,lt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=ix(r,r.J?r.pa:null,r.Y),s.K){BA(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Rh(a),ku(a)),r.g=s}else ZA(r);0<n.j.length&&Ph(n)}else u[0]!="stop"&&u[0]!="close"||so(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?so(n,7):Xy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}tu(4)}catch{}}function h3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(mh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function p3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(mh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function VA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(mh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=p3(t),r=h3(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var LA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function po(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof po){this.h=t.h,Jf(this,t.j),this.s=t.s,this.g=t.g,Zf(this,t.m),this.l=t.l;var e=t.i,n=new nu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mE(this,n),this.o=t.o}else t&&(e=String(t).match(LA))?(this.h=!1,Jf(this,e[1]||"",!0),this.s=Wa(e[2]||""),this.g=Wa(e[3]||"",!0),Zf(this,e[4]),this.l=Wa(e[5]||"",!0),mE(this,e[6]||"",!0),this.o=Wa(e[7]||"")):(this.h=!1,this.i=new nu(null,this.h))}po.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qa(e,gE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(qa(e,gE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(qa(n,n.charAt(0)=="/"?y3:v3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qa(n,w3)),t.join("")};function Yr(t){return new po(t)}function Jf(t,e,n){t.j=n?Wa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mE(t,e,n){e instanceof nu?(t.i=e,E3(t.i,t.h)):(n||(e=qa(e,_3)),t.i=new nu(e,t.h))}function lt(t,e,n){t.i.set(e,n)}function bh(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,g3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function g3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var gE=/[#\/\?@]/g,v3=/[#\?:]/g,y3=/[#\?]/g,_3=/[#\?@]/g,w3=/#/g;function nu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hi(t){t.g||(t.g=new Map,t.h=0,t.i&&m3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ae=nu.prototype;ae.add=function(t,e){Hi(this),this.i=null,t=la(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function OA(t,e){Hi(t),e=la(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function MA(t,e){return Hi(t),e=la(t,e),t.g.has(e)}ae.forEach=function(t,e){Hi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ae.ta=function(){Hi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ae.Z=function(t){Hi(this);let e=[];if(typeof t=="string")MA(this,t)&&(e=e.concat(this.g.get(la(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ae.set=function(t,e){return Hi(this),this.i=null,t=la(this,t),MA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $A(t,e,n){OA(t,e),0<n.length&&(t.i=null,t.g.set(la(t,e),Vy(n)),t.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function la(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function E3(t,e){e&&!t.j&&(Hi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OA(this,r),$A(this,i,n))},t)),t.j=e}var S3=class{constructor(t,e){this.g=t,this.map=e}};function FA(t){this.l=t||T3,Ae.PerformanceNavigationTiming?(t=Ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ae.g&&Ae.g.Ka&&Ae.g.Ka()&&Ae.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var T3=10;function UA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function jA(t){return t.h?1:t.g?t.g.size:0}function Dg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ky(t,e){t.g?t.g.add(e):t.h=e}function BA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FA.prototype.cancel=function(){if(this.i=zA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function zA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Vy(t.i)}var R3=class{stringify(t){return Ae.JSON.stringify(t,void 0)}parse(t){return Ae.JSON.parse(t,void 0)}};function b3(){this.g=new R3}function A3(t,e,n){const r=n||"";try{VA(t,function(i,o){let s=i;Au(i)&&(s=jy(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function x3(t,e){const n=new wh;if(Ae.Image){const r=new Image;r.onload=yc(wc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yc(wc,n,r,"TestLoadImage: error",!1,e),r.onabort=yc(wc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yc(wc,n,r,"TestLoadImage: timeout",!1,e),Ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function wc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ah(t){this.l=t.ec||null,this.j=t.ob||!1}Ht(Ah,Wy);Ah.prototype.g=function(){return new xh(this.l,this.j)};Ah.prototype.i=function(t){return function(){return t}}({});function xh(t,e){zt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Qy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ht(xh,zt);var Qy=0;ae=xh.prototype;ae.open=function(t,e){if(this.readyState!=Qy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ru(this)};ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nu(this)),this.readyState=Qy};ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function HA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nu(this):ru(this),this.readyState==3&&HA(this)}};ae.Za=function(t){this.g&&(this.response=this.responseText=t,Nu(this))};ae.Ya=function(t){this.g&&(this.response=t,Nu(this))};ae.ka=function(){this.g&&Nu(this)};function Nu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ru(t)}ae.setRequestHeader=function(t,e){this.v.append(t,e)};ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ru(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var I3=Ae.JSON.parse;function bt(t){zt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WA,this.L=this.M=!1}Ht(bt,zt);var WA="",C3=/^https?$/i,P3=["POST","PUT"];ae=bt.prototype;ae.Oa=function(t){this.M=t};ae.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cg.g(),this.C=this.u?pE(this.u):pE(Cg),this.g.onreadystatechange=cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){vE(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Ae.FormData&&t instanceof Ae.FormData,!(0<=aA(P3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KA(this),0<this.B&&((this.L=k3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.ua,this)):this.A=Hy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){vE(this,o)}};function k3(t){return zs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ae.ua=function(){typeof Dy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))};function vE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qA(t),Ih(t)}function qA(t){t.F||(t.F=!0,Jt(t,"complete"),Jt(t,"error"))}ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jt(this,"complete"),Jt(this,"abort"),Ih(this))};ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ih(this,!0)),bt.$.N.call(this)};ae.La=function(){this.s||(this.G||this.v||this.l?GA(this):this.kb())};ae.kb=function(){GA(this)};function GA(t){if(t.h&&typeof Dy<"u"&&(!t.C[1]||wr(t)!=4||t.da()!=2)){if(t.v&&wr(t)==4)Hy(t.La,0,t);else if(Jt(t,"readystatechange"),wr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(LA)[1]||null;!i&&Ae.self&&Ae.self.location&&(i=Ae.self.location.protocol.slice(0,-1)),r=!C3.test(i?i.toLowerCase():"")}n=r}if(n)Jt(t,"complete"),Jt(t,"success");else{t.m=6;try{var o=2<wr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",qA(t)}}finally{Ih(t)}}}}function Ih(t,e){if(t.g){KA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function KA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ae.clearTimeout(t.A),t.A=null)}ae.isActive=function(){return!!this.g};function wr(t){return t.g?t.g.readyState:0}ae.da=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}};ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),I3(e)}};function yE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case WA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function N3(t){const e={};t=(t.g&&2<=wr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Yl(t[r]))continue;var n=r3(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}YF(e,function(r){return r.join(", ")})}ae.Ia=function(){return this.m};ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function QA(t){let e="";return Oy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Yy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=QA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):lt(t,e,n))}function Pa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YA(t){this.Ga=0,this.j=[],this.l=new wh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pa("baseRetryDelayMs",5e3,t),this.hb=Pa("retryDelaySeedMs",1e4,t),this.eb=Pa("forwardChannelMaxRetries",2,t),this.xa=Pa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FA(t&&t.concurrentRequestLimit),this.Ja=new b3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ae=YA.prototype;ae.ra=8;ae.H=1;function Xy(t){if(XA(t),t.H==3){var e=t.W++,n=Yr(t.I);if(lt(n,"SID",t.K),lt(n,"RID",e),lt(n,"TYPE","terminate"),Du(t,n),e=new Pu(t,t.l,e),e.L=2,e.A=bh(Yr(n)),n=!1,Ae.navigator&&Ae.navigator.sendBeacon)try{n=Ae.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ae.Image&&(new Image().src=e.A,n=!0),n||(e.g=ox(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ku(e)}rx(t)}function Ch(t){t.g&&(Zy(t),t.g.cancel(),t.g=null)}function XA(t){Ch(t),t.u&&(Ae.clearTimeout(t.u),t.u=null),ed(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ae.clearTimeout(t.m),t.m=null)}function Ph(t){if(!UA(t.i)&&!t.m){t.m=!0;var e=t.Na;Jl||_A(),Zl||(Jl(),Zl=!0),By.add(e,t),t.C=0}}function D3(t,e){return jA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Iu(cn(t.Na,t,e),nx(t,t.C)),t.C++,!0)}ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pu(this,this.l,t);let o=this.s;if(this.U&&(o?(o=fA(o),dA(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=JA(this,i,e),n=Yr(this.I),lt(n,"RID",t),lt(n,"CVER",22),this.F&&lt(n,"X-HTTP-Session-Id",this.F),Du(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(QA(o)))+"&"+e:this.o&&Yy(n,this.o,o)),Ky(this.i,i),this.bb&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",e),lt(n,"SID","null"),i.aa=!0,kg(i,n,null)):kg(i,n,e),this.H=2}}else this.H==3&&(t?_E(this,t):this.j.length==0||UA(this.i)||_E(this))};function _E(t,e){var n;e?n=e.m:n=t.W++;const r=Yr(t.I);lt(r,"SID",t.K),lt(r,"RID",n),lt(r,"AID",t.V),Du(t,r),t.o&&t.s&&Yy(r,t.o,t.s),n=new Pu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=JA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ky(t.i,n),kg(n,r,e)}function Du(t,e){t.na&&Oy(t.na,function(n,r){lt(e,r,n)}),t.h&&VA({},function(n,r){lt(e,r,n)})}function JA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?cn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{A3(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ZA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Jl||_A(),Zl||(Jl(),Zl=!0),By.add(e,t),t.A=0}}function Jy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Iu(cn(t.Ma,t),nx(t,t.A)),t.A++,!0)}ae.Ma=function(){if(this.u=null,ex(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Iu(cn(this.jb,this),t)}};ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vn(10),Ch(this),ex(this))};function Zy(t){t.B!=null&&(Ae.clearTimeout(t.B),t.B=null)}function ex(t){t.g=new Pu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Yr(t.wa);lt(e,"RID","rpc"),lt(e,"SID",t.K),lt(e,"AID",t.V),lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&lt(e,"TO",t.qa),lt(e,"TYPE","xmlhttp"),Du(t,e),t.o&&t.s&&Yy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=bh(Yr(e)),n.u=null,n.S=!0,PA(n,t)}ae.ib=function(){this.v!=null&&(this.v=null,Ch(this),Jy(this),vn(19))};function ed(t){t.v!=null&&(Ae.clearTimeout(t.v),t.v=null)}function tx(t,e){var n=null;if(t.g==e){ed(t),Zy(t),t.g=null;var r=2}else if(Dg(t.i,e))n=e.F,BA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Eh(),Jt(r,new bA(r,n)),Ph(t)}else ZA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&D3(t,e)||r==2&&Jy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:so(t,5);break;case 4:so(t,10);break;case 3:so(t,6);break;default:so(t,2)}}}function nx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function so(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=cn(t.pb,t);n||(n=new po("//www.google.com/images/cleardot.gif"),Ae.location&&Ae.location.protocol=="http"||Jf(n,"https"),bh(n)),x3(n.toString(),r)}else vn(2);t.H=0,t.h&&t.h.za(e),rx(t),XA(t)}ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),vn(2)):(this.l.info("Failed to ping google.com"),vn(1))};function rx(t){if(t.H=0,t.ma=[],t.h){const e=zA(t.i);(e.length!=0||t.j.length!=0)&&(uE(t.ma,e),uE(t.ma,t.j),t.i.i.length=0,Vy(t.j),t.j.length=0),t.h.ya()}}function ix(t,e,n){var r=n instanceof po?Yr(n):new po(n);if(r.g!="")e&&(r.g=e+"."+r.g),Zf(r,r.m);else{var i=Ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new po(null);r&&Jf(o,r),e&&(o.g=e),i&&Zf(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&lt(r,n,e),lt(r,"VER",t.ra),Du(t,r),r}function ox(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new bt(new Ah({ob:n})):new bt(t.va),e.Oa(t.J),e}ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function sx(){}ae=sx.prototype;ae.Ba=function(){};ae.Aa=function(){};ae.za=function(){};ae.ya=function(){};ae.isActive=function(){return!0};ae.Va=function(){};function td(){if(zs&&!(10<=Number(qF)))throw Error("Environmental error: no available transport.")}td.prototype.g=function(t,e){return new Fn(t,e)};function Fn(t,e){zt.call(this),this.g=new YA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Yl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ua(this)}Ht(Fn,zt);Fn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;vn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ix(t,null,t.Y),Ph(t)};Fn.prototype.close=function(){Xy(this.g)};Fn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=jy(t),t=n);e.j.push(new S3(e.fb++,t)),e.H==3&&Ph(e)};Fn.prototype.N=function(){this.g.h=null,delete this.j,Xy(this.g),delete this.g,Fn.$.N.call(this)};function ax(t){qy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ht(ax,qy);function lx(){Gy.call(this),this.status=1}Ht(lx,Gy);function ua(t){this.g=t}Ht(ua,sx);ua.prototype.Ba=function(){Jt(this.g,"a")};ua.prototype.Aa=function(t){Jt(this.g,new ax(t))};ua.prototype.za=function(t){Jt(this.g,new lx)};ua.prototype.ya=function(){Jt(this.g,"b")};function V3(){this.blockSize=-1}function hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ht(hr,V3);hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}hr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Gp(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Gp(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Gp(this,r),i=0;break}}this.h=i,this.i+=e};hr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var L3={};function e0(t){return-128<=t&&128>t?zF(t,function(e){return new Xe([e|0],0>e?-1:0)}):new Xe([t|0],0>t?-1:0)}function Er(t){if(isNaN(t)||!isFinite(t))return bs;if(0>t)return Qt(Er(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Vg;return new Xe(e,0)}function ux(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Qt(ux(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Er(Math.pow(e,8)),r=bs,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Er(Math.pow(e,o)),r=r.R(o).add(Er(s))):(r=r.R(n),r=r.add(Er(s)))}return r}var Vg=4294967296,bs=e0(0),Lg=e0(1),wE=e0(16777216);ae=Xe.prototype;ae.ea=function(){if(Gn(this))return-Qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Vg+r)*e,e*=Vg}return t};ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zr(this))return"0";if(Gn(this))return"-"+Qt(this).toString(t);for(var e=Er(Math.pow(t,6)),n=this,r="";;){var i=rd(n,e).g;n=nd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Gn(t){return t.h==-1}ae.X=function(t){return t=nd(this,t),Gn(t)?-1:zr(t)?0:1};function Qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Xe(n,~t.h).add(Lg)}ae.abs=function(){return Gn(this)?Qt(this):this};ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Xe(n,n[n.length-1]&-2147483648?-1:0)};function nd(t,e){return t.add(Qt(e))}ae.R=function(t){if(zr(this)||zr(t))return bs;if(Gn(this))return Gn(t)?Qt(this).R(Qt(t)):Qt(Qt(this).R(t));if(Gn(t))return Qt(this.R(Qt(t)));if(0>this.X(wE)&&0>t.X(wE))return Er(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Ec(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Ec(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ec(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ec(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Xe(n,0)};function Ec(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ka(t,e){this.g=t,this.h=e}function rd(t,e){if(zr(e))throw Error("division by zero");if(zr(t))return new ka(bs,bs);if(Gn(t))return e=rd(Qt(t),e),new ka(Qt(e.g),Qt(e.h));if(Gn(e))return e=rd(t,Qt(e)),new ka(Qt(e.g),e.h);if(30<t.g.length){if(Gn(t)||Gn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Lg,r=e;0>=r.X(t);)n=EE(n),r=EE(r);var i=Wo(n,1),o=Wo(r,1);for(r=Wo(r,2),n=Wo(n,2);!zr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Wo(r,1),n=Wo(n,1)}return e=nd(t,i.R(e)),new ka(i,e)}for(i=bs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Er(n),s=o.R(e);Gn(s)||0<s.X(t);)n-=r,o=Er(n),s=o.R(e);zr(o)&&(o=Lg),i=i.add(o),t=nd(t,s)}return new ka(i,t)}ae.gb=function(t){return rd(this,t).h};ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Xe(n,this.h&t.h)};ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Xe(n,this.h|t.h)};ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Xe(n,this.h^t.h)};function EE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Xe(n,t.h)}function Wo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Xe(i,t.h)}td.prototype.createWebChannel=td.prototype.g;Fn.prototype.send=Fn.prototype.u;Fn.prototype.open=Fn.prototype.m;Fn.prototype.close=Fn.prototype.close;Sh.NO_ERROR=0;Sh.TIMEOUT=8;Sh.HTTP_ERROR=6;AA.COMPLETE="complete";xA.EventType=Cu;Cu.OPEN="a";Cu.CLOSE="b";Cu.ERROR="c";Cu.MESSAGE="d";zt.prototype.listen=zt.prototype.O;bt.prototype.listenOnce=bt.prototype.P;bt.prototype.getLastError=bt.prototype.Sa;bt.prototype.getLastErrorCode=bt.prototype.Ia;bt.prototype.getStatus=bt.prototype.da;bt.prototype.getResponseJson=bt.prototype.Wa;bt.prototype.getResponseText=bt.prototype.ja;bt.prototype.send=bt.prototype.ha;bt.prototype.setWithCredentials=bt.prototype.Oa;hr.prototype.digest=hr.prototype.l;hr.prototype.reset=hr.prototype.reset;hr.prototype.update=hr.prototype.j;Xe.prototype.add=Xe.prototype.add;Xe.prototype.multiply=Xe.prototype.R;Xe.prototype.modulo=Xe.prototype.gb;Xe.prototype.compare=Xe.prototype.X;Xe.prototype.toNumber=Xe.prototype.ea;Xe.prototype.toString=Xe.prototype.toString;Xe.prototype.getBits=Xe.prototype.D;Xe.fromNumber=Er;Xe.fromString=ux;var O3=function(){return new td},M3=function(){return Eh()},Kp=Sh,$3=AA,F3=Oo,SE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Sc=xA,U3=bt,j3=hr,As=Xe;const TE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new tA("@firebase/firestore");function Na(){return Ao.logLevel}function se(t,...e){if(Ao.logLevel<=Be.DEBUG){const n=e.map(t0);Ao.debug(`Firestore (${ca}): ${t}`,...n)}}function Cr(t,...e){if(Ao.logLevel<=Be.ERROR){const n=e.map(t0);Ao.error(`Firestore (${ca}): ${t}`,...n)}}function Hs(t,...e){if(Ao.logLevel<=Be.WARN){const n=e.map(t0);Ao.warn(`Firestore (${ca}): ${t}`,...n)}}function t0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function rt(t,e){t||be()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends aa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class z3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class H3{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new cx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new an(e)}}class W3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class q3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new W3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new G3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Q3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Ws(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Ot(0,0))}static max(){return new xe(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends iu{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const Y3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends iu{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return Y3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new fe(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new fe(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}function X3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Vi(i,_e.empty(),e)}function J3(t){return new Vi(t.readTime,t.key,-1)}class Vi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vi(xe.min(),_e.empty(),-1)}static max(){return new Vi(xe.max(),_e.empty(),-1)}}function Z3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==e9)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new K((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Wr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new hl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=r0(r.target.error);this.V.reject(new hl(e,i))}}static open(e,n,r,i){try{return new n0(n,e.transaction(i,r))}catch(o){throw new hl(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new r9(n)}}class ao{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ao.S(Qf())===12.2&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),to(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Zb())return!1;if(ao.C())return!0;const e=Qf(),n=ao.S(e),r=0<n&&n<10,i=ao.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(se("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new hl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new fe(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new fe(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new hl(e,s))},i.onupgradeneeded=o=>{se("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{se("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=n0.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),K.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(se("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class n9{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return to(this.k.delete())}}class hl extends fe{constructor(e,n){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Lu(t){return t.name==="IndexedDbTransactionError"}class r9{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(se("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),to(r)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),to(this.store.add(e))}get(e){return to(this.store.get(e)).next(n=>(n===void 0&&(n=null),se("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),to(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),to(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new K((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new K((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new K((r,i)=>{n.onerror=o=>{const s=r0(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new K((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new n9(a),u=n(a.primaryKey,a.value,l);if(u instanceof K){const c=u.catch(f=>(l.done(),K.reject(f)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>K.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function to(t){return new K((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=r0(r.target.error);n(i)}})}let RE=!1;function r0(t){const e=ao.S(Qf());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RE||(RE=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}i0._e=-1;function kh(t){return t==null}function id(t){return t===0&&1/t==-1/0}function i9(t){return typeof t=="number"&&Number.isInteger(t)&&!id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=o??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AE(this.data.getIterator())}getIteratorFrom(e){return new AE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class AE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Zt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hx("Invalid base64 string: "+o):o}}(e);return new hn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const o9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(rt(!!t),typeof t=="string"){let e=0;const n=o9.exec(t);if(rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function s0(t){const e=t.mapValue.fields.__previous_value__;return o0(e)?s0(e):e}function ou(t){const e=Li(t.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class su{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new su("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o0(t)?4:a9(t)?9007199254740991:10:be()}function Pr(t,e){if(t===e)return!0;const n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ou(t).isEqual(ou(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Li(i.timestampValue),a=Li(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return xo(i.bytesValue).isEqual(xo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Pt(i.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pt(i.integerValue)===Pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Pt(i.doubleValue),a=Pt(o.doubleValue);return s===a?id(s)===id(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(bE(s)!==bE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Pr(s[l],a[l])))return!1;return!0}(t,e);default:return be()}}function au(t,e){return(t.values||[]).find(n=>Pr(n,e))!==void 0}function qs(t,e){if(t===e)return 0;const n=Io(t),r=Io(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Pt(o.integerValue||o.doubleValue),l=Pt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return xE(t.timestampValue,e.timestampValue);case 4:return xE(ou(t),ou(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(o,s){const a=xo(o),l=xo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=We(a[u],l[u]);if(c!==0)return c}return We(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=We(Pt(o.latitude),Pt(s.latitude));return a!==0?a:We(Pt(o.longitude),Pt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=qs(a[u],l[u]);if(c)return c}return We(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Rc.mapValue&&s===Rc.mapValue)return 0;if(o===Rc.mapValue)return 1;if(s===Rc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=We(l[f],c[f]);if(d!==0)return d;const h=qs(a[l[f]],u[c[f]]);if(h!==0)return h}return We(l.length,c.length)}(t.mapValue,e.mapValue);default:throw be()}}function xE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Li(t),r=Li(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function Gs(t){return Og(t)}function Og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Og(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Og(n.fields[s])}`;return i+"}"}(t.mapValue):be()}function IE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mg(t){return!!t&&"integerValue"in t}function a0(t){return!!t&&"arrayValue"in t}function CE(t){return!!t&&"nullValue"in t}function PE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}function pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=pl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rn(pl(this.value))}}function px(t){const e=[];return Mo(t.fields,(n,r)=>{const i=new Yt([n]);if(rf(r)){const o=px(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new un(e,0,xe.min(),xe.min(),xe.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new un(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new un(e,2,n,xe.min(),xe.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,xe.min(),xe.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.position=e,this.inclusive=n}}function kE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(s.referenceValue),n.key):r=qs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function NE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function l9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{}class Nt extends mx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new c9(e,n,r):n==="array-contains"?new h9(e,r):n==="in"?new p9(e,r):n==="not-in"?new m9(e,r):n==="array-contains-any"?new g9(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new f9(e,r):new d9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qs(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends mx{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new pr(e,n)}matches(e){return gx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function gx(t){return t.op==="and"}function vx(t){return u9(t)&&gx(t)}function u9(t){for(const e of t.filters)if(e instanceof pr)return!1;return!0}function $g(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Gs(t.value);if(vx(t))return t.filters.map(e=>$g(e)).join(",");{const e=t.filters.map(n=>$g(n)).join(",");return`${t.op}(${e})`}}function yx(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&Pr(r.value,i.value)}(t,e):t instanceof pr?function(r,i){return i instanceof pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&yx(s,i.filters[a]),!0):!1}(t,e):void be()}function _x(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`}(t):t instanceof pr?function(n){return n.op.toString()+" {"+n.getFilters().map(_x).join(" ,")+"}"}(t):"Filter"}class c9 extends Nt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class f9 extends Nt{constructor(e,n){super(e,"in",n),this.keys=wx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d9 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=wx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class h9 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a0(n)&&au(n.arrayValue,this.value)}}class p9 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class m9 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!au(this.value.arrayValue,n)}}class g9 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>au(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function DE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new v9(t,e,n,r,i,o,s)}function l0(t){const e=Ce(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$g(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gs(r)).join(",")),e.ce=n}return e.ce}function u0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!l9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NE(t.startAt,e.startAt)&&NE(t.endAt,e.endAt)}function Fg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function y9(t,e,n,r,i,o,s,a){return new fa(t,e,n,r,i,o,s,a)}function c0(t){return new fa(t)}function VE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ex(t){return t.collectionGroup!==null}function ml(t){const e=Ce(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new lu(o,r))}),n.has(Yt.keyField().canonicalString())||e.le.push(new lu(Yt.keyField(),r))}return e.le}function br(t){const e=Ce(t);return e.he||(e.he=_9(e,ml(t))),e.he}function _9(t,e){if(t.limitType==="F")return DE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new lu(i.field,o)});const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return DE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ug(t,e){const n=t.filters.concat([e]);return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sd(t,e,n){return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nh(t,e){return u0(br(t),br(e))&&t.limitType===e.limitType}function Sx(t){return`${l0(br(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_x(i)).join(", ")}]`),kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gs(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Dh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ml(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=kE(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ml(r),i)||r.endAt&&!function(s,a,l){const u=kE(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ml(r),i))}(t,e)}function w9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Tx(t){return(e,n)=>{let r=!1;for(const i of ml(t)){const o=E9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function E9(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?qs(l,u):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return dx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=new St(_e.comparator);function Xr(){return S9}const Rx=new St(_e.comparator);function Ga(...t){let e=Rx;for(const n of t)e=e.insert(n.key,n);return e}function bx(t){let e=Rx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lo(){return gl()}function Ax(){return gl()}function gl(){return new da(t=>t.toString(),(t,e)=>t.isEqual(e))}const T9=new St(_e.comparator),R9=new Zt(_e.comparator);function Oe(...t){let e=R9;for(const n of t)e=e.add(n);return e}const b9=new Zt(We);function A9(){return b9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function Ix(t){return{integerValue:""+t}}function x9(t,e){return i9(e)?Ix(e):xx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function I9(t,e,n){return t instanceof ad?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&o0(o)&&(o=s0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof uu?Px(t,e):t instanceof cu?kx(t,e):function(i,o){const s=Cx(i,o),a=LE(s)+LE(i.Ie);return Mg(s)&&Mg(i.Ie)?Ix(a):xx(i.serializer,a)}(t,e)}function C9(t,e,n){return t instanceof uu?Px(t,e):t instanceof cu?kx(t,e):n}function Cx(t,e){return t instanceof ld?function(r){return Mg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ad extends Vh{}class uu extends Vh{constructor(e){super(),this.elements=e}}function Px(t,e){const n=Nx(e);for(const r of t.elements)n.some(i=>Pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cu extends Vh{constructor(e){super(),this.elements=e}}function kx(t,e){let n=Nx(e);for(const r of t.elements)n=n.filter(i=>!Pr(i,r));return{arrayValue:{values:n}}}class ld extends Vh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function LE(t){return Pt(t.integerValue||t.doubleValue)}function Nx(t){return a0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uu&&i instanceof uu||r instanceof cu&&i instanceof cu?Ws(r.elements,i.elements,Pr):r instanceof ld&&i instanceof ld?Pr(r.Ie,i.Ie):r instanceof ad&&i instanceof ad}(t.transform,e.transform)}class k9{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lh{}function Dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f0(t.key,fr.none()):new Ou(t.key,t.data,fr.none());{const n=t.data,r=Rn.empty();let i=new Zt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wi(t.key,r,new Ln(i.toArray()),fr.none())}}function N9(t,e,n){t instanceof Ou?function(i,o,s){const a=i.value.clone(),l=ME(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(i,o,s){if(!of(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=ME(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Vx(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function vl(t,e,n,r){return t instanceof Ou?function(o,s,a,l){if(!of(o.precondition,s))return a;const u=o.value.clone(),c=$E(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wi?function(o,s,a,l){if(!of(o.precondition,s))return a;const u=$E(o.fieldTransforms,l,s),c=s.data;return c.setAll(Vx(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return of(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function D9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Cx(r.transform,i||null);o!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,o))}return n||null}function OE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ws(r,i,(o,s)=>P9(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends Lh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wi extends Lh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Vx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ME(t,e,n){const r=new Map;rt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,C9(s,a,n[i]))}return r}function $E(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,I9(o,s,e))}return r}class f0 extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V9 extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&N9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ax();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Dx(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,r)=>OE(n,r))&&Ws(this.baseMutations,e.baseMutations,(n,r)=>OE(n,r))}}class d0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length);let i=function(){return T9}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new d0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ue;function $9(t){switch(t){default:return be();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function Lx(t){if(t===void 0)return Cr("GRPC error has no .code"),H.UNKNOWN;switch(t){case Ct.OK:return H.OK;case Ct.CANCELLED:return H.CANCELLED;case Ct.UNKNOWN:return H.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return H.INTERNAL;case Ct.UNAVAILABLE:return H.UNAVAILABLE;case Ct.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Ct.NOT_FOUND:return H.NOT_FOUND;case Ct.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Ct.ABORTED:return H.ABORTED;case Ct.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Ct.DATA_LOSS:return H.DATA_LOSS;default:return be()}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=new As([4294967295,4294967295],0);function FE(t){const e=F9().encode(t),n=new j3;return n.update(e),new Uint8Array(n.digest())}function UE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new As([n,r],0),new As([i,o],0)]}class h0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ka(`Invalid padding: ${n}`);if(r<0)throw new Ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=As.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(As.fromNumber(r)));return i.compare(U9)===1&&(i=new As([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=FE(e),[r,i]=UE(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new h0(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=FE(e),[r,i]=UE(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Oh(xe.min(),i,new St(We),Xr(),Oe())}}class Mu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mu(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Ox{constructor(e,n){this.targetId=e,this.fe=n}}class Mx{constructor(e,n,r=hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jE{constructor(){this.ge=0,this.pe=zE(),this.ye=hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new Mu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=zE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,rt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class j9{constructor(e){this.Le=e,this.ke=new Map,this.qe=Xr(),this.Qe=BE(),this.Ke=new St(We)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Fg(o))if(r===0){const s=new _e(o.path);this.We(n,s,un.newNoDocument(s,xe.min()))}else rt(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=xo(r).toUint8Array()}catch(l){if(l instanceof hx)return Hs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new h0(s,i,o)}catch(l){return Hs(l instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Fg(a.target)){const l=new _e(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,un.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Oe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Oh(e,n,this.Ke,this.qe,r);return this.qe=Xr(),this.Qe=BE(),this.Ke=new St(We),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new jE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Zt(We),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new jE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function BE(){return new St(_e.comparator)}function zE(){return new St(_e.comparator)}const B9={asc:"ASCENDING",desc:"DESCENDING"},z9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H9={and:"AND",or:"OR"};class W9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jg(t,e){return t.useProto3Json||kh(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $x(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q9(t,e){return ud(t,e.toTimestamp())}function Ar(t){return rt(!!t),xe.fromTimestamp(function(n){const r=Li(n);return new Ot(r.seconds,r.nanos)}(t))}function p0(t,e){return Bg(t,e).canonicalString()}function Bg(t,e){const n=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Fx(t){const e=ut.fromString(t);return rt(Hx(e)),e}function zg(t,e){return p0(t.databaseId,e.path)}function Qp(t,e){const n=Fx(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(jx(n))}function Ux(t,e){return p0(t.databaseId,e)}function G9(t){const e=Fx(t);return e.length===4?ut.emptyPath():jx(e)}function Hg(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jx(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HE(t,e,n){return{name:zg(t,e),fields:n.value.mapValue.fields}}function K9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(rt(c===void 0||typeof c=="string"),hn.fromBase64String(c||"")):(rt(c===void 0||c instanceof Uint8Array),hn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?H.UNKNOWN:Lx(u.code);return new fe(c,u.message||"")}(s);n=new Mx(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qp(t,r.document.name),o=Ar(r.document.updateTime),s=r.document.createTime?Ar(r.document.createTime):xe.min(),a=new Rn({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new sf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qp(t,r.document),o=r.readTime?Ar(r.readTime):xe.min(),s=un.newNoDocument(i,o),a=r.removedTargetIds||[];n=new sf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qp(t,r.document),o=r.removedTargetIds||[];n=new sf([],o,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new M9(i,o),a=r.targetId;n=new Ox(a,s)}}return n}function Q9(t,e){let n;if(e instanceof Ou)n={update:HE(t,e.key,e.value)};else if(e instanceof f0)n={delete:zg(t,e.key)};else if(e instanceof Wi)n={update:HE(t,e.key,e.data),updateMask:iU(e.fieldMask)};else{if(!(e instanceof V9))return be();n={verify:zg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ad)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ld)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:q9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(t,e.precondition)),n}function Y9(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ar(i.updateTime):Ar(o);return s.isEqual(xe.min())&&(s=Ar(o)),new k9(s,i.transformResults||[])}(n,e))):[]}function X9(t,e){return{documents:[Ux(t,e.path)]}}function J9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ux(t,i);const o=function(u){if(u.length!==0)return zx(pr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Zo(d.field),direction:tU(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=jg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function Z9(t){let e=G9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=Bx(f);return d instanceof pr&&vx(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(m){return new lu(es(m.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,kh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new od(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,h=f.values||[];return new od(h,d)}(n.endAt)),y9(e,i,s,o,a,"F",l,u)}function eU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Bx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=es(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=es(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=es(n.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=es(n.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(es(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pr.create(n.compositeFilter.filters.map(r=>Bx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function tU(t){return B9[t]}function nU(t){return z9[t]}function rU(t){return H9[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function es(t){return Yt.fromServerFormat(t.fieldPath)}function zx(t){return t instanceof Nt?function(n){if(n.op==="=="){if(PE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(CE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(CE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:nU(n.op),value:n.value}}}(t):t instanceof pr?function(n){const r=n.getFilters().map(i=>zx(i));return r.length===1?r[0]:{compositeFilter:{op:rU(n.op),filters:r}}}(t):be()}function iU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Hx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,i,o=xe.min(),s=xe.min(),a=hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.ct=e}}function sU(t){const e=Z9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(){this._n=new lU}addToCollectionParentIndex(e,n){return this._n.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Vi.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class lU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(ut.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ks(0)}static Bn(){return new Ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.changes=new da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vl(r.mutation,i,Ln.empty(),Ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=lo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ga();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Xr();const s=gl(),a=function(){return gl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Wi)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),vl(c.mutation,u,c.mutation.getFieldMask(),Ot.now())):s.set(u.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new cU(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gl();let i=new St((s,a)=>s-a),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ln.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=Ax();c.forEach(d=>{if(!o.has(d)){const h=Dx(n.get(d),r.get(d));h!==null&&f.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return K.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ex(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):K.resolve(lo());let a=-1,l=o;return s.next(u=>K.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:bx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Ga();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ga();return this.indexManager.getCollectionParents(e,o).next(a=>K.forEach(a,l=>{const u=function(f,d){return new fa(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,un.newInvalidDocument(c)))});let a=Ga();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&vl(c.mutation,u,Ln.empty(),Ot.now()),Dh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return K.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ar(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:sU(i.bundledQuery),readTime:Ar(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.overlays=new St(_e.comparator),this.hr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lo();return K.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=lo(),o=n.length+1,s=new _e(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new St((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=lo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=lo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return K.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new O9(n,r));let o=this.hr.get(n);o===void 0&&(o=Oe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.Pr=new Zt(Ut.Ir),this.Tr=new Zt(Ut.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ut(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new _e(new ut([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new _e(new ut([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=Oe();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return _e.comparator(e.key,n.key)||We(e.pr,n.pr)}static Er(e,n){return We(e.pr,n.pr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Zt(Ut.Ir)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new L9(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(s)}lookupMutationBatch(e,n){return K.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(We);return n.forEach(i=>{const o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),K.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const s=new Ut(new _e(o),0);let a=new Zt(We);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),K.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return K.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ut(n,0),i=this.wr.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.vr=e,this.docs=function(){return new St(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Xr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Xr();const s=n.path,a=new _e(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Z3(J3(c),r)<=0||(i.has(c.key)||Dh(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,r,i){be()}Fr(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gU(this)}getSize(e){return K.resolve(this.size)}}class gU extends uU{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.persistence=e,this.Mr=new da(n=>l0(n),u0),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new m0,this.targetCount=0,this.Br=Ks.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),K.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Ks(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.qn(n),K.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(o).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n){this.Lr={},this.overlays={},this.kr=new i0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new vU(this),this.indexManager=new aU,this.remoteDocumentCache=function(i){return new mU(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new oU(n),this.$r=new dU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new pU(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new _U(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return K.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class _U extends t9{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.zr=new m0,this.jr=null}static Hr(e){return new g0(e)}get Jr(){if(this.jr)return this.jr;throw be()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),K.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Jr,r=>{const i=_e.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,xe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return K.or([()=>K.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Oe(),i=Oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new v0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return T4()?8:ao.v(Qf())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new wU;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Na()<=Be.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),K.resolve()):(Na()<=Be.DEBUG&&se("QueryEngine","Query:",Jo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Na()<=Be.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):K.resolve())}ji(e,n){if(VE(n))return K.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sd(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Oe(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,sd(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return VE(n)||i.isEqual(xe.min())?K.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?K.resolve(null):(Na()<=Be.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jo(n)),this.es(e,s,n,X3(i,-1)).next(a=>a))})}Zi(e,n){let r=new Zt(Tx(e));return n.forEach((i,o)=>{Dh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Na()<=Be.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.zi.getDocumentsMatchingQuery(e,n,Vi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new St(We),this.rs=new da(o=>l0(o),u0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fU(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function TU(t,e,n,r){return new SU(t,e,n,r)}async function Wx(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Oe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function RU(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let h=K.resolve();return d.forEach(m=>{h=h.next(()=>c.getEntry(l,m)).next(y=>{const T=u.docVersions.get(m);rt(T!==null),y.version.compareTo(T)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qx(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function bU(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,f)));let h=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(hn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(y,T,g){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(o,h))});let l=Xr(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(AU(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(xe.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return K.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function AU(t,e,n){let r=Oe(),i=Oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Xr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function xU(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IU(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,K.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new vi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Wg(t,e,n){const r=Ce(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Lu(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function WE(t,e,n){const r=Ce(t);let i=xe.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Ce(l),d=f.rs.get(c);return d!==void 0?K.resolve(f.ns.get(d)):f.Qr.getTargetData(u,c)}(r,s,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:xe.min(),n?o:Oe())).next(a=>(CU(r,w9(e),a),{documents:a,hs:o})))}function CU(t,e,n){let r=t.ss.get(e)||xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class qE{constructor(){this.activeTargetIds=A9()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PU{constructor(){this.no=new qE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function Yp(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class VU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=Yp(),l=this.bo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(se("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Hs("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ca}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=NU[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=Yp();return new Promise((s,a)=>{const l=new U3;l.setWithCredentials(!0),l.listenOnce($3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Kp.NO_ERROR:const c=l.getResponseJson();se(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Kp.TIMEOUT:se(rn,`RPC '${e}' ${o} timed out`),a(new fe(H.DEADLINE_EXCEEDED,"Request time out"));break;case Kp.HTTP_ERROR:const f=l.getStatus();if(se(rn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const m=function(T){const g=T.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(g)>=0?g:H.UNKNOWN}(h.status);a(new fe(m,h.message))}else a(new fe(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(H.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{se(rn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);se(rn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Yp(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=O3(),a=M3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");se(rn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let d=!1,h=!1;const m=new DU({lo:T=>{h?se(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(d||(se(rn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),se(rn,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},ho:()=>f.close()}),y=(T,g,p)=>{T.listen(g,v=>{try{p(v)}catch(b){setTimeout(()=>{throw b},0)}})};return y(f,Sc.EventType.OPEN,()=>{h||se(rn,`RPC '${e}' stream ${i} transport opened.`)}),y(f,Sc.EventType.CLOSE,()=>{h||(h=!0,se(rn,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),y(f,Sc.EventType.ERROR,T=>{h||(h=!0,Hs(rn,`RPC '${e}' stream ${i} transport errored:`,T),m.Vo(new fe(H.UNAVAILABLE,"The operation could not be completed")))}),y(f,Sc.EventType.MESSAGE,T=>{var g;if(!h){const p=T.data[0];rt(!!p);const v=p,b=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(b){se(rn,`RPC '${e}' stream ${i} received error:`,b);const I=b.status;let E=function(M){const L=Ct[M];if(L!==void 0)return Lx(L)}(I),S=b.message;E===void 0&&(E=H.INTERNAL,S="Unknown error status: "+I+" with message "+b.message),h=!0,m.Vo(new fe(E,S)),f.close()}else se(rn,`RPC '${e}' stream ${i} received:`,p),m.mo(p)}}),y(a,F3.STAT_EVENT,T=>{T.stat===SE.PROXY?se(rn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===SE.NOPROXY&&se(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function Xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){return new W9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Gx(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new fe(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LU extends Kx{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=K9(this.serializer,e),r=function(o){if(!("targetChange"in o))return xe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?xe.min():s.readTime?Ar(s.readTime):xe.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Hg(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Fg(l)?{documents:X9(o,l)}:{query:J9(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$x(o,s.resumeToken);const u=jg(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(xe.min())>0){a.readTime=ud(o,s.snapshotVersion.toTimestamp());const u=jg(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=eU(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Hg(this.serializer),n.removeTarget=e,this.t_(n)}}class OU extends Kx{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=Y9(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.T_(r,n)}return rt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Hg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Q9(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new fe(H.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Bg(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(H.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Bg(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(H.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class $U{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Cr(n),this.g_=!1):se("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{$o(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.v_.add(4),await $u(u),u.x_.set("Unknown"),u.v_.delete(4),await $h(u)}(this))})}),this.x_=new $U(r,i)}}async function $h(t){if($o(t))for(const e of t.F_)await e(!0)}async function $u(t){for(const e of t.F_)await e(!1)}function Qx(t,e){const n=Ce(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),w0(n)?_0(n):ha(n).Jo()&&y0(n,e))}function Yx(t,e){const n=Ce(t),r=ha(n);n.C_.delete(e),r.Jo()&&Xx(n,e),n.C_.size===0&&(r.Jo()?r.Xo():$o(n)&&n.x_.set("Unknown"))}function y0(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ha(t).c_(e)}function Xx(t,e){t.O_.Oe(e),ha(t).l_(e)}function _0(t){t.O_=new j9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ha(t).start(),t.x_.p_()}function w0(t){return $o(t)&&!ha(t).Ho()&&t.C_.size>0}function $o(t){return Ce(t).v_.size===0}function Jx(t){t.O_=void 0}async function UU(t){t.C_.forEach((e,n)=>{y0(t,e)})}async function jU(t,e){Jx(t),w0(t)?(t.x_.S_(e),_0(t)):t.x_.set("Unknown")}async function BU(t,e,n){if(t.x_.set("Online"),e instanceof Mx&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cd(t,r)}else if(e instanceof sf?t.O_.$e(e):e instanceof Ox?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(xe.min()))try{const r=await qx(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(hn.EMPTY_BYTE_STRING,c.snapshotVersion)),Xx(o,l);const f=new vi(c.target,l,u,c.sequenceNumber);y0(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await cd(t,r)}}async function cd(t,e,n){if(!Lu(e))throw e;t.v_.add(1),await $u(t),t.x_.set("Offline"),n||(n=()=>qx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await $h(t)})}function Zx(t,e){return e().catch(n=>cd(t,n,e))}async function Fh(t){const e=Ce(t),n=Oi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;zU(e);)try{const i=await xU(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,HU(e,i)}catch(i){await cd(e,i)}eI(e)&&tI(e)}function zU(t){return $o(t)&&t.D_.length<10}function HU(t,e){t.D_.push(e);const n=Oi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function eI(t){return $o(t)&&!Oi(t).Ho()&&t.D_.length>0}function tI(t){Oi(t).start()}async function WU(t){Oi(t).d_()}async function qU(t){const e=Oi(t);for(const n of t.D_)e.I_(n.mutations)}async function GU(t,e,n){const r=t.D_.shift(),i=d0.from(r,e,n);await Zx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fh(t)}async function KU(t,e){e&&Oi(t).P_&&await async function(r,i){if(function(s){return $9(s)&&s!==H.ABORTED}(i.code)){const o=r.D_.shift();Oi(r).Zo(),await Zx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Fh(r)}}(t,e),eI(t)&&tI(t)}async function KE(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=$o(n);n.v_.add(3),await $u(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await $h(n)}async function QU(t,e){const n=Ce(t);e?(n.v_.delete(2),await $h(n)):e||(n.v_.add(2),await $u(n),n.x_.set("Unknown"))}function ha(t){return t.N_||(t.N_=function(n,r,i){const o=Ce(n);return o.R_(),new LU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:UU.bind(null,t),To:jU.bind(null,t),u_:BU.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),w0(t)?_0(t):t.x_.set("Unknown")):(await t.N_.stop(),Jx(t))})),t.N_}function Oi(t){return t.B_||(t.B_=function(n,r,i){const o=Ce(n);return o.R_(),new OU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:WU.bind(null,t),To:KU.bind(null,t),E_:qU.bind(null,t),T_:GU.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Fh(t)):(await t.B_.stop(),t.D_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new E0(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),Lu(t))return new fe(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Ga(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new xs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.L_=new St(_e.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):be():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qs{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Qs(e,n,xs.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.q_=void 0,this.Q_=[]}}class XU{constructor(){this.queries=new da(e=>Sx(e),Nh),this.onlineState="Unknown",this.K_=new Set}}async function nI(t,e){const n=Ce(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new YU),i)try{o.q_=await n.onListen(r)}catch(s){const a=S0(s,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&T0(n)}async function rI(t,e){const n=Ce(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function JU(t,e){const n=Ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&T0(n)}function ZU(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function T0(t){t.K_.forEach(e=>{e.next()})}class iI{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.key=e}}class sI{constructor(e){this.key=e}}class ej{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Oe(),this.mutatedKeys=Oe(),this.ua=Tx(e),this.ca=new xs(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new QE,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),h=Dh(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let T=!1;d&&h?d.data.isEqual(h.data)?m!==y&&(r.track({type:3,doc:h}),T=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),T=!0,(l&&this.ua(h,l)>0||u&&this.ua(h,u)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),T=!0):d&&!h&&(r.track({type:1,doc:d}),T=!0,(l||u)&&(a=!0)),T&&(h?(s=s.add(h),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,f)=>function(h,m){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return y(h)-y(m)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new Qs(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new QE,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Oe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new sI(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new oI(r))}),n}Ra(e){this.oa=e.hs,this.aa=Oe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Qs.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class tj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nj{constructor(e){this.key=e,this.ma=!1}}class rj{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new da(a=>Sx(a),Nh),this.pa=new Map,this.ya=new Set,this.wa=new St(_e.comparator),this.Sa=new Map,this.ba=new m0,this.Da={},this.Ca=new Map,this.va=Ks.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function ij(t,e){const n=pj(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await IU(n.localStore,br(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await oj(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&Qx(n.remoteStore,s)}return i}async function oj(t,e,n,r,i){t.Ma=(f,d,h)=>async function(y,T,g,p){let v=T.view.ha(g);v.Xi&&(v=await WE(y.localStore,T.query,!1).then(({documents:S})=>T.view.ha(S,v)));const b=p&&p.targetChanges.get(T.targetId),I=p&&p.targetMismatches.get(T.targetId)!=null,E=T.view.applyChanges(v,y.isPrimaryClient,b,I);return XE(y,T.targetId,E.da),E.snapshot}(t,f,d,h);const o=await WE(t.localStore,e,!0),s=new ej(e,o.hs),a=s.ha(o.documents),l=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);XE(t,n,u.da);const c=new tj(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function sj(t,e){const n=Ce(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Nh(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Wg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Yx(n.remoteStore,r.targetId),qg(n,r.targetId)}).catch(Vu)):(qg(n,r.targetId),await Wg(n.localStore,r.targetId,!0))}async function aj(t,e,n){const r=mj(t);try{const i=await function(s,a){const l=Ce(s),u=Ot.now(),c=a.reduce((h,m)=>h.add(m.key),Oe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=Xr(),y=Oe();return l.os.getEntries(h,c).next(T=>{m=T,m.forEach((g,p)=>{p.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,m)).next(T=>{f=T;const g=[];for(const p of a){const v=D9(p,f.get(p.key).overlayedDocument);v!=null&&g.push(new Wi(p.key,v,px(v.value.mapValue),fr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,g,a)}).next(T=>{d=T;const g=T.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(h,T.batchId,g)})}).then(()=>({batchId:d.batchId,changes:bx(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new St(We)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await Fu(r,i.changes),await Fh(r.remoteStore)}catch(i){const o=S0(i,"Failed to persist write");n.reject(o)}}async function aI(t,e){const n=Ce(t);try{const r=await bU(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?rt(s.ma):i.removedDocuments.size>0&&(rt(s.ma),s.ma=!1))}),await Fu(n,r,e)}catch(r){await Vu(r)}}function YE(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ce(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.Q_)d.U_(a)&&(u=!0)}),u&&T0(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lj(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new St(_e.comparator);s=s.insert(o,un.newNoDocument(o,xe.min()));const a=Oe().add(o),l=new Oh(xe.min(),new Map,new St(We),s,a);await aI(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),R0(r)}else await Wg(r.localStore,e,!1).then(()=>qg(r,e,n)).catch(Vu)}async function uj(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await RU(n.localStore,e);uI(n,r,null),lI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(n,i)}catch(i){await Vu(i)}}async function cj(t,e,n){const r=Ce(t);try{const i=await function(s,a){const l=Ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(rt(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);uI(r,e,n),lI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fu(r,i)}catch(i){await Vu(i)}}function lI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function uI(t,e,n){const r=Ce(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function qg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||cI(t,r)})}function cI(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Yx(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),R0(t))}function XE(t,e,n){for(const r of n)r instanceof oI?(t.ba.addReference(r.key,e),fj(t,r)):r instanceof sI?(se("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||cI(t,r.key)):be()}function fj(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(se("SyncEngine","New document in limbo: "+n),t.ya.add(r),R0(t))}function R0(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new _e(ut.fromString(e)),r=t.va.next();t.Sa.set(r,new nj(n)),t.wa=t.wa.insert(n,r),Qx(t.remoteStore,new vi(br(c0(n.path)),r,"TargetPurposeLimboResolution",i0._e))}}async function Fu(t,e,n){const r=Ce(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=v0.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(u,d=>K.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>K.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Lu(f))throw f;se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),m=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(m);c.ns=c.ns.insert(d,y)}}}(r.localStore,o))}async function dj(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await Wx(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new fe(H.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(n,r.us)}}function hj(t,e){const n=Ce(t),r=n.Sa.get(e);if(r&&r.ma)return Oe().add(r.key);{let i=Oe();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function pj(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lj.bind(null,e),e.fa.u_=JU.bind(null,e.eventManager),e.fa.xa=ZU.bind(null,e.eventManager),e}function mj(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cj.bind(null,e),e}class JE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return TU(this.persistence,new EU,e.initialUser,this.serializer)}createPersistence(e){return new yU(g0.Hr,this.serializer)}createSharedClientState(e){return new PU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dj.bind(null,this.syncEngine),await QU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XU}()}createDatastore(e){const n=Mh(e.databaseInfo.databaseId),r=function(o){return new VU(o)}(e.databaseInfo);return function(o,s,a,l){return new MU(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new FU(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>YE(this.syncEngine,n,0),function(){return GE.D()?new GE:new kU}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new rj(i,o,s,a,l,u);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ce(r);se("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await $u(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=fx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jp(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Wx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _j(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>KE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>KE(e.remoteStore,i)),t._onlineComponents=e}function yj(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _j(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yj(n))throw n;Hs("Error using user provided cache. Falling back to memory cache: "+n),await Jp(t,new JE)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Jp(t,new JE);return t._offlineComponents}async function dI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await ZE(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await ZE(t,new gj))),t._onlineComponents}function wj(t){return dI(t).then(e=>e.syncEngine)}async function Gg(t){const e=await dI(t),n=e.eventManager;return n.onListen=ij.bind(null,e.syncEngine),n.onUnlisten=sj.bind(null,e.syncEngine),n}function Ej(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new fI({next:d=>{s.enqueueAndForget(()=>rI(o,f)),d.fromCache&&l.source==="server"?u.reject(new fe(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new iI(a,c,{includeMetadataChanges:!0,Z_:!0});return nI(o,f)}(await Gg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e,n){if(!n)throw new fe(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sj(t,e,n,r){if(e===!0&&r===!0)throw new fe(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tS(t){if(!_e.isDocumentKey(t))throw new fe(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nS(t){if(_e.isDocumentKey(t))throw new fe(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Uh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(t);throw new fe(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Tj(t,e){if(e<=0)throw new fe(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new fe(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B3;switch(r.type){case"firstParty":return new q3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eS.get(n);r&&(se("ComponentProvider","Removing Datastore"),eS.delete(n),r.terminate())}(this),Promise.resolve()}}function Rj(t,e,n,r={}){var i;const o=(t=xr(t,jh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=an.MOCK_USER;else{a=E4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new fe(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(u)}t._authCredentials=new z3(new cx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ti(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class ki extends ti{constructor(e,n,r){super(e,n,c0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new _e(e))}withConverter(e){return new ki(this.firestore,e,this._path)}}function Vr(t,e,...n){if(t=Ir(t),pI("collection","path",e),t instanceof jh){const r=ut.fromString(e,...n);return nS(r),new ki(t,null,r)}{if(!(t instanceof Pn||t instanceof ki))throw new fe(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return nS(r),new ki(t.firestore,null,r)}}function b0(t,e,...n){if(t=Ir(t),arguments.length===1&&(e=fx.newId()),pI("doc","path",e),t instanceof jh){const r=ut.fromString(e,...n);return tS(r),new Pn(t,null,new _e(r))}{if(!(t instanceof Pn||t instanceof ki))throw new fe(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return tS(r),new Pn(t.firestore,t instanceof ki?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Gx(this,"async_queue_retry"),this._u=()=>{const n=Xp();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Xp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Wr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Lu(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=E0.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&be()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function iS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Co extends jh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new bj}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mI(this),this._firestoreClient.terminate()}}function Aj(t,e){const n=typeof t=="object"?t:AF(),r=typeof t=="string"?t:e||"(default)",i=SF(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=_4("firestore");o&&Rj(i,...o)}return i}function A0(t){return t._firestoreClient||mI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mI(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new s9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,hI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new vj(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ys(hn.fromBase64String(e))}catch(n){throw new fe(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ys(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=/^__.*__$/;class Ij{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class gI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class C0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new C0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return fd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(vI(this.du)&&xj.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Cj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mh(e)}Su(e,n,r,i=!1){return new C0({du:e,methodName:n,wu:r,path:Yt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P0(t){const e=t._freezeSettings(),n=Mh(t._databaseId);return new Cj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pj(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);k0("Data must be an object, but it was:",s,r);const a=yI(r,s);let l,u;if(o.merge)l=new Ln(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=Kg(e,f,n);if(!s.contains(d))throw new fe(H.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);wI(c,d)||c.push(d)}l=new Ln(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Ij(new Rn(a),l,u)}class zh extends x0{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function kj(t,e,n,r){const i=t.Su(1,e,n);k0("Data must be an object, but it was:",i,r);const o=[],s=Rn.empty();Mo(r,(l,u)=>{const c=N0(e,l,n);u=Ir(u);const f=i.fu(c);if(u instanceof zh)o.push(c);else{const d=Uu(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new Ln(o);return new gI(s,a,i.fieldTransforms)}function Nj(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[Kg(e,r,n)],l=[i];if(o.length%2!=0)throw new fe(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Kg(e,o[d])),l.push(o[d+1]);const u=[],c=Rn.empty();for(let d=a.length-1;d>=0;--d)if(!wI(u,a[d])){const h=a[d];let m=l[d];m=Ir(m);const y=s.fu(h);if(m instanceof zh)u.push(h);else{const T=Uu(m,y);T!=null&&(u.push(h),c.set(h,T))}}const f=new Ln(u);return new gI(c,f,s.fieldTransforms)}function Dj(t,e,n,r=!1){return Uu(n,t.Su(r?4:3,e))}function Uu(t,e){if(_I(t=Ir(t)))return k0("Unsupported field value:",e,t),yI(t,e);if(t instanceof x0)return function(r,i){if(!vI(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Uu(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return x9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ot.fromDate(r);return{timestampValue:ud(i.serializer,o)}}if(r instanceof Ot){const o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(i.serializer,o)}}if(r instanceof I0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ys)return{bytesValue:$x(i.serializer,r._byteString)};if(r instanceof Pn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:p0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Uh(r)}`)}(t,e)}function yI(t,e){const n={};return dx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,(r,i)=>{const o=Uu(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof I0||t instanceof Ys||t instanceof Pn||t instanceof x0)}function k0(t,e,n){if(!_I(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Uh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Kg(t,e,n){if((e=Ir(e))instanceof Bh)return e._internalPath;if(typeof e=="string")return N0(t,e);throw fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vj=new RegExp("[~\\*/\\[\\]]");function N0(t,e,n){if(e.search(Vj)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bh(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new fe(H.INVALID_ARGUMENT,a+t+l)}function wI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lj extends EI{data(){return super.data()}}function Hh(t,e){return typeof e=="string"?N0(t,e):e instanceof Bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D0{}class V0 extends D0{}function qi(t,e,...n){let r=[];e instanceof D0&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof L0).length,a=o.filter(l=>l instanceof Wh).length;if(s>1||s>0&&a>0)throw new fe(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Wh extends V0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wh(e,n,r)}_apply(e){const n=this._parse(e);return TI(e._query,n),new ti(e.firestore,e.converter,Ug(e._query,n))}_parse(e){const n=P0(e.firestore);return function(o,s,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new fe(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){sS(f,c);const h=[];for(const m of f)h.push(oS(l,o,m));d={arrayValue:{values:h}}}else d=oS(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||sS(f,c),d=Dj(a,s,f,c==="in"||c==="not-in");return Nt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jn(t,e,n){const r=e,i=Hh("where",t);return Wh._create(i,r,n)}class L0 extends D0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new L0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)TI(s,l),s=Ug(s,l)}(e._query,n),new ti(e.firestore,e.converter,Ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O0 extends V0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new O0(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new fe(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(o,s)}(e._query,this._field,this._direction);return new ti(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new fa(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Oj(t,e="asc"){const n=e,r=Hh("orderBy",t);return O0._create(r,n)}class M0 extends V0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new M0(e,n,r)}_apply(e){return new ti(e.firestore,e.converter,sd(e._query,this._limit,this._limitType))}}function Mj(t){return Tj("limit",t),M0._create("limit",t,"F")}function oS(t,e,n){if(typeof(n=Ir(n))=="string"){if(n==="")throw new fe(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ex(e)&&n.indexOf("/")!==-1)throw new fe(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!_e.isDocumentKey(r))throw new fe(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IE(t,new _e(r))}if(n instanceof Pn)return IE(t,n._key);throw new fe(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function sS(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TI(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $j{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new I0(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=s0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);rt(Hx(r));const i=new su(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RI extends EI{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class af extends RI{data(e={}){return super.data(e)}}class bI{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new af(this._firestore,this._userDataWriter,r.key,r,new Qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new af(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new af(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Uj(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Uj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class $0 extends $j{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function qh(t){t=xr(t,ti);const e=xr(t.firestore,Co),n=A0(e),r=new $0(e);return SI(t._query),Ej(n,t._query).then(i=>new bI(e,r,t,i))}function AI(t,e,n,...r){t=xr(t,Pn);const i=xr(t.firestore,Co),o=P0(i);let s;return s=typeof(e=Ir(e))=="string"||e instanceof Bh?Nj(o,"updateDoc",t._key,e,n,r):kj(o,"updateDoc",t._key,e),U0(i,[s.toMutation(t._key,fr.exists(!0))])}function xI(t){return U0(xr(t.firestore,Co),[new f0(t._key,fr.none())])}function F0(t,e){const n=xr(t.firestore,Co),r=b0(t),i=Fj(t.converter,e);return U0(n,[Pj(P0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function Gh(t,...e){var n,r,i;t=Ir(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||iS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(iS(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof Pn)u=xr(t.firestore,Co),c=c0(t._key.path),l={next:f=>{e[s]&&e[s](jj(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=xr(t,ti);u=xr(f.firestore,Co),c=f._query;const d=new $0(u);l={next:h=>{e[s]&&e[s](new bI(u,d,f,h))},error:e[s+1],complete:e[s+2]},SI(t._query)}return function(d,h,m,y){const T=new fI(y),g=new iI(h,T,m);return d.asyncQueue.enqueueAndForget(async()=>nI(await Gg(d),g)),()=>{T.La(),d.asyncQueue.enqueueAndForget(async()=>rI(await Gg(d),g))}}(A0(u),c,a,l)}function U0(t,e){return function(r,i){const o=new Wr;return r.asyncQueue.enqueueAndForget(async()=>aj(await wj(r),i,o)),o.promise}(A0(t),e)}function jj(t,e,n){const r=n.docs.get(e._key),i=new $0(t);return new RI(t,i,e._key,r,new Qa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ca=i})(bF),Xf(new Kl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Co(new H3(r.getProvider("auth-internal")),new K3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Rs(TE,"4.4.1",e),Rs(TE,"4.4.1","esm2017")})();var Bj="firebase",zj="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(Bj,zj,"app");var Zp={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Hj={apiKey:Zp.REACT_APP_Firebase_apiKey,authDomain:"overdog-577c3.firebaseapp.com",projectId:"overdog-577c3",storageBucket:"overdog-577c3.appspot.com",messagingSenderId:Zp.REACT_APP_Firebase_messagingSenderId,appId:Zp.REACT_APP_Firebase_appId},Wj=iA(Hj),Lr=Aj(Wj),qj=async t=>{const e=Vr(Lr,"likes"),n=qi(e,Jn("postId","==",t));return new Promise((r,i)=>{Gh(n,o=>{const s=o.docs.map(a=>({...a.data()}));s==null&&r(0),localStorage.setItem("like",JSON.stringify(s)),r(s)},o=>{i(o)})})},Gj=async t=>{const e=Vr(Lr,"likes"),n=qi(e,Jn("postId","==",t.postId),Jn("userId","==",t.userId));return new Promise((r,i)=>{Gh(n,o=>{const s=o.docs.map(a=>({...a.data()}));s==null&&r(0),localStorage.setItem("userLike",JSON.stringify(s)),r(s)},o=>{i(o)})})},Kj=async t=>{try{const e=Vr(Lr,"likes"),n=qi(e,Jn("postId","==",t.postId),Jn("userId","==",t.userId));(await qh(n)).forEach(i=>{const o=i.ref;xI(o).then(()=>{}).catch(s=>{console.error("Error : ",s)})})}catch(e){console.log(e)}},Qj=async t=>{try{const e=Vr(Lr,"likes");await F0(e,{userId:t.userId,postId:t.postId}).then(()=>{})}catch(e){console.log(e)}},Yj=Dr({key:"likebyUserIdState",default:async t=>await Gj(t)}),Xj=Dr({key:"deleteLikeState",default:async t=>await Kj(t)}),Jj=Dr({key:"setLikeState",default:async t=>await Qj(t)}),Zj=Dr({key:"likebyPostIdState",default:async t=>await qj(t),effects:[({setSelf:t,onSet:e})=>{const n="like",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]});let e6={data:""},t6=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||e6,n6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,r6=/\/\*[^]*?\*\/|  +/g,aS=/\n+/g,ui=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?ui(s,o):o+"{"+ui(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=ui(s,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ui.p?ui.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Or={},II=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+II(t[n]);return e}return t},i6=(t,e,n,r,i)=>{let o=II(t),s=Or[o]||(Or[o]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(o));if(!Or[s]){let l=o!==t?t:(u=>{let c,f,d=[{}];for(;c=n6.exec(u.replace(r6,""));)c[4]?d.shift():c[3]?(f=c[3].replace(aS," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][c[1]]=c[2].replace(aS," ").trim();return d[0]})(t);Or[s]=ui(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Or.g?Or.g:null;return n&&(Or.g=Or[s]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Or[s],e,r,a),s},o6=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":ui(a,""):a===!1?"":a}return r+i+(s??"")},"");function Kh(t){let e=this||{},n=t.call?t(e.p):t;return i6(n.unshift?n.raw?o6(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,t6(e.target),e.g,e.o,e.k)}let CI,Qg,Yg;Kh.bind({g:1});let Jr=Kh.bind({k:1});function s6(t,e,n,r){ui.p=e,CI=t,Qg=n,Yg=r}function Gi(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:Qg&&Qg()},a),n.o=/ *go\d+/.test(l),a.className=Kh.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let u=t;return t[0]&&(u=a.as||t,delete a.as),Yg&&u[0]&&Yg(a),CI(u,a)}return e?e(i):i}}var a6=t=>typeof t=="function",dd=(t,e)=>a6(t)?t(e):t,l6=(()=>{let t=0;return()=>(++t).toString()})(),PI=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),u6=20,lf=new Map,c6=1e3,lS=t=>{if(lf.has(t))return;let e=setTimeout(()=>{lf.delete(t),Fo({type:4,toastId:t})},c6);lf.set(t,e)},f6=t=>{let e=lf.get(t);e&&clearTimeout(e)},Xg=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,u6)};case 1:return e.toast.id&&f6(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?Xg(t,{type:1,toast:n}):Xg(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?lS(r):t.toasts.forEach(o=>{lS(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},uf=[],cf={toasts:[],pausedAt:void 0},Fo=t=>{cf=Xg(cf,t),uf.forEach(e=>{e(cf)})},d6={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},h6=(t={})=>{let[e,n]=A.useState(cf);A.useEffect(()=>(uf.push(n),()=>{let i=uf.indexOf(n);i>-1&&uf.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,s;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||d6[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},p6=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||l6()}),ju=t=>(e,n)=>{let r=p6(e,t,n);return Fo({type:2,toast:r}),r.id},On=(t,e)=>ju("blank")(t,e);On.error=ju("error");On.success=ju("success");On.loading=ju("loading");On.custom=ju("custom");On.dismiss=t=>{Fo({type:3,toastId:t})};On.remove=t=>Fo({type:4,toastId:t});On.promise=(t,e,n)=>{let r=On.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(On.success(dd(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{On.error(dd(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var m6=(t,e)=>{Fo({type:1,toast:{id:t,height:e}})},g6=()=>{Fo({type:5,time:Date.now()})},v6=t=>{let{toasts:e,pausedAt:n}=h6(t);A.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&On.dismiss(a.id);return}return setTimeout(()=>On.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=A.useCallback(()=>{n&&Fo({type:6,time:Date.now()})},[n]),i=A.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=s||{},c=e.filter(h=>(h.position||u)===(o.position||u)&&h.height),f=c.findIndex(h=>h.id===o.id),d=c.filter((h,m)=>m<f&&h.visible).length;return c.filter(h=>h.visible).slice(...a?[d+1]:[0,d]).reduce((h,m)=>h+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:m6,startPause:g6,endPause:r,calculateOffset:i}}},y6=Jr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_6=Jr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,w6=Jr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,E6=Gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${y6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_6} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${w6} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,S6=Jr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,T6=Gi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${S6} 1s linear infinite;
`,R6=Jr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,b6=Jr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,A6=Gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${R6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${b6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,x6=Gi("div")`
  position: absolute;
`,I6=Gi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,C6=Jr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,P6=Gi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${C6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,k6=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?A.createElement(P6,null,e):e:n==="blank"?null:A.createElement(I6,null,A.createElement(T6,{...r}),n!=="loading"&&A.createElement(x6,null,n==="error"?A.createElement(E6,{...r}):A.createElement(A6,{...r})))},N6=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,D6=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,V6="0%{opacity:0;} 100%{opacity:1;}",L6="0%{opacity:1;} 100%{opacity:0;}",O6=Gi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,M6=Gi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$6=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=PI()?[V6,L6]:[N6(n),D6(n)];return{animation:e?`${Jr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Jr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F6=A.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?$6(t.position||e||"top-center",t.visible):{opacity:0},o=A.createElement(k6,{toast:t}),s=A.createElement(M6,{...t.ariaProps},dd(t.message,t));return A.createElement(O6,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):A.createElement(A.Fragment,null,o,s))});s6(A.createElement);var U6=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=A.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return A.createElement("div",{ref:o,className:e,style:n},i)},j6=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:PI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},B6=Kh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ac=16,kI=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=v6(n);return A.createElement("div",{style:{position:"fixed",zIndex:9999,top:Ac,left:Ac,right:Ac,bottom:Ac,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,f=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),d=j6(c,f);return A.createElement(U6,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?B6:"",style:d},u.type==="custom"?dd(u.message,u):i?i(u):A.createElement(F6,{toast:u,position:c}))}))},Jg=On;const z6=t=>{const e=Vr(Lr,"follows"),n=qi(e,Jn("followerId","==",t.followerId),Jn("followingId","==",t.followingId));return new Promise((r,i)=>{Gh(n,o=>{const s=o.docs.map(a=>({...a.data()}));localStorage.setItem("following",JSON.stringify(s)),r(s)},o=>{i(o)})})},H6=async t=>{try{const e=Vr(Lr,"follows"),n=qi(e,Jn("followerId","==",t.followerId),Jn("followingId","==",t.followingId));(await qh(n)).forEach(i=>{const o=i.ref;xI(o).then(()=>{}).catch(s=>{console.error("Error : ",s)})})}catch(e){console.log(e)}},W6=async t=>{try{const e=Vr(Lr,"follows"),n=qi(e,Jn("followerId","==",t.followerId));if((await qh(n)).docs.find(o=>o.data().followingId===t.followingId))console.log("  followerId  followingId   ");else{const s=(await F0(e,{followerId:t.followerId,followingId:t.followingId})).id;await AI(b0(e,s),{followId:s})}}catch(e){console.error(e)}},q6=Dr({key:"setFollowState",default:async t=>await W6(t)}),G6=Dr({key:"deleteFollowState",default:async t=>await H6(t)}),K6=Dr({key:"followState",default:async t=>await z6(t),effects:[({setSelf:t,onSet:e})=>{const n="following",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]});var j0={};Object.defineProperty(j0,"__esModule",{value:!0});var B0=j0.recoilPersist=void 0;const Q6=(t={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:n=localStorage,converter:r=JSON}=t,i=({onSet:u,node:c,trigger:f,setSelf:d})=>{if(f==="get"){const h=s();typeof h.then=="function"&&h.then(m=>{m.hasOwnProperty(c.key)&&d(m[c.key])}),h.hasOwnProperty(c.key)&&d(h[c.key])}u(async(h,m,y)=>{const T=s();typeof T.then=="function"?T.then(g=>o(h,g,c.key,y)):o(h,T,c.key,y)})},o=(u,c,f,d)=>{d?delete c[f]:c[f]=u,l(c)},s=()=>{const u=n.getItem(e);return u==null?{}:typeof u=="string"?a(u):typeof u.then=="function"?u.then(a):{}},a=u=>{if(u===void 0)return{};try{return r.parse(u)}catch(c){return console.error(c),{}}},l=u=>{try{typeof n.mergeItem=="function"?n.mergeItem(e,r.stringify(u)):n.setItem(e,r.stringify(u))}catch(c){console.error(c)}};return{persistAtom:i}};B0=j0.recoilPersist=Q6;const{persistAtom:Y6}=B0(),NI=Qb({key:"userIdState",default:"test",effects_UNSTABLE:[Y6]});var X6=J6()?A.useLayoutEffect:A.useEffect;function J6(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Z6(){var t=A.useState(Object.create(null)),e=t[1];return A.useCallback(function(){e(Object.create(null))},[])}var eB=function(e){var n=e.children,r=e.type,i=r===void 0?"reach-portal":r,o=A.useRef(null),s=A.useRef(null),a=Z6();return X6(function(){if(o.current){var l=o.current.ownerDocument;return s.current=l==null?void 0:l.createElement(i),l.body.appendChild(s.current),a(),function(){s.current&&s.current.ownerDocument&&s.current.ownerDocument.body.removeChild(s.current)}}},[i,a]),s.current?dy.createPortal(n,s.current):A.createElement("span",{ref:o})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ie=function(){return ie=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ie.apply(this,arguments)};function z0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fe(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function at(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Je;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(Je||(Je={}));var Xs;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(Xs||(Xs={}));var Zg=Je.Start,H0=Je.Stop,Bu=Je.Raise,Qh=Je.Send,DI=Je.Cancel,tB=Je.NullEvent,W0=Je.Assign;Je.After;Je.DoneState;var VI=Je.Log,nB=Je.Init,ev=Je.Invoke;Je.ErrorExecution;var uS=Je.ErrorPlatform,rB=Je.ErrorCustom,LI=Je.Update,iB=Je.Choose,oB=Je.Pure,OI=".",cS={},tv="xstate.guard",sB="",xc;function q0(t,e,n){n===void 0&&(n=OI);var r=yl(t,n),i=yl(e,n);return Ke(i)?Ke(r)?i===r:!1:Ke(r)?r in i:Object.keys(r).every(function(o){return o in i?q0(r[o],i[o]):!1})}function MI(t){try{return Ke(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function nv(t,e){try{return pa(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function aB(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function yl(t,e){if(aB(t))return t.value;if(pa(t))return hd(t);if(typeof t!="string")return t;var n=nv(t,e);return hd(n)}function hd(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function Ya(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];n[o]=e(t[o],o,t,i)}return n}function fS(t,e,n){var r,i,o={};try{for(var s=Fe(Object.keys(t)),a=s.next();!a.done;a=s.next()){var l=a.value,u=t[l];n(u)&&(o[l]=e(u,l,t))}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}var lB=function(t){return function(e){var n,r,i=e;try{for(var o=Fe(t),s=o.next();!s.done;s=o.next()){var a=s.value;i=i[a]}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function uB(t,e){return function(n){var r,i,o=n;try{for(var s=Fe(t),a=s.next();!a.done;a=s.next()){var l=a.value;o=o[e][l]}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}}function ff(t){if(!t)return[[]];if(Ke(t))return[[t]];var e=yt(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:ff(t[n]).map(function(i){return[n].concat(i)})}));return e}function yt(t){var e;return(e=[]).concat.apply(e,at([],He(t),!1))}function $I(t){return pa(t)?t:[t]}function rr(t){return t===void 0?[]:$I(t)}function pd(t,e,n){var r,i;if(qe(t))return t(e,n.data);var o={};try{for(var s=Fe(Object.keys(t)),a=s.next();!a.done;a=s.next()){var l=a.value,u=t[l];qe(u)?o[l]=u(e,n.data):o[l]=u}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function cB(t){return/^(done|error)\./.test(t)}function dS(t){return!!(t instanceof Promise||t!==null&&(qe(t)||typeof t=="object")&&qe(t.then))}function fB(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function dB(t,e){var n,r,i=He([[],[]],2),o=i[0],s=i[1];try{for(var a=Fe(t),l=a.next();!l.done;l=a.next()){var u=l.value;e(u)?o.push(u):s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[o,s]}function FI(t,e){return Ya(t.states,function(n,r){if(n){var i=(Ke(e)?void 0:e[r])||(n?n.current:void 0);if(i)return{current:i,states:FI(n,i)}}})}function hB(t,e){return{current:e,states:FI(t,e)}}function hS(t,e,n,r){var i=t&&n.reduce(function(o,s){var a,l,u=s.assignment,c={state:r,action:s,_event:e},f={};if(qe(u))f=u(o,e.data,c);else try{for(var d=Fe(Object.keys(u)),h=d.next();!h.done;h=d.next()){var m=h.value,y=u[m];f[m]=qe(y)?y(o,e.data,c):y}}catch(T){a={error:T}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}return Object.assign({},o,f)},t);return i}var pB=function(){};function pa(t){return Array.isArray(t)}function qe(t){return typeof t=="function"}function Ke(t){return typeof t=="string"}function UI(t,e){if(t)return Ke(t)?{type:tv,name:t,predicate:e?e[t]:void 0}:qe(t)?{type:tv,name:t.name,predicate:t}:t}function mB(t){try{return"subscribe"in t&&qe(t.subscribe)}catch{return!1}}var ci=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();xc={},xc[ci]=function(){return this},xc[Symbol.observable]=function(){return this};function Js(t){return!!t&&"__xstatenode"in t}function gB(t){return!!t&&typeof t.send=="function"}function Yh(t,e){return Ke(t)||typeof t=="number"?ie({type:t},e):t}function Gt(t,e){if(!Ke(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=Yh(t);return ie({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function qo(t,e){var n=$I(e).map(function(r){return typeof r>"u"||typeof r=="string"||Js(r)?{target:r,event:t}:ie(ie({},r),{event:t})});return n}function vB(t){if(!(t===void 0||t===sB))return rr(t)}function jI(t,e,n,r,i){var o=t.options.guards,s={state:i,cond:e,_event:r};if(e.type===tv)return((o==null?void 0:o[e.name])||e.predicate)(n,r.data,s);var a=o==null?void 0:o[e.type];if(!a)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return a(n,r.data,s)}function BI(t){return typeof t=="string"?{type:t}:t}function df(t,e,n){var r=function(){},i=typeof t=="object",o=i?t:null;return{next:((i?t.next:t)||r).bind(o),error:((i?t.error:e)||r).bind(o),complete:((i?t.complete:n)||r).bind(o)}}function Ic(t,e){return"".concat(t,":invocation[").concat(e,"]")}function rv(t){return(t.type===Bu||t.type===Qh&&t.to===Xs.Internal)&&typeof t.delay!="number"}var Is=Gt({type:nB});function iv(t,e){return e&&e[t]||void 0}function fu(t,e){var n;if(Ke(t)||typeof t=="number"){var r=iv(t,e);qe(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(qe(t))n={type:t.name||t.toString(),exec:t};else{var r=iv(t.type,e);if(qe(r))n=ie(ie({},t),{exec:r});else if(r){var i=r.type||t.type;n=ie(ie(ie({},r),t),{type:i})}else n=t}return n}var fi=function(t,e){if(!t)return[];var n=pa(t)?t:[t];return n.map(function(r){return fu(r,e)})};function G0(t){var e=fu(t);return ie(ie({id:Ke(t)?t:e.id},e),{type:e.type})}function yB(t,e){return{type:Bu,event:typeof t=="function"?t:Yh(t),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function _B(t,e,n,r){var i={_event:n},o=Gt(qe(t.event)?t.event(e,n.data,i):t.event),s;if(Ke(t.delay)){var a=r&&r[t.delay];s=qe(a)?a(e,n.data,i):a}else s=qe(t.delay)?t.delay(e,n.data,i):t.delay;return ie(ie({},t),{type:Bu,_event:o,delay:s})}function wB(t,e){return{to:e?e.to:void 0,type:Qh,event:qe(t)?t:Yh(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:qe(t)?t.name:MI(t)}}function EB(t,e,n,r){var i={_event:n},o=Gt(qe(t.event)?t.event(e,n.data,i):t.event),s;if(Ke(t.delay)){var a=r&&r[t.delay];s=qe(a)?a(e,n.data,i):a}else s=qe(t.delay)?t.delay(e,n.data,i):t.delay;var l=qe(t.to)?t.to(e,n.data,i):t.to;return ie(ie({},t),{to:l,_event:o,event:o.data,delay:s})}var SB=function(t,e,n){return ie(ie({},t),{value:Ke(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},TB=function(t){return{type:DI,sendId:t}};function RB(t){var e=G0(t);return{type:Je.Start,activity:e,exec:void 0}}function bB(t){var e=qe(t)?t:G0(t);return{type:Je.Stop,activity:e,exec:void 0}}function AB(t,e,n){var r=qe(t.activity)?t.activity(e,n.data):t.activity,i=typeof r=="string"?{id:r}:r,o={type:Je.Stop,activity:i};return o}var xB=function(t){return{type:W0,assignment:t}};function IB(t,e){var n=e?"#".concat(e):"";return"".concat(Je.After,"(").concat(t,")").concat(n)}function Cc(t,e){var n="".concat(Je.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function hf(t,e){var n="".concat(Je.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function Xa(t,e){var n="".concat(Je.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var CB=function(t){var e,n,r=[];try{for(var i=Fe(t),o=i.next();!o.done;o=i.next())for(var s=o.value,a=0;a<s.actions.length;){if(s.actions[a].type===W0){r.push(s.actions[a]),s.actions.splice(a,1);continue}a++}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r};function md(t,e,n,r,i,o,s){s===void 0&&(s=!1);var a=s?[]:CB(i),l=a.length?hS(n,r,a,e):n,u=s?[n]:void 0,c=[];function f(m,y){var T;switch(y.type){case Bu:{var g=_B(y,l,r,t.options.delays);return o&&typeof g.delay=="number"&&o(g,l,r),g}case Qh:var p=EB(y,l,r,t.options.delays);return o&&p.to!==Xs.Internal&&(m==="entry"?c.push(p):o(p,l,r)),p;case VI:{var v=SB(y,l,r);return o==null||o(v,l,r),v}case iB:{var b=y,I=(T=b.conds.find(function(Ee){var we=UI(Ee.cond,t.options.guards);return!we||jI(t,we,l,r,o?void 0:e)}))===null||T===void 0?void 0:T.actions;if(!I)return[];var E=He(md(t,e,l,r,[{type:m,actions:fi(rr(I),t.options.actions)}],o,s),2),S=E[0],P=E[1];return l=P,u==null||u.push(l),S}case oB:{var I=y.get(l,r.data);if(!I)return[];var M=He(md(t,e,l,r,[{type:m,actions:fi(rr(I),t.options.actions)}],o,s),2),L=M[0],B=M[1];return l=B,u==null||u.push(l),L}case H0:{var v=AB(y,l,r);return o==null||o(v,n,r),v}case W0:{l=hS(l,r,[y],o?void 0:e),u==null||u.push(l);break}default:var k=fu(y,t.options.actions),V=k.exec;if(o)o(k,l,r);else if(V&&u){var W=u.length-1,te=ie(ie({},k),{exec:function(Ee){for(var we=[],z=1;z<arguments.length;z++)we[z-1]=arguments[z];V.apply(void 0,at([u[W]],He(we),!1))}});k=te}return k}}function d(m){var y,T,g=[];try{for(var p=Fe(m.actions),v=p.next();!v.done;v=p.next()){var b=v.value,I=f(m.type,b);I&&(g=g.concat(I))}}catch(E){y={error:E}}finally{try{v&&!v.done&&(T=p.return)&&T.call(p)}finally{if(y)throw y.error}}return c.forEach(function(E){o(E,l,r)}),c.length=0,g}var h=yt(i.map(d));return[h,l]}var ts=function(t,e){var n=e(t);return n};function zI(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[ci]=function(){return this},e}function PB(t,e,n,r){var i,o=BI(t.src),s=(i=e==null?void 0:e.options.services)===null||i===void 0?void 0:i[o.type],a=t.data?pd(t.data,n,r):void 0,l=s?HI(s,t.id,a):zI(t.id);return l.meta=t,l}function HI(t,e,n){var r=zI(e);if(r.deferred=!0,Js(t)){var i=r.state=ts(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return i}}return r}function kB(t){try{return typeof t.send=="function"}catch{return!1}}function NB(t){return kB(t)&&"id"in t}function DB(t){var e;return ie((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[ci]=function(){return this},e),t)}var gd=function(t){return t.type==="atomic"||t.type==="final"};function WI(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function du(t){return WI(t).filter(function(e){return e.type!=="history"})}function qI(t){var e=[t];return gd(t)?e:e.concat(yt(du(t).map(qI)))}function Ja(t,e){var n,r,i,o,s,a,l,u,c=new Set(t),f=ov(c),d=new Set(e);try{for(var h=Fe(d),m=h.next();!m.done;m=h.next())for(var y=m.value,T=y.parent;T&&!d.has(T);)d.add(T),T=T.parent}catch(M){n={error:M}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var g=ov(d);try{for(var p=Fe(d),v=p.next();!v.done;v=p.next()){var y=v.value;if(y.type==="compound"&&(!g.get(y)||!g.get(y).length))f.get(y)?f.get(y).forEach(function(L){return d.add(L)}):y.initialStateNodes.forEach(function(L){return d.add(L)});else if(y.type==="parallel")try{for(var b=(s=void 0,Fe(du(y))),I=b.next();!I.done;I=b.next()){var E=I.value;d.has(E)||(d.add(E),f.get(E)?f.get(E).forEach(function(L){return d.add(L)}):E.initialStateNodes.forEach(function(L){return d.add(L)}))}}catch(L){s={error:L}}finally{try{I&&!I.done&&(a=b.return)&&a.call(b)}finally{if(s)throw s.error}}}}catch(M){i={error:M}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}try{for(var S=Fe(d),P=S.next();!P.done;P=S.next())for(var y=P.value,T=y.parent;T&&!d.has(T);)d.add(T),T=T.parent}catch(M){l={error:M}}finally{try{P&&!P.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}return d}function GI(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(gd(r))return r.key}else return{}}var i={};return n.forEach(function(o){i[o.key]=GI(o,e)}),i}function ov(t){var e,n,r=new Map;try{for(var i=Fe(t),o=i.next();!o.done;o=i.next()){var s=o.value;r.has(s)||r.set(s,[]),s.parent&&(r.has(s.parent)||r.set(s.parent,[]),r.get(s.parent).push(s))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function VB(t,e){var n=Ja([t],e);return GI(t,ov(n))}function Za(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function LB(t){return at([],He(new Set(yt(at([],He(t.map(function(e){return e.ownEvents})),!1)))),!1)}function pf(t,e){return e.type==="compound"?du(e).some(function(n){return n.type==="final"&&Za(t,n)}):e.type==="parallel"?du(e).every(function(n){return pf(t,n)}):!1}function OB(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function pS(t){return new Set(yt(t.map(function(e){return e.tags})))}function KI(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(Ke(t)||Ke(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(i){return KI(t[i],e[i])})}function MB(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function $B(t,e){var n=t.exec,r=ie(ie({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var zn=function(){function t(e){var n=this,r;this.actions=[],this.activities=cS,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||cS,this.meta=OB(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return LB(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var r=Is;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=Is;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),Ke(e))return[e];var i=Object.keys(e);return i.concat.apply(i,at([],He(i.map(function(o){return r.toStrings(e[o],n).map(function(s){return o+n+s})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=z0(e,["configuration","transitions","tags","machine"]);return ie(ie({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return q0(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n;pB(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},t}(),FB={deferEvents:!1},mS=function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=ie(ie({},FB),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t}(),em=new Map,UB=0,Da={bookId:function(){return"x:".concat(UB++)},register:function(t,e){return em.set(t,e),t},get:function(t){return em.get(t)},free:function(t){em.delete(t)}};function K0(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function jB(){var t=K0();if(t&&"__xstate__"in t)return t.__xstate__}function BB(t){if(K0()){var e=jB();e&&e.register(t)}}function zB(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,i=[],o=!1,s=function(){if(!o){for(o=!0;i.length>0;){var u=i.shift();n=t.transition(n,u,l),r.forEach(function(c){return c.next(n)})}o=!1}},a=DB({id:e.id,send:function(u){i.push(u),s()},getSnapshot:function(){return n},subscribe:function(u,c,f){var d=df(u,c,f);return r.add(d),d.next(n),{unsubscribe:function(){r.delete(d)}}}}),l={parent:e.parent,self:a,id:e.id||"anonymous",observers:r};return n=t.start?t.start(l):n,a}var HB={sync:!1,autoForward:!1},Ft;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(Ft||(Ft={}));var WB=function(){function t(e,n){n===void 0&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Ft.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(c,f){if(pa(c))return r.batch(c),r.state;var d=Gt(Yh(c,f));if(r.status===Ft.Stopped)return r.state;if(r.status!==Ft.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(d.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(d.data)));return r.scheduler.schedule(function(){r.forward(d);var h=r._nextState(d);r.update(h,d)}),r._state},this.sendTo=function(c,f,d){var h=r.parent&&(f===Xs.Parent||r.parent.id===f),m=h?r.parent:Ke(f)?f===Xs.Internal?r:r.children.get(f)||Da.get(f):gB(f)?f:void 0;if(!m){if(!h)throw new Error("Unable to send event to child '".concat(f,"' from service '").concat(r.id,"'."));return}if("machine"in m){if(r.status!==Ft.Stopped||r.parent!==m||r.state.done){var y=ie(ie({},c),{name:c.name===rB?"".concat(Xa(r.id)):c.name,origin:r.sessionId});!d&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([m,y]):m.send(y)}}else!d&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([m,c.data]):m.send(c.data)},this._exec=function(c,f,d,h){h===void 0&&(h=r.machine.options.actions);var m=c.exec||iv(c.type,h),y=qe(m)?m:m?m.exec:c.exec;if(y)try{return y(f,d.data,r.machine.config.predictableActionArguments?{action:c,_event:d}:{action:c,state:r.state,_event:d})}catch(W){throw r.parent&&r.parent.send({type:"xstate.error",data:W}),W}switch(c.type){case Bu:{var T=c;r.defer(T);break}case Qh:var g=c;if(typeof g.delay=="number"){r.defer(g);return}else g.to?r.sendTo(g._event,g.to,d===Is):r.send(g._event);break;case DI:r.cancel(c.sendId);break;case Zg:{if(r.status!==Ft.Running)return;var p=c.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[p.id||p.type])break;if(p.type===Je.Invoke){var v=BI(p.src),b=r.machine.options.services?r.machine.options.services[v.type]:void 0,I=p.id,E=p.data,S="autoForward"in p?p.autoForward:!!p.forward;if(!b)return;var P=E?pd(E,f,d):void 0;if(typeof b=="string")return;var M=qe(b)?b(f,d.data,{data:P,src:v,meta:p.meta}):b;if(!M)return;var L=void 0;Js(M)&&(M=P?M.withContext(P):M,L={autoForward:S}),r.spawn(M,I,L)}else r.spawnActivity(p);break}case H0:{r.stopChild(c.activity.id);break}case VI:var B=c,k=B.label,V=B.value;k?r.logger(k,V):r.logger(V);break}};var i=ie(ie({},t.defaultOptions),n),o=i.clock,s=i.logger,a=i.parent,l=i.id,u=l!==void 0?l:e.id;this.id=u,this.logger=s,this.clock=o,this.parent=a,this.options=i,this.scheduler=new mS({deferEvents:this.options.deferEvents}),this.sessionId=Da.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:ts(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,i;try{for(var o=Fe(e.actions),s=o.next();!s.done;s=o.next()){var a=s.value;this.exec(a,e,n)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,i,o,s,a,l,u,c,f=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||n===Is)&&this.options.execute)this.execute(this.state);else for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);if(this.children.forEach(function(M){f.state.children[M.id]=M}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var h=Fe(this.eventListeners),m=h.next();!m.done;m=h.next()){var y=m.value;y(e.event)}}catch(M){r={error:M}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}try{for(var T=Fe(this.listeners),g=T.next();!g.done;g=T.next()){var y=g.value;y(e,e.event)}}catch(M){o={error:M}}finally{try{g&&!g.done&&(s=T.return)&&s.call(T)}finally{if(o)throw o.error}}try{for(var p=Fe(this.contextListeners),v=p.next();!v.done;v=p.next()){var b=v.value;b(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(M){a={error:M}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}if(this.state.done){var I=e.configuration.find(function(M){return M.type==="final"&&M.parent===f.machine}),E=I&&I.doneData?pd(I.doneData,e.context,n):void 0;this._doneEvent=hf(this.id,E);try{for(var S=Fe(this.doneListeners),P=S.next();!P.done;P=S.next()){var y=P.value;y(this._doneEvent)}}catch(M){u={error:M}}finally{try{P&&!P.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}this._stop(),this._stopChildren(),Da.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Ft.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var i=this,o=df(e,n,r);this.listeners.add(o.next),this.status!==Ft.NotStarted&&o.next(this.state);var s=function(){i.doneListeners.delete(s),i.stopListeners.delete(s),o.complete()};return this.status===Ft.Stopped?o.complete():(this.onDone(s),this.onStop(s)),{unsubscribe:function(){i.listeners.delete(o.next),i.doneListeners.delete(s),i.stopListeners.delete(s)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===Ft.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===Ft.Running)return this;this.machine._init(),Da.register(this.sessionId,this),this.initialized=!0,this.status=Ft.Running;var r=e===void 0?this.initialState:ts(this,function(){return MB(e)?n.machine.resolveState(e):n.machine.resolveState(zn.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Is)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){qe(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,n,r,i,o,s,a,l,u,c;try{for(var f=Fe(this.listeners),d=f.next();!d.done;d=f.next()){var h=d.value;this.listeners.delete(h)}}catch(S){e={error:S}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}try{for(var m=Fe(this.stopListeners),y=m.next();!y.done;y=m.next()){var h=y.value;h(),this.stopListeners.delete(h)}}catch(S){r={error:S}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}try{for(var T=Fe(this.contextListeners),g=T.next();!g.done;g=T.next()){var h=g.value;this.contextListeners.delete(h)}}catch(S){o={error:S}}finally{try{g&&!g.done&&(s=T.return)&&s.call(T)}finally{if(o)throw o.error}}try{for(var p=Fe(this.doneListeners),v=p.next();!v.done;v=p.next()){var h=v.value;this.doneListeners.delete(h)}}catch(S){a={error:S}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Ft.Stopped,this._initialState=void 0;try{for(var b=Fe(Object.keys(this.delayedEventsMap)),I=b.next();!I.done;I=b.next()){var E=I.value;this.clock.clearTimeout(this.delayedEventsMap[E])}}catch(S){u={error:S}}finally{try{I&&!I.done&&(c=b.return)&&c.call(b)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new mS({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r;if(!(!((r=e._state)===null||r===void 0)&&r.done)){var i=Gt({type:"xstate.stop"}),o=ts(e,function(){var s=yt(at([],He(e.state.configuration),!1).sort(function(f,d){return d.order-f.order}).map(function(f){return fi(f.onExit,e.machine.options.actions)})),a=He(md(e.machine,e.state,e.state.context,i,[{type:"exit",actions:s}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),l=a[0],u=a[1],c=new zn({value:e.state.value,context:u,_event:i,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:l.filter(function(f){return!rv(f)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return c.changed=!0,c});e.update(o,i),e._stopChildren(),Da.free(e.sessionId)}}),this},t.prototype.batch=function(e){var n=this;if(!(this.status===Ft.NotStarted&&this.options.deferEvents)){if(this.status!==Ft.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,o,s=n.state,a=!1,l=[],u=function(h){var m=Gt(h);n.forward(m),s=ts(n,function(){return n.machine.transition(s,m,void 0,r||void 0)}),l.push.apply(l,at([],He(n.machine.config.predictableActionArguments?s.actions:s.actions.map(function(y){return $B(y,s)})),!1)),a=a||!!s.changed};try{for(var c=Fe(e),f=c.next();!f.done;f=c.next()){var d=f.value;u(d)}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}s.changed=a,s.actions=l,n.update(s,Gt(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var i=Gt(e);if(i.name.indexOf(uS)===0&&!this.state.nextEvents.some(function(s){return s.indexOf(uS)===0}))throw i.data.data;var o=ts(this,function(){return r.machine.transition(r.state,i,void 0,n||void 0)});return o},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var n,r;try{for(var i=Fe(this.forwardTo),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.children.get(s);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(s,"'."));a.send(e)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this,r=this.clock.setTimeout(function(){"to"in e&&e.to?n.sendTo(e._event,e.to,!0):n.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(e,n.context,n._event,r)},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);n&&(this.removeChild(e),qe(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(this.status!==Ft.Running)return HI(e,n);if(dS(e))return this.spawnPromise(Promise.resolve(e),n);if(qe(e))return this.spawnCallback(e,n);if(NB(e))return this.spawnActor(e,n);if(mB(e))return this.spawnObservable(e,n);if(Js(e))return this.spawnMachine(e,ie(ie({},r),{id:n}));if(fB(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var i=new t(e,ie(ie({},this.options),{parent:this,id:n.id||e.id})),o=ie(ie({},HB),n);o.sync&&i.onTransition(function(a){r.send(LI,{state:a,id:i.id})});var s=i;return this.children.set(i.id,s),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(a){r.removeChild(i.id),r.send(Gt(a,{origin:i.id}))}).start(),s},t.prototype.spawnBehavior=function(e,n){var r=zB(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,i=this,o=!1,s;e.then(function(l){o||(s=l,i.removeChild(n),i.send(Gt(hf(n,l),{origin:n})))},function(l){if(!o){i.removeChild(n);var u=Xa(n,l);try{i.send(Gt(u,{origin:n}))}catch{i.devTools&&i.devTools.send(u,i.state),i.machine.strict&&i.stop()}}});var a=(r={id:n,send:function(){},subscribe:function(l,u,c){var f=df(l,u,c),d=!1;return e.then(function(h){d||(f.next(h),!d&&f.complete())},function(h){d||f.error(h)}),{unsubscribe:function(){return d=!0}}},stop:function(){o=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return s}},r[ci]=function(){return this},r);return this.children.set(n,a),a},t.prototype.spawnCallback=function(e,n){var r,i=this,o=!1,s=new Set,a=new Set,l,u=function(d){l=d,a.forEach(function(h){return h(d)}),!o&&i.send(Gt(d,{origin:n}))},c;try{c=e(u,function(d){s.add(d)})}catch(d){this.send(Xa(n,d))}if(dS(c))return this.spawnPromise(c,n);var f=(r={id:n,send:function(d){return s.forEach(function(h){return h(d)})},subscribe:function(d){var h=df(d);return a.add(h.next),{unsubscribe:function(){a.delete(h.next)}}},stop:function(){o=!0,qe(c)&&c()},toJSON:function(){return{id:n}},getSnapshot:function(){return l}},r[ci]=function(){return this},r);return this.children.set(n,f),f},t.prototype.spawnObservable=function(e,n){var r,i=this,o,s=e.subscribe(function(l){o=l,i.send(Gt(l,{origin:n}))},function(l){i.removeChild(n),i.send(Gt(Xa(n,l),{origin:n}))},function(){i.removeChild(n),i.send(Gt(hf(n),{origin:n}))}),a=(r={id:n,send:function(){},subscribe:function(l,u,c){return e.subscribe(l,u,c)},stop:function(){return s.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:n}}},r[ci]=function(){return this},r);return this.children.set(n,a),a},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(n){var r=n(this.state.context,e);this.spawnEffect(e.id,r)}},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[ci]=function(){return this},r))},t.prototype.attachDev=function(){var e=K0();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(ie(ie({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:ie({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}BB(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[ci]=function(){return this},t.prototype.getSnapshot=function(){return this.status===Ft.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=QI,t}();function QI(t,e){var n=new WB(t,e);return n}function qB(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function Pc(t){return ie(ie({type:ev},t),{toJSON:function(){t.onDone,t.onError;var e=z0(t,["onDone","onError"]);return ie(ie({},e),{type:ev,src:qB(t.src)})}})}var kc="",sv="#",tm="*",Go={},Ko=function(t){return t[0]===sv},GB=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},KB=function(){function t(e,n,r,i){r===void 0&&(r="context"in e?e.context:void 0);var o=this,s;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(GB(),n),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:OI),this.id=this.config.id||at([this.machine.key],He(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(s=this.config.schema)!==null&&s!==void 0?s:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Ya(this.config.states,function(u,c){var f,d=new t(u,{},void 0,{parent:o,key:c});return Object.assign(o.idMap,ie((f={},f[d.id]=d,f),d.idMap)),d}):Go;var a=0;function l(u){var c,f;u.order=a++;try{for(var d=Fe(WI(u)),h=d.next();!h.done;h=d.next()){var m=h.value;l(m)}}catch(y){c={error:y}}finally{try{h&&!h.done&&(f=d.return)&&f.call(d)}finally{if(c)throw c.error}}}l(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(u){var c=u.event;return c===kc}):kc in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=rr(this.config.entry||this.config.onEntry).map(function(u){return fu(u)}),this.onExit=rr(this.config.exit||this.config.onExit).map(function(u){return fu(u)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=rr(this.config.invoke).map(function(u,c){var f,d;if(Js(u)){var h=Ic(o.id,c);return o.machine.options.services=ie((f={},f[h]=u,f),o.machine.options.services),Pc({src:h,id:h})}else if(Ke(u.src)){var h=u.id||Ic(o.id,c);return Pc(ie(ie({},u),{id:h,src:u.src}))}else if(Js(u.src)||qe(u.src)){var h=u.id||Ic(o.id,c);return o.machine.options.services=ie((d={},d[h]=u.src,d),o.machine.options.services),Pc(ie(ie({id:h},u),{src:h}))}else{var m=u.src;return Pc(ie(ie({id:Ic(o.id,c)},u),{src:m}))}}),this.activities=rr(this.config.activities).concat(this.invoke).map(function(u){return G0(u)}),this.transition=this.transition.bind(this),this.tags=rr(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||qI(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,i=r.actions,o=r.activities,s=r.guards,a=r.services,l=r.delays;return new t(this.config,{actions:ie(ie({},i),e.actions),activities:ie(ie({},o),e.activities),guards:ie(ie({},s),e.guards),services:ie(ie({},a),e.services),delays:ie(ie({},l),e.delays)},n??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return qe(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Ya(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===kc,r=this.transitions.filter(function(i){var o=i.eventType===e;return n?o:o||i.eventType===tm});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(o,s){var a=qe(o)?"".concat(e.id,":delay[").concat(s,"]"):o,l=IB(a,e.id);return e.onEntry.push(wB(l,{delay:o})),e.onExit.push(TB(l)),l},i=pa(n)?n.map(function(o,s){var a=r(o.delay,s);return ie(ie({},o),{event:a})}):yt(Object.keys(n).map(function(o,s){var a=n[o],l=Ke(a)?{target:a}:a,u=isNaN(+o)?o:+o,c=r(u,s);return rr(l).map(function(f){return ie(ie({},f),{event:c,delay:u})})}));return i.map(function(o){var s=o.delay;return ie(ie({},e.formatTransition(o)),{delay:s})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var i=e instanceof zn?e.value:yl(e,this.delimiter);if(Ke(i)){var o=this.getStateNode(i).initial;return o!==void 0?this.getStateNodes((n={},n[i]=o,n)):[this,this.states[i]]}var s=Object.keys(i),a=[this];return a.push.apply(a,at([],He(yt(s.map(function(l){return r.getStateNode(l).getStateNodes(i[l])}))),!1)),a},t.prototype.handles=function(e){var n=MI(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof zn?e:zn.create(e),r=Array.from(Ja([],this.getStateNodes(n.value)));return new zn(ie(ie({},n),{value:this.resolve(n.value),configuration:r,done:pf(r,this),tags:pS(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var i=this.getStateNode(e),o=i.next(n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionCompoundNode=function(e,n,r){var i=Object.keys(e),o=this.getStateNode(i[0]),s=o._transition(e[i[0]],n,r);return!s||!s.transitions.length?this.next(n,r):s},t.prototype.transitionParallelNode=function(e,n,r){var i,o,s={};try{for(var a=Fe(Object.keys(e)),l=a.next();!l.done;l=a.next()){var u=l.value,c=e[u];if(c){var f=this.getStateNode(u),d=f._transition(c,n,r);d&&(s[u]=d)}}}catch(g){i={error:g}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}var h=Object.keys(s).map(function(g){return s[g]}),m=yt(h.map(function(g){return g.transitions})),y=h.some(function(g){return g.transitions.length>0});if(!y)return this.next(n,r);var T=yt(Object.keys(s).map(function(g){return s[g].configuration}));return{transitions:m,exitSet:yt(h.map(function(g){return g.exitSet})),configuration:T,source:n,actions:yt(Object.keys(s).map(function(g){return s[g].actions}))}},t.prototype._transition=function(e,n,r){return Ke(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,Gt(n))},t.prototype.next=function(e,n){var r,i,o=this,s=n.name,a=[],l=[],u;try{for(var c=Fe(this.getCandidates(s)),f=c.next();!f.done;f=c.next()){var d=f.value,h=d.cond,m=d.in,y=e.context,T=m?Ke(m)&&Ko(m)?e.matches(yl(this.getStateNodeById(m).path,this.delimiter)):q0(yl(m,this.delimiter),lB(this.path.slice(0,-2))(e.value)):!0,g=!1;try{g=!h||jI(this.machine,h,y,n,e)}catch(b){throw new Error("Unable to evaluate guard '".concat(h.name||h.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,`':
`).concat(b.message))}if(g&&T){d.target!==void 0&&(l=d.target),a.push.apply(a,at([],He(d.actions),!1)),u=d;break}}}catch(b){r={error:b}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}if(u){if(!l.length)return{transitions:[u],exitSet:[],configuration:e.value?[this]:[],source:e,actions:a};var p=yt(l.map(function(b){return o.getRelativeStateNodes(b,e.historyValue)})),v=!!u.internal;return{transitions:[u],exitSet:v?[]:yt(l.map(function(b){return o.getPotentiallyReenteringNodes(b)})),configuration:p,source:e,actions:a}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var n=[],r=this,i=e;r&&r!==i;)n.push(r),r=r.parent;return r!==i?[]:(n.push(i),n)},t.prototype.getActions=function(e,n,r,i,o,s,a){var l,u,c,f,d=this,h=s?Ja([],this.getStateNodes(s.value)):[],m=new Set;try{for(var y=Fe(Array.from(e).sort(function(B,k){return B.order-k.order})),T=y.next();!T.done;T=y.next()){var g=T.value;(!Za(h,g)||Za(r.exitSet,g)||g.parent&&m.has(g.parent))&&m.add(g)}}catch(B){l={error:B}}finally{try{T&&!T.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}try{for(var p=Fe(h),v=p.next();!v.done;v=p.next()){var g=v.value;(!Za(e,g)||Za(r.exitSet,g.parent))&&r.exitSet.push(g)}}catch(B){c={error:B}}finally{try{v&&!v.done&&(f=p.return)&&f.call(p)}finally{if(c)throw c.error}}r.exitSet.sort(function(B,k){return k.order-B.order});var b=Array.from(m).sort(function(B,k){return B.order-k.order}),I=new Set(r.exitSet),E=yt(b.map(function(B){var k=[];if(B.type!=="final")return k;var V=B.parent;if(!V.parent)return k;k.push(Cc(B.id,B.doneData),Cc(V.id,B.doneData?pd(B.doneData,i,o):void 0));var W=V.parent;return W.type==="parallel"&&du(W).every(function(te){return pf(r.configuration,te)})&&k.push(Cc(W.id)),k})),S=b.map(function(B){var k=B.onEntry,V=B.activities.map(function(W){return RB(W)});return{type:"entry",actions:fi(a?at(at([],He(k),!1),He(V),!1):at(at([],He(V),!1),He(k),!1),d.machine.options.actions)}}).concat({type:"state_done",actions:E.map(function(B){return yB(B)})}),P=Array.from(I).map(function(B){return{type:"exit",actions:fi(at(at([],He(B.onExit),!1),He(B.activities.map(function(k){return bB(k)})),!1),d.machine.options.actions)}}),M=P.concat({type:"transition",actions:fi(r.actions,this.machine.options.actions)}).concat(S);if(n){var L=fi(yt(at([],He(e),!1).sort(function(B,k){return k.order-B.order}).map(function(B){return B.onExit})),this.machine.options.actions).filter(function(B){return!rv(B)});return M.concat({type:"stop",actions:L})}return M},t.prototype.transition=function(e,n,r,i){e===void 0&&(e=this.initialState);var o=Gt(n),s;if(e instanceof zn)s=r===void 0?e:this.resolveState(zn.from(e,r));else{var a=Ke(e)?this.resolve(hd(this.getResolvedPath(e))):this.resolve(e),l=r??this.machine.context;s=this.resolveState(zn.from(a,l))}if(this.strict&&!this.events.includes(o.name)&&!cB(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var u=this._transition(s.value,s,o)||{transitions:[],configuration:[],exitSet:[],source:s,actions:[]},c=Ja([],this.getStateNodes(s.value)),f=u.configuration.length?Ja(c,u.configuration):c;return u.configuration=at([],He(f),!1),this.resolveTransition(u,s,s.context,i,o)},t.prototype.resolveRaisedTransition=function(e,n,r,i){var o,s=e.actions;return e=this.transition(e,n,void 0,i),e._event=r,e.event=r.data,(o=e.actions).unshift.apply(o,at([],He(s),!1)),e},t.prototype.resolveTransition=function(e,n,r,i,o){var s,a,l,u,c=this;o===void 0&&(o=Is);var f=e.configuration,d=!n||e.transitions.length>0,h=d?e.configuration:n?n.configuration:[],m=pf(h,this),y=d?VB(this.machine,f):void 0,T=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,g=this.getActions(new Set(h),m,e,r,o,n,i),p=n?ie({},n.activities):{};try{for(var v=Fe(g),b=v.next();!b.done;b=v.next()){var I=b.value;try{for(var E=(l=void 0,Fe(I.actions)),S=E.next();!S.done;S=E.next()){var P=S.value;P.type===Zg?p[P.activity.id||P.activity.type]=P:P.type===H0&&(p[P.activity.id||P.activity.type]=!1)}}catch(j){l={error:j}}finally{try{S&&!S.done&&(u=E.return)&&u.call(E)}finally{if(l)throw l.error}}}}catch(j){s={error:j}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}var M=He(md(this,n,r,o,g,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),L=M[0],B=M[1],k=He(dB(L,rv),2),V=k[0],W=k[1],te=L.filter(function(j){var ne;return j.type===Zg&&((ne=j.activity)===null||ne===void 0?void 0:ne.type)===ev}),Ee=te.reduce(function(j,ne){return j[ne.activity.id]=PB(ne.activity,c.machine,B,o),j},n?ie({},n.children):{}),we=new zn({value:y||n.value,context:B,_event:o,_sessionid:n?n._sessionid:null,historyValue:y?T?hB(T,y):void 0:n?n.historyValue:void 0,history:!y||e.source?n:void 0,actions:y?W:[],activities:y?p:n?n.activities:{},events:[],configuration:h,transitions:e.transitions,children:Ee,done:m,tags:pS(h),machine:this}),z=r!==B;we.changed=o.name===LI||z;var $=we.history;$&&delete $.history;var C=!m&&(this._transient||f.some(function(j){return j._transient}));if(!d&&(!C||o.name===kc))return we;var q=we;if(!m)for(C&&(q=this.resolveRaisedTransition(q,{type:tB},o,i));V.length;){var w=V.shift();q=this.resolveRaisedTransition(q,w._event,o,i)}var O=q.changed||($?!!q.actions.length||z||typeof $.value!=typeof q.value||!KI(q.value,$.value):void 0);return q.changed=O,q.history=$,q},t.prototype.getStateNode=function(e){if(Ko(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=Ko(e)?e.slice(sv.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&Ko(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=nv(e,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||Go;switch(this.type){case"parallel":return Ya(this.initialStateValue,function(o,s){return o?r.getStateNode(s).resolve(e[s]||o):Go});case"compound":if(Ke(e)){var i=this.getStateNode(e);return i.type==="parallel"||i.type==="compound"?(n={},n[e]=i.initialStateValue,n):e}return Object.keys(e).length?Ya(e,function(o,s){return o?r.getStateNode(s).resolve(o):Go}):this.initialStateValue||{};default:return e||Go}},t.prototype.getResolvedPath=function(e){if(Ko(e)){var n=this.machine.idMap[e.slice(sv.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return nv(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=fS(this.states,function(r){return r.initialStateValue||Go},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=gd(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;Ke(n.target)?e=Ko(n.target)?hd(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(gd(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=ff(this.initialStateValue);return yt(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=He(e),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var o=this.getStateNode(r);if(o.type==="history")return o.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:fS(this.states,function(n,r){if(!e)return n.historyValue();var i=Ke(e)?void 0:e[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var i=this.target;return i?yt(ff(i).map(function(s){return r.getFromRelativePath(s)})):r.initialStateNodes}var o=uB(r.path,"states")(e).current;return Ke(o)?[r.getStateNode(o)]:yt(ff(o).map(function(s){return n.history==="deep"?r.getFromRelativePath(s):[r.states[s[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=yt(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,i;if(this.__cache.events)return this.__cache.events;var o=this.states,s=new Set(this.ownEvents);if(o)try{for(var a=Fe(Object.keys(o)),l=a.next();!l.done;l=a.next()){var u=l.value,c=o[u];if(c.states)try{for(var f=(r=void 0,Fe(c.events)),d=f.next();!d.done;d=f.next()){var h=d.value;s.add("".concat(h))}}catch(m){r={error:m}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!Ke(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var o=i?n.key+r:r;if(n.parent)try{var s=n.parent.getStateNodeByPath(o);return s}catch(a){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(a.message))}else return n.getStateNodeByPath(o)})},t.prototype.formatTransition=function(e){var n=this,r=vB(e.target),i="internal"in e?e.internal:r?r.some(function(l){return Ke(l)&&l[0]===n.delimiter}):!0,o=this.machine.options.guards,s=this.resolveTarget(r),a=ie(ie({},e),{actions:fi(rr(e.actions)),cond:UI(e.cond,o),target:s,source:this,internal:i,eventType:e.event,toJSON:function(){return ie(ie({},a),{target:a.target?a.target.map(function(l){return"#".concat(l.id)}):void 0,source:"#".concat(n.id)})}});return a},t.prototype.formatTransitions=function(){var e,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var o=this.config.on,s=tm,a=o[s],l=a===void 0?[]:a,u=z0(o,[typeof s=="symbol"?s:s+""]);i=yt(Object.keys(u).map(function(p){var v=qo(p,u[p]);return v}).concat(qo(tm,l)))}var c=this.config.always?qo("",this.config.always):[],f=this.config.onDone?qo(String(Cc(this.id)),this.config.onDone):[],d=yt(this.invoke.map(function(p){var v=[];return p.onDone&&v.push.apply(v,at([],He(qo(String(hf(p.id)),p.onDone)),!1)),p.onError&&v.push.apply(v,at([],He(qo(String(Xa(p.id)),p.onError)),!1)),v})),h=this.after,m=yt(at(at(at(at([],He(f),!1),He(d),!1),He(i),!1),He(c),!1).map(function(p){return rr(p).map(function(v){return r.formatTransition(v)})}));try{for(var y=Fe(h),T=y.next();!T.done;T=y.next()){var g=T.value;m.push(g)}}catch(p){e={error:p}}finally{try{T&&!T.done&&(n=y.return)&&n.call(y)}finally{if(e)throw e.error}}return m},t}();function QB(t,e,n){return n===void 0&&(n=t.context),new KB(t,e,n)}var YB=xB,av;(function(t){t[t.Effect=1]="Effect",t[t.LayoutEffect=2]="LayoutEffect"})(av||(av={}));var _l=A.useLayoutEffect;function gS(t){var e=A.useRef();return e.current||(e.current={v:t()}),e.current.v}var XB=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},JB=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ZB(t,e){var n,r,i=XB([[],[]],2),o=i[0],s=i[1];try{for(var a=JB(t),l=a.next();!l.done;l=a.next()){var u=l.value;e(u)?o.push(u):s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[o,s]}var Va=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},vS=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function yS(t,e){var n=t.exec,r=n(e.context,e._event.data,{action:t,state:e,_event:e._event});r()}function e5(t){var e=A.useRef([]),n=A.useRef([]);_l(function(){var r=t.subscribe(function(i){var o,s;if(i.actions.length){var a=i.actions.filter(function(f){return typeof f.exec=="function"&&"__effect"in f.exec}),l=Va(ZB(a,function(f){return f.exec.__effect===av.Effect}),2),u=l[0],c=l[1];(o=e.current).push.apply(o,vS([],Va(u.map(function(f){return[f,i]})),!1)),(s=n.current).push.apply(s,vS([],Va(c.map(function(f){return[f,i]})),!1))}});return function(){r.unsubscribe()}},[]),_l(function(){for(;n.current.length;){var r=Va(n.current.shift(),2),i=r[0],o=r[1];yS(i,o)}}),A.useEffect(function(){for(;e.current.length;){var r=Va(e.current.shift(),2),i=r[0],o=r[1];yS(i,o)}})}var wl=function(){return wl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wl.apply(this,arguments)},t5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function n5(t,e,n){if(typeof t=="object")return t;var r=function(){};return{next:t,error:e||r,complete:n||r}}function r5(t,e,n){e===void 0&&(e={});var r=gS(function(){return typeof t=="function"?t():t}),i=e.context,o=e.guards,s=e.actions,a=e.activities,l=e.services,u=e.delays,c=e.state,f=t5(e,["context","guards","actions","activities","services","delays","state"]),d=gS(function(){var h={context:i,guards:o,actions:s,activities:a,services:l,delays:u},m=r.withConfig(h,function(){return wl(wl({},r.context),i)});return QI(m,wl({deferEvents:!0},f))});return _l(function(){var h;return n&&(h=d.subscribe(n5(n))),function(){h==null||h.unsubscribe()}},[n]),_l(function(){return d.start(c?zn.create(c):void 0),function(){d.stop()}},[]),_l(function(){Object.assign(d.machine.options.actions,s),Object.assign(d.machine.options.guards,o),Object.assign(d.machine.options.activities,a),Object.assign(d.machine.options.services,l),Object.assign(d.machine.options.delays,u)},[s,o,a,l,u]),e5(d),d}var i5=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o};function o5(t,e){e===void 0&&(e={});var n=A.useCallback(function(a){var l=a.changed===void 0&&Object.keys(a.children).length;(a.changed||l)&&s(a)},[]),r=r5(t,e,n),i=i5(A.useState(function(){var a=r.machine.initialState;return e.state?zn.create(e.state):a}),2),o=i[0],s=i[1];return[o,r.send,r]}function Tt(){return Tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tt.apply(this,arguments)}function Cs(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Le={arr:Array.isArray,obj:t=>Object.prototype.toString.call(t)==="[object Object]",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,nul:t=>t===null,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,e){if(typeof t!=typeof e)return!1;if(Le.str(t)||Le.num(t))return t===e;if(Le.obj(t)&&Le.obj(e)&&Object.keys(t).length+Object.keys(e).length===0)return!0;let n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return Le.und(n)?t===e:!0}};function s5(t,e){return e===void 0&&(e=!0),n=>(Le.arr(n)?n:Object.keys(n)).reduce((r,i)=>{const o=e?i[0].toLowerCase()+i.substring(1):i;return r[o]=t(o),r},t)}function a5(){const t=A.useState(!1),e=t[1];return A.useCallback(()=>e(r=>!r),[])}function Qi(t,e){return Le.und(t)||Le.nul(t)?e:t}function Nc(t){return Le.und(t)?[]:Le.arr(t)?t:[t]}function ms(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Le.fun(t)?t(...n):t}function l5(t){return t.to,t.from,t.config,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.delay,t.attach,t.destroyed,t.interpolateTo,t.ref,t.lazy,Cs(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}function nm(t){const e=l5(t);if(Le.und(e))return Tt({to:e},t);const n=Object.keys(t).reduce((r,i)=>Le.und(e[i])?Tt({},r,{[i]:t[i]}):r,{});return Tt({to:e},n)}function u5(t,e){return e&&(Le.fun(e)?e(t):Le.obj(e)&&(e.current=t)),t}class sr{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){this.children.length===0&&this.attach(),this.children.push(e)}removeChild(e){const n=this.children.indexOf(e);this.children.splice(n,1),this.children.length===0&&this.detach()}}class lv extends sr{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof sr&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof sr&&e.removeChild(this))}}class YI extends sr{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof sr&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof sr&&e.removeChild(this))}getValue(e){e===void 0&&(e=!1);const n={};for(const r in this.payload){const i=this.payload[r];e&&!(i instanceof sr)||(n[r]=i instanceof sr?i[e?"getAnimatedValue":"getValue"]():i)}return n}getAnimatedValue(){return this.getValue(!0)}}let Q0;function c5(t,e){Q0={fn:t,transform:e}}let XI;function f5(t){XI=t}let JI=t=>typeof window<"u"?window.requestAnimationFrame(t):-1,vd;function d5(t){vd=t}let ZI=()=>Date.now(),h5=t=>t.current,eC;function p5(t){eC=t}class m5 extends YI{constructor(e,n){super(),this.update=void 0,this.payload=e.style?Tt({},e,{style:eC(e.style)}):e,this.update=n,this.attach()}}const g5=t=>Le.fun(t)&&!(t.prototype instanceof ve.Component),v5=t=>A.forwardRef((n,r)=>{const i=a5(),o=A.useRef(!0),s=A.useRef(null),a=A.useRef(null),l=A.useCallback(d=>{const h=s.current,m=()=>{let y=!1;a.current&&(y=Q0.fn(a.current,s.current.getAnimatedValue())),(!a.current||y===!1)&&i()};s.current=new m5(d,m),h&&h.detach()},[]);A.useEffect(()=>()=>{o.current=!1,s.current&&s.current.detach()},[]),A.useImperativeHandle(r,()=>h5(a)),l(n);const u=s.current.getValue();u.scrollTop,u.scrollLeft;const c=Cs(u,["scrollTop","scrollLeft"]),f=g5(t)?void 0:d=>a.current=u5(d,r);return ve.createElement(t,Tt({},c,{ref:f}))});let El=!1;const mo=new Set,tC=()=>{if(!El)return!1;let t=ZI();for(let e of mo){let n=!1;for(let r=0;r<e.configs.length;r++){let i=e.configs[r],o,s;for(let a=0;a<i.animatedValues.length;a++){let l=i.animatedValues[a];if(l.done)continue;let u=i.fromValues[a],c=i.toValues[a],f=l.lastPosition,d=c instanceof sr,h=Array.isArray(i.initialVelocity)?i.initialVelocity[a]:i.initialVelocity;if(d&&(c=c.getValue()),i.immediate){l.setValue(c),l.done=!0;continue}if(typeof u=="string"||typeof c=="string"){l.setValue(c),l.done=!0;continue}if(i.duration!==void 0)f=u+i.easing((t-l.startTime)/i.duration)*(c-u),o=t>=l.startTime+i.duration;else if(i.decay)f=u+h/(1-.998)*(1-Math.exp(-(1-.998)*(t-l.startTime))),o=Math.abs(l.lastPosition-f)<.1,o&&(c=f);else{s=l.lastTime!==void 0?l.lastTime:t,h=l.lastVelocity!==void 0?l.lastVelocity:i.initialVelocity,t>s+64&&(s=t);let m=Math.floor(t-s);for(let p=0;p<m;++p){let v=-i.tension*(f-c),b=-i.friction*h,I=(v+b)/i.mass;h=h+I*1/1e3,f=f+h*1/1e3}let y=i.clamp&&i.tension!==0?u<c?f>c:f<c:!1,T=Math.abs(h)<=i.precision,g=i.tension!==0?Math.abs(c-f)<=i.precision:!0;o=y||T&&g,l.lastVelocity=h,l.lastTime=t}d&&!i.toValues[a].done&&(o=!1),o?(l.value!==c&&(f=c),l.done=!0):n=!0,l.setValue(f),l.lastPosition=f}e.props.onFrame&&(e.values[i.name]=i.interpolation.getValue())}e.props.onFrame&&e.props.onFrame(e.values),n||(mo.delete(e),e.stop(!0))}return mo.size?JI(tC):El=!1,El},y5=t=>{mo.has(t)||mo.add(t),El||(El=!0,JI(tC))},_5=t=>{mo.has(t)&&mo.delete(t)};function yd(t,e,n){if(typeof t=="function")return t;if(Array.isArray(t))return yd({range:t,output:e,extrapolate:n});if(vd&&typeof t.output[0]=="string")return vd(t);const r=t,i=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=E5(u,o);return w5(u,o[c],o[c+1],i[c],i[c+1],l,s,a,r.map)}}function w5(t,e,n,r,i,o,s,a,l){let u=l?l(t):t;if(u<e){if(s==="identity")return u;s==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=o(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function E5(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}class Zs extends lv{constructor(e,n,r,i){super(),this.calc=void 0,this.payload=e instanceof lv&&!(e instanceof Zs)?e.getPayload():Array.isArray(e)?e:[e],this.calc=yd(n,r,i)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,n,r){this.calc=yd(e,n,r)}interpolate(e,n,r){return new Zs(this,e,n,r)}}const Qo=(t,e,n)=>t&&new Zs(t,e,n),S5={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};function nC(t,e){"update"in t?e.add(t):t.getChildren().forEach(n=>nC(n,e))}class uv extends sr{constructor(e){var n;super(),n=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(r,i){i===void 0&&(i=!0),n.value=r,i&&n.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){this.animatedStyles.size===0&&nC(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,n,r){return new Zs(this,e,n,r)}}class T5 extends lv{constructor(e){super(),this.payload=e.map(n=>new uv(n))}setValue(e,n){n===void 0&&(n=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((r,i)=>this.payload[i].setValue(r,n)):this.payload.forEach(r=>r.setValue(e,n))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,n){return new Zs(this,e,n)}}let R5=0,b5=class{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=R5++}update(e){if(!e)return this;const n=nm(e),r=n.delay,i=r===void 0?0:r,o=n.to,s=Cs(n,["delay","to"]);if(Le.arr(o)||Le.fun(o))this.queue.push(Tt({},s,{delay:i,to:o}));else if(o){let a={};Object.entries(o).forEach(l=>{let u=l[0],c=l[1];const f=Tt({to:{[u]:c},delay:ms(i,u)},s),d=a[f.delay]&&a[f.delay].to;a[f.delay]=Tt({},a[f.delay],f,{to:Tt({},d,f.to)})}),this.queue=Object.values(a)}return this.queue=this.queue.sort((a,l)=>a.delay-l.delay),this.diff(s),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(i=>{let o=i.from,s=o===void 0?{}:o,a=i.to,l=a===void 0?{}:a;Le.obj(s)&&(this.merged=Tt({},s,this.merged)),Le.obj(l)&&(this.merged=Tt({},this.merged,l))});const n=this.local=++this.guid,r=this.localQueue=this.queue;this.queue=[],r.forEach((i,o)=>{let s=i.delay,a=Cs(i,["delay"]);const l=c=>{o===r.length-1&&n===this.guid&&c&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let u=Le.arr(a.to)||Le.fun(a.to);s?setTimeout(()=>{n===this.guid&&(u?this.runAsync(a,l):this.diff(a).start(l))},s):u?this.runAsync(a,l):this.diff(a).start(l)})}else Le.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),y5(this);return this}stop(e){return this.listeners.forEach(n=>n(e)),this.listeners=[],this}pause(e){return this.stop(!0),e&&_5(this),this}runAsync(e,n){var r=this;e.delay;let i=Cs(e,["delay"]);const o=this.local;let s=Promise.resolve(void 0);if(Le.arr(i.to))for(let a=0;a<i.to.length;a++){const l=a,u=Tt({},i,nm(i.to[l]));Le.arr(u.config)&&(u.config=u.config[l]),s=s.then(()=>{if(o===this.guid)return new Promise(c=>this.diff(u).start(c))})}else if(Le.fun(i.to)){let a=0,l;s=s.then(()=>i.to(u=>{const c=Tt({},i,nm(u));if(Le.arr(c.config)&&(c.config=c.config[a]),a++,o===this.guid)return l=new Promise(f=>this.diff(c).start(f))},function(u){return u===void 0&&(u=!0),r.stop(u)}).then(()=>l))}s.then(n)}diff(e){this.props=Tt({},this.props,e);let n=this.props,r=n.from,i=r===void 0?{}:r,o=n.to,s=o===void 0?{}:o,a=n.config,l=a===void 0?{}:a,u=n.reverse,c=n.attach,f=n.reset,d=n.immediate;if(u){var h=[s,i];i=h[0],s=h[1]}this.merged=Tt({},i,this.merged,s),this.hasChanged=!1;let m=c&&c(this);if(this.animations=Object.entries(this.merged).reduce((y,T)=>{let g=T[0],p=T[1],v=y[g]||{};const b=Le.num(p),I=Le.str(p)&&!p.startsWith("#")&&!/\d/.test(p)&&!XI[p],E=Le.arr(p),S=!b&&!E&&!I;let P=Le.und(i[g])?p:i[g],M=b||E||I?p:1,L=ms(l,g);m&&(M=m.animations[g].parent);let B=v.parent,k=v.interpolation,V=Nc(m?M.getPayload():M),W,te=p;S&&(te=vd({range:[0,1],output:[p,p]})(1));let Ee=k&&k.getValue();const z=!Le.und(B)&&v.animatedValues.some(w=>!w.done),$=!Le.equ(te,Ee),C=!Le.equ(te,v.previous),q=!Le.equ(L,v.config);if(f||C&&$||q){if(b||I)B=k=v.parent||new uv(P);else if(E)B=k=v.parent||new T5(P);else if(S){let w=v.interpolation&&v.interpolation.calc(v.parent.value);w=w!==void 0&&!f?w:P,v.parent?(B=v.parent,B.setValue(0,!1)):B=new uv(0);const O={output:[w,p]};v.interpolation?(k=v.interpolation,v.interpolation.updateConfig(O)):k=B.interpolate(O)}return V=Nc(m?M.getPayload():M),W=Nc(B.getPayload()),f&&!S&&B.setValue(P,!1),this.hasChanged=!0,W.forEach(w=>{w.startPosition=w.value,w.lastPosition=w.value,w.lastVelocity=z?w.lastVelocity:void 0,w.lastTime=z?w.lastTime:void 0,w.startTime=ZI(),w.done=!1,w.animatedStyles.clear()}),ms(d,g)&&B.setValue(S?M:p,!1),Tt({},y,{[g]:Tt({},v,{name:g,parent:B,interpolation:k,animatedValues:W,toValues:V,previous:te,config:L,fromValues:Nc(B.getValue()),immediate:ms(d,g),initialVelocity:Qi(L.velocity,0),clamp:Qi(L.clamp,!1),precision:Qi(L.precision,.01),tension:Qi(L.tension,170),friction:Qi(L.friction,26),mass:Qi(L.mass,1),duration:L.duration,easing:Qi(L.easing,w=>w),decay:L.decay})})}else return $?y:(S&&(B.setValue(1,!1),k.updateConfig({output:[te,te]})),B.done=!0,this.hasChanged=!0,Tt({},y,{[g]:Tt({},y[g],{previous:te})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let y in this.animations)this.interpolations[y]=this.animations[y].interpolation,this.values[y]=this.animations[y].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}};const A5=(t,e)=>{const n=A.useRef(!1),r=A.useRef(),i=Le.fun(e),o=A.useMemo(()=>{r.current&&(r.current.map(f=>f.destroy()),r.current=void 0);let c;return[new Array(t).fill().map((f,d)=>{const h=new b5,m=i?ms(e,d,h):e[d];return d===0&&(c=m.ref),h.update(m),c||h.start(),h}),c]},[t]),s=o[0],a=o[1];r.current=s,A.useImperativeHandle(a,()=>({start:()=>Promise.all(r.current.map(c=>new Promise(f=>c.start(f)))),stop:c=>r.current.forEach(f=>f.stop(c)),get controllers(){return r.current}}));const l=A.useMemo(()=>c=>r.current.map((f,d)=>{f.update(i?ms(c,d,f):c[d]),a||f.start()}),[t]);A.useEffect(()=>{n.current?i||l(e):a||r.current.forEach(c=>c.start())}),A.useEffect(()=>(n.current=!0,()=>r.current.forEach(c=>c.destroy())),[]);const u=r.current.map(c=>c.getValues());return i?[u,l,c=>r.current.forEach(f=>f.pause(c))]:u},x5=t=>{const e=Le.fun(t),n=A5(1,e?t:[t]),r=n[0],i=n[1],o=n[2];return e?[r[0],i,o]:r};class I5 extends YI{constructor(e){e===void 0&&(e={}),super(),e.transform&&!(e.transform instanceof sr)&&(e=Q0.transform(e)),this.payload=e}}const _d={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},lr="[-+]?\\d*\\.?\\d+",wd=lr+"%";function Xh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const C5=new RegExp("rgb"+Xh(lr,lr,lr)),P5=new RegExp("rgba"+Xh(lr,lr,lr,lr)),k5=new RegExp("hsl"+Xh(lr,wd,wd)),N5=new RegExp("hsla"+Xh(lr,wd,wd,lr)),D5=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,V5=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,L5=/^#([0-9a-fA-F]{6})$/,O5=/^#([0-9a-fA-F]{8})$/;function M5(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=L5.exec(t))?parseInt(e[1]+"ff",16)>>>0:_d.hasOwnProperty(t)?_d[t]:(e=C5.exec(t))?(Yo(e[1])<<24|Yo(e[2])<<16|Yo(e[3])<<8|255)>>>0:(e=P5.exec(t))?(Yo(e[1])<<24|Yo(e[2])<<16|Yo(e[3])<<8|ES(e[4]))>>>0:(e=D5.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=O5.exec(t))?parseInt(e[1],16)>>>0:(e=V5.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=k5.exec(t))?(_S(wS(e[1]),Dc(e[2]),Dc(e[3]))|255)>>>0:(e=N5.exec(t))?(_S(wS(e[1]),Dc(e[2]),Dc(e[3]))|ES(e[4]))>>>0:null}function rm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _S(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=rm(i,r,t+1/3),s=rm(i,r,t),a=rm(i,r,t-1/3);return Math.round(o*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function Yo(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function wS(t){return(parseFloat(t)%360+360)%360/360}function ES(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Dc(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function SS(t){let e=M5(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,o=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${o})`}const Vc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,$5=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,F5=new RegExp(`(${Object.keys(_d).join("|")})`,"g"),U5=t=>{const e=t.output.map(i=>i.replace($5,SS)).map(i=>i.replace(F5,SS)),n=e[0].match(Vc).map(()=>[]);e.forEach(i=>{i.match(Vc).forEach((o,s)=>n[s].push(+o))});const r=e[0].match(Vc).map((i,o)=>yd(Tt({},t,{output:n[o]})));return i=>{let o=0;return e[0].replace(Vc,()=>r[o++](i)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(s,a,l,u,c)=>`rgba(${Math.round(a)}, ${Math.round(l)}, ${Math.round(u)}, ${c})`)}};let Sl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const j5=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),B5=["Webkit","Ms","Moz","O"];Sl=Object.keys(Sl).reduce((t,e)=>(B5.forEach(n=>t[j5(n,e)]=t[e]),t),Sl);function z5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":!n&&typeof e=="number"&&e!==0&&!(Sl.hasOwnProperty(t)&&Sl[t])?e+"px":(""+e).trim()}const TS={};p5(t=>new I5(t));d5(U5);f5(_d);c5((t,e)=>{if(t.nodeType&&t.setAttribute!==void 0){const i=e.style,o=e.children,s=e.scrollTop,a=e.scrollLeft,l=Cs(e,["style","children","scrollTop","scrollLeft"]),u=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter";s!==void 0&&(t.scrollTop=s),a!==void 0&&(t.scrollLeft=a),o!==void 0&&(t.textContent=o);for(let c in i)if(i.hasOwnProperty(c)){var n=c.indexOf("--")===0,r=z5(c,i[c],n);c==="float"&&(c="cssFloat"),n?t.style.setProperty(c,r):t.style[c]=r}for(let c in l){const f=u?c:TS[c]||(TS[c]=c.replace(/([A-Z])/g,d=>"-"+d.toLowerCase()));typeof t.getAttribute(f)<"u"&&t.setAttribute(f,l[c])}return}else return!1},t=>t);const H5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],W5=s5(v5,!1),q5=W5(H5);function RS(t,e){return t.map(function(n,r){return n+e[r]})}function rC(t,e){return t.map(function(n,r){return n-e[r]})}function cv(t){return Math.hypot.apply(Math,t)}function G5(t,e,n){var r=cv(e),i=r===0?0:1/r,o=n===0?0:1/n,s=o*r,a=e.map(function(c){return o*c}),l=e.map(function(c){return i*c}),u=cv(t);return{velocities:a,velocity:s,distance:u,direction:l}}function fv(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function K5(t,e,n){return Math.max(e,Math.min(t,n))}function Q5(t,e){return Math.pow(t,e*5)}function bS(t,e,n){return e===0||Math.abs(e)===1/0?Q5(t,n):t*e*n/(e+n*t)}function Tl(t,e,n,r){return r===void 0&&(r=.15),r===0?K5(t,e,n):t<e?-bS(e-t,n-e,r)+e:t>n?+bS(t-n,n-e,r)+n:t}function AS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y5(t,e,n){return e&&AS(t.prototype,e),n&&AS(t,n),t}function yn(){return yn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yn.apply(this,arguments)}function iC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function X5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J5(t,e){if(t){if(typeof t=="string")return xS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xS(t,e)}}function xS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jh(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=J5(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=t[Symbol.iterator](),n.next.bind(n)}function oC(){}function sC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?oC:e.length===1?e[0]:function(){for(var r,i=Jh(e),o;!(o=i()).done;){var s=o.value;r=s.apply(this,arguments)||r}return r}}function di(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function Oc(t){if(typeof t=="function"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}else return t}function Y0(t,e){t===void 0&&(t={});for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];switch(typeof a){case"function":n[s]=a.call(n,t[s],s,t);break;case"object":n[s]=Y0(t[s],a);break;case"boolean":a&&(n[s]=t[s]);break}}return n}var Z5=180,ez=.15,tz=.5,nz=60,rz={threshold:function(e){return e===void 0&&(e=0),di(e)},rubberband:function(e){switch(e===void 0&&(e=0),e){case!0:return di(ez);case!1:return di(0);default:return di(e)}},enabled:function(e){return e===void 0&&(e=!0),e},triggerAllEvents:function(e){return e===void 0&&(e=!1),e},initial:function(e){return e===void 0&&(e=0),typeof e=="function"?e:di(e)}},aC=yn({},rz,{axis:!0,lockDirection:function(e){return e===void 0&&(e=!1),e},bounds:function(e){if(e===void 0&&(e={}),typeof e=="function")return function(f){return aC.bounds(e(f))};var n=e,r=n.left,i=r===void 0?-1/0:r,o=n.right,s=o===void 0?1/0:o,a=n.top,l=a===void 0?-1/0:a,u=n.bottom,c=u===void 0?1/0:u;return[[i,s],[l,c]]}}),iz=typeof window<"u"&&window.document&&window.document.createElement,oz={enabled:function(e){return e===void 0&&(e=!0),e},domTarget:!0,window:function(t){function e(n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return t===void 0&&(t=iz?window:void 0),t}),eventOptions:function(e){var n=e===void 0?{}:e,r=n.passive,i=r===void 0?!0:r,o=n.capture,s=o===void 0?!1:o;return{passive:i,capture:s}}},sz=yn({},aC,{threshold:function(e,n,r){var i=r.filterTaps,o=i===void 0?!1:i,s=r.lockDirection,a=s===void 0?!1:s,l=r.axis,u=l===void 0?void 0:l,c=di(e,o?3:a||u?1:0);return this.filterTaps=o||c[0]+c[1]>0,c},swipeVelocity:function(e){return e===void 0&&(e=tz),di(e)},swipeDistance:function(e){return e===void 0&&(e=nz),di(e)},delay:function(e){switch(e===void 0&&(e=0),e){case!0:return Z5;case!1:return 0;default:return e}}});function az(t){return t===void 0&&(t={}),Y0(t,oz)}function lz(t){return t===void 0&&(t={}),Y0(t,sz)}function uz(t){var e=t.domTarget,n=t.eventOptions,r=t.window,i=t.enabled,o=X5(t,["domTarget","eventOptions","window","enabled"]),s=az({domTarget:e,eventOptions:n,window:r,enabled:i});return s.drag=lz(o),s}function La(t){return yn({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:oC,canceled:!1,memo:void 0,args:void 0},t)}function lC(){var t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},e=La({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),n=La({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),r=La({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=La({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),o=La({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:n,wheel:r,move:i,scroll:o}}var Zi=new Map,cz=function(){function t(n,r){var i=this;r===void 0&&(r=[]),this.controller=n,this.args=r,this.debounced=!0,this.setTimeout=function(o,s){var a;s===void 0&&(s=140),clearTimeout(i.controller.timeouts[i.stateKey]);for(var l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];i.controller.timeouts[i.stateKey]=(a=window).setTimeout.apply(a,[o,s].concat(u))},this.clearTimeout=function(){clearTimeout(i.controller.timeouts[i.stateKey])},this.fireGestureHandler=function(o){if(o===void 0&&(o=!1),i.state._blocked)return i.debounced||(i.state._active=!1,i.clean()),null;if(!o&&!i.state.intentional&&!i.config.triggerAllEvents)return null;if(i.state.intentional){var s=i.state.active,a=i.state._active;i.state.active=a,i.state.first=a&&!s,i.state.last=s&&!a,i.controller.state.shared[i.ingKey]=a}var l=yn({},i.controller.state.shared,i.state,i.mapStateValues(i.state)),u=i.handler(l);return i.state.memo=u!==void 0?u:i.state.memo,i.state._active||i.clean(),l}}var e=t.prototype;return e.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},e.updateGestureState=function(r){Object.assign(this.state,r)},e.checkIntentionality=function(r,i){return{_intentional:r,_blocked:!1}},e.getMovement=function(r){var i=this.config,o=i.initial,s=i.bounds,a=i.rubberband,l=i.threshold,u=this.state,c=u._bounds,f=u._initial,d=u._active,h=u._intentional,m=u.lastOffset,y=u.movement,T=this.getInternalMovement(r,this.state),g=h[0]===!1?IS(T[0],l[0]):h[0],p=h[1]===!1?IS(T[1],l[1]):h[1],v=this.checkIntentionality([g,p],T);if(v._blocked)return yn({},v,{_movement:T,delta:[0,0]});var b=v._intentional,I=T,E,S;if(b[0]!==!1&&h[0]===!1&&(S=Oc(o,this.state),E=Oc(s,this.state),f[0]=S[0],c[0]=E[0]),b[1]!==!1&&h[1]===!1){var P,M;S=(P=S)!=null?P:Oc(o,this.state),E=(M=E)!=null?M:Oc(s,this.state),f[1]=S[1],c[1]=E[1]}var L=[b[0]!==!1?T[0]-b[0]:f[0],b[1]!==!1?T[1]-b[1]:f[1]],B=RS(L,m),k=d?a:[0,0];return L=CS(c,RS(L,f),k),yn({},v,{intentional:b[0]!==!1||b[1]!==!1,_initial:f,_movement:I,movement:L,values:r,offset:CS(c,B,k),delta:rC(L,y)})},e.clean=function(){this.clearTimeout()},Y5(t,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}]),t}();function IS(t,e){return Math.abs(t)>=e?fv(t)*e:!1}function CS(t,e,n){var r=e[0],i=e[1],o=n[0],s=n[1],a=t[0],l=a[0],u=a[1],c=t[1],f=c[0],d=c[1];return[Tl(r,l,u,o),Tl(i,f,d,s)]}function im(t,e,n){var r=t.state,i=t.args,o=e.timeStamp,s=e.type,a=r.values,l=n?0:o-r.startTime;return{_lastEventType:s,event:e,timeStamp:o,elapsedTime:l,args:i,previous:a}}function fz(t,e,n){var r=t.state.offset,i=n.timeStamp;return yn({},lC()[t.stateKey],{_active:!0,values:e,initial:e,offset:r,lastOffset:r,startTime:i})}function dz(t,e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.call.apply(t,[this,yn({},e,{event:n})].concat(i))}}var hz=function(e){var n=this;this.classes=e,this.bind=function(){for(var r={},i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];for(var a=Jh(n.classes),l;!(l=a()).done;){var u=l.value;new u(n,o).addBindings(r)}for(var c=0,f=Object.entries(n.nativeRefs);c<f.length;c++){var d=f[c],h=d[0],m=d[1];dv(r,h,dz(m,yn({},n.state.shared,{args:o})))}return n.config.domTarget?vz(n,r):yz(n,r)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var r=cC(n.config),i=n.config.eventOptions;r&&zu(r,uC(n.domListeners),i),Object.values(n.timeouts).forEach(clearTimeout),pz(n)},this.state=lC(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function pz(t){var e=t.config,n=e.window,r=e.eventOptions,i=t.windowListeners;if(n){for(var o in i){var s=i[o];zu(n,s,r)}t.windowListeners={}}}function mz(t,e){var n=t.config,r=t.windowListeners;n.window&&(zu(n.window,r[e],n.eventOptions),delete r[e])}function gz(t,e,n){var r=t.config,i=t.windowListeners;n===void 0&&(n=[]),r.window&&(zu(r.window,i[e],r.eventOptions),fC(r.window,i[e]=n,r.eventOptions))}function vz(t,e){var n=t.config,r=t.domListeners,i=cC(n);if(!i)throw new Error("domTarget must be defined");var o=n.eventOptions;zu(i,uC(r),o);for(var s=0,a=Object.entries(e);s<a.length;s++){var l=a[s],u=l[0],c=l[1],f=u.slice(2).toLowerCase();r.push([f,sC.apply(void 0,c)])}fC(i,r,o)}function yz(t,e){for(var n=t.config,r={},i=n.eventOptions.capture?"Capture":"",o=0,s=Object.entries(e);o<s.length;o++){var a=s[o],l=a[0],u=a[1],c=Array.isArray(u)?u:[u],f=l+i;r[f]=sC.apply(void 0,c)}return r}function uC(t){return t===void 0&&(t=[]),t.splice(0,t.length)}function cC(t){var e=t.domTarget;return e&&"current"in e?e.current:e}function dv(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function fC(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=Jh(e),i;!(i=r()).done;){var o=i.value,s=o[0],a=o[1];t.addEventListener(s,a,n)}}function zu(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=Jh(e),i;!(i=r()).done;){var o=i.value,s=o[0],a=o[1];t.removeEventListener(s,a,n)}}function _z(t,e,n){n===void 0&&(n={});var r=Ez(t),i=ve.useMemo(function(){return new hz(r)},[]);return i.config=e,i.handlers=t,i.nativeRefs=n,ve.useEffect(i.effect,[]),i.config.domTarget?wz:i.bind}function wz(){}function Ez(t){var e=new Set;return t.drag&&e.add(Zi.get("drag")),t.wheel&&e.add(Zi.get("wheel")),t.scroll&&e.add(Zi.get("scroll")),t.move&&e.add(Zi.get("move")),t.pinch&&e.add(Zi.get("pinch")),t.hover&&e.add(Zi.get("hover")),e}var Sz=function(t){iC(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getInternalMovement=function(i,o){return rC(i,o.initial)},n.checkIntentionality=function(i,o){if(i[0]===!1&&i[1]===!1)return{_intentional:i,axis:this.state.axis};var s=o.map(Math.abs),a=s[0],l=s[1],u=this.state.axis||(a>l?"x":a<l?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:i,_blocked:!1,axis:u}:u?this.config.axis&&u!==this.config.axis?{_intentional:i,_blocked:!0,axis:u}:(i[u==="x"?1:0]=!1,{_intentional:i,_blocked:!1,axis:u}):{_intentional:[!1,!1],_blocked:!1,axis:u}},n.getKinematics=function(i,o){var s=this.getMovement(i);if(!s._blocked){var a=o.timeStamp-this.state.timeStamp;Object.assign(s,G5(s.movement,s.delta,a))}return s},n.mapStateValues=function(i){return{xy:i.values,vxvy:i.velocities}},e}(cz);function dC(t){if("touches"in t){var e=t.targetTouches,n=t.changedTouches;return e.length>0?e:n}return null}function PS(t){var e="buttons"in t?t.buttons:0,n=dC(t),r=n&&n.length||0,i=r>0||e>0,o=t.shiftKey,s=t.altKey,a=t.metaKey,l=t.ctrlKey;return{touches:r,down:i,buttons:e,shiftKey:o,altKey:s,metaKey:a,ctrlKey:l}}function kS(t){var e=dC(t),n=e?e[0]:t,r=n.clientX,i=n.clientY;return[r,i]}var Tz=3,Rz=220,bz=function(t){iC(e,t);function e(){var r;return r=t.apply(this,arguments)||this,r.ingKey="dragging",r.stateKey="drag",r.onDragStart=function(i){!r.enabled||r.state._active||(gz(r.controller,r.stateKey,[["pointermove",r.onDragChange],["pointerup",r.onDragEnd],["pointercancel",r.onDragEnd]]),r.updateGestureState({_pointerId:i.pointerId}),r.config.delay>0?(r.state._delayedEvent=!0,"persist"in i&&typeof i.persist=="function"&&i.persist(),r.setTimeout(r.startDrag.bind(Lc(r)),r.config.delay,i)):r.startDrag(i))},r.onDragChange=function(i){if(!r.state.canceled&&i.pointerId===r.state._pointerId){if(!r.state._active){r.state._delayedEvent&&(r.clearTimeout(),r.startDrag(i));return}var o=PS(i);if(!o.down){r.onDragEnd(i);return}r.updateSharedState(o);var s=kS(i),a=r.getKinematics(s,i),l=im(Lc(r),i),u=r.state._isTap,c=cv(a._movement);u&&c>=Tz&&(u=!1),r.updateGestureState(yn({},l,a,{_isTap:u})),r.fireGestureHandler()}},r.onDragEnd=function(i){if(i.pointerId===r.state._pointerId){r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0});var o=r.state._isTap,s=r.state.velocities,a=s[0],l=s[1],u=r.state.movement,c=u[0],f=u[1],d=r.state._intentional,h=d[0],m=d[1],y=r.config.swipeVelocity,T=y[0],g=y[1],p=r.config.swipeDistance,v=p[0],b=p[1],I=yn({},im(Lc(r),i),r.getMovement(r.state.values)),E=[0,0];I.elapsedTime<Rz&&(h!==!1&&Math.abs(a)>T&&Math.abs(c)>v&&(E[0]=fv(a)),m!==!1&&Math.abs(l)>g&&Math.abs(f)>b&&(E[1]=fv(l))),r.updateGestureState(yn({},I,{tap:o,swipe:E})),r.fireGestureHandler(o===!0)}},r.clean=function(){t.prototype.clean.call(Lc(r)),r.state._delayedEvent=!1,mz(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0}),r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return r.fireGestureHandler()}))},r.onClick=function(i){r.state._isTap||i.stopPropagation()},r}var n=e.prototype;return n.startDrag=function(i){var o=kS(i);this.updateSharedState(PS(i)),this.updateGestureState(yn({},fz(this,o,i),im(this,i,!0),{_pointerId:i.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(o)),this.fireGestureHandler()},n.addBindings=function(i){if(dv(i,"onPointerDown",this.onDragStart),this.config.filterTaps){var o=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";dv(i,o,this.onClick)}},e}(Sz);function Az(t,e){var n,r=[],i,o=!1;function s(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return o&&n===this&&e(l,r)||(i=t.apply(this,l),o=!0,n=this,r=l),i}return s}function mf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!mf(t[r],e[r]))return!1;return!0}var o;if(typeof Map=="function"&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!mf(r.value[1],e.get(r.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(typeof Element<"u"&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!(i[r]==="_owner"&&t.$$typeof)&&!mf(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}function xz(t,e){try{return mf(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function Iz(t,e){e===void 0&&(e={}),Zi.set("drag",bz);var n=A.useRef();return n.current||(n.current=Az(uz,xz)),_z({drag:t},n.current(e))}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var hC=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Ed=hC.join(","),pC=typeof Element>"u",Po=pC?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,hv=!pC&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},mC=function(e,n,r){var i=Array.prototype.slice.apply(e.querySelectorAll(Ed));return n&&Po.call(e,Ed)&&i.unshift(e),i=i.filter(r),i},gC=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,u=t(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scope:s,candidates:u})}else{var c=Po.call(s,Ed);c&&r.filter(s)&&(n||!e.includes(s))&&i.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),d=!r.shadowRootFilter||r.shadowRootFilter(s);if(f&&d){var h=t(f===!0?s.children:f.children,!0,r);r.flatten?i.push.apply(i,h):i.push({scope:s,candidates:h})}else o.unshift.apply(o,s.children)}}return i},vC=function(e,n){return e.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},Cz=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},yC=function(e){return e.tagName==="INPUT"},Pz=function(e){return yC(e)&&e.type==="hidden"},kz=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Nz=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Dz=function(e){if(!e.name)return!0;var n=e.form||hv(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=Nz(i,e.form);return!o||o===e},Vz=function(e){return yC(e)&&e.type==="radio"},Lz=function(e){return Vz(e)&&!Dz(e)},NS=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Oz=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Po.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(Po.call(s,"details:not([open]) *"))return!0;var a=hv(e).host,l=(a==null?void 0:a.ownerDocument.contains(a))||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof i=="function"){for(var u=e;e;){var c=e.parentElement,f=hv(e);if(c&&!c.shadowRoot&&i(c)===!0)return NS(e);e.assignedSlot?e=e.assignedSlot:!c&&f!==e.ownerDocument?e=f.host:e=c}e=u}if(l)return!e.getClientRects().length}else if(r==="non-zero-area")return NS(e);return!1},Mz=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Po.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Sd=function(e,n){return!(n.disabled||Pz(n)||Oz(n,e)||kz(n)||Mz(n))},pv=function(e,n){return!(Lz(n)||vC(n)<0||!Sd(e,n))},$z=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Fz=function t(e){var n=[],r=[];return e.forEach(function(i,o){var s=!!i.scope,a=s?i.scope:i,l=vC(a,s),u=s?t(i.candidates):a;l===0?s?n.push.apply(n,u):n.push(a):r.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:u})}),r.sort(Cz).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Uz=function(e,n){n=n||{};var r;return n.getShadowRoot?r=gC([e],n.includeContainer,{filter:pv.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:$z}):r=mC(e,n.includeContainer,pv.bind(null,n)),Fz(r)},jz=function(e,n){n=n||{};var r;return n.getShadowRoot?r=gC([e],n.includeContainer,{filter:Sd.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=mC(e,n.includeContainer,Sd.bind(null,n)),r},Mc=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Po.call(e,Ed)===!1?!1:pv(n,e)},Bz=hC.concat("iframe").join(","),om=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Po.call(e,Bz)===!1?!1:Sd(n,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function DS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(n),!0).forEach(function(r){zz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var LS=function(){var t=[];return{activateTrap:function(n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var i=t.indexOf(n);i===-1||t.splice(i,1),t.push(n)},deactivateTrap:function(n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}}}(),Hz=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Wz=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},qz=function(e){return e.key==="Tab"||e.keyCode===9},OS=function(e){return setTimeout(e,0)},MS=function(e,n){var r=-1;return e.every(function(i,o){return n(i)?(r=o,!1):!0}),r},Oa=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},$c=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Gz=function(e,n){var r=(n==null?void 0:n.document)||document,i=VS({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,a=function(E,S,P){return E&&E[S]!==void 0?E[S]:i[P||S]},l=function(E){return o.containerGroups.findIndex(function(S){var P=S.container,M=S.tabbableNodes;return P.contains(E)||M.find(function(L){return L===E})})},u=function(E){var S=i[E];if(typeof S=="function"){for(var P=arguments.length,M=new Array(P>1?P-1:0),L=1;L<P;L++)M[L-1]=arguments[L];S=S.apply(void 0,M)}if(S===!0&&(S=void 0),!S){if(S===void 0||S===!1)return S;throw new Error("`".concat(E,"` was specified but was not a node, or did not return a node"))}var B=S;if(typeof S=="string"&&(B=r.querySelector(S),!B))throw new Error("`".concat(E,"` as selector refers to no known node"));return B},c=function(){var E=u("initialFocus");if(E===!1)return!1;if(E===void 0)if(l(r.activeElement)>=0)E=r.activeElement;else{var S=o.tabbableGroups[0],P=S&&S.firstTabbableNode;E=P||u("fallbackFocus")}if(!E)throw new Error("Your focus-trap needs to have at least one focusable element");return E},f=function(){if(o.containerGroups=o.containers.map(function(E){var S=Uz(E,i.tabbableOptions),P=jz(E,i.tabbableOptions);return{container:E,tabbableNodes:S,focusableNodes:P,firstTabbableNode:S.length>0?S[0]:null,lastTabbableNode:S.length>0?S[S.length-1]:null,nextTabbableNode:function(L){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=P.findIndex(function(V){return V===L});if(!(k<0))return B?P.slice(k+1).find(function(V){return Mc(V,i.tabbableOptions)}):P.slice(0,k).reverse().find(function(V){return Mc(V,i.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(E){return E.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function I(E){if(E!==!1&&E!==r.activeElement){if(!E||!E.focus){I(c());return}E.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=E,Hz(E)&&E.select()}},h=function(E){var S=u("setReturnFocus",E);return S||(S===!1?!1:E)},m=function(E){var S=$c(E);if(!(l(S)>=0)){if(Oa(i.clickOutsideDeactivates,E)){s.deactivate({returnFocus:i.returnFocusOnDeactivate&&!om(S,i.tabbableOptions)});return}Oa(i.allowOutsideClick,E)||E.preventDefault()}},y=function(E){var S=$c(E),P=l(S)>=0;P||S instanceof Document?P&&(o.mostRecentlyFocusedNode=S):(E.stopImmediatePropagation(),d(o.mostRecentlyFocusedNode||c()))},T=function(E){var S=$c(E);f();var P=null;if(o.tabbableGroups.length>0){var M=l(S),L=M>=0?o.containerGroups[M]:void 0;if(M<0)E.shiftKey?P=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:P=o.tabbableGroups[0].firstTabbableNode;else if(E.shiftKey){var B=MS(o.tabbableGroups,function(we){var z=we.firstTabbableNode;return S===z});if(B<0&&(L.container===S||om(S,i.tabbableOptions)&&!Mc(S,i.tabbableOptions)&&!L.nextTabbableNode(S,!1))&&(B=M),B>=0){var k=B===0?o.tabbableGroups.length-1:B-1,V=o.tabbableGroups[k];P=V.lastTabbableNode}}else{var W=MS(o.tabbableGroups,function(we){var z=we.lastTabbableNode;return S===z});if(W<0&&(L.container===S||om(S,i.tabbableOptions)&&!Mc(S,i.tabbableOptions)&&!L.nextTabbableNode(S))&&(W=M),W>=0){var te=W===o.tabbableGroups.length-1?0:W+1,Ee=o.tabbableGroups[te];P=Ee.firstTabbableNode}}}else P=u("fallbackFocus");P&&(E.preventDefault(),d(P))},g=function(E){if(Wz(E)&&Oa(i.escapeDeactivates,E)!==!1){E.preventDefault(),s.deactivate();return}if(qz(E)){T(E);return}},p=function(E){var S=$c(E);l(S)>=0||Oa(i.clickOutsideDeactivates,E)||Oa(i.allowOutsideClick,E)||(E.preventDefault(),E.stopImmediatePropagation())},v=function(){if(o.active)return LS.activateTrap(s),o.delayInitialFocusTimer=i.delayInitialFocus?OS(function(){d(c())}):d(c()),r.addEventListener("focusin",y,!0),r.addEventListener("mousedown",m,{capture:!0,passive:!1}),r.addEventListener("touchstart",m,{capture:!0,passive:!1}),r.addEventListener("click",p,{capture:!0,passive:!1}),r.addEventListener("keydown",g,{capture:!0,passive:!1}),s},b=function(){if(o.active)return r.removeEventListener("focusin",y,!0),r.removeEventListener("mousedown",m,!0),r.removeEventListener("touchstart",m,!0),r.removeEventListener("click",p,!0),r.removeEventListener("keydown",g,!0),s};return s={get active(){return o.active},get paused(){return o.paused},activate:function(E){if(o.active)return this;var S=a(E,"onActivate"),P=a(E,"onPostActivate"),M=a(E,"checkCanFocusTrap");M||f(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,S&&S();var L=function(){M&&f(),v(),P&&P()};return M?(M(o.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(E){if(!o.active)return this;var S=VS({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},E);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,b(),o.active=!1,o.paused=!1,LS.deactivateTrap(s);var P=a(S,"onDeactivate"),M=a(S,"onPostDeactivate"),L=a(S,"checkCanReturnFocus"),B=a(S,"returnFocus","returnFocusOnDeactivate");P&&P();var k=function(){OS(function(){B&&d(h(o.nodeFocusedBeforeActivation)),M&&M()})};return B&&L?(L(h(o.nodeFocusedBeforeActivation)).then(k,k),this):(k(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,b(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,f(),v(),this)},updateContainerElements:function(E){var S=[].concat(E).filter(Boolean);return o.containers=S.map(function(P){return typeof P=="string"?r.querySelector(P):P}),o.active&&f(),this}},s.updateContainerElements(e),s};function Kz(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var X0=!1;if(typeof window<"u"){var $S={get passive(){X0=!0}};window.addEventListener("testPassive",null,$S),window.removeEventListener("testPassive",null,$S)}var _C=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),yi=[],Td=!1,wC=-1,Rl=void 0,bl=void 0,EC=function(e){return yi.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},Rd=function(e){var n=e||window.event;return EC(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},Qz=function(e){if(bl===void 0){var n=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;n&&r>0&&(bl=document.body.style.paddingRight,document.body.style.paddingRight=r+"px")}Rl===void 0&&(Rl=document.body.style.overflow,document.body.style.overflow="hidden")},Yz=function(){bl!==void 0&&(document.body.style.paddingRight=bl,bl=void 0),Rl!==void 0&&(document.body.style.overflow=Rl,Rl=void 0)},Xz=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},Jz=function(e,n){var r=e.targetTouches[0].clientY-wC;return EC(e.target)?!1:n&&n.scrollTop===0&&r>0||Xz(n)&&r<0?Rd(e):(e.stopPropagation(),!0)},Zz=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!yi.some(function(i){return i.targetElement===e})){var r={targetElement:e,options:n||{}};yi=[].concat(Kz(yi),[r]),_C?(e.ontouchstart=function(i){i.targetTouches.length===1&&(wC=i.targetTouches[0].clientY)},e.ontouchmove=function(i){i.targetTouches.length===1&&Jz(i,e)},Td||(document.addEventListener("touchmove",Rd,X0?{passive:!1}:void 0),Td=!0)):Qz(n)}},e8=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}yi=yi.filter(function(n){return n.targetElement!==e}),_C?(e.ontouchstart=null,e.ontouchmove=null,Td&&yi.length===0&&(document.removeEventListener("touchmove",Rd,X0?{passive:!1}:void 0),Td=!1)):yi.length||Yz()},go=[],t8=function(){return go.some(function(t){return t.activeTargets.length>0})},n8=function(){return go.some(function(t){return t.skippedTargets.length>0})},FS="ResizeObserver loop completed with undelivered notifications.",r8=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:FS}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=FS),window.dispatchEvent(t)},hu;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(hu||(hu={}));var vo=function(t){return Object.freeze(t)},i8=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,vo(this)}return t}(),SC=function(){function t(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,vo(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,i=e.top,o=e.right,s=e.bottom,a=e.left,l=e.width,u=e.height;return{x:n,y:r,top:i,right:o,bottom:s,left:a,width:l,height:u}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),J0=function(t){return t instanceof SVGElement&&"getBBox"in t},TC=function(t){if(J0(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,o=i.offsetWidth,s=i.offsetHeight;return!(o||s||t.getClientRects().length)},US=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},o8=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Al=typeof window<"u"?window:{},Fc=new WeakMap,jS=/auto|scroll/,s8=/^tb|vertical/,a8=/msie|trident/i.test(Al.navigator&&Al.navigator.userAgent),gr=function(t){return parseFloat(t||"0")},Ps=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new i8((n?e:t)||0,(n?t:e)||0)},BS=vo({devicePixelContentBoxSize:Ps(),borderBoxSize:Ps(),contentBoxSize:Ps(),contentRect:new SC(0,0,0,0)}),RC=function(t,e){if(e===void 0&&(e=!1),Fc.has(t)&&!e)return Fc.get(t);if(TC(t))return Fc.set(t,BS),BS;var n=getComputedStyle(t),r=J0(t)&&t.ownerSVGElement&&t.getBBox(),i=!a8&&n.boxSizing==="border-box",o=s8.test(n.writingMode||""),s=!r&&jS.test(n.overflowY||""),a=!r&&jS.test(n.overflowX||""),l=r?0:gr(n.paddingTop),u=r?0:gr(n.paddingRight),c=r?0:gr(n.paddingBottom),f=r?0:gr(n.paddingLeft),d=r?0:gr(n.borderTopWidth),h=r?0:gr(n.borderRightWidth),m=r?0:gr(n.borderBottomWidth),y=r?0:gr(n.borderLeftWidth),T=f+u,g=l+c,p=y+h,v=d+m,b=a?t.offsetHeight-v-t.clientHeight:0,I=s?t.offsetWidth-p-t.clientWidth:0,E=i?T+p:0,S=i?g+v:0,P=r?r.width:gr(n.width)-E-I,M=r?r.height:gr(n.height)-S-b,L=P+T+I+p,B=M+g+b+v,k=vo({devicePixelContentBoxSize:Ps(Math.round(P*devicePixelRatio),Math.round(M*devicePixelRatio),o),borderBoxSize:Ps(L,B,o),contentBoxSize:Ps(P,M,o),contentRect:new SC(f,l,P,M)});return Fc.set(t,k),k},bC=function(t,e,n){var r=RC(t,n),i=r.borderBoxSize,o=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(e){case hu.DEVICE_PIXEL_CONTENT_BOX:return s;case hu.BORDER_BOX:return i;default:return o}},l8=function(){function t(e){var n=RC(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=vo([n.borderBoxSize]),this.contentBoxSize=vo([n.contentBoxSize]),this.devicePixelContentBoxSize=vo([n.devicePixelContentBoxSize])}return t}(),AC=function(t){if(TC(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},u8=function(){var t=1/0,e=[];go.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var c=new l8(u.target),f=AC(u.target);a.push(c),u.lastReportedSize=bC(u.target,u.observedBox),f<t&&(t=f)}),e.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var i=r[n];i()}return t},zS=function(t){go.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(AC(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},c8=function(){var t=0;for(zS(t);t8();)t=u8(),zS(t);return n8()&&r8(),t>0},sm,xC=[],f8=function(){return xC.splice(0).forEach(function(t){return t()})},d8=function(t){if(!sm){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return f8()}).observe(n,r),sm=function(){n.textContent="".concat(e?e--:e++)}}xC.push(t),sm()},h8=function(t){d8(function(){requestAnimationFrame(t)})},gf=0,p8=function(){return!!gf},m8=250,g8={attributes:!0,characterData:!0,childList:!0,subtree:!0},HS=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],WS=function(t){return t===void 0&&(t=0),Date.now()+t},am=!1,v8=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=m8),!am){am=!0;var r=WS(e);h8(function(){var i=!1;try{i=c8()}finally{if(am=!1,e=r-WS(),!p8())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,g8)};document.body?n():Al.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),HS.forEach(function(n){return Al.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),HS.forEach(function(n){return Al.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),mv=new v8,qS=function(t){!gf&&t>0&&mv.start(),gf+=t,!gf&&mv.stop()},y8=function(t){return!J0(t)&&!o8(t)&&getComputedStyle(t).display==="inline"},_8=function(){function t(e,n){this.target=e,this.observedBox=n||hu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=bC(this.target,this.observedBox,!0);return y8(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),w8=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),Uc=new WeakMap,GS=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},jc=function(){function t(){}return t.connect=function(e,n){var r=new w8(e,n);Uc.set(e,r)},t.observe=function(e,n,r){var i=Uc.get(e),o=i.observationTargets.length===0;GS(i.observationTargets,n)<0&&(o&&go.push(i),i.observationTargets.push(new _8(n,r&&r.box)),qS(1),mv.schedule())},t.unobserve=function(e,n){var r=Uc.get(e),i=GS(r.observationTargets,n),o=r.observationTargets.length===1;i>=0&&(o&&go.splice(go.indexOf(r),1),r.observationTargets.splice(i,1),qS(-1))},t.disconnect=function(e){var n=this,r=Uc.get(e);r.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),E8=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");jc.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!US(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");jc.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!US(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");jc.unobserve(this,e)},t.prototype.disconnect=function(){jc.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function sn(){return sn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sn.apply(this,arguments)}function vf(t,e){if(t==null)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}var xl=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Ma(t,e,n){return e=(e=+e)==e?e:0,n=(n=+n)==n?n:0,(t=+t)==t&&(t=(t=t<=n?t:n)>=e?t:e),t}function Bc(t){var e=Math.round(t);if(Number.isNaN(t))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return e}var S8={box:"border-box"};function lm(t,e){var n=e.label,r=e.enabled,i=e.resizeSourceRef,o=A.useState(0),s=o[0],a=o[1];A.useDebugValue(n+": "+s);var l=A.useCallback(function(u){a(u[0].borderBoxSize[0].blockSize),i.current="element"},[i]);return xl(function(){if(t.current&&r){var u=new E8(l);return u.observe(t.current,S8),function(){u.disconnect()}}},[t,l,r]),r?s:0}function on(t){return t===void 0&&(t=1e3),new Promise(function(e){return setTimeout(e,t)})}var KS={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},QS={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},T8=QB({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:sn({},KS,QS)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:sn({},KS,QS)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:sn({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[YB({y:function(t,e){return e.payload.y},velocity:function(t,e){return e.payload.velocity},snapSource:function(t,e){var n=e.payload.source;return n===void 0?"custom":n}})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(t,e){},onSnapCancel:function(t,e){},onResizeCancel:function(t,e){},onCloseCancel:function(t,e){},onOpenEnd:function(t,e){},onSnapEnd:function(t,e){},onRezizeEnd:function(t,e){}},services:{onSnapStart:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenStart:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseStart:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeStart:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onSnapEnd:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenEnd:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseEnd:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeEnd:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},renderVisuallyHidden:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},activate:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},deactivate:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},openSmoothly:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},openImmediately:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},snapSmoothly:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},resizeSmoothly:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},closeSmoothly:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}}},guards:{initiallyClosed:function(t){return t.initialState==="CLOSED"},initiallyOpen:function(t){return t.initialState==="OPEN"}}}),R8=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],b8=["velocity"],A8=["onRest","config"],IC=S5.default,x8=IC.tension,zc=IC.friction,I8=ve.forwardRef(function(t,e){var n=t.children,r=t.sibling,i=t.className,o=t.footer,s=t.header,a=t.open,l=t.initialState,u=t.lastSnapRef,c=t.initialFocusRef,f=t.onDismiss,d=t.maxHeight,h=t.defaultSnap,m=h===void 0?P8:h,y=t.snapPoints,T=y===void 0?k8:y,g=t.blocking,p=g===void 0||g,v=t.scrollLocking,b=v===void 0||v,I=t.style,E=t.onSpringStart,S=t.onSpringCancel,P=t.onSpringEnd,M=t.reserveScrollBarGap,L=M===void 0?p:M,B=t.expandOnContentDrag,k=B!==void 0&&B,V=vf(t,R8),W=function(){var _=A.useState(!1),R=_[0],N=_[1],G=A.useState({}),Y=G[0],X=G[1],le=A.useCallback(function(ue){return X(function(ce){var oe;return sn({},ce,((oe={})[ue]=!1,oe))}),function(){X(function(ce){var oe;return sn({},ce,((oe={})[ue]=!0,oe))})}},[]);return A.useEffect(function(){var ue=Object.values(Y);ue.length!==0&&ue.every(Boolean)&&N(!0)},[Y]),{ready:R,registerReady:le}}(),te=W.ready,Ee=W.registerReady,we=A.useRef(!1),z=A.useRef(E),$=A.useRef(S),C=A.useRef(P);A.useEffect(function(){z.current=E,$.current=S,C.current=P},[S,E,P]);var q,w,O=x5(function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}}),j=O[0],ne=O[1],Z=A.useRef(null),me=A.useRef(null),Se=A.useRef(null),pe=A.useRef(null),De=A.useRef(null),Ve=A.useRef(null),Te=A.useRef(0),Pe=A.useRef(),Ze=A.useRef(!1),ke=(q=A.useMemo(function(){return typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)"):null},[]),w=A.useRef(q==null?void 0:q.matches),A.useDebugValue(w.current?"reduce":"no-preference"),A.useEffect(function(){var _=function(R){w.current=R.matches};return q==null||q.addListener(_),function(){return q==null?void 0:q.removeListener(_)}},[q]),w),je=function(_){var R=_.targetRef,N=_.enabled,G=_.reserveScrollBarGap,Y=A.useRef({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return A.useDebugValue(N?"Enabled":"Disabled"),A.useEffect(function(){if(!N)return Y.current.deactivate(),void(Y.current={activate:function(){},deactivate:function(){}});var X=R.current,le=!1;Y.current={activate:function(){le||(le=!0,Zz(X,{allowTouchMove:function(ue){return ue.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:G}))},deactivate:function(){le&&(le=!1,e8(X))}}},[N,R,G]),Y}({targetRef:me,enabled:te&&b,reserveScrollBarGap:L}),$e=function(_){var R=_.targetRef,N=_.enabled,G=A.useRef({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return A.useDebugValue(N?"Enabled":"Disabled"),A.useEffect(function(){if(!N)return G.current.deactivate(),void(G.current={activate:function(){},deactivate:function(){}});var Y=R.current,X=!1,le=[],ue=[];G.current={activate:function(){if(!X){X=!0;var ce=Y.parentNode;document.querySelectorAll("body > *").forEach(function(oe){if(oe!==ce){var ye=oe.getAttribute("aria-hidden");ye!==null&&ye!=="false"||(le.push(ye),ue.push(oe),oe.setAttribute("aria-hidden","true"))}})}},deactivate:function(){X&&(X=!1,ue.forEach(function(ce,oe){var ye=le[oe];ye===null?ce.removeAttribute("aria-hidden"):ce.setAttribute("aria-hidden",ye)}),le=[],ue=[])}}},[R,N]),G}({targetRef:Z,enabled:te&&p}),Ge=function(_){var R=_.targetRef,N=_.fallbackRef,G=_.initialFocusRef,Y=_.enabled,X=A.useRef({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return A.useDebugValue(Y?"Enabled":"Disabled"),A.useEffect(function(){if(!Y)return X.current.deactivate(),void(X.current={activate:function(){},deactivate:function(){}});var le=N.current,ue=Gz(R.current,{onActivate:void 0,initialFocus:G?function(){return(G==null?void 0:G.current)||le}:void 0,fallbackFocus:le,escapeDeactivates:!1,clickOutsideDeactivates:!1}),ce=!1;X.current={activate:function(){try{return ce?Promise.resolve():(ce=!0,Promise.resolve(ue.activate()).then(function(){return Promise.resolve(new Promise(function(oe){return setTimeout(function(){return oe(void 0)},0)})).then(function(){})}))}catch(oe){return Promise.reject(oe)}},deactivate:function(){ce&&(ce=!1,ue.deactivate())}}},[Y,N,G,R]),X}({targetRef:Z,fallbackRef:Ve,initialFocusRef:c||void 0,enabled:te&&p&&c!==!1}),x=function(_){var R=_.getSnapPoints,N=_.heightRef,G=_.lastSnapRef,Y=_.ready,X=function(Qe){var $t=Qe.contentRef,Sn=Qe.controlledMaxHeight,At=Qe.footerEnabled,Nn=Qe.footerRef,Bo=Qe.headerEnabled,Zn=Qe.headerRef,ma=Qe.registerReady,qu=Qe.resizeSourceRef,r_=A.useMemo(function(){return ma("contentHeight")},[ma]),i_=function(ga,l_,Gu){var Ku=A.useMemo(function(){return l_("maxHeight")},[l_]),u_=A.useState(function(){return Bc(ga)||typeof window<"u"?window.innerHeight:0}),c_=u_[0],tp=u_[1],f_=c_>0,Qu=A.useRef(0);return A.useDebugValue(ga?"controlled":"auto"),A.useEffect(function(){f_&&Ku()},[f_,Ku]),xl(function(){if(ga)return tp(Bc(ga)),void(Gu.current="maxheightprop");var d_=function(){Qu.current||(Qu.current=requestAnimationFrame(function(){tp(window.innerHeight),Gu.current="window",Qu.current=0}))};return window.addEventListener("resize",d_),tp(window.innerHeight),Gu.current="window",Ku(),function(){window.removeEventListener("resize",d_),cancelAnimationFrame(Qu.current)}},[ga,Ku,Gu]),c_}(Sn,ma,qu),Zh=lm(Zn,{label:"headerHeight",enabled:Bo,resizeSourceRef:qu}),o_=lm($t,{label:"contentHeight",enabled:!0,resizeSourceRef:qu}),ep=lm(Nn,{label:"footerHeight",enabled:At,resizeSourceRef:qu}),s_=Math.min(i_-Zh-ep,o_)+Zh+ep;A.useDebugValue("minHeight: "+s_);var a_=o_>0;return A.useEffect(function(){a_&&r_()},[a_,r_]),{maxHeight:i_,minHeight:s_,headerHeight:Zh,footerHeight:ep}}({contentRef:_.contentRef,controlledMaxHeight:_.controlledMaxHeight,footerEnabled:_.footerEnabled,footerRef:_.footerRef,headerEnabled:_.headerEnabled,headerRef:_.headerRef,registerReady:_.registerReady,resizeSourceRef:_.resizeSourceRef}),le=X.maxHeight,ue=X.minHeight,ce=X.headerHeight,oe=X.footerHeight,ye=function(Qe,$t){var Sn=[].concat(Qe).map(Bc).reduce(function(Zn,ma){return Zn.add(Ma(ma,0,$t)),Zn},new Set),At=Array.from(Sn),Nn=Math.min.apply(Math,At);if(Number.isNaN(Nn))throw new TypeError("minSnap is NaN");var Bo=Math.max.apply(Math,At);if(Number.isNaN(Bo))throw new TypeError("maxSnap is NaN");return{snapPoints:At,minSnap:Nn,maxSnap:Bo}}(Y?R({height:N.current,footerHeight:oe,headerHeight:ce,minHeight:ue,maxHeight:le}):[0],le),et=ye.snapPoints,ot=ye.minSnap,ht=ye.maxSnap;return A.useDebugValue("minSnap: "+ot+", maxSnap:"+ht),{minSnap:ot,maxSnap:ht,findSnap:function(Qe){var $t=Bc(typeof Qe=="function"?Qe({footerHeight:oe,headerHeight:ce,height:N.current,minHeight:ue,maxHeight:le,snapPoints:et,lastSnap:G.current}):Qe);return et.reduce(function(Sn,At){return Math.abs(At-$t)<Math.abs(Sn-$t)?At:Sn},ot)},maxHeight:le}}({contentRef:Se,controlledMaxHeight:d,footerEnabled:!!o,footerRef:De,getSnapPoints:T,headerEnabled:s!==!1,headerRef:pe,heightRef:Te,lastSnapRef:u,ready:te,registerReady:Ee,resizeSourceRef:Pe}),D=x.minSnap,F=x.maxSnap,re=x.maxHeight,ee=x.findSnap,Q=A.useRef(re),de=A.useRef(D),Re=A.useRef(F),it=A.useRef(ee),vt=A.useRef(0);xl(function(){Q.current=re,Re.current=F,de.current=D,it.current=ee,vt.current=ee(m)},[ee,m,re,F,D]);var dt=A.useCallback(function(_){var R=_.onRest,N=_.config,G=(N=N===void 0?{}:N).velocity,Y=G===void 0?1:G,X=vf(N,b8),le=vf(_,A8);return new Promise(function(ue){return ne(sn({},le,{config:sn({velocity:Y},X,{mass:1,tension:x8,friction:Math.max(zc,zc+(zc-zc*Y))}),onRest:function(){var ce=[].slice.call(arguments);ue.apply(void 0,ce),R==null||R.apply(void 0,ce)}}))})},[ne]),Uo=o5(T8,{devTools:!1,actions:{onOpenCancel:A.useCallback(function(){return $.current==null?void 0:$.current({type:"OPEN"})},[]),onSnapCancel:A.useCallback(function(_){return $.current==null?void 0:$.current({type:"SNAP",source:_.snapSource})},[]),onCloseCancel:A.useCallback(function(){return $.current==null?void 0:$.current({type:"CLOSE"})},[]),onResizeCancel:A.useCallback(function(){return $.current==null?void 0:$.current({type:"RESIZE",source:Pe.current})},[]),onOpenEnd:A.useCallback(function(){return C.current==null?void 0:C.current({type:"OPEN"})},[]),onSnapEnd:A.useCallback(function(_,R){return C.current==null?void 0:C.current({type:"SNAP",source:_.snapSource})},[]),onResizeEnd:A.useCallback(function(){return C.current==null?void 0:C.current({type:"RESIZE",source:Pe.current})},[])},context:{initialState:l},services:{onSnapStart:A.useCallback(function(_,R){try{return Promise.resolve(z.current==null?void 0:z.current({type:"SNAP",source:R.payload.source||"custom"}))}catch(N){return Promise.reject(N)}},[]),onOpenStart:A.useCallback(function(){try{return Promise.resolve(z.current==null?void 0:z.current({type:"OPEN"}))}catch(_){return Promise.reject(_)}},[]),onCloseStart:A.useCallback(function(){try{return Promise.resolve(z.current==null?void 0:z.current({type:"CLOSE"}))}catch(_){return Promise.reject(_)}},[]),onResizeStart:A.useCallback(function(){try{return Promise.resolve(z.current==null?void 0:z.current({type:"RESIZE",source:Pe.current}))}catch(_){return Promise.reject(_)}},[]),onSnapEnd:A.useCallback(function(_,R){try{return Promise.resolve(C.current==null?void 0:C.current({type:"SNAP",source:_.snapSource}))}catch(N){return Promise.reject(N)}},[]),onOpenEnd:A.useCallback(function(){try{return Promise.resolve(C.current==null?void 0:C.current({type:"OPEN"}))}catch(_){return Promise.reject(_)}},[]),onCloseEnd:A.useCallback(function(){try{return Promise.resolve(C.current==null?void 0:C.current({type:"CLOSE"}))}catch(_){return Promise.reject(_)}},[]),onResizeEnd:A.useCallback(function(){try{return Promise.resolve(C.current==null?void 0:C.current({type:"RESIZE",source:Pe.current}))}catch(_){return Promise.reject(_)}},[]),renderVisuallyHidden:A.useCallback(function(_,R){try{return Promise.resolve(dt({y:vt.current,ready:0,maxHeight:Q.current,maxSnap:Re.current,minSnap:vt.current,immediate:!0})).then(function(){})}catch(N){return Promise.reject(N)}},[dt]),activate:A.useCallback(function(_,R){try{return we.current=!0,Promise.resolve(Promise.all([je.current.activate(),Ge.current.activate(),$e.current.activate()])).then(function(){})}catch(N){return Promise.reject(N)}},[$e,Ge,je]),deactivate:A.useCallback(function(){try{return je.current.deactivate(),Ge.current.deactivate(),$e.current.deactivate(),we.current=!1,Promise.resolve()}catch(_){return Promise.reject(_)}},[$e,Ge,je]),openImmediately:A.useCallback(function(){try{return Te.current=vt.current,Promise.resolve(dt({y:vt.current,ready:1,maxHeight:Q.current,maxSnap:Re.current,minSnap:vt.current,immediate:!0})).then(function(){})}catch(_){return Promise.reject(_)}},[dt]),openSmoothly:A.useCallback(function(){try{return Promise.resolve(dt({y:0,ready:1,maxHeight:Q.current,maxSnap:Re.current,minSnap:vt.current,immediate:!0})).then(function(){return Te.current=vt.current,Promise.resolve(dt({y:vt.current,ready:1,maxHeight:Q.current,maxSnap:Re.current,minSnap:vt.current,immediate:ke.current})).then(function(){})})}catch(_){return Promise.reject(_)}},[dt,ke]),snapSmoothly:A.useCallback(function(_,R){try{var N=it.current(_.y);return Te.current=N,u.current=N,Promise.resolve(dt({y:N,ready:1,maxHeight:Q.current,maxSnap:Re.current,minSnap:de.current,immediate:ke.current,config:{velocity:_.velocity}})).then(function(){})}catch(G){return Promise.reject(G)}},[dt,u,ke]),resizeSmoothly:A.useCallback(function(){try{var _=it.current(Te.current);return Te.current=_,u.current=_,Promise.resolve(dt({y:_,ready:1,maxHeight:Q.current,maxSnap:Re.current,minSnap:de.current,immediate:Pe.current!=="element"||ke.current})).then(function(){})}catch(R){return Promise.reject(R)}},[dt,u,ke]),closeSmoothly:A.useCallback(function(_,R){try{return dt({minSnap:Te.current,immediate:!0}),Te.current=0,Promise.resolve(dt({y:0,maxHeight:Q.current,maxSnap:Re.current,immediate:ke.current})).then(function(){return Promise.resolve(dt({ready:0,immediate:!0})).then(function(){})})}catch(N){return Promise.reject(N)}},[dt,ke])}}),Ki=Uo[0],pn=Uo[1];A.useEffect(function(){te&&pn(a?"OPEN":"CLOSE")},[a,pn,te]),xl(function(){(re||F||D)&&pn("RESIZE")},[re,F,D,pn]),A.useEffect(function(){return function(){je.current.deactivate(),Ge.current.deactivate(),$e.current.deactivate()}},[$e,Ge,je]),A.useImperativeHandle(e,function(){return{snapTo:function(_,R){var N=R===void 0?{}:R,G=N.velocity,Y=G===void 0?1:G,X=N.source,le=X===void 0?"custom":X;pn("SNAP",{payload:{y:it.current(_),velocity:Y,source:le}})},get height(){return Te.current}}},[pn]),A.useEffect(function(){var _=me.current,R=function(G){Ze.current&&G.preventDefault()},N=function(G){_.scrollTop<0&&(requestAnimationFrame(function(){_.style.overflow="hidden",_.scrollTop=0,_.style.removeProperty("overflow")}),G.preventDefault())};return k&&(_.addEventListener("scroll",R),_.addEventListener("touchmove",R),_.addEventListener("touchstart",N)),function(){_.removeEventListener("scroll",R),_.removeEventListener("touchmove",R),_.removeEventListener("touchstart",N)}},[k,me]);var ni=Iz(function(_){var R=_.args,N=(R=R===void 0?[]:R)[0],G=(N=N===void 0?{}:N).closeOnTap,Y=G!==void 0&&G,X=N.isContentDragging,le=X!==void 0&&X,ue=_.cancel,ce=_.direction[1],oe=_.down,ye=_.first,et=_.last,ot=_.memo,ht=ot===void 0?j.y.getValue():ot,Qe=_.tap,$t=_.velocity,Sn=-1*_.movement[1];if(!we.current)return ue(),ht;if(f&&Y&&Qe)return ue(),setTimeout(function(){return f()},0),ht;if(Qe)return ht;var At=ht+Sn,Nn=Sn*$t,Bo=Math.max(de.current,Math.min(Re.current,At+2*Nn));if(!oe&&f&&ce>0&&At+Nn<de.current/2)return ue(),f(),ht;var Zn=oe?f||de.current!==Re.current?Tl(At,f?0:de.current,Re.current,.55):At<de.current?Tl(At,de.current,2*Re.current,.55):Tl(At,de.current/2,Re.current,.55):Bo;return k&&le?(Zn>=Re.current&&(Zn=Re.current),ht===Re.current&&me.current.scrollTop>0&&(Zn=Re.current),Ze.current=Zn<Re.current):Ze.current=!1,ye&&pn("DRAG"),et?(pn("SNAP",{payload:{y:Zn,velocity:$t>.05?$t:1,source:"dragging"}}),ht):(ne({y:Zn,ready:1,maxHeight:Q.current,maxSnap:Re.current,minSnap:de.current,immediate:!0,config:{velocity:$t}}),ht)},{filterTaps:!0});if(Number.isNaN(Re.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(de.current))throw new TypeError("minSnapRef is NaN!!");var jo=function(_){var R,N=_.spring,G=Qo([N.y,N.maxHeight],function(oe,ye){return Math.round(Ma(ye-oe,0,16))+"px"}),Y=Qo([N.y,N.minSnap,N.maxSnap],function(oe,ye,et){return Ma(oe,ye,et)+"px"}),X=Qo([N.y,N.minSnap,N.maxSnap],function(oe,ye,et){return oe<ye?ye-oe+"px":oe>et?et-oe+"px":"0px"}),le=Qo([N.y,N.maxSnap],function(oe,ye){return oe>=ye?Math.ceil(oe-ye):0}),ue=Qo([N.y,N.minSnap],function(oe,ye){if(!ye)return 0;var et=Math.max(ye/2-45,0);return Ma((oe-et)*(1/(Math.min(ye/2+45,ye)-et)+0),0,1)}),ce=Qo([N.y,N.minSnap],function(oe,ye){return ye?Ma(oe/ye,0,1):0});return(R={})["--rsbs-content-opacity"]=ue,R["--rsbs-backdrop-opacity"]=ce,R["--rsbs-antigap-scale-y"]=le,R["--rsbs-overlay-translate-y"]=X,R["--rsbs-overlay-rounded"]=G,R["--rsbs-overlay-h"]=Y,R}({spring:j});return ve.createElement(q5.div,sn({},V,{"data-rsbs-root":!0,"data-rsbs-state":C8.find(Ki.matches),"data-rsbs-is-blocking":p,"data-rsbs-is-dismissable":!!f,"data-rsbs-has-header":!!s,"data-rsbs-has-footer":!!o,className:i,ref:Z,style:sn({},jo,I,{opacity:j.ready})}),r,p&&ve.createElement("div",sn({key:"backdrop","data-rsbs-backdrop":!0},ni({closeOnTap:!0}))),ve.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:Ve,onKeyDown:function(_){_.key==="Escape"&&(_.stopPropagation(),f&&f())}},s!==!1&&ve.createElement("div",sn({key:"header","data-rsbs-header":!0,ref:pe},ni()),s),ve.createElement("div",sn({key:"scroll","data-rsbs-scroll":!0,ref:me},k?ni({isContentDragging:!0}):{}),ve.createElement("div",{"data-rsbs-content":!0,ref:Se},n)),o&&ve.createElement("div",sn({key:"footer",ref:De,"data-rsbs-footer":!0},ni()),o)))}),C8=["closed","opening","open","closing","dragging","snapping","resizing"];function P8(t){var e=t.lastSnap;return e??Math.min.apply(Math,t.snapPoints)}function k8(t){return t.minHeight}var N8=["onSpringStart","onSpringEnd","skipInitialTransition"],D8=A.forwardRef(function(t,e){var n=t.onSpringStart,r=t.onSpringEnd,i=t.skipInitialTransition,o=vf(t,N8),s=A.useState(!1),a=s[0],l=s[1],u=A.useRef(),c=A.useRef(null),f=A.useRef(i&&o.open?"OPEN":"CLOSED");xl(function(){if(o.open)return cancelAnimationFrame(u.current),l(!0),function(){f.current="CLOSED"}},[o.open]);var d=A.useCallback(function(m){return Promise.resolve(n==null?void 0:n(m)).then(function(){m.type==="OPEN"&&cancelAnimationFrame(u.current)})},[n]),h=A.useCallback(function(m){return Promise.resolve(r==null?void 0:r(m)).then(function(){m.type==="CLOSE"&&(u.current=requestAnimationFrame(function(){return l(!1)}))})},[r]);return a?ve.createElement(eB,{"data-rsbs-portal":!0},ve.createElement(I8,sn({},o,{lastSnapRef:c,ref:e,initialState:f.current,onSpringStart:d,onSpringEnd:h}))):null});const CC=t=>{const n=new Date(t.createdAt.seconds*1e3+t.createdAt.nanoseconds/1e6),i=new Date-n,o=Math.floor(i/(1e3*60));let s;return o/60>=24?s=`${Math.floor(o/60/24)} `:o>=60?s=`${Math.floor(o/60)} `:s=`${o} `,s},V8=t=>U.jsx("div",{children:t.data.map((e,n)=>U.jsxs("div",{className:"flex items-center my-3 mx-2",children:[U.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),U.jsxs("div",{children:[U.jsxs("div",{className:"flex",children:[U.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:"nickname"}),U.jsx("div",{className:"ml-2 text-[14px]",children:e.commentContent})]}),U.jsx("div",{className:"flex",children:U.jsx("div",{className:"ml-2 text-[11px]",children:CC(e)})})]})]},n))});var Hu=t=>t.type==="checkbox",gs=t=>t instanceof Date,gn=t=>t==null;const PC=t=>typeof t=="object";var Mt=t=>!gn(t)&&!Array.isArray(t)&&PC(t)&&!gs(t),L8=t=>Mt(t)&&t.target?Hu(t.target)?t.target.checked:t.target.value:t,O8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,M8=(t,e)=>t.has(O8(e)),$8=t=>{const e=t.constructor&&t.constructor.prototype;return Mt(e)&&e.hasOwnProperty("isPrototypeOf")},Z0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Z0&&(t instanceof Blob||t instanceof FileList))&&(n||Mt(t)))if(e=n?[]:{},!n&&!$8(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Bn(t[r]));else return t;return e}var Wu=t=>Array.isArray(t)?t.filter(Boolean):[],xt=t=>t===void 0,ge=(t,e,n)=>{if(!e||!Mt(t))return n;const r=Wu(e.split(/[,[\].]+?/)).reduce((i,o)=>gn(i)?i:i[o],t);return xt(r)||r===t?xt(t[e])?n:t[e]:r},Ur=t=>typeof t=="boolean";const YS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ar={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Mr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ve.createContext(null);var F8=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==ar.all&&(e._proxyFormState[s]=!r||ar.all),n&&(n[s]=!0),t[s]}});return i},Hn=t=>Mt(t)&&!Object.keys(t).length,U8=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return Hn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!r||ar.all))},um=t=>Array.isArray(t)?t:[t];function j8(t){const e=ve.useRef(t);e.current=t,ve.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Sr=t=>typeof t=="string",B8=(t,e,n,r,i)=>Sr(t)?(r&&e.watch.add(t),ge(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),ge(n,o))):(r&&(e.watchAll=!0),n),e_=t=>/^\w*$/.test(t),kC=t=>Wu(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(t,e,n)=>{let r=-1;const i=e_(e)?[e]:kC(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=t[a];l=Mt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},z8=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},XS=t=>({isOnSubmit:!t||t===ar.onSubmit,isOnBlur:t===ar.onBlur,isOnChange:t===ar.onChange,isOnAll:t===ar.all,isOnTouch:t===ar.onTouched}),JS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Il=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=ge(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)break;if(s.ref&&e(s.ref,s.name)&&!r)break;Il(a,e)}else Mt(a)&&Il(a,e)}}};var H8=(t,e,n)=>{const r=Wu(ge(t,n));return pt(r,"root",e[n]),pt(t,n,r),t},t_=t=>t.type==="file",_i=t=>typeof t=="function",bd=t=>{if(!Z0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},yf=t=>Sr(t),n_=t=>t.type==="radio",Ad=t=>t instanceof RegExp;const ZS={value:!1,isValid:!1},e1={value:!0,isValid:!0};var NC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!xt(t[0].attributes.value)?xt(t[0].value)||t[0].value===""?e1:{value:t[0].value,isValid:!0}:e1:ZS}return ZS};const t1={isValid:!1,value:null};var DC=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,t1):t1;function n1(t,e,n="validate"){if(yf(t)||Array.isArray(t)&&t.every(yf)||Ur(t)&&!t)return{type:n,message:yf(t)?t:"",ref:e}}var Xo=t=>Mt(t)&&!Ad(t)?t:{value:t,message:""},r1=async(t,e,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:f,pattern:d,validate:h,name:m,valueAsNumber:y,mount:T,disabled:g}=t._f,p=ge(e,m);if(!T||g)return{};const v=s?s[0]:o,b=k=>{r&&v.reportValidity&&(v.setCustomValidity(Ur(k)?"":k||""),v.reportValidity())},I={},E=n_(o),S=Hu(o),P=E||S,M=(y||t_(o))&&xt(o.value)&&xt(p)||bd(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,L=z8.bind(null,m,n,I),B=(k,V,W,te=Mr.maxLength,Ee=Mr.minLength)=>{const we=k?V:W;I[m]={type:k?te:Ee,message:we,ref:o,...L(k?te:Ee,we)}};if(i?!Array.isArray(p)||!p.length:a&&(!P&&(M||gn(p))||Ur(p)&&!p||S&&!NC(s).isValid||E&&!DC(s).isValid)){const{value:k,message:V}=yf(a)?{value:!!a,message:a}:Xo(a);if(k&&(I[m]={type:Mr.required,message:V,ref:v,...L(Mr.required,V)},!n))return b(V),I}if(!M&&(!gn(c)||!gn(f))){let k,V;const W=Xo(f),te=Xo(c);if(!gn(p)&&!isNaN(p)){const Ee=o.valueAsNumber||p&&+p;gn(W.value)||(k=Ee>W.value),gn(te.value)||(V=Ee<te.value)}else{const Ee=o.valueAsDate||new Date(p),we=C=>new Date(new Date().toDateString()+" "+C),z=o.type=="time",$=o.type=="week";Sr(W.value)&&p&&(k=z?we(p)>we(W.value):$?p>W.value:Ee>new Date(W.value)),Sr(te.value)&&p&&(V=z?we(p)<we(te.value):$?p<te.value:Ee<new Date(te.value))}if((k||V)&&(B(!!k,W.message,te.message,Mr.max,Mr.min),!n))return b(I[m].message),I}if((l||u)&&!M&&(Sr(p)||i&&Array.isArray(p))){const k=Xo(l),V=Xo(u),W=!gn(k.value)&&p.length>+k.value,te=!gn(V.value)&&p.length<+V.value;if((W||te)&&(B(W,k.message,V.message),!n))return b(I[m].message),I}if(d&&!M&&Sr(p)){const{value:k,message:V}=Xo(d);if(Ad(k)&&!p.match(k)&&(I[m]={type:Mr.pattern,message:V,ref:o,...L(Mr.pattern,V)},!n))return b(V),I}if(h){if(_i(h)){const k=await h(p,e),V=n1(k,v);if(V&&(I[m]={...V,...L(Mr.validate,V.message)},!n))return b(V.message),I}else if(Mt(h)){let k={};for(const V in h){if(!Hn(k)&&!n)break;const W=n1(await h[V](p,e),v,V);W&&(k={...W,...L(V,W.message)},b(W.message),n&&(I[m]=k))}if(!Hn(k)&&(I[m]={ref:v,...k},!n))return I}}return b(!0),I};function W8(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=xt(t)?r++:t[e[r++]];return t}function q8(t){for(const e in t)if(t.hasOwnProperty(e)&&!xt(t[e]))return!1;return!0}function Wt(t,e){const n=Array.isArray(e)?e:e_(e)?[e]:kC(e),r=n.length===1?t:W8(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Mt(r)&&Hn(r)||Array.isArray(r)&&q8(r))&&Wt(t,n.slice(0,-1)),t}var cm=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},xd=t=>gn(t)||!PC(t);function uo(t,e){if(xd(t)||xd(e))return t===e;if(gs(t)&&gs(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(gs(o)&&gs(s)||Mt(o)&&Mt(s)||Array.isArray(o)&&Array.isArray(s)?!uo(o,s):o!==s)return!1}}return!0}var VC=t=>t.type==="select-multiple",G8=t=>n_(t)||Hu(t),fm=t=>bd(t)&&t.isConnected,LC=t=>{for(const e in t)if(_i(t[e]))return!0;return!1};function Id(t,e={}){const n=Array.isArray(t);if(Mt(t)||n)for(const r in t)Array.isArray(t[r])||Mt(t[r])&&!LC(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Id(t[r],e[r])):gn(t[r])||(e[r]=!0);return e}function OC(t,e,n){const r=Array.isArray(t);if(Mt(t)||r)for(const i in t)Array.isArray(t[i])||Mt(t[i])&&!LC(t[i])?xt(e)||xd(n[i])?n[i]=Array.isArray(t[i])?Id(t[i],[]):{...Id(t[i])}:OC(t[i],gn(e)?{}:e[i],n[i]):n[i]=!uo(t[i],e[i]);return n}var dm=(t,e)=>OC(t,e,Id(e)),MC=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>xt(t)?t:e?t===""?NaN:t&&+t:n&&Sr(t)?new Date(t):r?r(t):t;function hm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return t_(e)?e.files:n_(e)?DC(t.refs).value:VC(e)?[...e.selectedOptions].map(({value:n})=>n):Hu(e)?NC(t.refs).value:MC(xt(e.value)?t.ref.value:e.value,t)}var K8=(t,e,n,r)=>{const i={};for(const o of t){const s=ge(e,o);s&&pt(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},$a=t=>xt(t)?t:Ad(t)?t.source:Mt(t)?Ad(t.value)?t.value.source:t.value:t,Q8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function i1(t,e,n){const r=ge(t,n);if(r||e_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=ge(e,o),a=ge(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var Y8=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,X8=(t,e)=>!Wu(ge(t,e)).length&&Wt(t,e);const J8={mode:ar.onSubmit,reValidateMode:ar.onChange,shouldFocusError:!0};function Z8(t={},e){let n={...J8,...t},r={submitCount:0,isDirty:!1,isLoading:_i(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=Mt(n.defaultValues)||Mt(n.values)?Bn(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:Bn(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:cm(),array:cm(),state:cm()},h=XS(n.mode),m=XS(n.reValidateMode),y=n.criteriaMode===ar.all,T=x=>D=>{clearTimeout(c),c=setTimeout(x,D)},g=async x=>{if(f.isValid||x){const D=n.resolver?Hn((await M()).errors):await B(i,!0);D!==r.isValid&&d.state.next({isValid:D})}},p=x=>f.isValidating&&d.state.next({isValidating:x}),v=(x,D=[],F,re,ee=!0,Q=!0)=>{if(re&&F){if(a.action=!0,Q&&Array.isArray(ge(i,x))){const de=F(ge(i,x),re.argA,re.argB);ee&&pt(i,x,de)}if(Q&&Array.isArray(ge(r.errors,x))){const de=F(ge(r.errors,x),re.argA,re.argB);ee&&pt(r.errors,x,de),X8(r.errors,x)}if(f.touchedFields&&Q&&Array.isArray(ge(r.touchedFields,x))){const de=F(ge(r.touchedFields,x),re.argA,re.argB);ee&&pt(r.touchedFields,x,de)}f.dirtyFields&&(r.dirtyFields=dm(o,s)),d.state.next({name:x,isDirty:V(x,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pt(s,x,D)},b=(x,D)=>{pt(r.errors,x,D),d.state.next({errors:r.errors})},I=x=>{r.errors=x,d.state.next({errors:r.errors,isValid:!1})},E=(x,D,F,re)=>{const ee=ge(i,x);if(ee){const Q=ge(s,x,xt(F)?ge(o,x):F);xt(Q)||re&&re.defaultChecked||D?pt(s,x,D?Q:hm(ee._f)):Ee(x,Q),a.mount&&g()}},S=(x,D,F,re,ee)=>{let Q=!1,de=!1;const Re={name:x},it=!!(ge(i,x)&&ge(i,x)._f.disabled);if(!F||re){f.isDirty&&(de=r.isDirty,r.isDirty=Re.isDirty=V(),Q=de!==Re.isDirty);const vt=it||uo(ge(o,x),D);de=!!(!it&&ge(r.dirtyFields,x)),vt||it?Wt(r.dirtyFields,x):pt(r.dirtyFields,x,!0),Re.dirtyFields=r.dirtyFields,Q=Q||f.dirtyFields&&de!==!vt}if(F){const vt=ge(r.touchedFields,x);vt||(pt(r.touchedFields,x,F),Re.touchedFields=r.touchedFields,Q=Q||f.touchedFields&&vt!==F)}return Q&&ee&&d.state.next(Re),Q?Re:{}},P=(x,D,F,re)=>{const ee=ge(r.errors,x),Q=f.isValid&&Ur(D)&&r.isValid!==D;if(t.delayError&&F?(u=T(()=>b(x,F)),u(t.delayError)):(clearTimeout(c),u=null,F?pt(r.errors,x,F):Wt(r.errors,x)),(F?!uo(ee,F):ee)||!Hn(re)||Q){const de={...re,...Q&&Ur(D)?{isValid:D}:{},errors:r.errors,name:x};r={...r,...de},d.state.next(de)}p(!1)},M=async x=>n.resolver(s,n.context,K8(x||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),L=async x=>{const{errors:D}=await M(x);if(x)for(const F of x){const re=ge(D,F);re?pt(r.errors,F,re):Wt(r.errors,F)}else r.errors=D;return D},B=async(x,D,F={valid:!0})=>{for(const re in x){const ee=x[re];if(ee){const{_f:Q,...de}=ee;if(Q){const Re=l.array.has(Q.name),it=await r1(ee,s,y,n.shouldUseNativeValidation&&!D,Re);if(it[Q.name]&&(F.valid=!1,D))break;!D&&(ge(it,Q.name)?Re?H8(r.errors,it,Q.name):pt(r.errors,Q.name,it[Q.name]):Wt(r.errors,Q.name))}de&&await B(de,D,F)}}return F.valid},k=()=>{for(const x of l.unMount){const D=ge(i,x);D&&(D._f.refs?D._f.refs.every(F=>!fm(F)):!fm(D._f.ref))&&me(x)}l.unMount=new Set},V=(x,D)=>(x&&D&&pt(s,x,D),!uo(w(),o)),W=(x,D,F)=>B8(x,l,{...a.mount?s:xt(D)?o:Sr(x)?{[x]:D}:D},F,D),te=x=>Wu(ge(a.mount?s:o,x,t.shouldUnregister?ge(o,x,[]):[])),Ee=(x,D,F={})=>{const re=ge(i,x);let ee=D;if(re){const Q=re._f;Q&&(!Q.disabled&&pt(s,x,MC(D,Q)),ee=bd(Q.ref)&&gn(D)?"":D,VC(Q.ref)?[...Q.ref.options].forEach(de=>de.selected=ee.includes(de.value)):Q.refs?Hu(Q.ref)?Q.refs.length>1?Q.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(ee)?!!ee.find(Re=>Re===de.value):ee===de.value)):Q.refs[0]&&(Q.refs[0].checked=!!ee):Q.refs.forEach(de=>de.checked=de.value===ee):t_(Q.ref)?Q.ref.value="":(Q.ref.value=ee,Q.ref.type||d.values.next({name:x,values:{...s}})))}(F.shouldDirty||F.shouldTouch)&&S(x,ee,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&q(x)},we=(x,D,F)=>{for(const re in D){const ee=D[re],Q=`${x}.${re}`,de=ge(i,Q);(l.array.has(x)||!xd(ee)||de&&!de._f)&&!gs(ee)?we(Q,ee,F):Ee(Q,ee,F)}},z=(x,D,F={})=>{const re=ge(i,x),ee=l.array.has(x),Q=Bn(D);pt(s,x,Q),ee?(d.array.next({name:x,values:{...s}}),(f.isDirty||f.dirtyFields)&&F.shouldDirty&&d.state.next({name:x,dirtyFields:dm(o,s),isDirty:V(x,Q)})):re&&!re._f&&!gn(Q)?we(x,Q,F):Ee(x,Q,F),JS(x,l)&&d.state.next({...r}),d.values.next({name:x,values:{...s}}),!a.mount&&e()},$=async x=>{const D=x.target;let F=D.name,re=!0;const ee=ge(i,F),Q=()=>D.type?hm(ee._f):L8(x),de=Re=>{re=Number.isNaN(Re)||Re===ge(s,F,Re)};if(ee){let Re,it;const vt=Q(),dt=x.type===YS.BLUR||x.type===YS.FOCUS_OUT,Uo=!Q8(ee._f)&&!n.resolver&&!ge(r.errors,F)&&!ee._f.deps||Y8(dt,ge(r.touchedFields,F),r.isSubmitted,m,h),Ki=JS(F,l,dt);pt(s,F,vt),dt?(ee._f.onBlur&&ee._f.onBlur(x),u&&u(0)):ee._f.onChange&&ee._f.onChange(x);const pn=S(F,vt,dt,!1),ni=!Hn(pn)||Ki;if(!dt&&d.values.next({name:F,type:x.type,values:{...s}}),Uo)return f.isValid&&g(),ni&&d.state.next({name:F,...Ki?{}:pn});if(!dt&&Ki&&d.state.next({...r}),p(!0),n.resolver){const{errors:jo}=await M([F]);if(de(vt),re){const _=i1(r.errors,i,F),R=i1(jo,i,_.name||F);Re=R.error,F=R.name,it=Hn(jo)}}else Re=(await r1(ee,s,y,n.shouldUseNativeValidation))[F],de(vt),re&&(Re?it=!1:f.isValid&&(it=await B(i,!0)));re&&(ee._f.deps&&q(ee._f.deps),P(F,it,Re,pn))}},C=(x,D)=>{if(ge(r.errors,D)&&x.focus)return x.focus(),1},q=async(x,D={})=>{let F,re;const ee=um(x);if(p(!0),n.resolver){const Q=await L(xt(x)?x:ee);F=Hn(Q),re=x?!ee.some(de=>ge(Q,de)):F}else x?(re=(await Promise.all(ee.map(async Q=>{const de=ge(i,Q);return await B(de&&de._f?{[Q]:de}:de)}))).every(Boolean),!(!re&&!r.isValid)&&g()):re=F=await B(i);return d.state.next({...!Sr(x)||f.isValid&&F!==r.isValid?{}:{name:x},...n.resolver||!x?{isValid:F}:{},errors:r.errors,isValidating:!1}),D.shouldFocus&&!re&&Il(i,C,x?ee:l.mount),re},w=x=>{const D={...o,...a.mount?s:{}};return xt(x)?D:Sr(x)?ge(D,x):x.map(F=>ge(D,F))},O=(x,D)=>({invalid:!!ge((D||r).errors,x),isDirty:!!ge((D||r).dirtyFields,x),isTouched:!!ge((D||r).touchedFields,x),error:ge((D||r).errors,x)}),j=x=>{x&&um(x).forEach(D=>Wt(r.errors,D)),d.state.next({errors:x?r.errors:{}})},ne=(x,D,F)=>{const re=(ge(i,x,{_f:{}})._f||{}).ref;pt(r.errors,x,{...D,ref:re}),d.state.next({name:x,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&re&&re.focus&&re.focus()},Z=(x,D)=>_i(x)?d.values.subscribe({next:F=>x(W(void 0,D),F)}):W(x,D,!0),me=(x,D={})=>{for(const F of x?um(x):l.mount)l.mount.delete(F),l.array.delete(F),D.keepValue||(Wt(i,F),Wt(s,F)),!D.keepError&&Wt(r.errors,F),!D.keepDirty&&Wt(r.dirtyFields,F),!D.keepTouched&&Wt(r.touchedFields,F),!n.shouldUnregister&&!D.keepDefaultValue&&Wt(o,F);d.values.next({values:{...s}}),d.state.next({...r,...D.keepDirty?{isDirty:V()}:{}}),!D.keepIsValid&&g()},Se=({disabled:x,name:D,field:F,fields:re,value:ee})=>{if(Ur(x)){const Q=x?void 0:xt(ee)?hm(F?F._f:ge(re,D)._f):ee;pt(s,D,Q),S(D,Q,!1,!1,!0)}},pe=(x,D={})=>{let F=ge(i,x);const re=Ur(D.disabled);return pt(i,x,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:x}},name:x,mount:!0,...D}}),l.mount.add(x),F?Se({field:F,disabled:D.disabled,name:x,value:D.value}):E(x,!0,D.value),{...re?{disabled:D.disabled}:{},...n.progressive?{required:!!D.required,min:$a(D.min),max:$a(D.max),minLength:$a(D.minLength),maxLength:$a(D.maxLength),pattern:$a(D.pattern)}:{},name:x,onChange:$,onBlur:$,ref:ee=>{if(ee){pe(x,D),F=ge(i,x);const Q=xt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,de=G8(Q),Re=F._f.refs||[];if(de?Re.find(it=>it===Q):Q===F._f.ref)return;pt(i,x,{_f:{...F._f,...de?{refs:[...Re.filter(fm),Q,...Array.isArray(ge(o,x))?[{}]:[]],ref:{type:Q.type,name:x}}:{ref:Q}}}),E(x,!1,void 0,Q)}else F=ge(i,x,{}),F._f&&(F._f.mount=!1),(n.shouldUnregister||D.shouldUnregister)&&!(M8(l.array,x)&&a.action)&&l.unMount.add(x)}}},De=()=>n.shouldFocusError&&Il(i,C,l.mount),Ve=x=>{Ur(x)&&(d.state.next({disabled:x}),Il(i,(D,F)=>{let re=x;const ee=ge(i,F);ee&&Ur(ee._f.disabled)&&(re||(re=ee._f.disabled)),D.disabled=re},0,!1))},Te=(x,D)=>async F=>{F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let re=Bn(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:ee,values:Q}=await M();r.errors=ee,re=Q}else await B(i);Wt(r.errors,"root"),Hn(r.errors)?(d.state.next({errors:{}}),await x(re,F)):(D&&await D({...r.errors},F),De(),setTimeout(De)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Pe=(x,D={})=>{ge(i,x)&&(xt(D.defaultValue)?z(x,Bn(ge(o,x))):(z(x,D.defaultValue),pt(o,x,Bn(D.defaultValue))),D.keepTouched||Wt(r.touchedFields,x),D.keepDirty||(Wt(r.dirtyFields,x),r.isDirty=D.defaultValue?V(x,Bn(ge(o,x))):V()),D.keepError||(Wt(r.errors,x),f.isValid&&g()),d.state.next({...r}))},Ze=(x,D={})=>{const F=x?Bn(x):o,re=Bn(F),ee=x&&!Hn(x)?re:o;if(D.keepDefaultValues||(o=F),!D.keepValues){if(D.keepDirtyValues)for(const Q of l.mount)ge(r.dirtyFields,Q)?pt(ee,Q,ge(s,Q)):z(Q,ge(ee,Q));else{if(Z0&&xt(x))for(const Q of l.mount){const de=ge(i,Q);if(de&&de._f){const Re=Array.isArray(de._f.refs)?de._f.refs[0]:de._f.ref;if(bd(Re)){const it=Re.closest("form");if(it){it.reset();break}}}}i={}}s=t.shouldUnregister?D.keepDefaultValues?Bn(o):{}:Bn(ee),d.array.next({values:{...ee}}),d.values.next({values:{...ee}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!D.keepIsValid,a.watch=!!t.shouldUnregister,d.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!uo(x,o)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:D.keepDirtyValues?r.dirtyFields:D.keepDefaultValues&&x?dm(o,x):{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ke=(x,D)=>Ze(_i(x)?x(s):x,D);return{control:{register:pe,unregister:me,getFieldState:O,handleSubmit:Te,setError:ne,_executeSchema:M,_getWatch:W,_getDirty:V,_updateValid:g,_removeUnmounted:k,_updateFieldArray:v,_updateDisabledField:Se,_getFieldArray:te,_reset:Ze,_resetDefaultValues:()=>_i(n.defaultValues)&&n.defaultValues().then(x=>{ke(x,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:x=>{r={...r,...x}},_disableForm:Ve,_subjects:d,_proxyFormState:f,_setErrors:I,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(x){a=x},get _defaultValues(){return o},get _names(){return l},set _names(x){l=x},get _formState(){return r},set _formState(x){r=x},get _options(){return n},set _options(x){n={...n,...x}}},trigger:q,register:pe,handleSubmit:Te,watch:Z,setValue:z,getValues:w,reset:ke,resetField:Pe,clearErrors:j,unregister:me,setError:ne,setFocus:(x,D={})=>{const F=ge(i,x),re=F&&F._f;if(re){const ee=re.refs?re.refs[0]:re.ref;ee.focus&&(ee.focus(),D.shouldSelect&&ee.select())}},getFieldState:O}}function e7(t={}){const e=ve.useRef(),n=ve.useRef(),[r,i]=ve.useState({isDirty:!1,isValidating:!1,isLoading:_i(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:_i(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Z8(t,()=>i(s=>({...s}))),formState:r});const o=e.current.control;return o._options=t,j8({subject:o._subjects.state,next:s=>{U8(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),ve.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),ve.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),ve.useEffect(()=>{t.values&&!uo(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),ve.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),ve.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=F8(r,o),e.current}function t7(t){return Ui({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M169.64,134.33l44.77-19.46A16,16,0,0,0,213,85.07L52.92,32.8A16,16,0,0,0,32.8,52.92L85.07,213a15.83,15.83,0,0,0,14.41,11l.79,0a15.83,15.83,0,0,0,14.6-9.59h0l19.46-44.77L184,219.31a16,16,0,0,0,22.63,0l12.68-12.68a16,16,0,0,0,0-22.63Zm-69.48,73.76.06-.05Zm95.15-.09-49.66-49.67a16,16,0,0,0-26,4.94l-19.42,44.65L48,48l159.87,52.21-44.64,19.41a16,16,0,0,0-4.94,26L208,195.31ZM88,24V16a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0ZM8,96a8,8,0,0,1,8-8h8a8,8,0,0,1,0,16H16A8,8,0,0,1,8,96ZM120.85,28.42l8-16a8,8,0,0,1,14.31,7.16l-8,16a8,8,0,1,1-14.31-7.16Zm-81.69,96a8,8,0,0,1-3.58,10.74l-16,8a8,8,0,0,1-7.16-14.31l16-8A8,8,0,0,1,39.16,124.42Z"}}]})(t)}const{persistAtom:n7}=B0(),r7=async t=>{const e=Vr(Lr,"posts"),n=qi(e,Jn("postId","==",t),Mj(1));return(await qh(n)).docs.map(o=>o.data())},i7=t=>{const e=Vr(Lr,"comments"),n=qi(e,Jn("postId","==",t),Oj("createdAt","desc"));return new Promise((r,i)=>{Gh(n,o=>{const s=o.docs.map(a=>({...a.data()}));localStorage.setItem("comment",JSON.stringify(s)),r(s)},o=>{i(o)})})},o7=async t=>{try{const e=Vr(Lr,"comments"),r=(await F0(e,{commentContent:t.commentContent,postId:t.postId,origin_commentId:t.originCommentId,userId:t.userId,createdAt:new Date})).id;await AI(b0(e,r),{commentId:r})}catch(e){console.log(e)}},s7=Dr({key:"postState",default:async t=>await r7(t)}),a7=Dr({key:"commentState",default:async t=>await i7(t),effects:[({setSelf:t,onSet:e})=>{const n="comment",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),l7=Dr({key:"setCommentState",default:async t=>await o7(t)}),gv=Qb({key:"postIdState",default:"null",effects_UNSTABLE:[n7]}),$C=()=>{const[t]=gi(gv),[e,n]=A.useState(!1),[r,i]=A.useState(""),[o,s]=A.useState(""),[a,l]=A.useState(""),[u,c]=A.useState(Array(1e3).fill(!1)),{formState:{isSubmitting:f},handleSubmit:d,reset:h,register:m,setValue:y}=e7(),T=(E,S)=>{s(E),l(S)},g=()=>Jg(""),p=()=>{h();const S={userId:1,commentContent:r.trim(),postId:t,originCommentId:a!=""?a:"null"};n(!0),l7(S),g(),setTimeout(()=>{n(!1),y("comment","")},200),s(""),l("")},[v,b]=i4(a7(t));if(v.state==="loading")return U.jsx("div",{children:" ..."});if(v.state==="hasError")return U.jsx("div",{children:" ."});const I=v.contents;return A.useEffect(()=>{setTimeout(()=>{const E=localStorage.getItem("comment");b(JSON.parse(E))},5e3)}),U.jsxs("div",{className:"font-pretendard",children:[I.map((E,S)=>U.jsx("div",{children:E.origin_commentId!="null"?"":U.jsxs("div",{children:[U.jsxs("div",{className:"flex items-center my-3 mx-2",children:[U.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),U.jsxs("div",{children:[U.jsxs("div",{className:"flex",children:[U.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:"nickname"}),U.jsx("div",{className:"ml-2 text-[14px]",children:E.commentContent})]}),U.jsxs("div",{className:"flex",children:[U.jsx("div",{className:"ml-2 text-[11px]",children:CC(E)}),U.jsx("div",{className:"ml-2 text-[11px]",onClick:()=>T(E.userId,E.commentId),children:" "})]})]})]}),U.jsxs("div",{className:"ml-12 text-[11px]  w-fit",onClick:()=>{const P=[...u];P[S]=!P[S],c(P)},children:[U.jsx("div",{className:"text-gray-500 cursor-pointer hover:text-black",children:I.filter(P=>P.origin_commentId===E.commentId).length>0?u[S]?" ":` ${I.filter(P=>P.origin_commentId===E.commentId).length}  `:""}),u[S]&&U.jsx(V8,{data:I.filter(P=>P.origin_commentId===E.commentId)})]})]})},E.commentId)),o&&U.jsx("div",{className:"fixed bottom-12 left-0 right-0 p-4",children:U.jsxs("div",{className:"bg-white border w-fit p-1 rounded-3xl text-[14px] text-gray-500",onClick:()=>s(""),children:[o," X"]})}),U.jsx("form",{onSubmit:d(p),children:U.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 flex justify-center",children:[U.jsx("textarea",{...m("comment"),placeholder:" .",name:"",id:"comment",cols:30,rows:1,onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),d(p)())},onChange:E=>i(E.target.value),required:!0,className:"border border-solid border-gray-500 p-2 rounded-xl focus:outline-none mr-2 w-full"}),U.jsxs("button",{type:"submit",disabled:f,className:`bg-black text-white py-2 px-4 rounded-full ${e&&r.trim()!==""?"bg-slate-500":""}`,onClick:()=>r.trim()==""?n(!0):"",children:[U.jsx(t7,{}),U.jsx(kI,{position:"bottom-center",toastOptions:{style:{border:"2px solid #FFFFFF",padding:"10px",color:"#FFFFFF",height:"8px",width:"fit",fontSize:"12px",background:"black"}}})]})]})})]})},u7=t=>{const[e,n]=A.useState(!1),[r,i]=A.useState(!0),[o,s]=A.useState(0),a=o===0,l=o===t.data.imageUrlList.length-1,[u,c]=A.useState(!1),f=()=>{c(!u)},[d,h]=A.useState(!1),m=()=>{h(!d)},y=()=>{h(!1)},T=()=>Jg(""),g=()=>Jg(""),p=()=>{try{e?(Xj(P),g()):(Jj(P),T()),n(!e)}catch(W){console.error("Error:",W)}},v=()=>{try{r?(G6(k),g()):(q6(k),T()),i(!r)}catch(W){console.error("Error:",W)}};A.useEffect(()=>{setTimeout(()=>{const W=localStorage.getItem("like"),te=localStorage.getItem("userLike");te==null?L(1):L(JSON.parse(te)),S(JSON.parse(W));const Ee=localStorage.getItem("following");V(Ee?JSON.parse(Ee):null)},5e3)});const b=()=>{const W=(o+1)%t.data.imageUrlList.length;s(W)},I=()=>{const W=(o-1+t.data.imageUrlList.length)%t.data.imageUrlList.length;s(W)},[E,S]=gi(Zj(t.data.postId)),P={postId:t.data&&t.data.postId,userId:t.data&&t.data.userId},[M,L]=gi(Yj(P));M==null&&n(!e);const[B]=gi(NI),k={followingId:B,followerId:t.data.userId},[,V]=gi(K6(k));return U.jsxs("div",{children:[U.jsxs("div",{className:"flex items-center my-3 mx-2",children:[U.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),U.jsx("div",{className:"ml-2 text-[14px] font-bold",children:t.data.userId}),r?U.jsx("div",{className:"ml-2 text-blue-400 text-[14px] ",onClick:v,children:""}):U.jsx("div",{className:"ml-2 text-black text-[14px] ",onClick:v,children:""}),U.jsxs("div",{className:"ml-auto",children:[U.jsx(c2,{onClick:f}),u&&U.jsx(o4,{onOpenModal:f})]})]}),U.jsxs("div",{className:"relative",children:[U.jsx("img",{src:t.data.imageUrlList[o],alt:" ",className:"w-full h-72"}),!a&&U.jsx("button",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 ml-1 text-4xl bg-white rounded-full opacity-70",onClick:I,children:U.jsx(u4,{})}),!l&&U.jsx("button",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 mr-1 text-4xl bg-white rounded-full opacity-70",onClick:b,children:U.jsx(l4,{})})]}),U.jsxs("div",{className:"flex-row ml-3 mt-3",children:[U.jsxs("div",{className:"flex justify-between",children:[U.jsxs("div",{className:"text-[14px] my-1 font-semibold",children:[" ",E==null?"0":E.length,""]}),U.jsxs("div",{className:"mx-2 text-[24px]",onClick:p,children:[U.jsx(kI,{position:"bottom-center",toastOptions:{style:{border:"2px solid #FFFFFF",padding:"10px",color:"#FFFFFF",height:"8px",width:"fit",fontSize:"12px",background:"black"}}}),e?U.jsx(a4,{}):U.jsx(s4,{})]})]}),U.jsxs("div",{className:"flex text-[14px]",children:[U.jsx("div",{className:"font-semibold",children:t.data.userId}),U.jsx("div",{className:"ml-1",children:t.data.postContent})]}),t.data.tagList.map((W,te)=>U.jsxs("span",{className:"text-[14px]",children:["#",W+" "]},te)),U.jsx("div",{className:"text-[13px] text-gray-500 cursor-pointer hover:text-black w-fit ",onClick:m,children:" 1  "}),U.jsx("div",{className:"text-[13px] text-gray-500",children:"1 "})]}),U.jsx(D8,{open:d,onDismiss:y,snapPoints:({minHeight:W,maxHeight:te})=>[W,te/2,te],children:U.jsx($C,{})})]})},c7=()=>{const t=o=>{console.log(JSON.stringify(o));const s=o.postId,a=o.userId;if(s==""||s===null){console.error(" .");return}const[,l]=gi(gv),[,u]=gi(NI);if(a!==null||a!=="")u(a);else{console.error(" .");return}if(s!==null||s!=="")l(s);else{console.error(" .");return}window.postMessage(JSON.stringify(o))};window.addEventListener("fromApptoWeb",()=>{window.callHandler("fromApptoWeb").then(t)});const[e,n]=gi(gv);if(n("NZPl4Cr1fxH54bzJm7Wy"),e==null)return U.jsx("div",{children:" ."});const r=r4(s7(e));if(r.state==="loading")return U.jsx("div",{children:" ..."});if(r.state==="hasError")return U.jsx("div",{children:" ."});const i=r.contents;return r.state==="hasValue"&&n(i[0].postId),U.jsx(A.Suspense,{fallback:"...loading",children:U.jsx("div",{className:"grid-rows-3",children:U.jsx(u7,{data:i[0]})})})};function FC(t){return Ui({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"}}]})(t)}var UC={exports:{}};(function(t,e){(function(n,r){t.exports=r(A)})(BC,n=>(()=>{var r={703:(a,l,u)=>{var c=u(414);function f(){}function d(){}d.resetWarningCache=f,a.exports=function(){function h(T,g,p,v,b,I){if(I!==c){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}function m(){return h}h.isRequired=h;var y={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:m,element:h,elementType:h,instanceOf:m,node:h,objectOf:m,oneOf:m,oneOfType:m,shape:m,exact:m,checkPropTypes:d,resetWarningCache:f};return y.PropTypes=y,y}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,o),u.exports}o.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return o.d(l,{a:l}),l},o.d=(a,l)=>{for(var u in l)o.o(l,u)&&!o.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s={};return(()=>{o.r(s),o.d(s,{default:()=>B});var a=o(98),l=o.n(a),u=o(697),c=o.n(u);function f(){return f=Object.assign?Object.assign.bind():function(k){for(var V=1;V<arguments.length;V++){var W=arguments[V];for(var te in W)Object.prototype.hasOwnProperty.call(W,te)&&(k[te]=W[te])}return k},f.apply(this,arguments)}var d=function(k){var V=k.pageClassName,W=k.pageLinkClassName,te=k.page,Ee=k.selected,we=k.activeClassName,z=k.activeLinkClassName,$=k.getEventListener,C=k.pageSelectedHandler,q=k.href,w=k.extraAriaContext,O=k.pageLabelBuilder,j=k.rel,ne=k.ariaLabel||"Page "+te+(w?" "+w:""),Z=null;return Ee&&(Z="page",ne=k.ariaLabel||"Page "+te+" is your current page",V=V!==void 0?V+" "+we:we,W!==void 0?z!==void 0&&(W=W+" "+z):W=z),l().createElement("li",{className:V},l().createElement("a",f({rel:j,role:q?void 0:"button",className:W,href:q,tabIndex:Ee?"-1":"0","aria-label":ne,"aria-current":Z,onKeyPress:C},$(C)),O(te)))};d.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const h=d;function m(){return m=Object.assign?Object.assign.bind():function(k){for(var V=1;V<arguments.length;V++){var W=arguments[V];for(var te in W)Object.prototype.hasOwnProperty.call(W,te)&&(k[te]=W[te])}return k},m.apply(this,arguments)}var y=function(k){var V=k.breakLabel,W=k.breakAriaLabel,te=k.breakClassName,Ee=k.breakLinkClassName,we=k.breakHandler,z=k.getEventListener,$=te||"break";return l().createElement("li",{className:$},l().createElement("a",m({className:Ee,role:"button",tabIndex:"0","aria-label":W,onKeyPress:we},z(we)),V))};y.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabel:c().string,breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const T=y;function g(k){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return k??V}function p(k){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},p(k)}function v(){return v=Object.assign?Object.assign.bind():function(k){for(var V=1;V<arguments.length;V++){var W=arguments[V];for(var te in W)Object.prototype.hasOwnProperty.call(W,te)&&(k[te]=W[te])}return k},v.apply(this,arguments)}function b(k,V){for(var W=0;W<V.length;W++){var te=V[W];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(k,te.key,te)}}function I(k,V){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,te){return W.__proto__=te,W},I(k,V)}function E(k,V){if(V&&(p(V)==="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(k)}function S(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function P(k){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},P(k)}function M(k,V,W){return V in k?Object.defineProperty(k,V,{value:W,enumerable:!0,configurable:!0,writable:!0}):k[V]=W,k}var L=function(k){(function($,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(C&&C.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),C&&I($,C)})(z,k);var V,W,te,Ee,we=(te=z,Ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var $,C=P(te);if(Ee){var q=P(this).constructor;$=Reflect.construct(C,arguments,q)}else $=C.apply(this,arguments);return E(this,$)});function z($){var C,q;return function(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}(this,z),M(S(C=we.call(this,$)),"handlePreviousPage",function(w){var O=C.state.selected;C.handleClick(w,null,O>0?O-1:void 0,{isPrevious:!0})}),M(S(C),"handleNextPage",function(w){var O=C.state.selected,j=C.props.pageCount;C.handleClick(w,null,O<j-1?O+1:void 0,{isNext:!0})}),M(S(C),"handlePageSelected",function(w,O){if(C.state.selected===w)return C.callActiveCallback(w),void C.handleClick(O,null,void 0,{isActive:!0});C.handleClick(O,null,w)}),M(S(C),"handlePageChange",function(w){C.state.selected!==w&&(C.setState({selected:w}),C.callCallback(w))}),M(S(C),"getEventListener",function(w){return M({},C.props.eventListener,w)}),M(S(C),"handleClick",function(w,O,j){var ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Z=ne.isPrevious,me=Z!==void 0&&Z,Se=ne.isNext,pe=Se!==void 0&&Se,De=ne.isBreak,Ve=De!==void 0&&De,Te=ne.isActive,Pe=Te!==void 0&&Te;w.preventDefault?w.preventDefault():w.returnValue=!1;var Ze=C.state.selected,ke=C.props.onClick,je=j;if(ke){var $e=ke({index:O,selected:Ze,nextSelectedPage:j,event:w,isPrevious:me,isNext:pe,isBreak:Ve,isActive:Pe});if($e===!1)return;Number.isInteger($e)&&(je=$e)}je!==void 0&&C.handlePageChange(je)}),M(S(C),"handleBreakClick",function(w,O){var j=C.state.selected;C.handleClick(O,w,j<w?C.getForwardJump():C.getBackwardJump(),{isBreak:!0})}),M(S(C),"callCallback",function(w){C.props.onPageChange!==void 0&&typeof C.props.onPageChange=="function"&&C.props.onPageChange({selected:w})}),M(S(C),"callActiveCallback",function(w){C.props.onPageActive!==void 0&&typeof C.props.onPageActive=="function"&&C.props.onPageActive({selected:w})}),M(S(C),"getElementPageRel",function(w){var O=C.state.selected,j=C.props,ne=j.nextPageRel,Z=j.prevPageRel,me=j.selectedPageRel;return O-1===w?Z:O===w?me:O+1===w?ne:void 0}),M(S(C),"pagination",function(){var w=[],O=C.props,j=O.pageRangeDisplayed,ne=O.pageCount,Z=O.marginPagesDisplayed,me=O.breakLabel,Se=O.breakClassName,pe=O.breakLinkClassName,De=O.breakAriaLabels,Ve=C.state.selected;if(ne<=j)for(var Te=0;Te<ne;Te++)w.push(C.getPageElement(Te));else{var Pe=j/2,Ze=j-Pe;Ve>ne-j/2?Pe=j-(Ze=ne-Ve):Ve<j/2&&(Ze=j-(Pe=Ve));var ke,je,$e=function(F){return C.getPageElement(F)},Ge=[];for(ke=0;ke<ne;ke++){var x=ke+1;if(x<=Z)Ge.push({type:"page",index:ke,display:$e(ke)});else if(x>ne-Z)Ge.push({type:"page",index:ke,display:$e(ke)});else if(ke>=Ve-Pe&&ke<=Ve+(Ve===0&&j>1?Ze-1:Ze))Ge.push({type:"page",index:ke,display:$e(ke)});else if(me&&Ge.length>0&&Ge[Ge.length-1].display!==je&&(j>0||Z>0)){var D=ke<Ve?De.backward:De.forward;je=l().createElement(T,{key:ke,breakAriaLabel:D,breakLabel:me,breakClassName:Se,breakLinkClassName:pe,breakHandler:C.handleBreakClick.bind(null,ke),getEventListener:C.getEventListener}),Ge.push({type:"break",index:ke,display:je})}}Ge.forEach(function(F,re){var ee=F;F.type==="break"&&Ge[re-1]&&Ge[re-1].type==="page"&&Ge[re+1]&&Ge[re+1].type==="page"&&Ge[re+1].index-Ge[re-1].index<=2&&(ee={type:"page",index:F.index,display:$e(F.index)}),w.push(ee.display)})}return w}),$.initialPage!==void 0&&$.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat($.initialPage,") and forcePage (").concat($.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),q=$.initialPage?$.initialPage:$.forcePage?$.forcePage:0,C.state={selected:q},C}return V=z,(W=[{key:"componentDidMount",value:function(){var $=this.props,C=$.initialPage,q=$.disableInitialCallback,w=$.extraAriaContext,O=$.pageCount,j=$.forcePage;C===void 0||q||this.callCallback(C),w&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(O)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(O,"). Did you forget a Math.ceil()?")),C!==void 0&&C>O-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(C," > ").concat(O-1,").")),j!==void 0&&j>O-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(j," > ").concat(O-1,")."))}},{key:"componentDidUpdate",value:function($){this.props.forcePage!==void 0&&this.props.forcePage!==$.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger($.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var $=this.state.selected,C=this.props,q=C.pageCount,w=$+C.pageRangeDisplayed;return w>=q?q-1:w}},{key:"getBackwardJump",value:function(){var $=this.state.selected-this.props.pageRangeDisplayed;return $<0?0:$}},{key:"getElementHref",value:function($){var C=this.props,q=C.hrefBuilder,w=C.pageCount,O=C.hrefAllControls;if(q)return O||$>=0&&$<w?q($+1,w,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function($){var C=$===this.state.selected;if(this.props.ariaLabelBuilder&&$>=0&&$<this.props.pageCount){var q=this.props.ariaLabelBuilder($+1,C);return this.props.extraAriaContext&&!C&&(q=q+" "+this.props.extraAriaContext),q}}},{key:"getPageElement",value:function($){var C=this.state.selected,q=this.props,w=q.pageClassName,O=q.pageLinkClassName,j=q.activeClassName,ne=q.activeLinkClassName,Z=q.extraAriaContext,me=q.pageLabelBuilder;return l().createElement(h,{key:$,pageSelectedHandler:this.handlePageSelected.bind(null,$),selected:C===$,rel:this.getElementPageRel($),pageClassName:w,pageLinkClassName:O,activeClassName:j,activeLinkClassName:ne,extraAriaContext:Z,href:this.getElementHref($),ariaLabel:this.ariaLabelBuilder($),page:$+1,pageLabelBuilder:me,getEventListener:this.getEventListener})}},{key:"render",value:function(){var $=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&$!==void 0)return $&&$(this.props);var C=this.props,q=C.disabledClassName,w=C.disabledLinkClassName,O=C.pageCount,j=C.className,ne=C.containerClassName,Z=C.previousLabel,me=C.previousClassName,Se=C.previousLinkClassName,pe=C.previousAriaLabel,De=C.prevRel,Ve=C.nextLabel,Te=C.nextClassName,Pe=C.nextLinkClassName,Ze=C.nextAriaLabel,ke=C.nextRel,je=this.state.selected,$e=je===0,Ge=je===O-1,x="".concat(g(me)).concat($e?" ".concat(g(q)):""),D="".concat(g(Te)).concat(Ge?" ".concat(g(q)):""),F="".concat(g(Se)).concat($e?" ".concat(g(w)):""),re="".concat(g(Pe)).concat(Ge?" ".concat(g(w)):""),ee=$e?"true":"false",Q=Ge?"true":"false";return l().createElement("ul",{className:j||ne,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:x},l().createElement("a",v({className:F,href:this.getElementHref(je-1),tabIndex:$e?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":ee,"aria-label":pe,rel:De},this.getEventListener(this.handlePreviousPage)),Z)),this.pagination(),l().createElement("li",{className:D},l().createElement("a",v({className:re,href:this.getElementHref(je+1),tabIndex:Ge?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Q,"aria-label":Ze,rel:ke},this.getEventListener(this.handleNextPage)),Ve)))}}])&&b(V.prototype,W),Object.defineProperty(V,"prototype",{writable:!1}),z}(a.Component);M(L,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabels:c().shape({forward:c().string,backward:c().string}),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),M(L,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(k){return k},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const B=L})(),s})())})(UC);var f7=UC.exports;const d7=vv(f7),h7=()=>{const[e,n]=A.useState(0),r=[{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...1"},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...2"},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...3"}],i=Math.ceil(r.length/5),o=({selected:c})=>{n(c)},s=e*5,a=r.slice(s,s+5),l=bR(),u=()=>{l("/notice_detail")};return U.jsxs("div",{children:[U.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:U.jsxs("div",{children:[U.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png",width:55}),U.jsx("span",{children:"overdog"})]})}),a.map(c=>U.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[U.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[U.jsxs("div",{className:"flex",children:[U.jsx("div",{className:"text-[13px]",children:U.jsx(FC,{})}),U.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:c.title})]}),U.jsx("span",{className:"text-gray-500 text-[11px]",children:c.time})]}),U.jsx("div",{children:U.jsx("div",{className:"flex items-center",children:U.jsx("div",{className:"flex-1",onClick:u,children:U.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.contents})})})})]})),U.jsx(d7,{pageClassName:"inline-block mx-1 p-2 rounded-full cursor-pointer  ",pageLinkClassName:"block w-8 h-8 leading-8 text-center border border-gray-300 bg-white rounded-full transition duration-300 ease-in-out hover:bg-gray-300",containerClassName:"pagination flex justify-center my-2",activeClassName:"bg-gray-300",previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:o})]})},p7=()=>U.jsxs("div",{children:[U.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:U.jsxs("div",{children:[U.jsx("img",{src:"../../public/free-icon-cool-7298816.png",width:55}),U.jsx("span",{children:"overdog"})]})}),U.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[U.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[U.jsxs("div",{className:"flex",children:[U.jsx("div",{className:"text-[13px]",children:U.jsx(FC,{})}),U.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:" "})]}),U.jsx("span",{className:"text-gray-500 text-[11px]",children:"1 "})]}),U.jsx("div",{children:U.jsx("div",{className:"flex items-center",children:U.jsx("div",{className:"flex-1",children:U.jsx("p",{className:"text-sm font-medium text-gray-900 w-full h-[30vh]",children:" "})})})})]})]});var m7={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function g7(){return U.jsx(n4,{children:U.jsx("div",{className:"font-pretendard",children:U.jsxs(a2,{basename:m7.PUBLIC_URL,children:[U.jsx(f2,{}),U.jsxs(o2,{children:[U.jsx(za,{path:"/",element:U.jsx(c7,{})}),U.jsx(za,{path:"/comment",element:U.jsx($C,{})}),U.jsx(za,{path:"/notice",element:U.jsx(h7,{})}),U.jsx(za,{path:"/notice_detail",element:U.jsx(p7,{})})]})]})})})}pm.createRoot(document.getElementById("root")).render(U.jsx(g7,{}));
