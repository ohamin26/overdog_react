function uR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var cR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I_={exports:{}},nc={},C_={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na=Symbol.for("react.element"),hR=Symbol.for("react.portal"),dR=Symbol.for("react.fragment"),fR=Symbol.for("react.strict_mode"),pR=Symbol.for("react.profiler"),mR=Symbol.for("react.provider"),gR=Symbol.for("react.context"),yR=Symbol.for("react.forward_ref"),vR=Symbol.for("react.suspense"),_R=Symbol.for("react.memo"),ER=Symbol.for("react.lazy"),Rg=Symbol.iterator;function wR(t){return t===null||typeof t!="object"?null:(t=Rg&&t[Rg]||t["@@iterator"],typeof t=="function"?t:null)}var P_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k_=Object.assign,N_={};function Bo(t,e,n){this.props=t,this.context=e,this.refs=N_,this.updater=n||P_}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x_(){}x_.prototype=Bo.prototype;function np(t,e,n){this.props=t,this.context=e,this.refs=N_,this.updater=n||P_}var rp=np.prototype=new x_;rp.constructor=np;k_(rp,Bo.prototype);rp.isPureReactComponent=!0;var Ag=Array.isArray,V_=Object.prototype.hasOwnProperty,ip={current:null},D_={key:!0,ref:!0,__self:!0,__source:!0};function L_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)V_.call(e,r)&&!D_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Na,type:t,key:o,ref:s,props:i,_owner:ip.current}}function SR(t,e){return{$$typeof:Na,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function op(t){return typeof t=="object"&&t!==null&&t.$$typeof===Na}function TR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ig=/\/+/g;function vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TR(""+t.key):e.toString(36)}function Fl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Na:case hR:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+vh(s,0):r,Ag(i)?(n="",t!=null&&(n=t.replace(Ig,"$&/")+"/"),Fl(i,e,n,"",function(u){return u})):i!=null&&(op(i)&&(i=SR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ig,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Ag(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+vh(o,a);s+=Fl(o,e,n,l,i)}else if(l=wR(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+vh(o,a++),s+=Fl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ll(t,e,n){if(t==null)return t;var r=[],i=0;return Fl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function RR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},Ul={transition:null},AR={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Ul,ReactCurrentOwner:ip};Pe.Children={map:ll,forEach:function(t,e,n){ll(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ll(t,function(){e++}),e},toArray:function(t){return ll(t,function(e){return e})||[]},only:function(t){if(!op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Bo;Pe.Fragment=dR;Pe.Profiler=pR;Pe.PureComponent=np;Pe.StrictMode=fR;Pe.Suspense=vR;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=k_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ip.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)V_.call(e,l)&&!D_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Na,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:gR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mR,_context:t},t.Consumer=t};Pe.createElement=L_;Pe.createFactory=function(t){var e=L_.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:yR,render:t}};Pe.isValidElement=op;Pe.lazy=function(t){return{$$typeof:ER,_payload:{_status:-1,_result:t},_init:RR}};Pe.memo=function(t,e){return{$$typeof:_R,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Ul.transition;Ul.transition={};try{t()}finally{Ul.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return Yt.current.useCallback(t,e)};Pe.useContext=function(t){return Yt.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return Yt.current.useEffect(t,e)};Pe.useId=function(){return Yt.current.useId()};Pe.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return Yt.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};Pe.useRef=function(t){return Yt.current.useRef(t)};Pe.useState=function(t){return Yt.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return Yt.current.useTransition()};Pe.version="18.2.0";C_.exports=Pe;var te=C_.exports;const _e=tp(te),IR=uR({__proto__:null,default:_e},[te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR=te,PR=Symbol.for("react.element"),kR=Symbol.for("react.fragment"),NR=Object.prototype.hasOwnProperty,xR=CR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VR={key:!0,ref:!0,__self:!0,__source:!0};function b_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)NR.call(e,r)&&!VR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PR,type:t,key:o,ref:s,props:i,_owner:xR.current}}nc.Fragment=kR;nc.jsx=b_;nc.jsxs=b_;I_.exports=nc;var N=I_.exports,wd={},M_={exports:{}},dn={},O_={exports:{}},$_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,x){var S=B.length;B.push(x);e:for(;0<S;){var z=S-1>>>1,v=B[z];if(0<i(v,x))B[z]=x,B[S]=v,S=z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var x=B[0],S=B.pop();if(S!==x){B[0]=S;e:for(var z=0,v=B.length,P=v>>>1;z<P;){var V=2*(z+1)-1,ee=B[V],W=V+1,le=B[W];if(0>i(ee,S))W<v&&0>i(le,ee)?(B[z]=le,B[W]=S,z=W):(B[z]=ee,B[V]=S,z=V);else if(W<v&&0>i(le,S))B[z]=le,B[W]=S,z=W;else break e}}return x}function i(B,x){var S=B.sortIndex-x.sortIndex;return S!==0?S:B.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,y=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(B){for(var x=n(u);x!==null;){if(x.callback===null)r(u);else if(x.startTime<=B)r(u),x.sortIndex=x.expirationTime,e(l,x);else break;x=n(u)}}function T(B){if(E=!1,g(B),!y)if(n(l)!==null)y=!0,Ae(C);else{var x=n(u);x!==null&&be(T,x.startTime-B)}}function C(B,x){y=!1,E&&(E=!1,m(q),q=-1),p=!0;var S=d;try{for(g(x),h=n(l);h!==null&&(!(h.expirationTime>x)||B&&!Ie());){var z=h.callback;if(typeof z=="function"){h.callback=null,d=h.priorityLevel;var v=z(h.expirationTime<=x);x=t.unstable_now(),typeof v=="function"?h.callback=v:h===n(l)&&r(l),g(x)}else r(l);h=n(l)}if(h!==null)var P=!0;else{var V=n(u);V!==null&&be(T,V.startTime-x),P=!1}return P}finally{h=null,d=S,p=!1}}var L=!1,M=null,q=-1,ae=5,J=-1;function Ie(){return!(t.unstable_now()-J<ae)}function $(){if(M!==null){var B=t.unstable_now();J=B;var x=!0;try{x=M(!0,B)}finally{x?D():(L=!1,M=null)}}else L=!1}var D;if(typeof f=="function")D=function(){f($)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ue=Z.port2;Z.port1.onmessage=$,D=function(){ue.postMessage(null)}}else D=function(){A($,0)};function Ae(B){M=B,L||(L=!0,D())}function be(B,x){q=A(function(){B(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Ae(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var x=3;break;default:x=d}var S=d;d=x;try{return B()}finally{d=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,x){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var S=d;d=B;try{return x()}finally{d=S}},t.unstable_scheduleCallback=function(B,x,S){var z=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?z+S:z):S=z,B){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=S+v,B={id:c++,callback:x,priorityLevel:B,startTime:S,expirationTime:v,sortIndex:-1},S>z?(B.sortIndex=S,e(u,B),n(l)===null&&B===n(u)&&(E?(m(q),q=-1):E=!0,be(T,S-z))):(B.sortIndex=v,e(l,B),y||p||(y=!0,Ae(C))),B},t.unstable_shouldYield=Ie,t.unstable_wrapCallback=function(B){var x=d;return function(){var S=d;d=x;try{return B.apply(this,arguments)}finally{d=S}}}})($_);O_.exports=$_;var DR=O_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=te,cn=DR;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U_=new Set,Qs={};function Ni(t,e){Eo(t,e),Eo(t+"Capture",e)}function Eo(t,e){for(Qs[t]=e,t=0;t<e.length;t++)U_.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sd=Object.prototype.hasOwnProperty,LR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cg={},Pg={};function bR(t){return Sd.call(Pg,t)?!0:Sd.call(Cg,t)?!1:LR.test(t)?Pg[t]=!0:(Cg[t]=!0,!1)}function MR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OR(t,e,n,r){if(e===null||typeof e>"u"||MR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var sp=/[\-:]([a-z])/g;function ap(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sp,ap);bt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sp,ap);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sp,ap);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function lp(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OR(e,n,i,r)&&(n=null),r||i===null?bR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yr=F_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),Td=Symbol.for("react.profiler"),B_=Symbol.for("react.provider"),j_=Symbol.for("react.context"),cp=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),Ad=Symbol.for("react.suspense_list"),hp=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),z_=Symbol.for("react.offscreen"),kg=Symbol.iterator;function rs(t){return t===null||typeof t!="object"?null:(t=kg&&t[kg]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,_h;function Es(t){if(_h===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_h=e&&e[1]||""}return`
`+_h+t}var Eh=!1;function wh(t,e){if(!t||Eh)return"";Eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Eh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Es(t):""}function $R(t){switch(t.tag){case 5:return Es(t.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return t=wh(t.type,!1),t;case 11:return t=wh(t.type.render,!1),t;case 1:return t=wh(t.type,!0),t;default:return""}}function Id(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qi:return"Fragment";case Gi:return"Portal";case Td:return"Profiler";case up:return"StrictMode";case Rd:return"Suspense";case Ad:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j_:return(t.displayName||"Context")+".Consumer";case B_:return(t._context.displayName||"Context")+".Provider";case cp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hp:return e=t.displayName||null,e!==null?e:Id(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return Id(t(e))}catch{}}return null}function FR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Id(e);case 8:return e===up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function W_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UR(t){var e=W_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cl(t){t._valueTracker||(t._valueTracker=UR(t))}function H_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ru(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cd(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ng(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function q_(t,e){e=e.checked,e!=null&&lp(t,"checked",e,!1)}function Pd(t,e){q_(t,e);var n=zr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kd(t,e.type,n):e.hasOwnProperty("defaultValue")&&kd(t,e.type,zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kd(t,e,n){(e!=="number"||ru(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ws=Array.isArray;function lo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ws(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zr(n)}}function K_(t,e){var n=zr(e.value),r=zr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function G_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?G_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hl,Q_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hl=hl||document.createElement("div"),hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ys(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BR=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(t){BR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ns[e]=Ns[t]})});function Y_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ns.hasOwnProperty(t)&&Ns[t]?(""+e).trim():e+"px"}function X_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Y_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jR=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vd(t,e){if(e){if(jR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Dd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ld=null;function dp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bd=null,uo=null,co=null;function Lg(t){if(t=Da(t)){if(typeof bd!="function")throw Error(U(280));var e=t.stateNode;e&&(e=ac(e),bd(t.stateNode,t.type,e))}}function J_(t){uo?co?co.push(t):co=[t]:uo=t}function Z_(){if(uo){var t=uo,e=co;if(co=uo=null,Lg(t),e)for(t=0;t<e.length;t++)Lg(e[t])}}function e0(t,e){return t(e)}function t0(){}var Sh=!1;function n0(t,e,n){if(Sh)return t(e,n);Sh=!0;try{return e0(t,e,n)}finally{Sh=!1,(uo!==null||co!==null)&&(t0(),Z_())}}function Xs(t,e){var n=t.stateNode;if(n===null)return null;var r=ac(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Md=!1;if(hr)try{var is={};Object.defineProperty(is,"passive",{get:function(){Md=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Md=!1}function zR(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var xs=!1,iu=null,ou=!1,Od=null,WR={onError:function(t){xs=!0,iu=t}};function HR(t,e,n,r,i,o,s,a,l){xs=!1,iu=null,zR.apply(WR,arguments)}function qR(t,e,n,r,i,o,s,a,l){if(HR.apply(this,arguments),xs){if(xs){var u=iu;xs=!1,iu=null}else throw Error(U(198));ou||(ou=!0,Od=u)}}function xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function r0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bg(t){if(xi(t)!==t)throw Error(U(188))}function KR(t){var e=t.alternate;if(!e){if(e=xi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return bg(i),t;if(o===r)return bg(i),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function i0(t){return t=KR(t),t!==null?o0(t):null}function o0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=o0(t);if(e!==null)return e;t=t.sibling}return null}var s0=cn.unstable_scheduleCallback,Mg=cn.unstable_cancelCallback,GR=cn.unstable_shouldYield,QR=cn.unstable_requestPaint,ct=cn.unstable_now,YR=cn.unstable_getCurrentPriorityLevel,fp=cn.unstable_ImmediatePriority,a0=cn.unstable_UserBlockingPriority,su=cn.unstable_NormalPriority,XR=cn.unstable_LowPriority,l0=cn.unstable_IdlePriority,rc=null,Kn=null;function JR(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(rc,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:tA,ZR=Math.log,eA=Math.LN2;function tA(t){return t>>>=0,t===0?32:31-(ZR(t)/eA|0)|0}var dl=64,fl=4194304;function Ss(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function au(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ss(a):(o&=s,o!==0&&(r=Ss(o)))}else s=n&~i,s!==0?r=Ss(s):o!==0&&(r=Ss(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),i=1<<n,r|=t[n],e&=~i;return r}function nA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-bn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=nA(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function $d(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u0(){var t=dl;return dl<<=1,!(dl&4194240)&&(dl=64),t}function Th(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function iA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function pp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function c0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h0,mp,d0,f0,p0,Fd=!1,pl=[],xr=null,Vr=null,Dr=null,Js=new Map,Zs=new Map,Rr=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Og(t,e){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Js.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(e.pointerId)}}function os(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Da(e),e!==null&&mp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sA(t,e,n,r,i){switch(e){case"focusin":return xr=os(xr,t,e,n,r,i),!0;case"dragenter":return Vr=os(Vr,t,e,n,r,i),!0;case"mouseover":return Dr=os(Dr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Js.set(o,os(Js.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Zs.set(o,os(Zs.get(o)||null,t,e,n,r,i)),!0}return!1}function m0(t){var e=ai(t.target);if(e!==null){var n=xi(e);if(n!==null){if(e=n.tag,e===13){if(e=r0(n),e!==null){t.blockedOn=e,p0(t.priority,function(){d0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ud(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ld=r,n.target.dispatchEvent(r),Ld=null}else return e=Da(n),e!==null&&mp(e),t.blockedOn=n,!1;e.shift()}return!0}function $g(t,e,n){Bl(t)&&n.delete(e)}function aA(){Fd=!1,xr!==null&&Bl(xr)&&(xr=null),Vr!==null&&Bl(Vr)&&(Vr=null),Dr!==null&&Bl(Dr)&&(Dr=null),Js.forEach($g),Zs.forEach($g)}function ss(t,e){t.blockedOn===e&&(t.blockedOn=null,Fd||(Fd=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,aA)))}function ea(t){function e(i){return ss(i,t)}if(0<pl.length){ss(pl[0],t);for(var n=1;n<pl.length;n++){var r=pl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xr!==null&&ss(xr,t),Vr!==null&&ss(Vr,t),Dr!==null&&ss(Dr,t),Js.forEach(e),Zs.forEach(e),n=0;n<Rr.length;n++)r=Rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)m0(n),n.blockedOn===null&&Rr.shift()}var ho=yr.ReactCurrentBatchConfig,lu=!0;function lA(t,e,n,r){var i=$e,o=ho.transition;ho.transition=null;try{$e=1,gp(t,e,n,r)}finally{$e=i,ho.transition=o}}function uA(t,e,n,r){var i=$e,o=ho.transition;ho.transition=null;try{$e=4,gp(t,e,n,r)}finally{$e=i,ho.transition=o}}function gp(t,e,n,r){if(lu){var i=Ud(t,e,n,r);if(i===null)Dh(t,e,r,uu,n),Og(t,r);else if(sA(i,t,e,n,r))r.stopPropagation();else if(Og(t,r),e&4&&-1<oA.indexOf(t)){for(;i!==null;){var o=Da(i);if(o!==null&&h0(o),o=Ud(t,e,n,r),o===null&&Dh(t,e,r,uu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Dh(t,e,r,null,n)}}var uu=null;function Ud(t,e,n,r){if(uu=null,t=dp(r),t=ai(t),t!==null)if(e=xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=r0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uu=t,null}function g0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YR()){case fp:return 1;case a0:return 4;case su:case XR:return 16;case l0:return 536870912;default:return 16}default:return 16}}var Ir=null,yp=null,jl=null;function y0(){if(jl)return jl;var t,e=yp,n=e.length,r,i="value"in Ir?Ir.value:Ir.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return jl=i.slice(t,1<r?1-r:void 0)}function zl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ml(){return!0}function Fg(){return!1}function fn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ml:Fg,this.isPropagationStopped=Fg,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),e}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vp=fn(jo),Va=ot({},jo,{view:0,detail:0}),cA=fn(Va),Rh,Ah,as,ic=ot({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_p,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==as&&(as&&t.type==="mousemove"?(Rh=t.screenX-as.screenX,Ah=t.screenY-as.screenY):Ah=Rh=0,as=t),Rh)},movementY:function(t){return"movementY"in t?t.movementY:Ah}}),Ug=fn(ic),hA=ot({},ic,{dataTransfer:0}),dA=fn(hA),fA=ot({},Va,{relatedTarget:0}),Ih=fn(fA),pA=ot({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),mA=fn(pA),gA=ot({},jo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yA=fn(gA),vA=ot({},jo,{data:0}),Bg=fn(vA),_A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wA[t])?!!e[t]:!1}function _p(){return SA}var TA=ot({},Va,{key:function(t){if(t.key){var e=_A[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_p,charCode:function(t){return t.type==="keypress"?zl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RA=fn(TA),AA=ot({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jg=fn(AA),IA=ot({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_p}),CA=fn(IA),PA=ot({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),kA=fn(PA),NA=ot({},ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xA=fn(NA),VA=[9,13,27,32],Ep=hr&&"CompositionEvent"in window,Vs=null;hr&&"documentMode"in document&&(Vs=document.documentMode);var DA=hr&&"TextEvent"in window&&!Vs,v0=hr&&(!Ep||Vs&&8<Vs&&11>=Vs),zg=" ",Wg=!1;function _0(t,e){switch(t){case"keyup":return VA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function LA(t,e){switch(t){case"compositionend":return E0(e);case"keypress":return e.which!==32?null:(Wg=!0,zg);case"textInput":return t=e.data,t===zg&&Wg?null:t;default:return null}}function bA(t,e){if(Yi)return t==="compositionend"||!Ep&&_0(t,e)?(t=y0(),jl=yp=Ir=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return v0&&e.locale!=="ko"?null:e.data;default:return null}}var MA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MA[t.type]:e==="textarea"}function w0(t,e,n,r){J_(r),e=cu(e,"onChange"),0<e.length&&(n=new vp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ds=null,ta=null;function OA(t){V0(t,0)}function oc(t){var e=Zi(t);if(H_(e))return t}function $A(t,e){if(t==="change")return e}var S0=!1;if(hr){var Ch;if(hr){var Ph="oninput"in document;if(!Ph){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Ph=typeof qg.oninput=="function"}Ch=Ph}else Ch=!1;S0=Ch&&(!document.documentMode||9<document.documentMode)}function Kg(){Ds&&(Ds.detachEvent("onpropertychange",T0),ta=Ds=null)}function T0(t){if(t.propertyName==="value"&&oc(ta)){var e=[];w0(e,ta,t,dp(t)),n0(OA,e)}}function FA(t,e,n){t==="focusin"?(Kg(),Ds=e,ta=n,Ds.attachEvent("onpropertychange",T0)):t==="focusout"&&Kg()}function UA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oc(ta)}function BA(t,e){if(t==="click")return oc(e)}function jA(t,e){if(t==="input"||t==="change")return oc(e)}function zA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:zA;function na(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sd.call(e,i)||!On(t[i],e[i]))return!1}return!0}function Gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qg(t,e){var n=Gg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gg(n)}}function R0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?R0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A0(){for(var t=window,e=ru();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ru(t.document)}return e}function wp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WA(t){var e=A0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&R0(n.ownerDocument.documentElement,n)){if(r!==null&&wp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Qg(n,o);var s=Qg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HA=hr&&"documentMode"in document&&11>=document.documentMode,Xi=null,Bd=null,Ls=null,jd=!1;function Yg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jd||Xi==null||Xi!==ru(r)||(r=Xi,"selectionStart"in r&&wp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ls&&na(Ls,r)||(Ls=r,r=cu(Bd,"onSelect"),0<r.length&&(e=new vp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xi)))}function gl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},kh={},I0={};hr&&(I0=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function sc(t){if(kh[t])return kh[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in I0)return kh[t]=e[n];return t}var C0=sc("animationend"),P0=sc("animationiteration"),k0=sc("animationstart"),N0=sc("transitionend"),x0=new Map,Xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(t,e){x0.set(t,e),Ni(e,[t])}for(var Nh=0;Nh<Xg.length;Nh++){var xh=Xg[Nh],qA=xh.toLowerCase(),KA=xh[0].toUpperCase()+xh.slice(1);Gr(qA,"on"+KA)}Gr(C0,"onAnimationEnd");Gr(P0,"onAnimationIteration");Gr(k0,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(N0,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Jg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qR(r,e,void 0,t),t.currentTarget=null}function V0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Jg(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Jg(i,a,u),o=l}}}if(ou)throw t=Od,ou=!1,Od=null,t}function qe(t,e){var n=e[Kd];n===void 0&&(n=e[Kd]=new Set);var r=t+"__bubble";n.has(r)||(D0(e,t,2,!1),n.add(r))}function Vh(t,e,n){var r=0;e&&(r|=4),D0(n,t,r,e)}var yl="_reactListening"+Math.random().toString(36).slice(2);function ra(t){if(!t[yl]){t[yl]=!0,U_.forEach(function(n){n!=="selectionchange"&&(GA.has(n)||Vh(n,!1,t),Vh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yl]||(e[yl]=!0,Vh("selectionchange",!1,e))}}function D0(t,e,n,r){switch(g0(e)){case 1:var i=lA;break;case 4:i=uA;break;default:i=gp}n=i.bind(null,e,n,t),i=void 0,!Md||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ai(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}n0(function(){var u=o,c=dp(n),h=[];e:{var d=x0.get(t);if(d!==void 0){var p=vp,y=t;switch(t){case"keypress":if(zl(n)===0)break e;case"keydown":case"keyup":p=RA;break;case"focusin":y="focus",p=Ih;break;case"focusout":y="blur",p=Ih;break;case"beforeblur":case"afterblur":p=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CA;break;case C0:case P0:case k0:p=mA;break;case N0:p=kA;break;case"scroll":p=cA;break;case"wheel":p=xA;break;case"copy":case"cut":case"paste":p=yA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jg}var E=(e&4)!==0,A=!E&&t==="scroll",m=E?d!==null?d+"Capture":null:d;E=[];for(var f=u,g;f!==null;){g=f;var T=g.stateNode;if(g.tag===5&&T!==null&&(g=T,m!==null&&(T=Xs(f,m),T!=null&&E.push(ia(f,T,g)))),A)break;f=f.return}0<E.length&&(d=new p(d,y,null,n,c),h.push({event:d,listeners:E}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Ld&&(y=n.relatedTarget||n.fromElement)&&(ai(y)||y[dr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?ai(y):null,y!==null&&(A=xi(y),y!==A||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(E=Ug,T="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(E=jg,T="onPointerLeave",m="onPointerEnter",f="pointer"),A=p==null?d:Zi(p),g=y==null?d:Zi(y),d=new E(T,f+"leave",p,n,c),d.target=A,d.relatedTarget=g,T=null,ai(c)===u&&(E=new E(m,f+"enter",y,n,c),E.target=g,E.relatedTarget=A,T=E),A=T,p&&y)t:{for(E=p,m=y,f=0,g=E;g;g=Bi(g))f++;for(g=0,T=m;T;T=Bi(T))g++;for(;0<f-g;)E=Bi(E),f--;for(;0<g-f;)m=Bi(m),g--;for(;f--;){if(E===m||m!==null&&E===m.alternate)break t;E=Bi(E),m=Bi(m)}E=null}else E=null;p!==null&&Zg(h,d,p,E,!1),y!==null&&A!==null&&Zg(h,A,y,E,!0)}}e:{if(d=u?Zi(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=$A;else if(Hg(d))if(S0)C=jA;else{C=UA;var L=FA}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=BA);if(C&&(C=C(t,u))){w0(h,C,n,c);break e}L&&L(t,d,u),t==="focusout"&&(L=d._wrapperState)&&L.controlled&&d.type==="number"&&kd(d,"number",d.value)}switch(L=u?Zi(u):window,t){case"focusin":(Hg(L)||L.contentEditable==="true")&&(Xi=L,Bd=u,Ls=null);break;case"focusout":Ls=Bd=Xi=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,Yg(h,n,c);break;case"selectionchange":if(HA)break;case"keydown":case"keyup":Yg(h,n,c)}var M;if(Ep)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Yi?_0(t,n)&&(q="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(v0&&n.locale!=="ko"&&(Yi||q!=="onCompositionStart"?q==="onCompositionEnd"&&Yi&&(M=y0()):(Ir=c,yp="value"in Ir?Ir.value:Ir.textContent,Yi=!0)),L=cu(u,q),0<L.length&&(q=new Bg(q,t,null,n,c),h.push({event:q,listeners:L}),M?q.data=M:(M=E0(n),M!==null&&(q.data=M)))),(M=DA?LA(t,n):bA(t,n))&&(u=cu(u,"onBeforeInput"),0<u.length&&(c=new Bg("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=M))}V0(h,e)})}function ia(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xs(t,n),o!=null&&r.unshift(ia(t,o,i)),o=Xs(t,e),o!=null&&r.push(ia(t,o,i))),t=t.return}return r}function Bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xs(n,o),l!=null&&s.unshift(ia(n,l,a))):i||(l=Xs(n,o),l!=null&&s.push(ia(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var QA=/\r\n?/g,YA=/\u0000|\uFFFD/g;function ey(t){return(typeof t=="string"?t:""+t).replace(QA,`
`).replace(YA,"")}function vl(t,e,n){if(e=ey(e),ey(t)!==e&&n)throw Error(U(425))}function hu(){}var zd=null,Wd=null;function Hd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qd=typeof setTimeout=="function"?setTimeout:void 0,XA=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(t){return ty.resolve(null).then(t).catch(ZA)}:qd;function ZA(t){setTimeout(function(){throw t})}function Lh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ea(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ea(e)}function Lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ny(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zo=Math.random().toString(36).slice(2),jn="__reactFiber$"+zo,oa="__reactProps$"+zo,dr="__reactContainer$"+zo,Kd="__reactEvents$"+zo,eI="__reactListeners$"+zo,tI="__reactHandles$"+zo;function ai(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ny(t);t!==null;){if(n=t[jn])return n;t=ny(t)}return e}t=n,n=t.parentNode}return null}function Da(t){return t=t[jn]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function ac(t){return t[oa]||null}var Gd=[],eo=-1;function Qr(t){return{current:t}}function Ye(t){0>eo||(t.current=Gd[eo],Gd[eo]=null,eo--)}function We(t,e){eo++,Gd[eo]=t.current,t.current=e}var Wr={},Wt=Qr(Wr),tn=Qr(!1),_i=Wr;function wo(t,e){var n=t.type.contextTypes;if(!n)return Wr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nn(t){return t=t.childContextTypes,t!=null}function du(){Ye(tn),Ye(Wt)}function ry(t,e,n){if(Wt.current!==Wr)throw Error(U(168));We(Wt,e),We(tn,n)}function L0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,FR(t)||"Unknown",i));return ot({},n,r)}function fu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,_i=Wt.current,We(Wt,t),We(tn,tn.current),!0}function iy(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=L0(t,e,_i),r.__reactInternalMemoizedMergedChildContext=t,Ye(tn),Ye(Wt),We(Wt,t)):Ye(tn),We(tn,n)}var rr=null,lc=!1,bh=!1;function b0(t){rr===null?rr=[t]:rr.push(t)}function nI(t){lc=!0,b0(t)}function Yr(){if(!bh&&rr!==null){bh=!0;var t=0,e=$e;try{var n=rr;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rr=null,lc=!1}catch(i){throw rr!==null&&(rr=rr.slice(t+1)),s0(fp,Yr),i}finally{$e=e,bh=!1}}return null}var to=[],no=0,pu=null,mu=0,vn=[],_n=0,Ei=null,or=1,sr="";function ni(t,e){to[no++]=mu,to[no++]=pu,pu=t,mu=e}function M0(t,e,n){vn[_n++]=or,vn[_n++]=sr,vn[_n++]=Ei,Ei=t;var r=or;t=sr;var i=32-bn(r)-1;r&=~(1<<i),n+=1;var o=32-bn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,or=1<<32-bn(e)+i|n<<i|r,sr=o+t}else or=1<<o|n<<i|r,sr=t}function Sp(t){t.return!==null&&(ni(t,1),M0(t,1,0))}function Tp(t){for(;t===pu;)pu=to[--no],to[no]=null,mu=to[--no],to[no]=null;for(;t===Ei;)Ei=vn[--_n],vn[_n]=null,sr=vn[--_n],vn[_n]=null,or=vn[--_n],vn[_n]=null}var un=null,ln=null,Ze=!1,Vn=null;function O0(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,ln=Lr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ei!==null?{id:or,overflow:sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,ln=null,!0):!1;default:return!1}}function Qd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yd(t){if(Ze){var e=ln;if(e){var n=e;if(!oy(t,e)){if(Qd(t))throw Error(U(418));e=Lr(n.nextSibling);var r=un;e&&oy(t,e)?O0(r,n):(t.flags=t.flags&-4097|2,Ze=!1,un=t)}}else{if(Qd(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ze=!1,un=t}}}function sy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function _l(t){if(t!==un)return!1;if(!Ze)return sy(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hd(t.type,t.memoizedProps)),e&&(e=ln)){if(Qd(t))throw $0(),Error(U(418));for(;e;)O0(t,e),e=Lr(e.nextSibling)}if(sy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=Lr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=un?Lr(t.stateNode.nextSibling):null;return!0}function $0(){for(var t=ln;t;)t=Lr(t.nextSibling)}function So(){ln=un=null,Ze=!1}function Rp(t){Vn===null?Vn=[t]:Vn.push(t)}var rI=yr.ReactCurrentBatchConfig;function Nn(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var gu=Qr(null),yu=null,ro=null,Ap=null;function Ip(){Ap=ro=yu=null}function Cp(t){var e=gu.current;Ye(gu),t._currentValue=e}function Xd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){yu=t,Ap=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(Ap!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(yu===null)throw Error(U(308));ro=t,yu.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var li=null;function Pp(t){li===null?li=[t]:li.push(t)}function F0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pp(e)):(n.next=i.next,i.next=n),e.interleaved=n,fr(t,r)}function fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sr=!1;function kp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fr(t,n)}return i=r.interleaved,i===null?(e.next=e,Pp(r)):(e.next=i.next,i.next=e),r.interleaved=e,fr(t,n)}function Wl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pp(t,n)}}function ay(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vu(t,e,n,r){var i=t.updateQueue;Sr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,E=a;switch(d=e,p=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){h=y.call(p,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,d=typeof y=="function"?y.call(p,h,d):y,d==null)break e;h=ot({},h,d);break e;case 2:Sr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Si|=s,t.lanes=s,t.memoizedState=h}}function ly(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var B0=new F_.Component().refs;function Jd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uc={isMounted:function(t){return(t=t._reactInternals)?xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Or(t),o=lr(r,i);o.payload=e,n!=null&&(o.callback=n),e=br(t,o,i),e!==null&&(Mn(e,t,i,r),Wl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Or(t),o=lr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=br(t,o,i),e!==null&&(Mn(e,t,i,r),Wl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=Or(t),i=lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=br(t,i,r),e!==null&&(Mn(e,t,r,n),Wl(e,t,r))}};function uy(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!na(n,r)||!na(i,o):!0}function j0(t,e,n){var r=!1,i=Wr,o=e.contextType;return typeof o=="object"&&o!==null?o=An(o):(i=nn(e)?_i:Wt.current,r=e.contextTypes,o=(r=r!=null)?wo(t,i):Wr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function cy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uc.enqueueReplaceState(e,e.state,null)}function Zd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=B0,kp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=An(o):(o=nn(e)?_i:Wt.current,i.context=wo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Jd(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uc.enqueueReplaceState(i,i.state,null),vu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===B0&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function El(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hy(t){var e=t._init;return e(t._payload)}function z0(t){function e(m,f){if(t){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=$r(m,f),m.index=0,m.sibling=null,m}function o(m,f,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,T){return f===null||f.tag!==6?(f=jh(g,m.mode,T),f.return=m,f):(f=i(f,g),f.return=m,f)}function l(m,f,g,T){var C=g.type;return C===Qi?c(m,f,g.props.children,T,g.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wr&&hy(C)===f.type)?(T=i(f,g.props),T.ref=ls(m,f,g),T.return=m,T):(T=Yl(g.type,g.key,g.props,null,m.mode,T),T.ref=ls(m,f,g),T.return=m,T)}function u(m,f,g,T){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=zh(g,m.mode,T),f.return=m,f):(f=i(f,g.children||[]),f.return=m,f)}function c(m,f,g,T,C){return f===null||f.tag!==7?(f=gi(g,m.mode,T,C),f.return=m,f):(f=i(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=jh(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ul:return g=Yl(f.type,f.key,f.props,null,m.mode,g),g.ref=ls(m,null,f),g.return=m,g;case Gi:return f=zh(f,m.mode,g),f.return=m,f;case wr:var T=f._init;return h(m,T(f._payload),g)}if(ws(f)||rs(f))return f=gi(f,m.mode,g,null),f.return=m,f;El(m,f)}return null}function d(m,f,g,T){var C=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:a(m,f,""+g,T);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ul:return g.key===C?l(m,f,g,T):null;case Gi:return g.key===C?u(m,f,g,T):null;case wr:return C=g._init,d(m,f,C(g._payload),T)}if(ws(g)||rs(g))return C!==null?null:c(m,f,g,T,null);El(m,g)}return null}function p(m,f,g,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(g)||null,a(f,m,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ul:return m=m.get(T.key===null?g:T.key)||null,l(f,m,T,C);case Gi:return m=m.get(T.key===null?g:T.key)||null,u(f,m,T,C);case wr:var L=T._init;return p(m,f,g,L(T._payload),C)}if(ws(T)||rs(T))return m=m.get(g)||null,c(f,m,T,C,null);El(f,T)}return null}function y(m,f,g,T){for(var C=null,L=null,M=f,q=f=0,ae=null;M!==null&&q<g.length;q++){M.index>q?(ae=M,M=null):ae=M.sibling;var J=d(m,M,g[q],T);if(J===null){M===null&&(M=ae);break}t&&M&&J.alternate===null&&e(m,M),f=o(J,f,q),L===null?C=J:L.sibling=J,L=J,M=ae}if(q===g.length)return n(m,M),Ze&&ni(m,q),C;if(M===null){for(;q<g.length;q++)M=h(m,g[q],T),M!==null&&(f=o(M,f,q),L===null?C=M:L.sibling=M,L=M);return Ze&&ni(m,q),C}for(M=r(m,M);q<g.length;q++)ae=p(M,m,q,g[q],T),ae!==null&&(t&&ae.alternate!==null&&M.delete(ae.key===null?q:ae.key),f=o(ae,f,q),L===null?C=ae:L.sibling=ae,L=ae);return t&&M.forEach(function(Ie){return e(m,Ie)}),Ze&&ni(m,q),C}function E(m,f,g,T){var C=rs(g);if(typeof C!="function")throw Error(U(150));if(g=C.call(g),g==null)throw Error(U(151));for(var L=C=null,M=f,q=f=0,ae=null,J=g.next();M!==null&&!J.done;q++,J=g.next()){M.index>q?(ae=M,M=null):ae=M.sibling;var Ie=d(m,M,J.value,T);if(Ie===null){M===null&&(M=ae);break}t&&M&&Ie.alternate===null&&e(m,M),f=o(Ie,f,q),L===null?C=Ie:L.sibling=Ie,L=Ie,M=ae}if(J.done)return n(m,M),Ze&&ni(m,q),C;if(M===null){for(;!J.done;q++,J=g.next())J=h(m,J.value,T),J!==null&&(f=o(J,f,q),L===null?C=J:L.sibling=J,L=J);return Ze&&ni(m,q),C}for(M=r(m,M);!J.done;q++,J=g.next())J=p(M,m,q,J.value,T),J!==null&&(t&&J.alternate!==null&&M.delete(J.key===null?q:J.key),f=o(J,f,q),L===null?C=J:L.sibling=J,L=J);return t&&M.forEach(function($){return e(m,$)}),Ze&&ni(m,q),C}function A(m,f,g,T){if(typeof g=="object"&&g!==null&&g.type===Qi&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ul:e:{for(var C=g.key,L=f;L!==null;){if(L.key===C){if(C=g.type,C===Qi){if(L.tag===7){n(m,L.sibling),f=i(L,g.props.children),f.return=m,m=f;break e}}else if(L.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wr&&hy(C)===L.type){n(m,L.sibling),f=i(L,g.props),f.ref=ls(m,L,g),f.return=m,m=f;break e}n(m,L);break}else e(m,L);L=L.sibling}g.type===Qi?(f=gi(g.props.children,m.mode,T,g.key),f.return=m,m=f):(T=Yl(g.type,g.key,g.props,null,m.mode,T),T.ref=ls(m,f,g),T.return=m,m=T)}return s(m);case Gi:e:{for(L=g.key;f!==null;){if(f.key===L)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=i(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=zh(g,m.mode,T),f.return=m,m=f}return s(m);case wr:return L=g._init,A(m,f,L(g._payload),T)}if(ws(g))return y(m,f,g,T);if(rs(g))return E(m,f,g,T);El(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,g),f.return=m,m=f):(n(m,f),f=jh(g,m.mode,T),f.return=m,m=f),s(m)):n(m,f)}return A}var To=z0(!0),W0=z0(!1),La={},Gn=Qr(La),sa=Qr(La),aa=Qr(La);function ui(t){if(t===La)throw Error(U(174));return t}function Np(t,e){switch(We(aa,e),We(sa,t),We(Gn,La),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xd(e,t)}Ye(Gn),We(Gn,e)}function Ro(){Ye(Gn),Ye(sa),Ye(aa)}function H0(t){ui(aa.current);var e=ui(Gn.current),n=xd(e,t.type);e!==n&&(We(sa,t),We(Gn,n))}function xp(t){sa.current===t&&(Ye(Gn),Ye(sa))}var rt=Qr(0);function _u(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mh=[];function Vp(){for(var t=0;t<Mh.length;t++)Mh[t]._workInProgressVersionPrimary=null;Mh.length=0}var Hl=yr.ReactCurrentDispatcher,Oh=yr.ReactCurrentBatchConfig,wi=0,it=null,gt=null,Tt=null,Eu=!1,bs=!1,la=0,iI=0;function Mt(){throw Error(U(321))}function Dp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!On(t[n],e[n]))return!1;return!0}function Lp(t,e,n,r,i,o){if(wi=o,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hl.current=t===null||t.memoizedState===null?lI:uI,t=n(r,i),bs){o=0;do{if(bs=!1,la=0,25<=o)throw Error(U(301));o+=1,Tt=gt=null,e.updateQueue=null,Hl.current=cI,t=n(r,i)}while(bs)}if(Hl.current=wu,e=gt!==null&&gt.next!==null,wi=0,Tt=gt=it=null,Eu=!1,e)throw Error(U(300));return t}function bp(){var t=la!==0;return la=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?it.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function In(){if(gt===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Tt===null?it.memoizedState:Tt.next;if(e!==null)Tt=e,gt=t;else{if(t===null)throw Error(U(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?it.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function ua(t,e){return typeof e=="function"?e(t):e}function $h(t){var e=In(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((wi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,it.lanes|=c,Si|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,On(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,it.lanes|=o,Si|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fh(t){var e=In(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);On(o,e.memoizedState)||(en=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function q0(){}function K0(t,e){var n=it,r=In(),i=e(),o=!On(r.memoizedState,i);if(o&&(r.memoizedState=i,en=!0),r=r.queue,Mp(Y0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,ca(9,Q0.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(U(349));wi&30||G0(n,e,i)}return i}function G0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q0(t,e,n,r){e.value=n,e.getSnapshot=r,X0(e)&&J0(t)}function Y0(t,e,n){return n(function(){X0(e)&&J0(t)})}function X0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!On(t,n)}catch{return!0}}function J0(t){var e=fr(t,1);e!==null&&Mn(e,t,1,-1)}function dy(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t},e.queue=t,t=t.dispatch=aI.bind(null,it,t),[e.memoizedState,t]}function ca(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Z0(){return In().memoizedState}function ql(t,e,n,r){var i=Bn();it.flags|=t,i.memoizedState=ca(1|e,n,void 0,r===void 0?null:r)}function cc(t,e,n,r){var i=In();r=r===void 0?null:r;var o=void 0;if(gt!==null){var s=gt.memoizedState;if(o=s.destroy,r!==null&&Dp(r,s.deps)){i.memoizedState=ca(e,n,o,r);return}}it.flags|=t,i.memoizedState=ca(1|e,n,o,r)}function fy(t,e){return ql(8390656,8,t,e)}function Mp(t,e){return cc(2048,8,t,e)}function e1(t,e){return cc(4,2,t,e)}function t1(t,e){return cc(4,4,t,e)}function n1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function r1(t,e,n){return n=n!=null?n.concat([t]):null,cc(4,4,n1.bind(null,e,t),n)}function Op(){}function i1(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function o1(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function s1(t,e,n){return wi&21?(On(n,e)||(n=u0(),it.lanes|=n,Si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function oI(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=Oh.transition;Oh.transition={};try{t(!1),e()}finally{$e=n,Oh.transition=r}}function a1(){return In().memoizedState}function sI(t,e,n){var r=Or(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l1(t))u1(e,n);else if(n=F0(t,e,n,r),n!==null){var i=Qt();Mn(n,t,r,i),c1(n,e,r)}}function aI(t,e,n){var r=Or(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l1(t))u1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,On(a,s)){var l=e.interleaved;l===null?(i.next=i,Pp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=F0(t,e,i,r),n!==null&&(i=Qt(),Mn(n,t,r,i),c1(n,e,r))}}function l1(t){var e=t.alternate;return t===it||e!==null&&e===it}function u1(t,e){bs=Eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pp(t,n)}}var wu={readContext:An,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},lI={readContext:An,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:fy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ql(4194308,4,n1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ql(4194308,4,t,e)},useInsertionEffect:function(t,e){return ql(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sI.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:dy,useDebugValue:Op,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=dy(!1),e=t[0];return t=oI.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,i=Bn();if(Ze){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Rt===null)throw Error(U(349));wi&30||G0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,fy(Y0.bind(null,r,o,t),[t]),r.flags|=2048,ca(9,Q0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Bn(),e=Rt.identifierPrefix;if(Ze){var n=sr,r=or;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=la++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uI={readContext:An,useCallback:i1,useContext:An,useEffect:Mp,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:o1,useReducer:$h,useRef:Z0,useState:function(){return $h(ua)},useDebugValue:Op,useDeferredValue:function(t){var e=In();return s1(e,gt.memoizedState,t)},useTransition:function(){var t=$h(ua)[0],e=In().memoizedState;return[t,e]},useMutableSource:q0,useSyncExternalStore:K0,useId:a1,unstable_isNewReconciler:!1},cI={readContext:An,useCallback:i1,useContext:An,useEffect:Mp,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:o1,useReducer:Fh,useRef:Z0,useState:function(){return Fh(ua)},useDebugValue:Op,useDeferredValue:function(t){var e=In();return gt===null?e.memoizedState=t:s1(e,gt.memoizedState,t)},useTransition:function(){var t=Fh(ua)[0],e=In().memoizedState;return[t,e]},useMutableSource:q0,useSyncExternalStore:K0,useId:a1,unstable_isNewReconciler:!1};function Ao(t,e){try{var n="",r=e;do n+=$R(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Uh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ef(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hI=typeof WeakMap=="function"?WeakMap:Map;function h1(t,e,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tu||(Tu=!0,hf=r),ef(t,e)},n}function d1(t,e,n){n=lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ef(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ef(t,e),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function py(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=AI.bind(null,t,e,n),e.then(t,t))}function my(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lr(-1,1),e.tag=2,br(n,e,1))),n.lanes|=1),t)}var dI=yr.ReactCurrentOwner,en=!1;function qt(t,e,n,r){e.child=t===null?W0(e,null,n,r):To(e,t.child,n,r)}function yy(t,e,n,r,i){n=n.render;var o=e.ref;return fo(e,i),r=Lp(t,e,n,r,o,i),n=bp(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pr(t,e,i)):(Ze&&n&&Sp(e),e.flags|=1,qt(t,e,r,i),e.child)}function vy(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Hp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,f1(t,e,o,r,i)):(t=Yl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:na,n(s,r)&&t.ref===e.ref)return pr(t,e,i)}return e.flags|=1,t=$r(o,r),t.ref=e.ref,t.return=e,e.child=t}function f1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(na(o,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,pr(t,e,i)}return tf(t,e,n,r,i)}function p1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(oo,an),an|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(oo,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,We(oo,an),an|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,We(oo,an),an|=r;return qt(t,e,i,n),e.child}function m1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tf(t,e,n,r,i){var o=nn(n)?_i:Wt.current;return o=wo(e,o),fo(e,i),n=Lp(t,e,n,r,o,i),r=bp(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pr(t,e,i)):(Ze&&r&&Sp(e),e.flags|=1,qt(t,e,n,i),e.child)}function _y(t,e,n,r,i){if(nn(n)){var o=!0;fu(e)}else o=!1;if(fo(e,i),e.stateNode===null)Kl(t,e),j0(e,n,r),Zd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=nn(n)?_i:Wt.current,u=wo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&cy(e,s,r,u),Sr=!1;var d=e.memoizedState;s.state=d,vu(e,r,s,i),l=e.memoizedState,a!==r||d!==l||tn.current||Sr?(typeof c=="function"&&(Jd(e,n,c,r),l=e.memoizedState),(a=Sr||uy(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,U0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Nn(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=nn(n)?_i:Wt.current,l=wo(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&cy(e,s,r,l),Sr=!1,d=e.memoizedState,s.state=d,vu(e,r,s,i);var y=e.memoizedState;a!==h||d!==y||tn.current||Sr?(typeof p=="function"&&(Jd(e,n,p,r),y=e.memoizedState),(u=Sr||uy(e,n,u,r,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return nf(t,e,n,r,o,i)}function nf(t,e,n,r,i,o){m1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&iy(e,n,!1),pr(t,e,o);r=e.stateNode,dI.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=To(e,t.child,null,o),e.child=To(e,null,a,o)):qt(t,e,a,o),e.memoizedState=r.state,i&&iy(e,n,!0),e.child}function g1(t){var e=t.stateNode;e.pendingContext?ry(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ry(t,e.context,!1),Np(t,e.containerInfo)}function Ey(t,e,n,r,i){return So(),Rp(i),e.flags|=256,qt(t,e,n,r),e.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function of(t){return{baseLanes:t,cachePool:null,transitions:null}}function y1(t,e,n){var r=e.pendingProps,i=rt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(rt,i&1),t===null)return Yd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fc(s,r,0,null),t=gi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=of(n),e.memoizedState=rf,t):$p(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fI(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$r(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=$r(a,o):(o=gi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?of(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=rf,r}return o=t.child,t=o.sibling,r=$r(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $p(t,e){return e=fc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wl(t,e,n,r){return r!==null&&Rp(r),To(e,t.child,null,n),t=$p(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fI(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Uh(Error(U(422))),wl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=fc({mode:"visible",children:r.children},i,0,null),o=gi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&To(e,t.child,null,s),e.child.memoizedState=of(s),e.memoizedState=rf,o);if(!(e.mode&1))return wl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Uh(o,r,void 0),wl(t,e,s,r)}if(a=(s&t.childLanes)!==0,en||a){if(r=Rt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fr(t,i),Mn(r,t,i,-1))}return Wp(),r=Uh(Error(U(421))),wl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=II.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ln=Lr(i.nextSibling),un=e,Ze=!0,Vn=null,t!==null&&(vn[_n++]=or,vn[_n++]=sr,vn[_n++]=Ei,or=t.id,sr=t.overflow,Ei=e),e=$p(e,r.children),e.flags|=4096,e)}function wy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xd(t.return,e,n)}function Bh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function v1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qt(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,n,e);else if(t.tag===19)wy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_u(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_u(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bh(e,!0,n,null,o);break;case"together":Bh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pI(t,e,n){switch(e.tag){case 3:g1(e),So();break;case 5:H0(e);break;case 1:nn(e.type)&&fu(e);break;case 4:Np(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(gu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?y1(t,e,n):(We(rt,rt.current&1),t=pr(t,e,n),t!==null?t.sibling:null);We(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return v1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,p1(t,e,n)}return pr(t,e,n)}var _1,sf,E1,w1;_1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sf=function(){};E1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ui(Gn.current);var o=null;switch(n){case"input":i=Cd(t,i),r=Cd(t,r),o=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":i=Nd(t,i),r=Nd(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hu)}Vd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};w1=function(t,e,n,r){n!==r&&(e.flags|=4)};function us(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mI(t,e,n){var r=e.pendingProps;switch(Tp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return nn(e.type)&&du(),Ot(e),null;case 3:return r=e.stateNode,Ro(),Ye(tn),Ye(Wt),Vp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_l(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(pf(Vn),Vn=null))),sf(t,e),Ot(e),null;case 5:xp(e);var i=ui(aa.current);if(n=e.type,t!==null&&e.stateNode!=null)E1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Ot(e),null}if(t=ui(Gn.current),_l(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[jn]=e,r[oa]=o,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<Ts.length;i++)qe(Ts[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":Ng(r,o),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qe("invalid",r);break;case"textarea":Vg(r,o),qe("invalid",r)}Vd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&vl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&vl(r.textContent,a,t),i=["children",""+a]):Qs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&qe("scroll",r)}switch(n){case"input":cl(r),xg(r,o,!0);break;case"textarea":cl(r),Dg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=hu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=G_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[jn]=e,t[oa]=r,_1(t,e,!1,!1),e.stateNode=t;e:{switch(s=Dd(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ts.length;i++)qe(Ts[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":Ng(t,r),i=Cd(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),qe("invalid",t);break;case"textarea":Vg(t,r),i=Nd(t,r),qe("invalid",t);break;default:i=r}Vd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?X_(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Q_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ys(t,l):typeof l=="number"&&Ys(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Qs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&qe("scroll",t):l!=null&&lp(t,o,l,s))}switch(n){case"input":cl(t),xg(t,r,!1);break;case"textarea":cl(t),Dg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?lo(t,!!r.multiple,o,!1):r.defaultValue!=null&&lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)w1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ui(aa.current),ui(Gn.current),_l(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(o=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:vl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return Ot(e),null;case 13:if(Ye(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&ln!==null&&e.mode&1&&!(e.flags&128))$0(),So(),e.flags|=98560,o=!1;else if(o=_l(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[jn]=e}else So(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),o=!1}else Vn!==null&&(pf(Vn),Vn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?yt===0&&(yt=3):Wp())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Ro(),sf(t,e),t===null&&ra(e.stateNode.containerInfo),Ot(e),null;case 10:return Cp(e.type._context),Ot(e),null;case 17:return nn(e.type)&&du(),Ot(e),null;case 19:if(Ye(rt),o=e.memoizedState,o===null)return Ot(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)us(o,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=_u(t),s!==null){for(e.flags|=128,us(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(rt,rt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ct()>Io&&(e.flags|=128,r=!0,us(o,!1),e.lanes=4194304)}else{if(!r)if(t=_u(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ze)return Ot(e),null}else 2*ct()-o.renderingStartTime>Io&&n!==1073741824&&(e.flags|=128,r=!0,us(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ct(),e.sibling=null,n=rt.current,We(rt,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return zp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function gI(t,e){switch(Tp(e),e.tag){case 1:return nn(e.type)&&du(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(),Ye(tn),Ye(Wt),Vp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xp(e),null;case 13:if(Ye(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));So()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(rt),null;case 4:return Ro(),null;case 10:return Cp(e.type._context),null;case 22:case 23:return zp(),null;case 24:return null;default:return null}}var Sl=!1,Ut=!1,yI=typeof WeakSet=="function"?WeakSet:Set,re=null;function io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function af(t,e,n){try{n()}catch(r){at(t,e,r)}}var Sy=!1;function vI(t,e){if(zd=lu,t=A0(),wp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wd={focusedElem:t,selectionRange:n},lu=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,A=y.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?E:Nn(e.type,E),A);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(T){at(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return y=Sy,Sy=!1,y}function Ms(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&af(e,n,o)}i=i.next}while(i!==r)}}function hc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function S1(t){var e=t.alternate;e!==null&&(t.alternate=null,S1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[oa],delete e[Kd],delete e[eI],delete e[tI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T1(t){return t.tag===5||t.tag===3||t.tag===4}function Ty(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hu));else if(r!==4&&(t=t.child,t!==null))for(uf(t,e,n),t=t.sibling;t!==null;)uf(t,e,n),t=t.sibling}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}var Pt=null,xn=!1;function Er(t,e,n){for(n=n.child;n!==null;)R1(t,e,n),n=n.sibling}function R1(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(rc,n)}catch{}switch(n.tag){case 5:Ut||io(n,e);case 6:var r=Pt,i=xn;Pt=null,Er(t,e,n),Pt=r,xn=i,Pt!==null&&(xn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(xn?(t=Pt,n=n.stateNode,t.nodeType===8?Lh(t.parentNode,n):t.nodeType===1&&Lh(t,n),ea(t)):Lh(Pt,n.stateNode));break;case 4:r=Pt,i=xn,Pt=n.stateNode.containerInfo,xn=!0,Er(t,e,n),Pt=r,xn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&af(n,e,s),i=i.next}while(i!==r)}Er(t,e,n);break;case 1:if(!Ut&&(io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Er(t,e,n);break;case 21:Er(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Er(t,e,n),Ut=r):Er(t,e,n);break;default:Er(t,e,n)}}function Ry(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yI),e.forEach(function(r){var i=CI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,xn=!1;break e;case 3:Pt=a.stateNode.containerInfo,xn=!0;break e;case 4:Pt=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(Pt===null)throw Error(U(160));R1(o,s,i),Pt=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A1(e,t),e=e.sibling}function A1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),Un(t),r&4){try{Ms(3,t,t.return),hc(3,t)}catch(E){at(t,t.return,E)}try{Ms(5,t,t.return)}catch(E){at(t,t.return,E)}}break;case 1:Pn(e,t),Un(t),r&512&&n!==null&&io(n,n.return);break;case 5:if(Pn(e,t),Un(t),r&512&&n!==null&&io(n,n.return),t.flags&32){var i=t.stateNode;try{Ys(i,"")}catch(E){at(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&q_(i,o),Dd(a,s);var u=Dd(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?X_(i,h):c==="dangerouslySetInnerHTML"?Q_(i,h):c==="children"?Ys(i,h):lp(i,c,h,u)}switch(a){case"input":Pd(i,o);break;case"textarea":K_(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?lo(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?lo(i,!!o.multiple,o.defaultValue,!0):lo(i,!!o.multiple,o.multiple?[]:"",!1))}i[oa]=o}catch(E){at(t,t.return,E)}}break;case 6:if(Pn(e,t),Un(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){at(t,t.return,E)}}break;case 3:if(Pn(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ea(e.containerInfo)}catch(E){at(t,t.return,E)}break;case 4:Pn(e,t),Un(t);break;case 13:Pn(e,t),Un(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Bp=ct())),r&4&&Ry(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||c,Pn(e,t),Ut=u):Pn(e,t),Un(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(re=t,c=t.child;c!==null;){for(h=re=c;re!==null;){switch(d=re,p=d.child,d.tag){case 0:case 11:case 14:case 15:Ms(4,d,d.return);break;case 1:io(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(E){at(r,n,E)}}break;case 5:io(d,d.return);break;case 22:if(d.memoizedState!==null){Iy(h);continue}}p!==null?(p.return=d,re=p):Iy(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Y_("display",s))}catch(E){at(t,t.return,E)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){at(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pn(e,t),Un(t),r&4&&Ry(t);break;case 21:break;default:Pn(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(T1(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ys(i,""),r.flags&=-33);var o=Ty(t);cf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Ty(t);uf(t,a,s);break;default:throw Error(U(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _I(t,e,n){re=t,I1(t)}function I1(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Sl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=Sl;var u=Ut;if(Sl=s,(Ut=l)&&!u)for(re=i;re!==null;)s=re,l=s.child,s.tag===22&&s.memoizedState!==null?Cy(i):l!==null?(l.return=s,re=l):Cy(i);for(;o!==null;)re=o,I1(o),o=o.sibling;re=i,Sl=a,Ut=u}Ay(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):Ay(t)}}function Ay(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||hc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ly(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ly(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ea(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ut||e.flags&512&&lf(e)}catch(d){at(e,e.return,d)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Iy(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Cy(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hc(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var o=e.return;try{lf(e)}catch(l){at(e,o,l)}break;case 5:var s=e.return;try{lf(e)}catch(l){at(e,s,l)}}}catch(l){at(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var EI=Math.ceil,Su=yr.ReactCurrentDispatcher,Fp=yr.ReactCurrentOwner,Tn=yr.ReactCurrentBatchConfig,Le=0,Rt=null,pt=null,Vt=0,an=0,oo=Qr(0),yt=0,ha=null,Si=0,dc=0,Up=0,Os=null,Zt=null,Bp=0,Io=1/0,nr=null,Tu=!1,hf=null,Mr=null,Tl=!1,Cr=null,Ru=0,$s=0,df=null,Gl=-1,Ql=0;function Qt(){return Le&6?ct():Gl!==-1?Gl:Gl=ct()}function Or(t){return t.mode&1?Le&2&&Vt!==0?Vt&-Vt:rI.transition!==null?(Ql===0&&(Ql=u0()),Ql):(t=$e,t!==0||(t=window.event,t=t===void 0?16:g0(t.type)),t):1}function Mn(t,e,n,r){if(50<$s)throw $s=0,df=null,Error(U(185));xa(t,n,r),(!(Le&2)||t!==Rt)&&(t===Rt&&(!(Le&2)&&(dc|=n),yt===4&&Ar(t,Vt)),rn(t,r),n===1&&Le===0&&!(e.mode&1)&&(Io=ct()+500,lc&&Yr()))}function rn(t,e){var n=t.callbackNode;rA(t,e);var r=au(t,t===Rt?Vt:0);if(r===0)n!==null&&Mg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mg(n),e===1)t.tag===0?nI(Py.bind(null,t)):b0(Py.bind(null,t)),JA(function(){!(Le&6)&&Yr()}),n=null;else{switch(c0(r)){case 1:n=fp;break;case 4:n=a0;break;case 16:n=su;break;case 536870912:n=l0;break;default:n=su}n=L1(n,C1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function C1(t,e){if(Gl=-1,Ql=0,Le&6)throw Error(U(327));var n=t.callbackNode;if(po()&&t.callbackNode!==n)return null;var r=au(t,t===Rt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Au(t,r);else{e=r;var i=Le;Le|=2;var o=k1();(Rt!==t||Vt!==e)&&(nr=null,Io=ct()+500,mi(t,e));do try{TI();break}catch(a){P1(t,a)}while(!0);Ip(),Su.current=o,Le=i,pt!==null?e=0:(Rt=null,Vt=0,e=yt)}if(e!==0){if(e===2&&(i=$d(t),i!==0&&(r=i,e=ff(t,i))),e===1)throw n=ha,mi(t,0),Ar(t,r),rn(t,ct()),n;if(e===6)Ar(t,r);else{if(i=t.current.alternate,!(r&30)&&!wI(i)&&(e=Au(t,r),e===2&&(o=$d(t),o!==0&&(r=o,e=ff(t,o))),e===1))throw n=ha,mi(t,0),Ar(t,r),rn(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ri(t,Zt,nr);break;case 3:if(Ar(t,r),(r&130023424)===r&&(e=Bp+500-ct(),10<e)){if(au(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qd(ri.bind(null,t,Zt,nr),e);break}ri(t,Zt,nr);break;case 4:if(Ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-bn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EI(r/1960))-r,10<r){t.timeoutHandle=qd(ri.bind(null,t,Zt,nr),r);break}ri(t,Zt,nr);break;case 5:ri(t,Zt,nr);break;default:throw Error(U(329))}}}return rn(t,ct()),t.callbackNode===n?C1.bind(null,t):null}function ff(t,e){var n=Os;return t.current.memoizedState.isDehydrated&&(mi(t,e).flags|=256),t=Au(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&pf(e)),t}function pf(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function wI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!On(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ar(t,e){for(e&=~Up,e&=~dc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function Py(t){if(Le&6)throw Error(U(327));po();var e=au(t,0);if(!(e&1))return rn(t,ct()),null;var n=Au(t,e);if(t.tag!==0&&n===2){var r=$d(t);r!==0&&(e=r,n=ff(t,r))}if(n===1)throw n=ha,mi(t,0),Ar(t,e),rn(t,ct()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ri(t,Zt,nr),rn(t,ct()),null}function jp(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Io=ct()+500,lc&&Yr())}}function Ti(t){Cr!==null&&Cr.tag===0&&!(Le&6)&&po();var e=Le;Le|=1;var n=Tn.transition,r=$e;try{if(Tn.transition=null,$e=1,t)return t()}finally{$e=r,Tn.transition=n,Le=e,!(Le&6)&&Yr()}}function zp(){an=oo.current,Ye(oo)}function mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XA(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(Tp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&du();break;case 3:Ro(),Ye(tn),Ye(Wt),Vp();break;case 5:xp(r);break;case 4:Ro();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:Cp(r.type._context);break;case 22:case 23:zp()}n=n.return}if(Rt=t,pt=t=$r(t.current,null),Vt=an=e,yt=0,ha=null,Up=dc=Si=0,Zt=Os=null,li!==null){for(e=0;e<li.length;e++)if(n=li[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}li=null}return t}function P1(t,e){do{var n=pt;try{if(Ip(),Hl.current=wu,Eu){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Eu=!1}if(wi=0,Tt=gt=it=null,bs=!1,la=0,Fp.current=null,n===null||n.return===null){yt=1,ha=e,pt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=my(s);if(p!==null){p.flags&=-257,gy(p,s,a,o,e),p.mode&1&&py(o,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var E=new Set;E.add(l),e.updateQueue=E}else y.add(l);break e}else{if(!(e&1)){py(o,u,e),Wp();break e}l=Error(U(426))}}else if(Ze&&a.mode&1){var A=my(s);if(A!==null){!(A.flags&65536)&&(A.flags|=256),gy(A,s,a,o,e),Rp(Ao(l,a));break e}}o=l=Ao(l,a),yt!==4&&(yt=2),Os===null?Os=[o]:Os.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=h1(o,l,e);ay(o,m);break e;case 1:a=l;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mr===null||!Mr.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=d1(o,a,e);ay(o,T);break e}}o=o.return}while(o!==null)}x1(n)}catch(C){e=C,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function k1(){var t=Su.current;return Su.current=wu,t===null?wu:t}function Wp(){(yt===0||yt===3||yt===2)&&(yt=4),Rt===null||!(Si&268435455)&&!(dc&268435455)||Ar(Rt,Vt)}function Au(t,e){var n=Le;Le|=2;var r=k1();(Rt!==t||Vt!==e)&&(nr=null,mi(t,e));do try{SI();break}catch(i){P1(t,i)}while(!0);if(Ip(),Le=n,Su.current=r,pt!==null)throw Error(U(261));return Rt=null,Vt=0,yt}function SI(){for(;pt!==null;)N1(pt)}function TI(){for(;pt!==null&&!GR();)N1(pt)}function N1(t){var e=D1(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?x1(t):pt=e,Fp.current=null}function x1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gI(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,pt=null;return}}else if(n=mI(n,e,an),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);yt===0&&(yt=5)}function ri(t,e,n){var r=$e,i=Tn.transition;try{Tn.transition=null,$e=1,RI(t,e,n,r)}finally{Tn.transition=i,$e=r}return null}function RI(t,e,n,r){do po();while(Cr!==null);if(Le&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(iA(t,o),t===Rt&&(pt=Rt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tl||(Tl=!0,L1(su,function(){return po(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Tn.transition,Tn.transition=null;var s=$e;$e=1;var a=Le;Le|=4,Fp.current=null,vI(t,n),A1(n,t),WA(Wd),lu=!!zd,Wd=zd=null,t.current=n,_I(n),QR(),Le=a,$e=s,Tn.transition=o}else t.current=n;if(Tl&&(Tl=!1,Cr=t,Ru=i),o=t.pendingLanes,o===0&&(Mr=null),JR(n.stateNode),rn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tu)throw Tu=!1,t=hf,hf=null,t;return Ru&1&&t.tag!==0&&po(),o=t.pendingLanes,o&1?t===df?$s++:($s=0,df=t):$s=0,Yr(),null}function po(){if(Cr!==null){var t=c0(Ru),e=Tn.transition,n=$e;try{if(Tn.transition=null,$e=16>t?16:t,Cr===null)var r=!1;else{if(t=Cr,Cr=null,Ru=0,Le&6)throw Error(U(331));var i=Le;for(Le|=4,re=t.current;re!==null;){var o=re,s=o.child;if(re.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:Ms(8,c,o)}var h=c.child;if(h!==null)h.return=c,re=h;else for(;re!==null;){c=re;var d=c.sibling,p=c.return;if(S1(c),c===u){re=null;break}if(d!==null){d.return=p,re=d;break}re=p}}}var y=o.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var A=E.sibling;E.sibling=null,E=A}while(E!==null)}}re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,re=s;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ms(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,re=m;break e}re=o.return}}var f=t.current;for(re=f;re!==null;){s=re;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,re=g;else e:for(s=f;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hc(9,a)}}catch(C){at(a,a.return,C)}if(a===s){re=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,re=T;break e}re=a.return}}if(Le=i,Yr(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(rc,t)}catch{}r=!0}return r}finally{$e=n,Tn.transition=e}}return!1}function ky(t,e,n){e=Ao(n,e),e=h1(t,e,1),t=br(t,e,1),e=Qt(),t!==null&&(xa(t,1,e),rn(t,e))}function at(t,e,n){if(t.tag===3)ky(t,t,n);else for(;e!==null;){if(e.tag===3){ky(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){t=Ao(n,t),t=d1(e,t,1),e=br(e,t,1),t=Qt(),e!==null&&(xa(e,1,t),rn(e,t));break}}e=e.return}}function AI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Vt&n)===n&&(yt===4||yt===3&&(Vt&130023424)===Vt&&500>ct()-Bp?mi(t,0):Up|=n),rn(t,e)}function V1(t,e){e===0&&(t.mode&1?(e=fl,fl<<=1,!(fl&130023424)&&(fl=4194304)):e=1);var n=Qt();t=fr(t,e),t!==null&&(xa(t,e,n),rn(t,n))}function II(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),V1(t,n)}function CI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),V1(t,n)}var D1;D1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,pI(t,e,n);en=!!(t.flags&131072)}else en=!1,Ze&&e.flags&1048576&&M0(e,mu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kl(t,e),t=e.pendingProps;var i=wo(e,Wt.current);fo(e,n),i=Lp(null,e,r,t,i,n);var o=bp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(o=!0,fu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kp(e),i.updater=uc,e.stateNode=i,i._reactInternals=e,Zd(e,r,t,n),e=nf(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&Sp(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kI(r),t=Nn(r,t),i){case 0:e=tf(null,e,r,t,n);break e;case 1:e=_y(null,e,r,t,n);break e;case 11:e=yy(null,e,r,t,n);break e;case 14:e=vy(null,e,r,Nn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),tf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),_y(t,e,r,i,n);case 3:e:{if(g1(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,i=o.element,U0(t,e),vu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ao(Error(U(423)),e),e=Ey(t,e,r,n,i);break e}else if(r!==i){i=Ao(Error(U(424)),e),e=Ey(t,e,r,n,i);break e}else for(ln=Lr(e.stateNode.containerInfo.firstChild),un=e,Ze=!0,Vn=null,n=W0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(So(),r===i){e=pr(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return H0(e),t===null&&Yd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Hd(r,i)?s=null:o!==null&&Hd(r,o)&&(e.flags|=32),m1(t,e),qt(t,e,s,n),e.child;case 6:return t===null&&Yd(e),null;case 13:return y1(t,e,n);case 4:return Np(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),yy(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,We(gu,r._currentValue),r._currentValue=s,o!==null)if(On(o.value,s)){if(o.children===i.children&&!tn.current){e=pr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=lr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xd(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Xd(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fo(e,n),i=An(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=Nn(r,e.pendingProps),i=Nn(r.type,i),vy(t,e,r,i,n);case 15:return f1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Kl(t,e),e.tag=1,nn(r)?(t=!0,fu(e)):t=!1,fo(e,n),j0(e,r,i),Zd(e,r,i,n),nf(null,e,r,!0,t,n);case 19:return v1(t,e,n);case 22:return p1(t,e,n)}throw Error(U(156,e.tag))};function L1(t,e){return s0(t,e)}function PI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new PI(t,e,n,r)}function Hp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kI(t){if(typeof t=="function")return Hp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cp)return 11;if(t===hp)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Hp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Qi:return gi(n.children,i,o,e);case up:s=8,i|=8;break;case Td:return t=Sn(12,n,e,i|2),t.elementType=Td,t.lanes=o,t;case Rd:return t=Sn(13,n,e,i),t.elementType=Rd,t.lanes=o,t;case Ad:return t=Sn(19,n,e,i),t.elementType=Ad,t.lanes=o,t;case z_:return fc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B_:s=10;break e;case j_:s=9;break e;case cp:s=11;break e;case hp:s=14;break e;case wr:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Sn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function gi(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function fc(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=z_,t.lanes=n,t.stateNode={isHidden:!1},t}function jh(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function zh(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Th(0),this.expirationTimes=Th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Th(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qp(t,e,n,r,i,o,s,a,l){return t=new NI(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Sn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kp(o),t}function xI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function b1(t){if(!t)return Wr;t=t._reactInternals;e:{if(xi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(nn(n))return L0(t,n,e)}return e}function M1(t,e,n,r,i,o,s,a,l){return t=qp(n,r,!0,t,i,o,s,a,l),t.context=b1(null),n=t.current,r=Qt(),i=Or(n),o=lr(r,i),o.callback=e??null,br(n,o,i),t.current.lanes=i,xa(t,i,r),rn(t,r),t}function pc(t,e,n,r){var i=e.current,o=Qt(),s=Or(i);return n=b1(n),e.context===null?e.context=n:e.pendingContext=n,e=lr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=br(i,e,s),t!==null&&(Mn(t,i,s,o),Wl(t,i,s)),s}function Iu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ny(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kp(t,e){Ny(t,e),(t=t.alternate)&&Ny(t,e)}function VI(){return null}var O1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gp(t){this._internalRoot=t}mc.prototype.render=Gp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));pc(t,e,null,null)};mc.prototype.unmount=Gp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ti(function(){pc(null,t,null,null)}),e[dr]=null}};function mc(t){this._internalRoot=t}mc.prototype.unstable_scheduleHydration=function(t){if(t){var e=f0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rr.length&&e!==0&&e<Rr[n].priority;n++);Rr.splice(n,0,t),n===0&&m0(t)}};function Qp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xy(){}function DI(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Iu(s);o.call(u)}}var s=M1(e,r,t,0,null,!1,!1,"",xy);return t._reactRootContainer=s,t[dr]=s.current,ra(t.nodeType===8?t.parentNode:t),Ti(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Iu(l);a.call(u)}}var l=qp(t,0,!1,null,null,!1,!1,"",xy);return t._reactRootContainer=l,t[dr]=l.current,ra(t.nodeType===8?t.parentNode:t),Ti(function(){pc(e,l,n,r)}),l}function yc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Iu(s);a.call(l)}}pc(e,s,t,i)}else s=DI(n,e,t,i,r);return Iu(s)}h0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ss(e.pendingLanes);n!==0&&(pp(e,n|1),rn(e,ct()),!(Le&6)&&(Io=ct()+500,Yr()))}break;case 13:Ti(function(){var r=fr(t,1);if(r!==null){var i=Qt();Mn(r,t,1,i)}}),Kp(t,1)}};mp=function(t){if(t.tag===13){var e=fr(t,134217728);if(e!==null){var n=Qt();Mn(e,t,134217728,n)}Kp(t,134217728)}};d0=function(t){if(t.tag===13){var e=Or(t),n=fr(t,e);if(n!==null){var r=Qt();Mn(n,t,e,r)}Kp(t,e)}};f0=function(){return $e};p0=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};bd=function(t,e,n){switch(e){case"input":if(Pd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ac(r);if(!i)throw Error(U(90));H_(r),Pd(r,i)}}}break;case"textarea":K_(t,n);break;case"select":e=n.value,e!=null&&lo(t,!!n.multiple,e,!1)}};e0=jp;t0=Ti;var LI={usingClientEntryPoint:!1,Events:[Da,Zi,ac,J_,Z_,jp]},cs={findFiberByHostInstance:ai,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bI={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=i0(t),t===null?null:t.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||VI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{rc=Rl.inject(bI),Kn=Rl}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LI;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qp(e))throw Error(U(200));return xI(t,e,null,n)};dn.createRoot=function(t,e){if(!Qp(t))throw Error(U(299));var n=!1,r="",i=O1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qp(t,1,!1,null,null,n,!1,r,i),t[dr]=e.current,ra(t.nodeType===8?t.parentNode:t),new Gp(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=i0(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return Ti(t)};dn.hydrate=function(t,e,n){if(!gc(e))throw Error(U(200));return yc(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!Qp(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=O1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=M1(e,null,t,1,n??null,i,!1,o,s),t[dr]=e.current,ra(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mc(e)};dn.render=function(t,e,n){if(!gc(e))throw Error(U(200));return yc(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!gc(t))throw Error(U(40));return t._reactRootContainer?(Ti(function(){yc(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1};dn.unstable_batchedUpdates=jp;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return yc(t,e,n,!1,r)};dn.version="18.2.0-next-9e3b772b8-20220608";function $1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($1)}catch(t){console.error(t)}}$1(),M_.exports=dn;var F1=M_.exports;const MI=tp(F1);var Vy=F1;wd.createRoot=Vy.createRoot,wd.hydrateRoot=Vy.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(this,arguments)}var Pr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pr||(Pr={}));const Dy="popstate";function OI(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Vi(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),mf("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:U1(o))}function r(i,o){vc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return FI(e,n,r,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $I(){return Math.random().toString(36).substr(2,8)}function Ly(t,e){return{usr:t.state,key:t.key,idx:e}}function mf(t,e,n,r){return n===void 0&&(n=null),da({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vi(e):e,{state:n,key:e&&e.key||r||$I()})}function U1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Pr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(da({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Pr.Pop;let A=c(),m=A==null?null:A-u;u=A,l&&l({action:a,location:E.location,delta:m})}function d(A,m){a=Pr.Push;let f=mf(E.location,A,m);n&&n(f,A),u=c()+1;let g=Ly(f,u),T=E.createHref(f);try{s.pushState(g,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}o&&l&&l({action:a,location:E.location,delta:1})}function p(A,m){a=Pr.Replace;let f=mf(E.location,A,m);n&&n(f,A),u=c();let g=Ly(f,u),T=E.createHref(f);s.replaceState(g,"",T),o&&l&&l({action:a,location:E.location,delta:0})}function y(A){let m=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof A=="string"?A:U1(A);return vt(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let E={get action(){return a},get location(){return t(i,s)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Dy,h),l=A,()=>{i.removeEventListener(Dy,h),l=null}},createHref(A){return e(i,A)},createURL:y,encodeLocation(A){let m=y(A);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(A){return s.go(A)}};return E}var by;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(by||(by={}));function UI(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Vi(e):e,i=z1(r.pathname||"/",n);if(i==null)return null;let o=B1(t);BI(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=YI(o[a],ZI(i));return s}function B1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yi([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),B1(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:GI(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of j1(o.path))i(o,s,l)}),e}function j1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=j1(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function BI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jI=/^:\w+$/,zI=3,WI=2,HI=1,qI=10,KI=-2,My=t=>t==="*";function GI(t,e){let n=t.split("/"),r=n.length;return n.some(My)&&(r+=KI),e&&(r+=WI),n.filter(i=>!My(i)).reduce((i,o)=>i+(jI.test(o)?zI:o===""?HI:qI),r)}function QI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YI(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=XI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:yi([i,c.pathname]),pathnameBase:sC(yi([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=yi([i,c.pathnameBase]))}return o}function XI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let E=a[h]||"";s=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?u[d]=void 0:u[d]=eC(y||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function JI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZI(t){try{return decodeURI(t)}catch(e){return vc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eC(t,e){try{return decodeURIComponent(t)}catch(n){return vc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function z1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function tC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vi(t):t;return{pathname:n?n.startsWith("/")?n:nC(n,e):e,search:aC(r),hash:lC(i)}}function nC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iC(t,e){let n=rC(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Vi(t):(i=da({},t),vt(!i.pathname||!i.pathname.includes("?"),Wh("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),Wh("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),Wh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=tC(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const yi=t=>t.join("/").replace(/\/\/+/g,"/"),sC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const W1=["post","put","patch","delete"];new Set(W1);const cC=["get",...W1];new Set(cC);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fa.apply(this,arguments)}const Yp=te.createContext(null),hC=te.createContext(null),_c=te.createContext(null),Ec=te.createContext(null),Wo=te.createContext({outlet:null,matches:[],isDataRoute:!1}),H1=te.createContext(null);function wc(){return te.useContext(Ec)!=null}function Xp(){return wc()||vt(!1),te.useContext(Ec).location}function q1(t){te.useContext(_c).static||te.useLayoutEffect(t)}function Jp(){let{isDataRoute:t}=te.useContext(Wo);return t?RC():dC()}function dC(){wc()||vt(!1);let t=te.useContext(Yp),{basename:e,future:n,navigator:r}=te.useContext(_c),{matches:i}=te.useContext(Wo),{pathname:o}=Xp(),s=JSON.stringify(iC(i,n.v7_relativeSplatPath)),a=te.useRef(!1);return q1(()=>{a.current=!0}),te.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=oC(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:yi([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,o,t])}function fC(t,e){return pC(t,e)}function pC(t,e,n,r){wc()||vt(!1);let{navigator:i}=te.useContext(_c),{matches:o}=te.useContext(Wo),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Xp(),c;if(e){var h;let A=typeof e=="string"?Vi(e):e;l==="/"||(h=A.pathname)!=null&&h.startsWith(l)||vt(!1),c=A}else c=u;let d=c.pathname||"/",p=l==="/"?d:d.slice(l.length)||"/",y=UI(t,{pathname:p}),E=_C(y&&y.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:yi([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:yi([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,r);return e&&E?te.createElement(Ec.Provider,{value:{location:fa({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Pr.Pop}},E):E}function mC(){let t=TC(),e=uC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),n?te.createElement("pre",{style:i},n):null,null)}const gC=te.createElement(mC,null);class yC extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?te.createElement(Wo.Provider,{value:this.props.routeContext},te.createElement(H1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vC(t){let{routeContext:e,match:n,children:r}=t,i=te.useContext(Yp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),te.createElement(Wo.Provider,{value:e},r)}function _C(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||vt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:p}=n,y=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let p,y=!1,E=null,A=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||gC,l&&(u<0&&d===0?(AC("route-fallback",!1),y=!0,A=null):u===d&&(y=!0,A=h.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,d+1)),f=()=>{let g;return p?g=E:y?g=A:h.route.Component?g=te.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=c,te.createElement(vC,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?te.createElement(yC,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var K1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(K1||{}),Cu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cu||{});function EC(t){let e=te.useContext(Yp);return e||vt(!1),e}function wC(t){let e=te.useContext(hC);return e||vt(!1),e}function SC(t){let e=te.useContext(Wo);return e||vt(!1),e}function G1(t){let e=SC(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function TC(){var t;let e=te.useContext(H1),n=wC(Cu.UseRouteError),r=G1(Cu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RC(){let{router:t}=EC(K1.UseNavigateStable),e=G1(Cu.UseNavigateStable),n=te.useRef(!1);return q1(()=>{n.current=!0}),te.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fa({fromRouteId:e},o)))},[t,e])}const Oy={};function AC(t,e,n){!e&&!Oy[t]&&(Oy[t]=!0)}function Rs(t){vt(!1)}function IC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Pr.Pop,navigator:o,static:s=!1,future:a}=t;wc()&&vt(!1);let l=e.replace(/^\/*/,"/"),u=te.useMemo(()=>({basename:l,navigator:o,static:s,future:fa({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Vi(r));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:y="default"}=r,E=te.useMemo(()=>{let A=z1(c,l);return A==null?null:{location:{pathname:A,search:h,hash:d,state:p,key:y},navigationType:i}},[l,c,h,d,p,y,i]);return E==null?null:te.createElement(_c.Provider,{value:u},te.createElement(Ec.Provider,{children:n,value:E}))}function CC(t){let{children:e,location:n}=t;return fC(gf(e),n)}new Promise(()=>{});function gf(t,e){e===void 0&&(e=[]);let n=[];return te.Children.forEach(t,(r,i)=>{if(!te.isValidElement(r))return;let o=[...e,i];if(r.type===te.Fragment){n.push.apply(n,gf(r.props.children,o));return}r.type!==Rs&&vt(!1),!r.props.index||!r.props.children||vt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=gf(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const PC="startTransition",$y=IR[PC];function kC(t){let{basename:e,children:n,future:r,window:i}=t,o=te.useRef();o.current==null&&(o.current=OI({window:i,v5Compat:!0}));let s=o.current,[a,l]=te.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=te.useCallback(h=>{u&&$y?$y(()=>l(h)):l(h)},[l,u]);return te.useLayoutEffect(()=>s.listen(c),[s,c]),te.createElement(IC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Fy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fy||(Fy={}));var Uy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Uy||(Uy={}));var Q1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},By=_e.createContext&&_e.createContext(Q1),Fr=function(){return Fr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fr.apply(this,arguments)},NC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Y1(t){return t&&t.map(function(e,n){return _e.createElement(e.tag,Fr({key:n},e.attr),Y1(e.child))})}function Xr(t){return function(e){return _e.createElement(xC,Fr({attr:Fr({},t.attr)},e),Y1(t.child))}}function xC(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=NC(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),_e.createElement("svg",Fr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Fr(Fr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&_e.createElement("title",null,o),t.children)};return By!==void 0?_e.createElement(By.Consumer,null,function(n){return e(n)}):e(Q1)}function jy(t){return Xr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(t)}function VC(t){return Xr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.8 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM102 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM410 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38z"}}]})(t)}const DC=()=>{const t=Xp(),e=Jp(),n=()=>{e(-1)};return N.jsxs("div",{children:[N.jsxs("div",{className:"flex mx-2 my-2 justify-between ",children:[N.jsx("div",{className:"text-2xl",onClick:n,children:N.jsx(jy,{})}),N.jsx("div",{className:"font-semibold",children:t.pathname==="/"?"":t.pathname==="/comment"?"":""}),N.jsx("div",{className:"text-2xl text-white",onClick:n,children:N.jsx(jy,{})})]}),N.jsx("hr",{})]})};var X1={};function LC(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var bC=LC,Te=bC;function MC(t){return!!t&&typeof t.then=="function"}var Qe=MC;function OC(t,e){if(t!=null)return t;throw Te(e??"Got unexpected null or undefined")}var et=OC;function Ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Sc{getValue(){throw Te("BaseLoadable")}toPromise(){throw Te("BaseLoadable")}valueMaybe(){throw Te("BaseLoadable")}valueOrThrow(){throw Te(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Te("BaseLoadable")}promiseOrThrow(){throw Te(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Te("BaseLoadable")}errorOrThrow(){throw Te(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Te("BaseLoadable")}}class $C extends Sc{constructor(e){super(),Ee(this,"state","hasValue"),Ee(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Qe(n)?Ri(n):Co(n)?n:ba(n)}catch(n){return Qe(n)?Ri(n.next(()=>this.map(e))):Tc(n)}}}class FC extends Sc{constructor(e){super(),Ee(this,"state","hasError"),Ee(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class J1 extends Sc{constructor(e){super(),Ee(this,"state","loading"),Ee(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Ri(this.contents.then(n=>{const r=e(n);if(Co(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Qe(n))return n.then(()=>this.map(e).contents);throw n}))}}function ba(t){return Object.freeze(new $C(t))}function Tc(t){return Object.freeze(new FC(t))}function Ri(t){return Object.freeze(new J1(t))}function Z1(){return Object.freeze(new J1(new Promise(()=>{})))}function UC(t){return t.every(e=>e.state==="hasValue")?ba(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Tc(et(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Ri(Promise.all(t.map(e=>e.contents)))}function eE(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Co(i)?i:Qe(i)?Ri(i):ba(i)),r=UC(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:i[a]}),{}))}function Co(t){return t instanceof Sc}const BC={of:t=>Qe(t)?Ri(t):Co(t)?t:ba(t),error:t=>Tc(t),loading:()=>Z1(),all:eE,isLoadable:Co};var Di={loadableWithValue:ba,loadableWithError:Tc,loadableWithPromise:Ri,loadableLoading:Z1,loadableAll:eE,isLoadable:Co,RecoilLoadable:BC},jC=Di.loadableWithValue,zC=Di.loadableWithError,WC=Di.loadableWithPromise,HC=Di.loadableLoading,qC=Di.loadableAll,KC=Di.isLoadable,GC=Di.RecoilLoadable,Ma=Object.freeze({__proto__:null,loadableWithValue:jC,loadableWithError:zC,loadableWithPromise:WC,loadableLoading:HC,loadableAll:qC,isLoadable:KC,RecoilLoadable:GC});const yf={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function QC(t,e){var n,r;const i=(n=X1[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Te(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function YC(t,e){var n;const r=(n=X1[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function XC(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(QC("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{yf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),YC("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{yf.RECOIL_GKS_ENABLED.add(n)})}))}XC();var Ho=yf;function Rc(t){return Ho.RECOIL_GKS_ENABLED.has(t)}Rc.setPass=t=>{Ho.RECOIL_GKS_ENABLED.add(t)};Rc.setFail=t=>{Ho.RECOIL_GKS_ENABLED.delete(t)};Rc.clear=()=>{Ho.RECOIL_GKS_ENABLED.clear()};var je=Rc;function JC(t,e,{error:n}={}){return null}var ZC=JC,Zp=ZC,Hh,qh,Kh;const eP=(Hh=_e.createMutableSource)!==null&&Hh!==void 0?Hh:_e.unstable_createMutableSource,tE=(qh=_e.useMutableSource)!==null&&qh!==void 0?qh:_e.unstable_useMutableSource,nE=(Kh=_e.useSyncExternalStore)!==null&&Kh!==void 0?Kh:_e.unstable_useSyncExternalStore;function tP(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function nP(){return je("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:je("recoil_sync_external_store")&&nE!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:je("recoil_mutable_source")&&tE!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?je("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:je("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function rP(){return!1}var Oa={createMutableSource:eP,useMutableSource:tE,useSyncExternalStore:nE,currentRendererSupportsUseSyncExternalStore:tP,reactMode:nP,isFastRefreshEnabled:rP};class em{constructor(e){Ee(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class rE extends em{}class iE extends em{}function iP(t){return t instanceof rE||t instanceof iE}var Ac={AbstractRecoilValue:em,RecoilState:rE,RecoilValueReadOnly:iE,isRecoilValue:iP},oP=Ac.AbstractRecoilValue,sP=Ac.RecoilState,aP=Ac.RecoilValueReadOnly,lP=Ac.isRecoilValue,Po=Object.freeze({__proto__:null,AbstractRecoilValue:oP,RecoilState:sP,RecoilValueReadOnly:aP,isRecoilValue:lP});function uP(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Ic=uP;class oE{}const cP=new oE,Ai=new Map,tm=new Map;function hP(t){return Ic(t,e=>et(tm.get(e)))}function dP(t){if(Ai.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function fP(t){Ho.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&dP(t.key),Ai.set(t.key,t);const e=t.set==null?new Po.RecoilValueReadOnly(t.key):new Po.RecoilState(t.key);return tm.set(t.key,e),e}class sE extends Error{}function pP(t){const e=Ai.get(t);if(e==null)throw new sE(`Missing definition for RecoilValue: "${t}""`);return e}function mP(t){return Ai.get(t)}const Pu=new Map;function gP(t){var e;if(!je("recoil_memory_managament_2020"))return;const n=Ai.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Ai.delete(t),(r=aE(t))===null||r===void 0||r(),Pu.delete(t)}}function yP(t,e){je("recoil_memory_managament_2020")&&(e===void 0?Pu.delete(t):Pu.set(t,e))}function aE(t){return Pu.get(t)}var sn={nodes:Ai,recoilValues:tm,registerNode:fP,getNode:pP,getNodeMaybe:mP,deleteNodeConfigIfPossible:gP,setConfigDeletionHandler:yP,getConfigDeletionHandler:aE,recoilValuesForKeys:hP,NodeMissingError:sE,DefaultValue:oE,DEFAULT_VALUE:cP};function vP(t,e){e()}var _P={enqueueExecution:vP};function EP(t,e){return e={exports:{}},t(e,e.exports),e.exports}var wP=EP(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,l={},u=function(w){return function(){return w}},c=n.hash=function(R){var w=typeof R>"u"?"undefined":e(R);if(w==="number")return R;w!=="string"&&(R+="");for(var F=0,Y=0,X=R.length;Y<X;++Y){var ie=R.charCodeAt(Y);F=(F<<5)-F+ie|0}return F},h=function(w){return w-=w>>1&1431655765,w=(w&858993459)+(w>>2&858993459),w=w+(w>>4)&252645135,w+=w>>8,w+=w>>16,w&127},d=function(w,F){return F>>>w&o},p=function(w){return 1<<w},y=function(w,F){return h(w&F-1)},E=function(w,F,Y,X){var ie=X;if(!w){var me=X.length;ie=new Array(me);for(var de=0;de<me;++de)ie[de]=X[de]}return ie[F]=Y,ie},A=function(w,F,Y){var X=Y.length-1,ie=0,me=0,de=Y;if(w)ie=me=F;else for(de=new Array(X);ie<F;)de[me++]=Y[ie++];for(++ie;ie<=X;)de[me++]=Y[ie++];return w&&(de.length=X),de},m=function(w,F,Y,X){var ie=X.length;if(w){for(var me=ie;me>=F;)X[me--]=X[me];return X[F]=Y,X}for(var de=0,fe=0,Re=new Array(ie+1);de<F;)Re[fe++]=X[de++];for(Re[F]=Y;de<ie;)Re[++fe]=X[de++];return Re},f=1,g=2,T=3,C=4,L={__hamt_isEmpty:!0},M=function(w){return w===L||w&&w.__hamt_isEmpty},q=function(w,F,Y,X){return{type:f,edit:w,hash:F,key:Y,value:X,_modify:B}},ae=function(w,F,Y){return{type:g,edit:w,hash:F,children:Y,_modify:x}},J=function(w,F,Y){return{type:T,edit:w,mask:F,children:Y,_modify:S}},Ie=function(w,F,Y){return{type:C,edit:w,size:F,children:Y,_modify:z}},$=function(w){return w===L||w.type===f||w.type===g},D=function(w,F,Y,X,ie){for(var me=[],de=X,fe=0,Re=0;de;++Re)de&1&&(me[Re]=ie[fe++]),de>>>=1;return me[F]=Y,Ie(w,fe+1,me)},Z=function(w,F,Y,X){for(var ie=new Array(F-1),me=0,de=0,fe=0,Re=X.length;fe<Re;++fe)if(fe!==Y){var Xe=X[fe];Xe&&!M(Xe)&&(ie[me++]=Xe,de|=1<<fe)}return J(w,de,ie)},ue=function R(w,F,Y,X,ie,me){if(Y===ie)return ae(w,Y,[me,X]);var de=d(F,Y),fe=d(F,ie);return J(w,p(de)|p(fe),de===fe?[R(w,F+r,Y,X,ie,me)]:de<fe?[X,me]:[me,X])},Ae=function(w,F,Y,X,ie,me,de,fe){for(var Re=ie.length,Xe=0;Xe<Re;++Xe){var Jt=ie[Xe];if(Y(de,Jt.key)){var wt=Jt.value,mn=me(wt);return mn===wt?ie:mn===l?(--fe.value,A(w,Xe,ie)):E(w,Xe,q(F,X,de,mn),ie)}}var Cn=me();return Cn===l?ie:(++fe.value,E(w,Re,q(F,X,de,Cn),ie))},be=function(w,F){return w===F.edit},B=function(w,F,Y,X,ie,me,de){if(F(me,this.key)){var fe=X(this.value);return fe===this.value?this:fe===l?(--de.value,L):be(w,this)?(this.value=fe,this):q(w,ie,me,fe)}var Re=X();return Re===l?this:(++de.value,ue(w,Y,this.hash,this,ie,q(w,ie,me,Re)))},x=function(w,F,Y,X,ie,me,de){if(ie===this.hash){var fe=be(w,this),Re=Ae(fe,w,F,this.hash,this.children,X,me,de);return Re===this.children?this:Re.length>1?ae(w,this.hash,Re):Re[0]}var Xe=X();return Xe===l?this:(++de.value,ue(w,Y,this.hash,this,ie,q(w,ie,me,Xe)))},S=function(w,F,Y,X,ie,me,de){var fe=this.mask,Re=this.children,Xe=d(Y,ie),Jt=p(Xe),wt=y(fe,Jt),mn=fe&Jt,Cn=mn?Re[wt]:L,Ui=Cn._modify(w,F,Y+r,X,ie,me,de);if(Cn===Ui)return this;var al=be(w,this),ts=fe,ns=void 0;if(mn&&M(Ui)){if(ts&=~Jt,!ts)return L;if(Re.length<=2&&$(Re[wt^1]))return Re[wt^1];ns=A(al,wt,Re)}else if(!mn&&!M(Ui)){if(Re.length>=s)return D(w,Xe,Ui,fe,Re);ts|=Jt,ns=m(al,wt,Ui,Re)}else ns=E(al,wt,Ui,Re);return al?(this.mask=ts,this.children=ns,this):J(w,ts,ns)},z=function(w,F,Y,X,ie,me,de){var fe=this.size,Re=this.children,Xe=d(Y,ie),Jt=Re[Xe],wt=(Jt||L)._modify(w,F,Y+r,X,ie,me,de);if(Jt===wt)return this;var mn=be(w,this),Cn=void 0;if(M(Jt)&&!M(wt))++fe,Cn=E(mn,Xe,wt,Re);else if(!M(Jt)&&M(wt)){if(--fe,fe<=a)return Z(w,fe,Xe,Re);Cn=E(mn,Xe,L,Re)}else Cn=E(mn,Xe,wt,Re);return mn?(this.size=fe,this.children=Cn,this):Ie(w,fe,Cn)};L._modify=function(R,w,F,Y,X,ie,me){var de=Y();return de===l?L:(++me.value,q(R,X,ie,de))};function v(R,w,F,Y,X){this._editable=R,this._edit=w,this._config=F,this._root=Y,this._size=X}v.prototype.setTree=function(R,w){return this._editable?(this._root=R,this._size=w,this):R===this._root?this:new v(this._editable,this._edit,this._config,R,w)};var P=n.tryGetHash=function(R,w,F,Y){for(var X=Y._root,ie=0,me=Y._config.keyEq;;)switch(X.type){case f:return me(F,X.key)?X.value:R;case g:{if(w===X.hash)for(var de=X.children,fe=0,Re=de.length;fe<Re;++fe){var Xe=de[fe];if(me(F,Xe.key))return Xe.value}return R}case T:{var Jt=d(ie,w),wt=p(Jt);if(X.mask&wt){X=X.children[y(X.mask,wt)],ie+=r;break}return R}case C:{if(X=X.children[d(ie,w)],X){ie+=r;break}return R}default:return R}};v.prototype.tryGetHash=function(R,w,F){return P(R,w,F,this)};var V=n.tryGet=function(R,w,F){return P(R,F._config.hash(w),w,F)};v.prototype.tryGet=function(R,w){return V(R,w,this)};var ee=n.getHash=function(R,w,F){return P(void 0,R,w,F)};v.prototype.getHash=function(R,w){return ee(R,w,this)},n.get=function(R,w){return P(void 0,w._config.hash(R),R,w)},v.prototype.get=function(R,w){return V(w,R,this)};var W=n.has=function(R,w,F){return P(l,R,w,F)!==l};v.prototype.hasHash=function(R,w){return W(R,w,this)};var le=n.has=function(R,w){return W(w._config.hash(R),R,w)};v.prototype.has=function(R){return le(R,this)};var pe=function(w,F){return w===F};n.make=function(R){return new v(0,0,{keyEq:R&&R.keyEq||pe,hash:R&&R.hash||c},L,0)},n.empty=n.make();var oe=n.isEmpty=function(R){return R&&!!M(R._root)};v.prototype.isEmpty=function(){return oe(this)};var ke=n.modifyHash=function(R,w,F,Y){var X={value:Y._size},ie=Y._root._modify(Y._editable?Y._edit:NaN,Y._config.keyEq,0,R,w,F,X);return Y.setTree(ie,X.value)};v.prototype.modifyHash=function(R,w,F){return ke(F,R,w,this)};var Ne=n.modify=function(R,w,F){return ke(R,F._config.hash(w),w,F)};v.prototype.modify=function(R,w){return Ne(w,R,this)};var Se=n.setHash=function(R,w,F,Y){return ke(u(F),R,w,Y)};v.prototype.setHash=function(R,w,F){return Se(R,w,F,this)};var xe=n.set=function(R,w,F){return Se(F._config.hash(R),R,w,F)};v.prototype.set=function(R,w){return xe(R,w,this)};var tt=u(l),Me=n.removeHash=function(R,w,F){return ke(tt,R,w,F)};v.prototype.removeHash=v.prototype.deleteHash=function(R,w){return Me(R,w,this)};var ze=n.remove=function(R,w){return Me(w._config.hash(R),R,w)};v.prototype.remove=v.prototype.delete=function(R){return ze(R,this)};var Ue=n.beginMutation=function(R){return new v(R._editable+1,R._edit+1,R._config,R._root,R._size)};v.prototype.beginMutation=function(){return Ue(this)};var nt=n.endMutation=function(R){return R._editable=R._editable&&R._editable-1,R};v.prototype.endMutation=function(){return nt(this)};var _=n.mutate=function(R,w){var F=Ue(w);return R(F),nt(F)};v.prototype.mutate=function(R){return _(R,this)};var I=function(w){return w&&k(w[0],w[1],w[2],w[3],w[4])},k=function(w,F,Y,X,ie){for(;Y<w;){var me=F[Y++];if(me&&!M(me))return K(me,X,[w,F,Y,X,ie])}return I(ie)},K=function(w,F,Y){switch(w.type){case f:return{value:F(w),rest:Y};case g:case C:case T:var X=w.children;return k(X.length,X,0,F,Y);default:return I(Y)}},H={done:!0};function j(R){this.v=R}j.prototype.next=function(){if(!this.v)return H;var R=this.v;return this.v=I(R.rest),R},j.prototype[Symbol.iterator]=function(){return this};var ce=function(w,F){return new j(K(w._root,F))},Be=function(w){return[w.key,w.value]},ht=n.entries=function(R){return ce(R,Be)};v.prototype.entries=v.prototype[Symbol.iterator]=function(){return ht(this)};var pn=function(w){return w.key},_r=n.keys=function(R){return ce(R,pn)};v.prototype.keys=function(){return _r(this)};var gh=function(w){return w.value},es=n.values=v.prototype.values=function(R){return ce(R,gh)};v.prototype.values=function(){return es(this)};var Fi=n.fold=function(R,w,F){var Y=F._root;if(Y.type===f)return R(w,Y.value,Y.key);for(var X=[Y.children],ie=void 0;ie=X.pop();)for(var me=0,de=ie.length;me<de;){var fe=ie[me++];fe&&fe.type&&(fe.type===f?w=R(w,fe.value,fe.key):X.push(fe.children))}return w};v.prototype.fold=function(R,w){return Fi(R,w,this)};var yh=n.forEach=function(R,w){return Fi(function(F,Y,X){return R(Y,X,w)},null,w)};v.prototype.forEach=function(R){return yh(R,this)};var sl=n.count=function(R){return R._size};v.prototype.count=function(){return sl(this)},Object.defineProperty(v.prototype,"size",{get:v.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class SP{constructor(e){Ee(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return rm(this)}toMap(){return new Map(this._map)}}class nm{constructor(e){if(Ee(this,"_hamt",wP.empty.beginMutation()),e instanceof nm){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return rm(this)}toMap(){return new Map(this._hamt)}}function rm(t){return je("recoil_hamt_2020")?new nm(t):new SP(t)}var TP={persistentMap:rm},RP=TP.persistentMap,AP=Object.freeze({__proto__:null,persistentMap:RP});function IP(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var Fs=IP;function CP(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var ku=CP;function PP(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function kP(t){return{nodeDeps:ku(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:ku(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Gh(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;i.set(t,e);const a=s==null?e:Fs(e,s);for(const l of a)o.has(l)||o.set(l,new Set),et(o.get(l)).add(t);if(s){const l=Fs(s,e);for(const u of l){if(!o.has(u))return;const c=et(o.get(u));c.delete(t),c.size===0&&o.delete(u)}}}function NP(t,e,n,r){var i,o,s,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((o=l.previousTree)===null||o===void 0||o.version);const u=n.getGraph(r);if(Gh(t,e,u),r===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const h=n.getGraph(l.currentTree.version);Gh(t,e,h,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const h=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(h!==void 0){const d=n.getGraph(h);Gh(t,e,d,u)}}}var $a={cloneGraph:kP,graph:PP,saveDepsToStore:NP};let xP=0;const VP=()=>xP++;let DP=0;const LP=()=>DP++;let bP=0;const MP=()=>bP++;var Cc={getNextTreeStateVersion:VP,getNextStoreID:LP,getNextComponentID:MP};const{persistentMap:zy}=AP,{graph:OP}=$a,{getNextTreeStateVersion:lE}=Cc;function uE(){const t=lE();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:zy(),nonvalidatedAtoms:zy()}}function $P(){const t=uE();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,OP()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var cE={makeEmptyTreeState:uE,makeEmptyStoreState:$P,getNextTreeStateVersion:lE};class hE{}function FP(){return new hE}var Pc={RetentionZone:hE,retentionZone:FP};function UP(t,e){const n=new Set(t);return n.add(e),n}function BP(t,e){const n=new Set(t);return n.delete(e),n}function jP(t,e,n){const r=new Map(t);return r.set(e,n),r}function zP(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function WP(t,e){const n=new Map(t);return n.delete(e),n}function HP(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var dE={setByAddingToSet:UP,setByDeletingFromSet:BP,mapBySettingInMap:jP,mapByUpdatingInMap:zP,mapByDeletingFromMap:WP,mapByDeletingMultipleFromMap:HP};function*qP(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var im=qP;function KP(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var fE=KP;const{getNode:Fa,getNodeMaybe:GP,recoilValuesForKeys:Wy}=sn,{RetentionZone:Hy}=Pc,{setByAddingToSet:QP}=dE,YP=Object.freeze(new Set);class XP extends Error{}function JP(t,e,n){if(!je("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof Hy)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!je("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof Hy)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function om(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Fa(n),s=JP(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function ZP(t,e,n){om(t,t.getState().currentTree,e,n)}function ek(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function tk(t,e,n){return om(t,e,n,"get"),Fa(n).get(t,e)}function pE(t,e,n){return Fa(n).peek(t,e)}function nk(t,e,n){var r;const i=GP(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:QP(t.dirtyAtoms,e)}}function rk(t,e,n,r){const i=Fa(n);if(i.set==null)throw new XP(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return om(t,e,n,"set"),o(t,e,r)}function ik(t,e,n){const r=t.getState(),i=t.getGraph(e.version),o=Fa(n).nodeType;return fE({type:o},{loadable:()=>pE(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return Wy((s=i.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:Wy(im(mE(t,e,new Set([n])),l=>l!==n)),components:Ic((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function mE(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:YP;for(const u of l)r.has(u)||i.push(u)}return r}var Jr={getNodeLoadable:tk,peekNodeLoadable:pE,setNodeValue:rk,initializeNode:ZP,cleanUpNode:ek,setUnvalidatedAtomValue_DEPRECATED:nk,peekNodeInfo:ik,getDownstreamNodes:mE};let gE=null;function ok(t){gE=t}function sk(){var t;(t=gE)===null||t===void 0||t()}var yE={setInvalidateMemoizedSnapshot:ok,invalidateMemoizedSnapshot:sk};const{getDownstreamNodes:ak,getNodeLoadable:vE,setNodeValue:lk}=Jr,{getNextComponentID:uk}=Cc,{getNode:ck,getNodeMaybe:_E}=sn,{DefaultValue:sm}=sn,{reactMode:hk}=Oa,{AbstractRecoilValue:dk,RecoilState:fk,RecoilValueReadOnly:pk,isRecoilValue:mk}=Po,{invalidateMemoizedSnapshot:gk}=yE;function yk(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=o.previousTree)===null||i===void 0||i.version);const s=vE(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function vk(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof sm?n.delete(i):n.set(i,r)}),n}function _k(t,e,{key:n},r){if(typeof r=="function"){const i=vE(t,e,n);if(i.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Te(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function Ek(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=_k(t,e,i,o),a=lk(t,e,i.key,s);for(const[l,u]of a.entries())vf(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;vf(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=_E(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else Zp(`Unknown action ${n.type}`)}function vf(t,e,n){n.state==="hasValue"&&n.contents instanceof sm?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function EE(t,e){t.replaceState(n=>{const r=wE(n);for(const i of e)Ek(t,r,i);return SE(t,r),gk(),r})}function kc(t,e){if(Us.length){const n=Us[Us.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else EE(t,[e])}const Us=[];function wk(){const t=new Map;return Us.push(t),()=>{for(const[e,n]of t)EE(e,n);Us.pop()}}function wE(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function SE(t,e){const n=ak(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=_E(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function TE(t,e,n){kc(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function Sk(t,e,n){if(n instanceof sm)return TE(t,e,n);kc(t,{type:"setLoadable",recoilValue:e,loadable:n})}function Tk(t,e){kc(t,{type:"markModified",recoilValue:e})}function Rk(t,e,n){kc(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function Ak(t,{key:e},n,r=null){const i=uk(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),et(o.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const s=hk();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function Ik(t,e){var n;const{currentTree:r}=t.getState(),i=ck(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Zn={RecoilValueReadOnly:pk,AbstractRecoilValue:dk,RecoilState:fk,getRecoilValueAsLoadable:yk,setRecoilValue:TE,setRecoilValueLoadable:Sk,markRecoilValueModified:Tk,setUnvalidatedRecoilValue:Rk,subscribeToRecoilValue:Ak,isRecoilValue:mk,applyAtomValueWrites:vk,batchStart:wk,writeLoadableToTreeState:vf,invalidateDownstreams:SE,copyTreeState:wE,refreshRecoilValue:Ik};function Ck(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var Pk=Ck;const{cleanUpNode:kk}=Jr,{deleteNodeConfigIfPossible:Nk,getNode:RE}=sn,{RetentionZone:AE}=Pc,xk=12e4,IE=new Set;function CE(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const s of e)if(s instanceof AE)for(const a of bk(n,s))i.add(a);else i.add(s);const o=Vk(t,i);for(const s of o)Lk(t,r,s)}function Vk(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(l){const u=new Set,c=Dk(t,r,l,o,s);for(const y of c){var h;if(RE(y).retainedBy==="recoilRoot"){s.add(y);continue}if(((h=n.retention.referenceCounts.get(y))!==null&&h!==void 0?h:0)>0){s.add(y);continue}if(PE(y).some(A=>n.retention.referenceCounts.get(A))){s.add(y);continue}const E=i.nodeToNodeSubscriptions.get(y);if(E&&Pk(E,A=>s.has(A))){s.add(y);continue}o.add(y),u.add(y)}const d=new Set;for(const y of u)for(const E of(p=i.nodeDeps.get(y))!==null&&p!==void 0?p:IE){var p;o.has(E)||d.add(E)}d.size&&a(d)}}function Dk(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(et(n.values().next().value));return s;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=o.nodeToNodeSubscriptions.get(u);if(c)for(const h of c)l(h);a.add(u),n.delete(u),s.push(u)}}function Lk(t,e,n){if(!je("recoil_memory_managament_2020"))return;kk(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=PE(n);for(const l of i){var o;(o=r.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const u of l){var a;(a=s.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}Nk(n)}function bk(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:IE}function PE(t){const e=RE(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof AE?[e]:e}function Mk(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):CE(t,new Set([e]))}function Ok(t,e,n){var r;if(!je("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?kE(t,e):i.set(e,o)}function kE(t,e){if(!je("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),Mk(t,e)}function $k(t){if(!je("recoil_memory_managament_2020"))return;const e=t.getState();CE(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function Fk(t){return t===void 0?"recoilRoot":t}var Li={SUSPENSE_TIMEOUT_MS:xk,updateRetainCount:Ok,updateRetainCountToZero:kE,releaseScheduledRetainablesNow:$k,retainedByOptionWithDefault:Fk};const{unstable_batchedUpdates:Uk}=MI;var Bk={unstable_batchedUpdates:Uk};const{unstable_batchedUpdates:jk}=Bk;var zk={unstable_batchedUpdates:jk};const{batchStart:Wk}=Zn,{unstable_batchedUpdates:Hk}=zk;let am=Hk||(t=>t());const qk=t=>{am=t},Kk=()=>am,Gk=t=>{am(()=>{let e=()=>{};try{e=Wk(),t()}finally{e()}})};var Nc={getBatcher:Kk,setBatcher:qk,batchUpdates:Gk};function*Qk(t){for(const e of t)for(const n of e)yield n}var NE=Qk;const xE=typeof Window>"u"||typeof window>"u",Yk=t=>!xE&&(t===window||t instanceof Window),Xk=typeof navigator<"u"&&navigator.product==="ReactNative";var xc={isSSR:xE,isReactNative:Xk,isWindow:Yk};function Jk(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function Zk(t,e){let n,r;return(...i)=>{const o=e(...i);return n===o||(n=o,r=t(...i)),r}}function eN(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var tN={memoizeWithArgsHash:Jk,memoizeOneWithArgsHash:Zk,memoizeOneWithArgsHashAndInvalidation:eN};const{batchUpdates:_f}=Nc,{initializeNode:nN,peekNodeInfo:rN}=Jr,{graph:iN}=$a,{getNextStoreID:oN}=Cc,{DEFAULT_VALUE:sN,recoilValues:qy,recoilValuesForKeys:Ky}=sn,{AbstractRecoilValue:aN,getRecoilValueAsLoadable:lN,setRecoilValue:Gy,setUnvalidatedRecoilValue:uN}=Zn,{updateRetainCount:Xl}=Li,{setInvalidateMemoizedSnapshot:cN}=yE,{getNextTreeStateVersion:hN,makeEmptyStoreState:dN}=cE,{isSSR:fN}=xc,{memoizeOneWithArgsHashAndInvalidation:pN}=tN;class Vc{constructor(e,n){Ee(this,"_store",void 0),Ee(this,"_refCount",1),Ee(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),lN(this._store,r))),Ee(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Ee(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return Ky(s.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?qy.values():r.isInitialized===!0?Ky(NE([i,o])):im(qy.values(),({key:s})=>!i.has(s)&&!o.has(s))}),Ee(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),rN(this._store,this._store.getState().currentTree,r))),Ee(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new Ef(this,_f);return r(i),i}),Ee(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new Ef(this,_f);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:oN(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return et(i.get(r));const o=iN();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Te("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)nN(this._store,r,"get"),Xl(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){fN||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!je("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){je("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function VE(t,e,n=!1){const r=t.getState(),i=n?hN():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Ic(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function mN(t){const e=new Vc(dN());return t!=null?e.map(t):e}const[Qy,DE]=pN((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:et(r.previousTree);return new Vc(VE(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});cN(DE);function gN(t,e="latest"){const n=Qy(t,e);return n.isRetained()?n:(DE(),Qy(t,e))}class Ef extends Vc{constructor(e,n){super(VE(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ee(this,"_batch",void 0),Ee(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{Xl(o,r.key,1),Gy(this.getStore_INTERNAL(),r,i)})}),Ee(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Xl(i,r.key,1),Gy(this.getStore_INTERNAL(),r,sN)})}),Ee(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();_f(()=>{for(const[o,s]of r.entries())Xl(i,o,1),uN(i,new aN(o),s)})}),this._batch=n}}var Dc={Snapshot:Vc,MutableSnapshot:Ef,freshSnapshot:mN,cloneSnapshot:gN},yN=Dc.Snapshot,vN=Dc.MutableSnapshot,_N=Dc.freshSnapshot,EN=Dc.cloneSnapshot,Lc=Object.freeze({__proto__:null,Snapshot:yN,MutableSnapshot:vN,freshSnapshot:_N,cloneSnapshot:EN});function wN(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var SN=wN;const{useRef:TN}=_e;function RN(t){const e=TN(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var Yy=RN;const{getNextTreeStateVersion:AN,makeEmptyStoreState:LE}=cE,{cleanUpNode:IN,getDownstreamNodes:CN,initializeNode:PN,setNodeValue:kN,setUnvalidatedAtomValue_DEPRECATED:NN}=Jr,{graph:xN}=$a,{cloneGraph:VN}=$a,{getNextStoreID:bE}=Cc,{createMutableSource:Qh,reactMode:ME}=Oa,{applyAtomValueWrites:DN}=Zn,{releaseScheduledRetainablesNow:OE}=Li,{freshSnapshot:LN}=Lc,{useCallback:bN,useContext:$E,useEffect:wf,useMemo:MN,useRef:ON,useState:$N}=_e;function hs(){throw Te("This component must be used inside a <RecoilRoot> component.")}const FE=Object.freeze({storeID:bE(),getState:hs,replaceState:hs,getGraph:hs,subscribeToTransactions:hs,addTransactionMetadata:hs});let Sf=!1;function Xy(t){if(Sf)throw Te("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){je("recoil_memory_managament_2020")&&je("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&OE(t);const n=e.currentTree.version,r=AN();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,VN(et(e.graphsByVersion.get(n))))}}const UE=_e.createContext({current:FE}),bc=()=>$E(UE),BE=_e.createContext(null);function FN(){return $E(BE)}function lm(t,e,n){const r=CN(t,n,n.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[s,[a,l]]of o)l(n)}}function jE(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[s,a]of o)a(t);for(const[i,o]of e.transactionSubscriptions)o(t);(!ME().early||e.suspendedComponentResolvers.size>0)&&(lm(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function UN(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,jE(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Zp("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,je("recoil_memory_managament_2020")&&n==null&&OE(t)}finally{e.commitDepth--}}function BN({setNotifyBatcherOfChange:t}){const e=bc(),[,n]=$N([]);return t(()=>n({})),wf(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),wf(()=>{_P.enqueueExecution("Batcher",()=>{UN(e.current)})}),null}function jN(t,e){const n=LE();return e({set:(r,i)=>{const o=n.currentTree,s=kN(t,o,r.key,i),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...o,dirtyAtoms:SN(o.dirtyAtoms,a),atomValues:DN(o.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=NN(n.currentTree,o,i)})}}),n}function zN(t){const e=LN(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let Jy=0;function WN({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const o=p=>{const y=i.current.graphsByVersion;if(y.has(p))return et(y.get(p));const E=xN();return y.set(p,E),E},s=(p,y)=>{if(y==null){const{transactionSubscriptions:E}=h.current.getState(),A=Jy++;return E.set(A,p),{release:()=>{E.delete(A)}}}else{const{nodeTransactionSubscriptions:E}=h.current.getState();E.has(y)||E.set(y,new Map);const A=Jy++;return et(E.get(y)).set(A,p),{release:()=>{const m=E.get(y);m&&(m.delete(A),m.size===0&&E.delete(y))}}}},a=p=>{Xy(h.current);for(const y of Object.keys(p))et(h.current.getState().nextTree).transactionMetadata[y]=p[y]},l=p=>{Xy(h.current);const y=et(i.current.nextTree);let E;try{Sf=!0,E=p(y)}finally{Sf=!1}E!==y&&(i.current.nextTree=E,ME().early&&lm(h.current,i.current,E),et(u.current)())},u=ON(null),c=bN(p=>{u.current=p},[u]),h=Yy(()=>n??{storeID:bE(),getState:()=>i.current,replaceState:l,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(h.current=n),i=Yy(()=>t!=null?jN(h.current,t):e!=null?zN(e):LE());const d=MN(()=>Qh==null?void 0:Qh(i,()=>i.current.currentTree.version),[i]);return wf(()=>{const p=h.current;for(const y of new Set(p.getState().knownAtoms))PN(p,y,"get");return()=>{for(const y of p.getState().knownAtoms)IN(p,y)}},[h]),_e.createElement(UE.Provider,{value:h},_e.createElement(BE.Provider,{value:d},_e.createElement(BN,{setNotifyBatcherOfChange:c}),r))}function HN(t){const{override:e,...n}=t,r=bc();return e===!1&&r.current!==FE?t.children:_e.createElement(WN,n)}function qN(){return bc().current.storeID}var vr={RecoilRoot:HN,useStoreRef:bc,useRecoilMutableSource:FN,useRecoilStoreID:qN,notifyComponents_FOR_TESTING:lm,sendEndOfBatchNotifications_FOR_TESTING:jE};function KN(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var GN=KN;const{useEffect:QN,useRef:YN}=_e;function XN(t){const e=YN();return QN(()=>{e.current=t}),e.current}var zE=XN;const{useStoreRef:JN}=vr,{SUSPENSE_TIMEOUT_MS:ZN}=Li,{updateRetainCount:ds}=Li,{RetentionZone:ex}=Pc,{useEffect:tx,useRef:nx}=_e,{isSSR:Zy}=xc;function rx(t){if(je("recoil_memory_managament_2020"))return ix(t)}function ix(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof ex?s:s.key),r=JN();tx(()=>{if(!je("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!Zy)window.clearTimeout(i.current),i.current=null;else for(const a of n)ds(s,a,1);return()=>{for(const a of n)ds(s,a,-1)}},[r,...n]);const i=nx(),o=zE(n);if(!Zy&&(o===void 0||!GN(o,n))){const s=r.current;for(const a of n)ds(s,a,1);if(o)for(const a of o)ds(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)ds(s,a,-1)},ZN)}}var um=rx;function ox(){return"<component name not available>"}var Ua=ox;const{batchUpdates:sx}=Nc,{DEFAULT_VALUE:WE}=sn,{currentRendererSupportsUseSyncExternalStore:ax,reactMode:qo,useMutableSource:lx,useSyncExternalStore:ux}=Oa,{useRecoilMutableSource:cx,useStoreRef:er}=vr,{AbstractRecoilValue:Tf,getRecoilValueAsLoadable:Ba,setRecoilValue:Nu,setUnvalidatedRecoilValue:hx,subscribeToRecoilValue:ko}=Zn,{useCallback:on,useEffect:No,useMemo:HE,useRef:Bs,useState:cm}=_e,{setByAddingToSet:dx}=dE,{isSSR:fx}=xc;function hm(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const o=n.current.getState().suspendedComponentResolvers;o.add(i),fx&&Qe(t.contents)&&t.contents.finally(()=>{o.delete(i)})}):t.state==="hasError"?t.contents:Te(`Invalid value of loadable atom "${e.key}"`)}function px(){const t=Ua(),e=er(),[,n]=cm([]),r=Bs(new Set);r.current=new Set;const i=Bs(new Set),o=Bs(new Map),s=on(l=>{const u=o.current.get(l);u&&(u.release(),o.current.delete(l))},[o]),a=on((l,u)=>{o.current.has(u)&&n([])},[]);return No(()=>{const l=e.current;Fs(r.current,i.current).forEach(u=>{if(o.current.has(u))return;const c=ko(l,new Tf(u),d=>a(d,u),t);o.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),Fs(i.current,r.current).forEach(u=>{s(u)}),i.current=r.current}),No(()=>{const l=o.current;return Fs(r.current,new Set(l.keys())).forEach(u=>{const c=ko(e.current,new Tf(u),h=>a(h,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>s(c))},[t,e,s,a]),HE(()=>{function l(y){return E=>{Nu(e.current,y,E)}}function u(y){return()=>Nu(e.current,y,WE)}function c(y){var E;r.current.has(y.key)||(r.current=dx(r.current,y.key));const A=e.current.getState();return Ba(e.current,y,qo().early&&(E=A.nextTree)!==null&&E!==void 0?E:A.currentTree)}function h(y){const E=c(y);return hm(E,y,e)}function d(y){return[h(y),l(y)]}function p(y){return[c(y),l(y)]}return{getRecoilValue:h,getRecoilValueLoadable:c,getRecoilState:d,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const mx={current:0};function gx(t){const e=er(),n=Ua(),r=on(()=>{var a;const l=e.current,u=l.getState(),c=qo().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:Ba(l,t,c),key:t.key}},[e,t]),i=on(a=>{let l;return()=>{var u,c;const h=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(h.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===h.key?l:(l=h,h)}},[]),o=HE(()=>i(r),[r,i]),s=on(a=>{const l=e.current;return ko(l,t,a,n).release},[e,t,n]);return ux(s,o,o).loadable}function yx(t){const e=er(),n=on(()=>{var u;const c=e.current,h=c.getState(),d=qo().early&&(u=h.nextTree)!==null&&u!==void 0?u:h.currentTree;return Ba(c,t,d)},[e,t]),r=on(()=>n(),[n]),i=Ua(),o=on((u,c)=>{const h=e.current;return ko(h,t,()=>{if(!je("recoil_suppress_rerender_in_callback"))return c();const p=n();l.current.is(p)||c(),l.current=p},i).release},[e,t,i,n]),s=cx();if(s==null)throw Te("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=lx(s,r,o),l=Bs(a);return No(()=>{l.current=a}),a}function Rf(t){const e=er(),n=Ua(),r=on(()=>{var l;const u=e.current,c=u.getState(),h=qo().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return Ba(u,t,h)},[e,t]),i=on(()=>({loadable:r(),key:t.key}),[r,t.key]),o=on(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);No(()=>{const l=ko(e.current,t,u=>{a(o)},n);return a(o),l.release},[n,t,e,o]);const[s,a]=cm(i);return s.key!==t.key?i().loadable:s.loadable}function vx(t){const e=er(),[,n]=cm([]),r=Ua(),i=on(()=>{var a;const l=e.current,u=l.getState(),c=qo().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return Ba(l,t,c)},[e,t]),o=i(),s=Bs(o);return No(()=>{s.current=o}),No(()=>{const a=e.current,l=a.getState(),u=ko(a,t,h=>{var d;if(!je("recoil_suppress_rerender_in_callback"))return n([]);const p=i();(d=s.current)!==null&&d!==void 0&&d.is(p)||n(p),s.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var c;if(!je("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(c=s.current)!==null&&c!==void 0&&c.is(h)||n(h),s.current=h}return u.release},[r,i,t,e]),o}function dm(t){return je("recoil_memory_managament_2020")&&um(t),{TRANSITION_SUPPORT:Rf,SYNC_EXTERNAL_STORE:ax()?gx:Rf,MUTABLE_SOURCE:yx,LEGACY:vx}[qo().mode](t)}function qE(t){const e=er(),n=dm(t);return hm(n,t,e)}function Mc(t){const e=er();return on(n=>{Nu(e.current,t,n)},[e,t])}function _x(t){const e=er();return on(()=>{Nu(e.current,t,WE)},[e,t])}function Ex(t){return[qE(t),Mc(t)]}function wx(t){return[dm(t),Mc(t)]}function Sx(){const t=er();return(e,n={})=>{sx(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>hx(t.current,new Tf(i),r))})}}function KE(t){return je("recoil_memory_managament_2020")&&um(t),Rf(t)}function GE(t){const e=er(),n=KE(t);return hm(n,t,e)}function Tx(t){return[GE(t),Mc(t)]}var Rx={recoilComponentGetRecoilValueCount_FOR_TESTING:mx,useRecoilInterface:px,useRecoilState:Ex,useRecoilStateLoadable:wx,useRecoilValue:qE,useRecoilValueLoadable:dm,useResetRecoilState:_x,useSetRecoilState:Mc,useSetUnvalidatedAtomValues:Sx,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:KE,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:GE,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Tx};function Ax(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var Ix=Ax;function Cx(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var Px=Cx;function kx(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var Nx=kx;const{batchUpdates:xx}=Nc,{DEFAULT_VALUE:Vx,getNode:QE,nodes:Dx}=sn,{useStoreRef:fm}=vr,{AbstractRecoilValue:Lx,setRecoilValueLoadable:bx}=Zn,{SUSPENSE_TIMEOUT_MS:Mx}=Li,{cloneSnapshot:xu}=Lc,{useCallback:Oc,useEffect:YE,useRef:ev,useState:Ox}=_e,{isSSR:tv}=xc;function $c(t){const e=fm();YE(()=>e.current.subscribeToTransactions(t).release,[t,e])}function nv(t){const e=t.atomValues.toMap(),n=ku(Ix(e,(r,i)=>{const s=QE(i).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return Nx(t.nonvalidatedAtoms.toMap(),n)}function $x(t){$c(Oc(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=nv(r),o=nv(n),s=ku(Dx,l=>{var u,c,h,d;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(h=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.backButton)!==null&&h!==void 0?h:!1}}}),a=Px(r.dirtyAtoms,l=>i.has(l)||o.has(l));t({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function Fx(t){$c(Oc(e=>{const n=xu(e,"latest"),r=xu(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function Ux(){const t=fm(),[e,n]=Ox(()=>xu(t.current)),r=zE(e),i=ev(),o=ev();if($c(Oc(a=>n(xu(a)),[])),YE(()=>{const a=e.retain();if(i.current&&!tv){var l;window.clearTimeout(i.current),i.current=null,(l=o.current)===null||l===void 0||l.call(o),o.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!tv){if(i.current){var s;window.clearTimeout(i.current),i.current=null,(s=o.current)===null||s===void 0||s.call(o),o.current=null}o.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=o.current)===null||a===void 0||a.call(o),o.current=null},Mx)}return e}function XE(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;xx(()=>{const s=new Set;for(const u of[i.atomValues.keys(),o.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&QE(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(u=>{bx(t,new Lx(u),o.atomValues.has(u)?et(o.atomValues.get(u)):Vx)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function Bx(){const t=fm();return Oc(e=>XE(t.current,e),[t])}var JE={useRecoilSnapshot:Ux,gotoSnapshot:XE,useGotoRecoilSnapshot:Bx,useRecoilTransactionObserver:Fx,useTransactionObservation_DEPRECATED:$x,useTransactionSubscription_DEPRECATED:$c};const{peekNodeInfo:jx}=Jr,{useStoreRef:zx}=vr;function Wx(){const t=zx();return({key:e})=>jx(t.current,t.current.getState().currentTree,e)}var Hx=Wx;const{reactMode:qx}=Oa,{RecoilRoot:Kx,useStoreRef:Gx}=vr,{useMemo:Qx}=_e;function Yx(){qx().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=Gx().current;return Qx(()=>{function e({children:n}){return _e.createElement(Kx,{store_INTERNAL:t},n)}return e},[t])}var Xx=Yx;const{loadableWithValue:Jx}=Ma,{initializeNode:Zx}=Jr,{DEFAULT_VALUE:e2,getNode:t2}=sn,{copyTreeState:n2,getRecoilValueAsLoadable:r2,invalidateDownstreams:i2,writeLoadableToTreeState:o2}=Zn;function rv(t){return t2(t.key).nodeType==="atom"}class s2{constructor(e,n){Ee(this,"_store",void 0),Ee(this,"_treeState",void 0),Ee(this,"_changes",void 0),Ee(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!rv(r))throw Te("Reading selectors within atomicUpdate is not supported");const i=r2(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Te(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Ee(this,"set",(r,i)=>{if(!rv(r))throw Te("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else Zx(this._store,r.key,"set"),this._changes.set(r.key,i)}),Ee(this,"reset",r=>{this.set(r,e2)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=n2(this._treeState);for(const[n,r]of this._changes)o2(e,n,Jx(r));return i2(this._store,e),e}}function a2(t){return e=>{t.replaceState(n=>{const r=new s2(t,n);return e(r),r.newTreeState_INTERNAL()})}}var l2={atomicUpdater:a2},u2=l2.atomicUpdater,ZE=Object.freeze({__proto__:null,atomicUpdater:u2});function c2(t,e){if(!t)throw new Error(e)}var h2=c2,As=h2;const{atomicUpdater:d2}=ZE,{batchUpdates:f2}=Nc,{DEFAULT_VALUE:p2}=sn,{useStoreRef:m2}=vr,{refreshRecoilValue:g2,setRecoilValue:iv}=Zn,{cloneSnapshot:y2}=Lc,{gotoSnapshot:v2}=JE,{useCallback:_2}=_e;class ew{}const E2=new ew;function tw(t,e,n,r){let i=E2,o;if(f2(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Te(a);const l=fE({...r??{},set:(c,h)=>iv(t,c,h),reset:c=>iv(t,c,p2),refresh:c=>g2(t,c),gotoSnapshot:c=>v2(t,c),transact_UNSTABLE:c=>d2(t)(c)},{snapshot:()=>{const c=y2(t);return o=c.retain(),c}}),u=e(l);if(typeof u!="function")throw Te(a);i=u(...n)}),i instanceof ew&&As(!1),Qe(i))i=i.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return i}function w2(t,e){const n=m2();return _2((...r)=>tw(n.current,t,r),e!=null?[...e,n]:void 0)}var nw={recoilCallback:tw,useRecoilCallback:w2};const{useStoreRef:S2}=vr,{refreshRecoilValue:T2}=Zn,{useCallback:R2}=_e;function A2(t){const e=S2();return R2(()=>{const n=e.current;T2(n,t)},[t,e])}var I2=A2;const{atomicUpdater:C2}=ZE,{useStoreRef:P2}=vr,{useMemo:k2}=_e;function N2(t,e){const n=P2();return k2(()=>(...r)=>{C2(n.current)(o=>{t(o)(...r)})},e!=null?[...e,n]:void 0)}var x2=N2;class V2{constructor(e){Ee(this,"value",void 0),this.value=e}}var D2={WrappedValue:V2},L2=D2.WrappedValue,rw=Object.freeze({__proto__:null,WrappedValue:L2});const{isFastRefreshEnabled:b2}=Oa;class ov extends Error{}class M2{constructor(e){var n,r,i;Ee(this,"_name",void 0),Ee(this,"_numLeafs",void 0),Ee(this,"_root",void 0),Ee(this,"_onHit",void 0),Ee(this,"_onSet",void 0),Ee(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var o,s,a,l;let u,c;for(const[A,m]of e){var h,d,p;const f=this._root;if((f==null?void 0:f.type)==="leaf")throw this.invalidCacheError();const g=u;if(u=g?g.branches.get(c):f,u=(h=u)!==null&&h!==void 0?h:{type:"branch",nodeKey:A,parent:g,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==A)throw this.invalidCacheError();g==null||g.branches.set(c,u),r==null||(d=r.onNodeVisit)===null||d===void 0||d.call(r,u),c=this._mapNodeValue(m),this._root=(p=this._root)!==null&&p!==void 0?p:u}const y=u?(o=u)===null||o===void 0?void 0:o.branches.get(c):this._root;if(y!=null&&(y.type!=="leaf"||y.branchKey!==c))throw this.invalidCacheError();const E={type:"leaf",value:n,parent:u,branchKey:c};(s=u)===null||s===void 0||s.branches.set(c,E),this._root=(a=this._root)!==null&&a!==void 0?a:E,this._numLeafs++,this._onSet(E),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,E)};try{i()}catch(o){if(o instanceof ov)this.clear(),i();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=b2()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Zp(e+(this._name!=null?` - ${this._name}`:"")),new ov}}var O2={TreeCache:M2},$2=O2.TreeCache,iw=Object.freeze({__proto__:null,TreeCache:$2});class F2{constructor(e){var n;Ee(this,"_maxSize",void 0),Ee(this,"_size",void 0),Ee(this,"_head",void 0),Ee(this,"_tail",void 0),Ee(this,"_map",void 0),Ee(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=et(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var U2={LRUCache:F2},B2=U2.LRUCache,ow=Object.freeze({__proto__:null,LRUCache:B2});const{LRUCache:j2}=ow,{TreeCache:z2}=iw;function W2({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new j2({maxSize:e}),i=new z2({name:t,mapNodeValue:n,onHit:o=>{r.set(o,!0)},onSet:o=>{const s=r.tail();r.set(o,!0),s&&i.size()>e&&i.delete(s.key)}});return i}var sv=W2;function kn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Te("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Qe(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>kn(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return kn(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:kn(o,e)]=s;return kn(i,e,n)}return t instanceof Set?kn(Array.from(t).sort((i,o)=>kn(i,e).localeCompare(kn(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?kn(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${kn(i,e)}:${kn(t[i],e,i)}`).join(",")}}`}function H2(t,e={allowFunctions:!1}){return kn(t,e)}var Fc=H2;const{TreeCache:q2}=iw,Al={equality:"reference",eviction:"keep-all",maxSize:1/0};function K2({equality:t=Al.equality,eviction:e=Al.eviction,maxSize:n=Al.maxSize}=Al,r){const i=G2(t);return Q2(e,n,i,r)}function G2(t){switch(t){case"reference":return e=>e;case"value":return e=>Fc(e)}throw Te(`Unrecognized equality policy ${t}`)}function Q2(t,e,n,r){switch(t){case"keep-all":return new q2({name:r,mapNodeValue:n});case"lru":return sv({name:r,maxSize:et(e),mapNodeValue:n});case"most-recent":return sv({name:r,maxSize:1,mapNodeValue:n})}throw Te(`Unrecognized eviction policy ${t}`)}var Y2=K2;function X2(t){return()=>null}var J2={startPerfBlock:X2};const{isLoadable:Z2,loadableWithError:Il,loadableWithPromise:eV,loadableWithValue:Yh}=Ma,{WrappedValue:sw}=rw,{getNodeLoadable:Cl,peekNodeLoadable:tV,setNodeValue:nV}=Jr,{saveDepsToStore:rV}=$a,{DEFAULT_VALUE:iV,getConfigDeletionHandler:oV,getNode:sV,registerNode:av}=sn,{isRecoilValue:aV}=Po,{markRecoilValueModified:lv}=Zn,{retainedByOptionWithDefault:lV}=Li,{recoilCallback:uV}=nw,{startPerfBlock:cV}=J2;class aw{}const fs=new aw,ps=[],Pl=new Map,hV=(()=>{let t=0;return()=>t++})();function lw(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,o=t.set!=null?t.set:void 0,s=new Set,a=Y2(i??{equality:"reference",eviction:"keep-all"},n),l=lV(t.retainedBy_UNSTABLE),u=new Map;let c=0;function h(){return!je("recoil_memory_managament_2020")||c>0}function d(v){return v.getState().knownSelectors.add(n),c++,()=>{c--}}function p(){return oV(n)!==void 0&&!h()}function y(v,P,V,ee,W){Ae(P,ee,W),E(v,V)}function E(v,P){Z(v,P)&&D(v),m(P,!0)}function A(v,P){Z(v,P)&&(et(J(v)).stateVersions.clear(),m(P,!1))}function m(v,P){const V=Pl.get(v);if(V!=null){for(const ee of V)lv(ee,et(e));P&&Pl.delete(v)}}function f(v,P){let V=Pl.get(P);V==null&&Pl.set(P,V=new Set),V.add(v)}function g(v,P,V,ee,W,le){return P.then(pe=>{if(!h())throw D(v),fs;const oe=Yh(pe);return y(v,V,W,oe,ee),pe}).catch(pe=>{if(!h())throw D(v),fs;if(Qe(pe))return T(v,pe,V,ee,W,le);const oe=Il(pe);throw y(v,V,W,oe,ee),pe})}function T(v,P,V,ee,W,le){return P.then(pe=>{if(!h())throw D(v),fs;le.loadingDepKey!=null&&le.loadingDepPromise===P?V.atomValues.set(le.loadingDepKey,Yh(pe)):v.getState().knownSelectors.forEach(Se=>{V.atomValues.delete(Se)});const oe=M(v,V);if(oe&&oe.state!=="loading"){if((Z(v,W)||J(v)==null)&&E(v,W),oe.state==="hasValue")return oe.contents;throw oe.contents}if(!Z(v,W)){const Se=ae(v,V);if(Se!=null)return Se.loadingLoadable.contents}const[ke,Ne]=L(v,V,W);if(ke.state!=="loading"&&y(v,V,W,ke,Ne),ke.state==="hasError")throw ke.contents;return ke.contents}).catch(pe=>{if(pe instanceof aw)throw fs;if(!h())throw D(v),fs;const oe=Il(pe);throw y(v,V,W,oe,ee),pe})}function C(v,P,V,ee){var W,le,pe,oe;if(Z(v,ee)||P.version===((W=v.getState())===null||W===void 0||(le=W.currentTree)===null||le===void 0?void 0:le.version)||P.version===((pe=v.getState())===null||pe===void 0||(oe=pe.nextTree)===null||oe===void 0?void 0:oe.version)){var ke,Ne,Se;rV(n,V,v,(ke=(Ne=v.getState())===null||Ne===void 0||(Se=Ne.nextTree)===null||Se===void 0?void 0:Se.version)!==null&&ke!==void 0?ke:v.getState().currentTree.version)}for(const xe of V)s.add(xe)}function L(v,P,V){const ee=cV(n);let W=!0,le=!0;const pe=()=>{ee(),le=!1};let oe,ke=!1,Ne;const Se={loadingDepKey:null,loadingDepPromise:null},xe=new Map;function tt({key:ze}){const Ue=Cl(v,P,ze);switch(xe.set(ze,Ue),W||(C(v,P,new Set(xe.keys()),V),A(v,V)),Ue.state){case"hasValue":return Ue.contents;case"hasError":throw Ue.contents;case"loading":throw Se.loadingDepKey=ze,Se.loadingDepPromise=Ue.contents,Ue.contents}throw Te("Invalid Loadable state")}const Me=ze=>(...Ue)=>{if(le)throw Te("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&As(!1),uV(v,ze,Ue,{node:e})};try{oe=r({get:tt,getCallback:Me}),oe=aV(oe)?tt(oe):oe,Z2(oe)&&(oe.state==="hasError"&&(ke=!0),oe=oe.contents),Qe(oe)?oe=g(v,oe,P,xe,V,Se).finally(pe):pe(),oe=oe instanceof sw?oe.value:oe}catch(ze){oe=ze,Qe(oe)?oe=T(v,oe,P,xe,V,Se).finally(pe):(ke=!0,pe())}return ke?Ne=Il(oe):Qe(oe)?Ne=eV(oe):Ne=Yh(oe),W=!1,$(v,V,xe),C(v,P,new Set(xe.keys()),V),[Ne,xe]}function M(v,P){let V=P.atomValues.get(n);if(V!=null)return V;const ee=new Set;try{V=a.get(le=>(typeof le!="string"&&As(!1),Cl(v,P,le).contents),{onNodeVisit:le=>{le.type==="branch"&&le.nodeKey!==n&&ee.add(le.nodeKey)}})}catch(le){throw Te(`Problem with cache lookup for selector "${n}": ${le.message}`)}if(V){var W;P.atomValues.set(n,V),C(v,P,ee,(W=J(v))===null||W===void 0?void 0:W.executionID)}return V}function q(v,P){const V=M(v,P);if(V!=null)return D(v),V;const ee=ae(v,P);if(ee!=null){var W;return((W=ee.loadingLoadable)===null||W===void 0?void 0:W.state)==="loading"&&f(v,ee.executionID),ee.loadingLoadable}const le=hV(),[pe,oe]=L(v,P,le);return pe.state==="loading"?(Ie(v,le,pe,oe,P),f(v,le)):(D(v),Ae(P,pe,oe)),pe}function ae(v,P){const V=NE([u.has(v)?[et(u.get(v))]:[],Ic(im(u,([W])=>W!==v),([,W])=>W)]);function ee(W){for(const[le,pe]of W)if(!Cl(v,P,le).is(pe))return!0;return!1}for(const W of V){if(W.stateVersions.get(P.version)||!ee(W.depValuesDiscoveredSoFarDuringAsyncWork))return W.stateVersions.set(P.version,!0),W;W.stateVersions.set(P.version,!1)}}function J(v){return u.get(v)}function Ie(v,P,V,ee,W){u.set(v,{depValuesDiscoveredSoFarDuringAsyncWork:ee,executionID:P,loadingLoadable:V,stateVersions:new Map([[W.version,!0]])})}function $(v,P,V){if(Z(v,P)){const ee=J(v);ee!=null&&(ee.depValuesDiscoveredSoFarDuringAsyncWork=V)}}function D(v){u.delete(v)}function Z(v,P){var V;return P===((V=J(v))===null||V===void 0?void 0:V.executionID)}function ue(v){return Array.from(v.entries()).map(([P,V])=>[P,V.contents])}function Ae(v,P,V){v.atomValues.set(n,P);try{a.set(ue(V),P)}catch(ee){throw Te(`Problem with setting cache for selector "${n}": ${ee.message}`)}}function be(v){if(ps.includes(n)){const P=`Recoil selector has circular dependencies: ${ps.slice(ps.indexOf(n)).join("  ")}`;return Il(Te(P))}ps.push(n);try{return v()}finally{ps.pop()}}function B(v,P){const V=P.atomValues.get(n);return V??a.get(ee=>{var W;return typeof ee!="string"&&As(!1),(W=tV(v,P,ee))===null||W===void 0?void 0:W.contents})}function x(v,P){return be(()=>q(v,P))}function S(v){v.atomValues.delete(n)}function z(v,P){e==null&&As(!1);for(const ee of s){var V;const W=sV(ee);(V=W.clearCache)===null||V===void 0||V.call(W,v,P)}s.clear(),S(P),a.clear(),lv(v,e)}return o!=null?e=av({key:n,nodeType:"selector",peek:B,get:x,set:(P,V,ee)=>{let W=!1;const le=new Map;function pe({key:Se}){if(W)throw Te("Recoil: Async selector sets are not currently supported.");const xe=Cl(P,V,Se);if(xe.state==="hasValue")return xe.contents;if(xe.state==="loading"){const tt=`Getting value of asynchronous atom or selector "${Se}" in a pending state while setting selector "${n}" is not yet supported.`;throw Te(tt)}else throw xe.contents}function oe(Se,xe){if(W)throw Te("Recoil: Async selector sets are not currently supported.");const tt=typeof xe=="function"?xe(pe(Se)):xe;nV(P,V,Se.key,tt).forEach((ze,Ue)=>le.set(Ue,ze))}function ke(Se){oe(Se,iV)}const Ne=o({set:oe,get:pe,reset:ke},ee);if(Ne!==void 0)throw Qe(Ne)?Te("Recoil: Async selector sets are not currently supported."):Te("Recoil: selector set should be a void function.");return W=!0,le},init:d,invalidate:S,clearCache:z,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=av({key:n,nodeType:"selector",peek:B,get:x,init:d,invalidate:S,clearCache:z,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}lw.value=t=>new sw(t);var xo=lw;const{isLoadable:dV,loadableWithError:Xh,loadableWithPromise:Jh,loadableWithValue:ji}=Ma,{WrappedValue:uw}=rw,{peekNodeInfo:fV}=Jr,{DEFAULT_VALUE:oi,DefaultValue:Tr,getConfigDeletionHandler:cw,registerNode:pV,setConfigDeletionHandler:mV}=sn,{isRecoilValue:gV}=Po,{getRecoilValueAsLoadable:yV,markRecoilValueModified:vV,setRecoilValue:uv,setRecoilValueLoadable:_V}=Zn,{retainedByOptionWithDefault:EV}=Li,ms=t=>t instanceof uw?t.value:t;function wV(t){const{key:e,persistence_UNSTABLE:n}=t,r=EV(t.retainedBy_UNSTABLE);let i=0;function o(f){return Jh(f.then(g=>(s=ji(g),g)).catch(g=>{throw s=Xh(g),g}))}let s=Qe(t.default)?o(t.default):dV(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:ji(ms(t.default));s.contents;let a;const l=new Map;function u(f){return f}function c(f,g){const T=g.then(C=>{var L,M;return((M=((L=f.getState().nextTree)!==null&&L!==void 0?L:f.getState().currentTree).atomValues.get(e))===null||M===void 0?void 0:M.contents)===T&&uv(f,m,C),C}).catch(C=>{var L,M;throw((M=((L=f.getState().nextTree)!==null&&L!==void 0?L:f.getState().currentTree).atomValues.get(e))===null||M===void 0?void 0:M.contents)===T&&_V(f,m,Xh(C)),C});return T}function h(f,g,T){var C;i++;const L=()=>{var J;i--,(J=l.get(f))===null||J===void 0||J.forEach(Ie=>Ie()),l.delete(f)};if(f.getState().knownAtoms.add(e),s.state==="loading"){const J=()=>{var Ie;((Ie=f.getState().nextTree)!==null&&Ie!==void 0?Ie:f.getState().currentTree).atomValues.has(e)||vV(f,m)};s.contents.finally(J)}const M=(C=t.effects)!==null&&C!==void 0?C:t.effects_UNSTABLE;if(M!=null){let J=function(S){if(Z&&S.key===e){const z=D;return z instanceof Tr?d(f,g):Qe(z)?Jh(z.then(v=>v instanceof Tr?s.toPromise():v)):ji(z)}return yV(f,S)},Ie=function(S){return J(S).toPromise()},$=function(S){var z;const v=fV(f,(z=f.getState().nextTree)!==null&&z!==void 0?z:f.getState().currentTree,S.key);return Z&&S.key===e&&!(D instanceof Tr)?{...v,isSet:!0,loadable:J(S)}:v},D=oi,Z=!0,ue=!1,Ae=null;const be=S=>z=>{if(Z){const v=J(m),P=v.state==="hasValue"?v.contents:oi;D=typeof z=="function"?z(P):z,Qe(D)&&(D=D.then(V=>(Ae={effect:S,value:V},V)))}else{if(Qe(z))throw Te("Setting atoms to async values is not implemented.");typeof z!="function"&&(Ae={effect:S,value:ms(z)}),uv(f,m,typeof z=="function"?v=>{const P=ms(z(v));return Ae={effect:S,value:P},P}:ms(z))}},B=S=>()=>be(S)(oi),x=S=>z=>{var v;const{release:P}=f.subscribeToTransactions(V=>{var ee;let{currentTree:W,previousTree:le}=V.getState();le||(le=W);const pe=(ee=W.atomValues.get(e))!==null&&ee!==void 0?ee:s;if(pe.state==="hasValue"){var oe,ke,Ne,Se;const xe=pe.contents,tt=(oe=le.atomValues.get(e))!==null&&oe!==void 0?oe:s,Me=tt.state==="hasValue"?tt.contents:oi;((ke=Ae)===null||ke===void 0?void 0:ke.effect)!==S||((Ne=Ae)===null||Ne===void 0?void 0:Ne.value)!==xe?z(xe,Me,!W.atomValues.has(e)):((Se=Ae)===null||Se===void 0?void 0:Se.effect)===S&&(Ae=null)}},e);l.set(f,[...(v=l.get(f))!==null&&v!==void 0?v:[],P])};for(const S of M)try{const z=S({node:m,storeID:f.storeID,parentStoreID_UNSTABLE:f.parentStoreID,trigger:T,setSelf:be(S),resetSelf:B(S),onSet:x(S),getPromise:Ie,getLoadable:J,getInfo_UNSTABLE:$});if(z!=null){var q;l.set(f,[...(q=l.get(f))!==null&&q!==void 0?q:[],z])}}catch(z){D=z,ue=!0}if(Z=!1,!(D instanceof Tr)){var ae;const S=ue?Xh(D):Qe(D)?Jh(c(f,D)):ji(ms(D));S.contents,g.atomValues.set(e,S),(ae=f.getState().nextTree)===null||ae===void 0||ae.atomValues.set(e,S)}}return L}function d(f,g){var T,C;return(T=(C=g.atomValues.get(e))!==null&&C!==void 0?C:a)!==null&&T!==void 0?T:s}function p(f,g){if(g.atomValues.has(e))return et(g.atomValues.get(e));if(g.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const T=g.nonvalidatedAtoms.get(e),C=n.validator(T,oi);return a=C instanceof Tr?s:ji(C),a}else return s}function y(){a=void 0}function E(f,g,T){if(g.atomValues.has(e)){const C=et(g.atomValues.get(e));if(C.state==="hasValue"&&T===C.contents)return new Map}else if(!g.nonvalidatedAtoms.has(e)&&T instanceof Tr)return new Map;return a=void 0,new Map().set(e,ji(T))}function A(){return cw(e)!==void 0&&i<=0}const m=pV({key:e,nodeType:"atom",peek:d,get:p,set:E,init:h,invalidate:y,shouldDeleteConfigOnRelease:A,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return m}function pm(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return gV(n)?SV({...e,default:n}):wV({...e,default:n})}function SV(t){const e=pm({...t,default:oi,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Tr?r:et(t.persistence_UNSTABLE).validator(r,oi)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=xo({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Tr?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return mV(n.key,cw(t.key)),n}pm.value=t=>new uw(t);var hw=pm;class TV{constructor(e){var n;Ee(this,"_map",void 0),Ee(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var RV={MapCache:TV},AV=RV.MapCache,IV=Object.freeze({__proto__:null,MapCache:AV});const{LRUCache:cv}=ow,{MapCache:CV}=IV,kl={equality:"reference",eviction:"none",maxSize:1/0};function PV({equality:t=kl.equality,eviction:e=kl.eviction,maxSize:n=kl.maxSize}=kl){const r=kV(t);return NV(e,n,r)}function kV(t){switch(t){case"reference":return e=>e;case"value":return e=>Fc(e)}throw Te(`Unrecognized equality policy ${t}`)}function NV(t,e,n){switch(t){case"keep-all":return new CV({mapKey:n});case"lru":return new cv({mapKey:n,maxSize:et(e)});case"most-recent":return new cv({mapKey:n,maxSize:1})}throw Te(`Unrecognized eviction policy ${t}`)}var dw=PV;const{setConfigDeletionHandler:xV}=sn;function VV(t){var e,n;const r=dw({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,s;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),h=hw({...u,key:`${t.key}__${(o=Fc(i))!==null&&o!==void 0?o:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(i,h),xV(h.key,()=>{r.delete(i)}),h}}var DV=VV;const{setConfigDeletionHandler:LV}=sn;let bV=0;function MV(t){var e,n;const r=dw({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let s;try{s=r.get(i)}catch(d){throw Te(`Problem with cache lookup for selector ${t.key}: ${d.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=Fc(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${bV++}`,l=d=>t.get(i)(d),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const d=t.set;h=xo({key:a,get:l,set:(y,E)=>d(i)(y,E),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else h=xo({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,h),LV(h.key,()=>{r.delete(i)}),h}}var Zr=MV;const OV=Zr({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function $V(t){return OV(t)}var FV=$V;const UV=Zr({key:"__error",get:t=>()=>{throw Te(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function BV(t){return UV(t)}var jV=BV;function zV(t){return t}var WV=zV;const{loadableWithError:fw,loadableWithPromise:pw,loadableWithValue:mw}=Ma;function Uc(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function HV(t){return t!=null&&!Qe(t)}function Bc(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Af(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function mo(t,e,n){const r=n.map((i,o)=>i==null?mw(e[o]):Qe(i)?pw(i):fw(i));return Af(t,r)}function qV(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const KV=Zr({key:"__waitForNone",get:t=>({get:e})=>{const n=Bc(t),[r,i]=Uc(e,n);return mo(t,r,i)},dangerouslyAllowMutability:!0}),GV=Zr({key:"__waitForAny",get:t=>({get:e})=>{const n=Bc(t),[r,i]=Uc(e,n);return i.some(o=>!Qe(o))?mo(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())Qe(a)&&a.then(l=>{r[s]=l,i[s]=void 0,o(mo(t,r,i))}).catch(l=>{i[s]=l,o(mo(t,r,i))})})},dangerouslyAllowMutability:!0}),QV=Zr({key:"__waitForAll",get:t=>({get:e})=>{const n=Bc(t),[r,i]=Uc(e,n);if(i.every(s=>s==null))return Af(t,r);const o=i.find(HV);if(o!=null)throw o;return Promise.all(i).then(s=>Af(t,qV(r,s)))},dangerouslyAllowMutability:!0}),YV=Zr({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Bc(t),[r,i]=Uc(e,n);return i.every(o=>!Qe(o))?mo(t,r,i):Promise.all(i.map((o,s)=>Qe(o)?o.then(a=>{r[s]=a,i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>mo(t,r,i))},dangerouslyAllowMutability:!0}),XV=Zr({key:"__noWait",get:t=>({get:e})=>{try{return xo.value(mw(e(t)))}catch(n){return xo.value(Qe(n)?pw(n):fw(n))}},dangerouslyAllowMutability:!0});var JV={waitForNone:KV,waitForAny:GV,waitForAll:QV,waitForAllSettled:YV,noWait:XV};const{RecoilLoadable:ZV}=Ma,{DefaultValue:eD}=sn,{RecoilRoot:tD,useRecoilStoreID:nD}=vr,{isRecoilValue:rD}=Po,{retentionZone:iD}=Pc,{freshSnapshot:oD}=Lc,{useRecoilState:sD,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:aD,useRecoilStateLoadable:lD,useRecoilValue:uD,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:cD,useRecoilValueLoadable:hD,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:dD,useResetRecoilState:fD,useSetRecoilState:pD}=Rx,{useGotoRecoilSnapshot:mD,useRecoilSnapshot:gD,useRecoilTransactionObserver:yD}=JE,{useRecoilCallback:vD}=nw,{noWait:_D,waitForAll:ED,waitForAllSettled:wD,waitForAny:SD,waitForNone:TD}=JV;var ja={DefaultValue:eD,isRecoilValue:rD,RecoilLoadable:ZV,RecoilEnv:Ho,RecoilRoot:tD,useRecoilStoreID:nD,useRecoilBridgeAcrossReactRoots_UNSTABLE:Xx,atom:hw,selector:xo,atomFamily:DV,selectorFamily:Zr,constSelector:FV,errorSelector:jV,readOnlySelector:WV,noWait:_D,waitForNone:TD,waitForAny:SD,waitForAll:ED,waitForAllSettled:wD,useRecoilValue:uD,useRecoilValueLoadable:hD,useRecoilState:sD,useRecoilStateLoadable:lD,useSetRecoilState:pD,useResetRecoilState:fD,useGetRecoilValueInfo_UNSTABLE:Hx,useRecoilRefresher_UNSTABLE:I2,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:dD,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:cD,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:aD,useRecoilCallback:vD,useRecoilTransaction_UNSTABLE:x2,useGotoRecoilSnapshot:mD,useRecoilSnapshot:gD,useRecoilTransactionObserver_UNSTABLE:yD,snapshot_UNSTABLE:oD,useRetain:um,retentionZone:iD},RD=ja.RecoilRoot,AD=ja.atom,mm=ja.atomFamily,gw=ja.useRecoilValueLoadable,yw=ja.useRecoilState;const ID=({onOpenModal:t})=>{const e=te.useRef(null);return te.useEffect(()=>{const n=r=>{e.current&&!e.current.contains(r.target)&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t]),N.jsx("div",{className:"h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-70 text-center z-50",children:N.jsxs("div",{ref:e,className:"bg-white rounded w-10/12 md:w-1/3",children:[N.jsx("div",{className:"border-b px-4 py-2",children:N.jsx("h3",{className:"text-center",children:""})}),N.jsx("div",{className:"border-b px-4 py-2",children:N.jsx("h3",{className:"text-red-600 text-center cursor-pointer",onClick:t,children:""})})]})})};function CD(t){return Xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2zM4 10h2v9H4v-9zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7v1.819z"}}]})(t)}function PD(t){return Xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21h1V8H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2zM20 8h-7l1.122-3.368A2 2 0 0 0 12.225 2H12L7 7.438V21h11l3.912-8.596L22 12v-2a2 2 0 0 0-2-2z"}}]})(t)}function kD(t){return Xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"}}]})(t)}function ND(t){return Xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"}}]})(t)}const xD=t=>{const[e,n]=te.useState(!1),[r,i]=te.useState(0),o=r===0,s=r===t.data.imageUrlList.length-1,[a,l]=te.useState(!1),u=Jp(),c=()=>{l(!a)},h=()=>{u("/comment")},d=()=>{n(!e)},p=()=>{const E=(r+1)%t.data.imageUrlList.length;i(E)},y=()=>{const E=(r-1+t.data.imageUrlList.length)%t.data.imageUrlList.length;i(E)};return N.jsxs("div",{children:[N.jsxs("div",{className:"flex items-center my-3 mx-2",children:[N.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),N.jsx("div",{className:"ml-2 text-[14px] font-bold",children:t.data.userId}),N.jsx("div",{className:"ml-2 text-blue-400 text-[14px]",children:""}),N.jsxs("div",{className:"ml-auto",children:[N.jsx(VC,{onClick:c}),a&&N.jsx(ID,{onOpenModal:c})]})]}),N.jsxs("div",{className:"relative",children:[N.jsx("img",{src:t.data.imageUrlList[r],alt:" ",className:"w-full h-72"}),!o&&N.jsx("button",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 ml-1 text-4xl bg-white rounded-full opacity-70",onClick:y,children:N.jsx(ND,{})}),!s&&N.jsx("button",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 mr-1 text-4xl bg-white rounded-full opacity-70",onClick:p,children:N.jsx(kD,{})})]}),N.jsxs("div",{className:"flex-row ml-3 mt-3",children:[N.jsxs("div",{className:"flex justify-between",children:[N.jsx("div",{className:"text-[14px] my-1 font-semibold",children:" 1"}),N.jsx("div",{className:"mx-2 text-[24px]",onClick:d,children:e?N.jsx(PD,{}):N.jsx(CD,{})})]}),N.jsxs("div",{className:"flex text-[14px]",children:[N.jsx("div",{className:"font-semibold",children:t.data.userId}),N.jsx("div",{className:"ml-1",children:t.data.postContent})]}),t.data.tagList.map((E,A)=>N.jsxs("span",{className:"text-[14px]",children:["#",E+" "]},A)),N.jsx("div",{className:"text-[13px] text-gray-500 cursor-pointer hover:text-black w-fit",onClick:h,children:" 1  "}),N.jsx("div",{className:"text-[13px] text-gray-500",children:"1 "})]})]})};var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new DD;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LD=function(t){const e=vw(t);return _w.encodeByteArray(e,!0)},Vu=function(t){return LD(t).replace(/\./g,"")},bD=function(t){try{return _w.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=()=>MD().__FIREBASE_DEFAULTS__,$D=()=>{if(typeof process>"u"||typeof hv>"u")return;const t=hv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bD(t[1]);return e&&JSON.parse(e)},gm=()=>{try{return OD()||$D()||FD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UD=t=>{var e,n;return(n=(e=gm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BD=t=>{const e=UD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ew=()=>{var t;return(t=gm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vu(JSON.stringify(n)),Vu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WD(){var t;const e=(t=gm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HD(){return!WD()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ww(){try{return typeof indexedDB=="object"}catch{return!1}}function qD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="FirebaseError";class Ko extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KD,Object.setPrototypeOf(this,Ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sw.prototype.create)}}class Sw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?GD(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ko(i,a,r)}}function GD(t,e){return t.replace(QD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QD=/\{\$([^}]+)}/g;function If(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(dv(o)&&dv(s)){if(!If(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){return t&&t._delegate?t._delegate:t}class pa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JD(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XD(t){return t===ii?void 0:t}function JD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const eL={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},tL=De.INFO,nL={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},rL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tw{constructor(e){this.name=e,this._logLevel=tL,this._logHandler=rL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const iL=(t,e)=>e.some(n=>t instanceof n);let fv,pv;function oL(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sL(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rw=new WeakMap,Cf=new WeakMap,Aw=new WeakMap,Zh=new WeakMap,ym=new WeakMap;function aL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ur(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Rw.set(n,t)}).catch(()=>{}),ym.set(e,t),e}function lL(t){if(Cf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Cf.set(t,e)}let Pf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Aw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uL(t){Pf=t(Pf)}function cL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ed(this),e,...n);return Aw.set(r,e.sort?e.sort():[e]),Ur(r)}:sL().includes(t)?function(...e){return t.apply(ed(this),e),Ur(Rw.get(this))}:function(...e){return Ur(t.apply(ed(this),e))}}function hL(t){return typeof t=="function"?cL(t):(t instanceof IDBTransaction&&lL(t),iL(t,oL())?new Proxy(t,Pf):t)}function Ur(t){if(t instanceof IDBRequest)return aL(t);if(Zh.has(t))return Zh.get(t);const e=hL(t);return e!==t&&(Zh.set(t,e),ym.set(e,t)),e}const ed=t=>ym.get(t);function dL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ur(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ur(s.result),l.oldVersion,l.newVersion,Ur(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const fL=["get","getKey","getAll","getAllKeys","count"],pL=["put","add","delete","clear"],td=new Map;function mv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(td.get(e))return td.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fL.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return td.set(e,o),o}uL(t=>({...t,get:(e,n,r)=>mv(e,n)||t.get(e,n,r),has:(e,n)=>!!mv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kf="@firebase/app",gv="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Tw("@firebase/app"),yL="@firebase/app-compat",vL="@firebase/analytics-compat",_L="@firebase/analytics",EL="@firebase/app-check-compat",wL="@firebase/app-check",SL="@firebase/auth",TL="@firebase/auth-compat",RL="@firebase/database",AL="@firebase/database-compat",IL="@firebase/functions",CL="@firebase/functions-compat",PL="@firebase/installations",kL="@firebase/installations-compat",NL="@firebase/messaging",xL="@firebase/messaging-compat",VL="@firebase/performance",DL="@firebase/performance-compat",LL="@firebase/remote-config",bL="@firebase/remote-config-compat",ML="@firebase/storage",OL="@firebase/storage-compat",$L="@firebase/firestore",FL="@firebase/firestore-compat",UL="firebase",BL="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]",jL={[kf]:"fire-core",[yL]:"fire-core-compat",[_L]:"fire-analytics",[vL]:"fire-analytics-compat",[wL]:"fire-app-check",[EL]:"fire-app-check-compat",[SL]:"fire-auth",[TL]:"fire-auth-compat",[RL]:"fire-rtdb",[AL]:"fire-rtdb-compat",[IL]:"fire-fn",[CL]:"fire-fn-compat",[PL]:"fire-iid",[kL]:"fire-iid-compat",[NL]:"fire-fcm",[xL]:"fire-fcm-compat",[VL]:"fire-perf",[DL]:"fire-perf-compat",[LL]:"fire-rc",[bL]:"fire-rc-compat",[ML]:"fire-gcs",[OL]:"fire-gcs-compat",[$L]:"fire-fst",[FL]:"fire-fst-compat","fire-js":"fire-js",[UL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new Map,xf=new Map;function zL(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bu(t){const e=t.name;if(xf.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,t);for(const n of Lu.values())zL(n,t);return!0}function WL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Br=new Sw("app","Firebase",HL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=BL;function Iw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=Ew()),!n)throw Br.create("no-options");const o=Lu.get(i);if(o){if(If(n,o.options)&&If(r,o.config))return o;throw Br.create("duplicate-app",{appName:i})}const s=new ZD(i);for(const l of xf.values())s.addComponent(l);const a=new qL(n,r,s);return Lu.set(i,a),a}function GL(t=Nf){const e=Lu.get(t);if(!e&&t===Nf&&Ew())return Iw();if(!e)throw Br.create("no-app",{appName:t});return e}function go(t,e,n){var r;let i=(r=jL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}bu(new pa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="firebase-heartbeat-database",YL=1,ma="firebase-heartbeat-store";let nd=null;function Cw(){return nd||(nd=dL(QL,YL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ma)}catch(n){console.warn(n)}}}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),nd}async function XL(t){try{return await(await Cw()).transaction(ma).objectStore(ma).get(Pw(t))}catch(e){if(e instanceof Ko)Ii.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function yv(t,e){try{const r=(await Cw()).transaction(ma,"readwrite");await r.objectStore(ma).put(e,Pw(t)),await r.done}catch(n){if(n instanceof Ko)Ii.warn(n.message);else{const r=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function Pw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=1024,ZL=30*24*60*60*1e3;class eb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=ZL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vv(),{heartbeatsToSend:r,unsentEntries:i}=tb(this._heartbeatsCache.heartbeats),o=Vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function vv(){return new Date().toISOString().substring(0,10)}function tb(t,e=JL){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_v(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_v(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ww()?qD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _v(t){return Vu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t){bu(new pa("platform-logger",e=>new mL(e),"PRIVATE")),bu(new pa("heartbeat",e=>new eb(e),"PRIVATE")),go(kf,gv,t),go(kf,gv,"esm2017"),go("fire-js","")}rb("");var ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,vm=vm||{},ye=ib||self;function jc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function za(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ob(t){return Object.prototype.hasOwnProperty.call(t,rd)&&t[rd]||(t[rd]=++sb)}var rd="closure_uid_"+(1e9*Math.random()>>>0),sb=0;function ab(t,e,n){return t.call.apply(t.bind,arguments)}function lb(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jt=ab:jt=lb,jt.apply(null,arguments)}function Nl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ei(){this.s=this.s,this.o=this.o}var ub=0;ei.prototype.s=!1;ei.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ub!=0)&&ob(this)};ei.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function _m(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ev(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(jc(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var cb=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ye.addEventListener("test",n,e),ye.removeEventListener("test",n,e)}catch{}return t}();function ga(t){return/^[\s\xa0]*$/.test(t)}function zc(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function zn(t){return zc().indexOf(t)!=-1}function Em(t){return Em[" "](t),t}Em[" "]=function(){};function hb(t,e){var n=rM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var db=zn("Opera"),Do=zn("Trident")||zn("MSIE"),Nw=zn("Edge"),Vf=Nw||Do,xw=zn("Gecko")&&!(zc().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),fb=zc().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge");function Vw(){var t=ye.document;return t?t.documentMode:void 0}var Df;e:{var id="",od=function(){var t=zc();if(xw)return/rv:([^\);]+)(\)|;)/.exec(t);if(Nw)return/Edge\/([\d\.]+)/.exec(t);if(Do)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(fb)return/WebKit\/(\S+)/.exec(t);if(db)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(od&&(id=od?od[1]:""),Do){var sd=Vw();if(sd!=null&&sd>parseFloat(id)){Df=String(sd);break e}}Df=id}var Lf;if(ye.document&&Do){var wv=Vw();Lf=wv||parseInt(Df,10)||void 0}else Lf=void 0;var pb=Lf;function ya(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xw){e:{try{Em(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:mb[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ya.$.h.call(this)}}It(ya,zt);var mb={2:"touch",3:"pen",4:"mouse"};ya.prototype.h=function(){ya.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wa="closure_listenable_"+(1e6*Math.random()|0),gb=0;function yb(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++gb,this.fa=this.ia=!1}function Wc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function wm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function vb(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Dw(t){const e={};for(const n in t)e[n]=t[n];return e}const Sv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lw(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Sv.length;o++)n=Sv[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Hc(t){this.src=t,this.g={},this.h=0}Hc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Mf(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new yb(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function bf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=kw(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Wc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Mf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Sm="closure_lm_"+(1e6*Math.random()|0),ad={};function bw(t,e,n,r,i){if(r&&r.once)return Ow(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)bw(t,e[o],n,r,i);return null}return n=Am(n),t&&t[Wa]?t.O(e,n,za(r)?!!r.capture:!!r,i):Mw(t,e,n,!1,r,i)}function Mw(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=za(i)?!!i.capture:!!i,a=Rm(t);if(a||(t[Sm]=a=new Hc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=_b(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cb||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Fw(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _b(){function t(n){return e.call(t.src,t.listener,n)}const e=Eb;return t}function Ow(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ow(t,e[o],n,r,i);return null}return n=Am(n),t&&t[Wa]?t.P(e,n,za(r)?!!r.capture:!!r,i):Mw(t,e,n,!0,r,i)}function $w(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)$w(t,e[o],n,r,i);else r=za(r)?!!r.capture:!!r,n=Am(n),t&&t[Wa]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Mf(o,n,r,i),-1<n&&(Wc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Rm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Mf(e,n,r,i)),(n=-1<t?e[t]:null)&&Tm(n))}function Tm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Wa])bf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Fw(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Rm(e))?(bf(n,t),n.h==0&&(n.src=null,e[Sm]=null)):Wc(t)}}}function Fw(t){return t in ad?ad[t]:ad[t]="on"+t}function Eb(t,e){if(t.fa)t=!0;else{e=new ya(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Tm(t),t=n.call(r,e)}return t}function Rm(t){return t=t[Sm],t instanceof Hc?t:null}var ld="__closure_events_fn_"+(1e9*Math.random()>>>0);function Am(t){return typeof t=="function"?t:(t[ld]||(t[ld]=function(e){return t.handleEvent(e)}),t[ld])}function At(){ei.call(this),this.i=new Hc(this),this.S=this,this.J=null}It(At,ei);At.prototype[Wa]=!0;At.prototype.removeEventListener=function(t,e,n,r){$w(this,t,e,n,r)};function Dt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;e=new zt(r,t),Lw(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=xl(s,r,!0,e)&&i}if(s=e.g=t,i=xl(s,r,!0,e)&&i,i=xl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=xl(s,r,!1,e)&&i}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wc(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function xl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&bf(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Im=ye.JSON.stringify;class wb{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Sb(){var t=Cm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Tb{constructor(){this.h=this.g=null}add(e,n){const r=Uw.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Uw=new wb(()=>new Rb,t=>t.reset());class Rb{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ab(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ib(t){ye.setTimeout(()=>{throw t},0)}let va,_a=!1,Cm=new Tb,Bw=()=>{const t=ye.Promise.resolve(void 0);va=()=>{t.then(Cb)}};var Cb=()=>{for(var t;t=Sb();){try{t.h.call(t.g)}catch(n){Ib(n)}var e=Uw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}_a=!1};function qc(t,e){At.call(this),this.h=t||1,this.g=e||ye,this.j=jt(this.qb,this),this.l=Date.now()}It(qc,At);Q=qc.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dt(this,"tick"),this.ga&&(Pm(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Pm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){qc.$.N.call(this),Pm(this),delete this.g};function km(t,e,n){if(typeof t=="function")n&&(t=jt(t,n));else if(t&&typeof t.handleEvent=="function")t=jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function jw(t){t.g=km(()=>{t.g=null,t.i&&(t.i=!1,jw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Pb extends ei{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jw(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ea(t){ei.call(this),this.h=t,this.g={}}It(Ea,ei);var Tv=[];function zw(t,e,n,r){Array.isArray(n)||(n&&(Tv[0]=n.toString()),n=Tv);for(var i=0;i<n.length;i++){var o=bw(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Ww(t){wm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Tm(e)},t),t.g={}}Ea.prototype.N=function(){Ea.$.N.call(this),Ww(this)};Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kc(){this.g=!0}Kc.prototype.Ea=function(){this.g=!1};function kb(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function Nb(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function so(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Vb(t,n)+(r?" "+r:"")})}function xb(t,e){t.info(function(){return"TIMEOUT: "+e})}Kc.prototype.info=function(){};function Vb(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Im(n)}catch{return e}}var bi={},Rv=null;function Gc(){return Rv=Rv||new At}bi.Ta="serverreachability";function Hw(t){zt.call(this,bi.Ta,t)}It(Hw,zt);function wa(t){const e=Gc();Dt(e,new Hw(e))}bi.STAT_EVENT="statevent";function qw(t,e){zt.call(this,bi.STAT_EVENT,t),this.stat=e}It(qw,zt);function Gt(t){const e=Gc();Dt(e,new qw(e,t))}bi.Ua="timingevent";function Kw(t,e){zt.call(this,bi.Ua,t),this.size=e}It(Kw,zt);function Ha(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var Qc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nm(){}Nm.prototype.h=null;function Av(t){return t.h||(t.h=t.i())}function Qw(){}var qa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xm(){zt.call(this,"d")}It(xm,zt);function Vm(){zt.call(this,"c")}It(Vm,zt);var Of;function Yc(){}It(Yc,Nm);Yc.prototype.g=function(){return new XMLHttpRequest};Yc.prototype.i=function(){return{}};Of=new Yc;function Ka(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ea(this),this.P=Db,t=Vf?125:void 0,this.V=new qc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yw}function Yw(){this.i=null,this.g="",this.h=!1}var Db=45e3,Xw={},$f={};Q=Ka.prototype;Q.setTimeout=function(t){this.P=t};function Ff(t,e,n){t.L=1,t.A=Jc(mr(e)),t.u=n,t.S=!0,Jw(t,null)}function Jw(t,e){t.G=Date.now(),Ga(t),t.B=mr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),sS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Yw,t.g=CS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Pb(jt(t.Pa,t,t.g),t.O)),zw(t.U,t.g,"readystatechange",t.nb),e=t.I?Dw(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),wa(),kb(t.j,t.v,t.B,t.m,t.W,t.u)}Q.nb=function(t){t=t.target;const e=this.M;e&&Wn(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const c=Wn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Vf||this.g&&(this.h.h||this.g.ja()||kv(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?wa(3):wa(2)),Xc(this);var n=this.g.da();this.ca=n;t:if(Zw(this)){var r=kv(this.g);t="";var i=r.length,o=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),js(this);var s="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,Nb(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ga(a)){var u=a;break t}}u=null}if(n=u)so(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uf(this,n);else{this.i=!1,this.s=3,Gt(12),ci(this),js(this);break e}}this.S?(eS(this,c,s),Vf&&this.i&&c==3&&(zw(this.U,this.V,"tick",this.mb),this.V.start())):(so(this.j,this.m,s,null),Uf(this,s)),c==4&&ci(this),this.i&&!this.J&&(c==4?TS(this.l,this):(this.i=!1,Ga(this)))}else eM(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),ci(this),js(this)}}}catch{}finally{}};function Zw(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function eS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Lb(t,n),i==$f){e==4&&(t.s=4,Gt(14),r=!1),so(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Xw){t.s=4,Gt(15),so(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else so(t.j,t.m,i,null),Uf(t,i);Zw(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$m(e),e.M=!0,Gt(11))):(so(t.j,t.m,n,"[Invalid Chunked Response]"),ci(t),js(t))}Q.mb=function(){if(this.g){var t=Wn(this.g),e=this.g.ja();this.o<e.length&&(Xc(this),eS(this,t,e),this.i&&t!=4&&Ga(this))}};function Lb(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?$f:(n=Number(e.substring(n,r)),isNaN(n)?Xw:(r+=1,r+n>e.length?$f:(e=e.slice(r,r+n),t.o=r+n,e)))}Q.cancel=function(){this.J=!0,ci(this)};function Ga(t){t.Y=Date.now()+t.P,tS(t,t.P)}function tS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ha(jt(t.lb,t),e)}function Xc(t){t.C&&(ye.clearTimeout(t.C),t.C=null)}Q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(xb(this.j,this.B),this.L!=2&&(wa(),Gt(17)),ci(this),this.s=2,js(this)):tS(this,this.Y-t)};function js(t){t.l.H==0||t.J||TS(t.l,t)}function ci(t){Xc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Pm(t.V),Ww(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Uf(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Bf(n.i,t))){if(!t.K&&Bf(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)$u(n),nh(n);else break e;Om(n),Gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ha(jt(n.ib,n),6e3));if(1>=uS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else hi(n,11)}else if((t.K||n.g==t)&&$u(n),!ga(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Dm(o,o.h),o.h=null))}if(r.F){const E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Ke(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=IS(r,r.J?r.pa:null,r.Y),s.K){cS(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Xc(a),Ga(a)),r.g=s}else wS(r);0<n.j.length&&rh(n)}else u[0]!="stop"&&u[0]!="close"||hi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?hi(n,7):Mm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}wa(4)}catch{}}function bb(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(jc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Mb(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(jc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function nS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(jc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Mb(t),r=bb(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var rS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ob(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function vi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof vi){this.h=t.h,Mu(this,t.j),this.s=t.s,this.g=t.g,Ou(this,t.m),this.l=t.l;var e=t.i,n=new Sa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Iv(this,n),this.o=t.o}else t&&(e=String(t).match(rS))?(this.h=!1,Mu(this,e[1]||"",!0),this.s=Is(e[2]||""),this.g=Is(e[3]||"",!0),Ou(this,e[4]),this.l=Is(e[5]||"",!0),Iv(this,e[6]||"",!0),this.o=Is(e[7]||"")):(this.h=!1,this.i=new Sa(null,this.h))}vi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cs(e,Cv,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Cs(e,Cv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Cs(n,n.charAt(0)=="/"?Ub:Fb,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cs(n,jb)),t.join("")};function mr(t){return new vi(t)}function Mu(t,e,n){t.j=n?Is(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ou(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Iv(t,e,n){e instanceof Sa?(t.i=e,zb(t.i,t.h)):(n||(e=Cs(e,Bb)),t.i=new Sa(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function Jc(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Is(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$b),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $b(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Cv=/[#\/\?@]/g,Fb=/[#\?:]/g,Ub=/[#\?]/g,Bb=/[#\?@]/g,jb=/#/g;function Sa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ti(t){t.g||(t.g=new Map,t.h=0,t.i&&Ob(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=Sa.prototype;Q.add=function(t,e){ti(this),this.i=null,t=Go(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function iS(t,e){ti(t),e=Go(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function oS(t,e){return ti(t),e=Go(t,e),t.g.has(e)}Q.forEach=function(t,e){ti(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.ta=function(){ti(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Q.Z=function(t){ti(this);let e=[];if(typeof t=="string")oS(this,t)&&(e=e.concat(this.g.get(Go(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return ti(this),this.i=null,t=Go(this,t),oS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sS(t,e,n){iS(t,e),0<n.length&&(t.i=null,t.g.set(Go(t,e),_m(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Go(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function zb(t,e){e&&!t.j&&(ti(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(iS(this,r),sS(this,i,n))},t)),t.j=e}var Wb=class{constructor(t,e){this.g=t,this.map=e}};function aS(t){this.l=t||Hb,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hb=10;function lS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function uS(t){return t.h?1:t.g?t.g.size:0}function Bf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Dm(t,e){t.g?t.g.add(e):t.h=e}function cS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aS.prototype.cancel=function(){if(this.i=hS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function hS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return _m(t.i)}var qb=class{stringify(t){return ye.JSON.stringify(t,void 0)}parse(t){return ye.JSON.parse(t,void 0)}};function Kb(){this.g=new qb}function Gb(t,e,n){const r=n||"";try{nS(t,function(i,o){let s=i;za(i)&&(s=Im(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qb(t,e){const n=new Kc;if(ye.Image){const r=new Image;r.onload=Nl(Vl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nl(Vl,n,r,"TestLoadImage: error",!1,e),r.onabort=Nl(Vl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nl(Vl,n,r,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Vl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Zc(t){this.l=t.ec||null,this.j=t.ob||!1}It(Zc,Nm);Zc.prototype.g=function(){return new eh(this.l,this.j)};Zc.prototype.i=function(t){return function(){return t}}({});function eh(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Lm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(eh,At);var Lm=0;Q=eh.prototype;Q.open=function(t,e){if(this.readyState!=Lm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ta(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=Lm};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function dS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qa(this):Ta(this),this.readyState==3&&dS(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,Qa(this))};Q.Ya=function(t){this.g&&(this.response=t,Qa(this))};Q.ka=function(){this.g&&Qa(this)};function Qa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ta(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ta(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Yb=ye.JSON.parse;function lt(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fS,this.L=this.M=!1}It(lt,At);var fS="",Xb=/^https?$/i,Jb=["POST","PUT"];Q=lt.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Of.g(),this.C=this.u?Av(this.u):Av(Of),this.g.onreadystatechange=jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Pv(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ye.FormData&&t instanceof ye.FormData,!(0<=kw(Jb,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gS(this),0<this.B&&((this.L=Zb(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.ua,this)):this.A=km(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Pv(this,o)}};function Zb(t){return Do&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof vm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))};function Pv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pS(t),th(t)}function pS(t){t.F||(t.F=!0,Dt(t,"complete"),Dt(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),th(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),th(this,!0)),lt.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?mS(this):this.kb())};Q.kb=function(){mS(this)};function mS(t){if(t.h&&typeof vm<"u"&&(!t.C[1]||Wn(t)!=4||t.da()!=2)){if(t.v&&Wn(t)==4)km(t.La,0,t);else if(Dt(t,"readystatechange"),Wn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(rS)[1]||null;!i&&ye.self&&ye.self.location&&(i=ye.self.location.protocol.slice(0,-1)),r=!Xb.test(i?i.toLowerCase():"")}n=r}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var o=2<Wn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",pS(t)}}finally{th(t)}}}}function th(t,e){if(t.g){gS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch{}}}function gS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function Wn(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Yb(e)}};function kv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function eM(t){const e={};t=(t.g&&2<=Wn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ga(t[r]))continue;var n=Ab(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}vb(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yS(t){let e="";return wm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function bm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function gs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vS(t){this.Ga=0,this.j=[],this.l=new Kc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gs("baseRetryDelayMs",5e3,t),this.hb=gs("retryDelaySeedMs",1e4,t),this.eb=gs("forwardChannelMaxRetries",2,t),this.xa=gs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aS(t&&t.concurrentRequestLimit),this.Ja=new Kb,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=vS.prototype;Q.ra=8;Q.H=1;function Mm(t){if(_S(t),t.H==3){var e=t.W++,n=mr(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),Ya(t,n),e=new Ka(t,t.l,e),e.L=2,e.A=Jc(mr(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon)try{n=ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=CS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ga(e)}AS(t)}function nh(t){t.g&&($m(t),t.g.cancel(),t.g=null)}function _S(t){nh(t),t.u&&(ye.clearTimeout(t.u),t.u=null),$u(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function rh(t){if(!lS(t.i)&&!t.m){t.m=!0;var e=t.Na;va||Bw(),_a||(va(),_a=!0),Cm.add(e,t),t.C=0}}function tM(t,e){return uS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ha(jt(t.Na,t,e),RS(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ka(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Dw(o),Lw(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ES(this,i,e),n=mr(this.I),Ke(n,"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),Ya(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(yS(o)))+"&"+e:this.o&&bm(n,this.o,o)),Dm(this.i,i),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),i.aa=!0,Ff(i,n,null)):Ff(i,n,e),this.H=2}}else this.H==3&&(t?Nv(this,t):this.j.length==0||lS(this.i)||Nv(this))};function Nv(t,e){var n;e?n=e.m:n=t.W++;const r=mr(t.I);Ke(r,"SID",t.K),Ke(r,"RID",n),Ke(r,"AID",t.V),Ya(t,r),t.o&&t.s&&bm(r,t.o,t.s),n=new Ka(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ES(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Dm(t.i,n),Ff(n,r,e)}function Ya(t,e){t.na&&wm(t.na,function(n,r){Ke(e,r,n)}),t.h&&nS({},function(n,r){Ke(e,r,n)})}function ES(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{Gb(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function wS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;va||Bw(),_a||(va(),_a=!0),Cm.add(e,t),t.A=0}}function Om(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ha(jt(t.Ma,t),RS(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,SS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ha(jt(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gt(10),nh(this),SS(this))};function $m(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function SS(t){t.g=new Ka(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=mr(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),Ya(t,e),t.o&&t.s&&bm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Jc(mr(e)),n.u=null,n.S=!0,Jw(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,nh(this),Om(this),Gt(19))};function $u(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function TS(t,e){var n=null;if(t.g==e){$u(t),$m(t),t.g=null;var r=2}else if(Bf(t.i,e))n=e.F,cS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Gc(),Dt(r,new Kw(r,n)),rh(t)}else wS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&tM(t,e)||r==2&&Om(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:hi(t,5);break;case 4:hi(t,10);break;case 3:hi(t,6);break;default:hi(t,2)}}}function RS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function hi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jt(t.pb,t);n||(n=new vi("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||Mu(n,"https"),Jc(n)),Qb(n.toString(),r)}else Gt(2);t.H=0,t.h&&t.h.za(e),AS(t),_S(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gt(2)):(this.l.info("Failed to ping google.com"),Gt(1))};function AS(t){if(t.H=0,t.ma=[],t.h){const e=hS(t.i);(e.length!=0||t.j.length!=0)&&(Ev(t.ma,e),Ev(t.ma,t.j),t.i.i.length=0,_m(t.j),t.j.length=0),t.h.ya()}}function IS(t,e,n){var r=n instanceof vi?mr(n):new vi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ou(r,r.m);else{var i=ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new vi(null);r&&Mu(o,r),e&&(o.g=e),i&&Ou(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ke(r,n,e),Ke(r,"VER",t.ra),Ya(t,r),r}function CS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new lt(new Zc({ob:n})):new lt(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function PS(){}Q=PS.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Fu(){if(Do&&!(10<=Number(pb)))throw Error("Environmental error: no available transport.")}Fu.prototype.g=function(t,e){return new hn(t,e)};function hn(t,e){At.call(this),this.g=new vS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ga(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ga(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Qo(this)}It(hn,At);hn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IS(t,null,t.Y),rh(t)};hn.prototype.close=function(){Mm(this.g)};hn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Im(t),t=n);e.j.push(new Wb(e.fb++,t)),e.H==3&&rh(e)};hn.prototype.N=function(){this.g.h=null,delete this.j,Mm(this.g),delete this.g,hn.$.N.call(this)};function kS(t){xm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(kS,xm);function NS(){Vm.call(this),this.status=1}It(NS,Vm);function Qo(t){this.g=t}It(Qo,PS);Qo.prototype.Ba=function(){Dt(this.g,"a")};Qo.prototype.Aa=function(t){Dt(this.g,new kS(t))};Qo.prototype.za=function(t){Dt(this.g,new NS)};Qo.prototype.ya=function(){Dt(this.g,"b")};function nM(){this.blockSize=-1}function $n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It($n,nM);$n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ud(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}$n.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)ud(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){ud(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){ud(this,r),i=0;break}}this.h=i,this.i+=e};$n.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var rM={};function Fm(t){return-128<=t&&128>t?hb(t,function(e){return new Fe([e|0],0>e?-1:0)}):new Fe([t|0],0>t?-1:0)}function Hn(t){if(isNaN(t)||!isFinite(t))return yo;if(0>t)return Nt(Hn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=jf;return new Fe(e,0)}function xS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Nt(xS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hn(Math.pow(e,8)),r=yo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Hn(Math.pow(e,o)),r=r.R(o).add(Hn(s))):(r=r.R(n),r=r.add(Hn(s)))}return r}var jf=4294967296,yo=Fm(0),zf=Fm(1),xv=Fm(16777216);Q=Fe.prototype;Q.ea=function(){if(En(this))return-Nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:jf+r)*e,e*=jf}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ar(this))return"0";if(En(this))return"-"+Nt(this).toString(t);for(var e=Hn(Math.pow(t,6)),n=this,r="";;){var i=Bu(n,e).g;n=Uu(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ar(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ar(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function En(t){return t.h==-1}Q.X=function(t){return t=Uu(this,t),En(t)?-1:ar(t)?0:1};function Nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Fe(n,~t.h).add(zf)}Q.abs=function(){return En(this)?Nt(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Fe(n,n[n.length-1]&-2147483648?-1:0)};function Uu(t,e){return t.add(Nt(e))}Q.R=function(t){if(ar(this)||ar(t))return yo;if(En(this))return En(t)?Nt(this).R(Nt(t)):Nt(Nt(this).R(t));if(En(t))return Nt(this.R(Nt(t)));if(0>this.X(xv)&&0>t.X(xv))return Hn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Dl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Dl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Dl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Dl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Fe(n,0)};function Dl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ys(t,e){this.g=t,this.h=e}function Bu(t,e){if(ar(e))throw Error("division by zero");if(ar(t))return new ys(yo,yo);if(En(t))return e=Bu(Nt(t),e),new ys(Nt(e.g),Nt(e.h));if(En(e))return e=Bu(t,Nt(e)),new ys(Nt(e.g),e.h);if(30<t.g.length){if(En(t)||En(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zf,r=e;0>=r.X(t);)n=Vv(n),r=Vv(r);var i=zi(n,1),o=zi(r,1);for(r=zi(r,2),n=zi(n,2);!ar(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=zi(r,1),n=zi(n,1)}return e=Uu(t,i.R(e)),new ys(i,e)}for(i=yo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Hn(n),s=o.R(e);En(s)||0<s.X(t);)n-=r,o=Hn(n),s=o.R(e);ar(o)&&(o=zf),i=i.add(o),t=Uu(t,s)}return new ys(i,t)}Q.gb=function(t){return Bu(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Fe(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Fe(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Fe(n,this.h^t.h)};function Vv(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Fe(n,t.h)}function zi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Fe(i,t.h)}Fu.prototype.createWebChannel=Fu.prototype.g;hn.prototype.send=hn.prototype.u;hn.prototype.open=hn.prototype.m;hn.prototype.close=hn.prototype.close;Qc.NO_ERROR=0;Qc.TIMEOUT=8;Qc.HTTP_ERROR=6;Gw.COMPLETE="complete";Qw.EventType=qa;qa.OPEN="a";qa.CLOSE="b";qa.ERROR="c";qa.MESSAGE="d";At.prototype.listen=At.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;$n.prototype.digest=$n.prototype.l;$n.prototype.reset=$n.prototype.reset;$n.prototype.update=$n.prototype.j;Fe.prototype.add=Fe.prototype.add;Fe.prototype.multiply=Fe.prototype.R;Fe.prototype.modulo=Fe.prototype.gb;Fe.prototype.compare=Fe.prototype.X;Fe.prototype.toNumber=Fe.prototype.ea;Fe.prototype.toString=Fe.prototype.toString;Fe.prototype.getBits=Fe.prototype.D;Fe.fromNumber=Hn;Fe.fromString=xS;var iM=function(){return new Fu},oM=function(){return Gc()},cd=Qc,sM=Gw,aM=bi,Dv={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ll=Qw,lM=lt,uM=$n,vo=Fe;const Lv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Tw("@firebase/firestore");function vs(){return Ci.logLevel}function G(t,...e){if(Ci.logLevel<=De.DEBUG){const n=e.map(Um);Ci.debug(`Firestore (${Yo}): ${t}`,...n)}}function Xn(t,...e){if(Ci.logLevel<=De.ERROR){const n=e.map(Um);Ci.error(`Firestore (${Yo}): ${t}`,...n)}}function Lo(t,...e){if(Ci.logLevel<=De.WARN){const n=e.map(Um);Ci.warn(`Firestore (${Yo}): ${t}`,...n)}}function Um(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+t;throw Xn(e),new Error(e)}function He(t,e){t||ge()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Ko{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class hM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dM{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ur,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ur)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new VS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Ft(e)}}class fM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new mM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yM(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new _t(0,0))}static max(){return new ve(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ra.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ra?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Ra{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const vM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Ra{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return vM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ne(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ne(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ne(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Ge.fromString(e))}static fromName(e){return new he(Ge.fromString(e).popFirst(5))}static empty(){return new he(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Ge(e.slice()))}}function _M(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Hr(i,he.empty(),e)}function EM(t){return new Hr(t.readTime,t.key,-1)}class Hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hr(ve.min(),he.empty(),-1)}static max(){return new Hr(ve.max(),he.empty(),-1)}}function wM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==SM)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new O((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ur,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new zs(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=jm(r.target.error);this.V.reject(new zs(e,i))}}static open(e,n,r,i){try{return new Bm(n,e.transaction(i,r))}catch(o){throw new zs(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new AM(n)}}class di{constructor(e,n,r){this.name=e,this.version=n,this.p=r,di.S(Du())===12.2&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),si(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ww())return!1;if(di.C())return!0;const e=Du(),n=di.S(e),r=0<n&&n<10,i=di.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new zs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new ne(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ne(b.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new zs(e,s))},i.onupgradeneeded=o=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=Bm.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),O.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(G("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class RM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return si(this.k.delete())}}class zs extends ne{constructor(e,n){super(b.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ja(t){return t.name==="IndexedDbTransactionError"}class AM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),si(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),si(this.store.add(e))}get(e){return si(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),si(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),si(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new O((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new O((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new O((r,i)=>{n.onerror=o=>{const s=jm(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new O((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new RM(a),u=n(a.primaryKey,a.value,l);if(u instanceof O){const c=u.catch(h=>(l.done(),O.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>O.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function si(t){return new O((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=jm(r.target.error);n(i)}})}let bv=!1;function jm(t){const e=di.S(Du());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bv||(bv=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}zm._e=-1;function ih(t){return t==null}function ju(t){return t===0&&1/t==-1/0}function IM(t){return typeof t=="number"&&Number.isInteger(t)&&!ju(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bl(this.root,e,this.comparator,!0)}}class bl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=o??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,o){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(e){return new Ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Lt(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bS("Invalid base64 string: "+o):o}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const CM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(He(!!t),typeof t=="string"){let e=0;const n=CM.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pi(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hm(t){const e=t.mapValue.fields.__previous_value__;return Wm(e)?Hm(e):e}function Aa(t){const e=qr(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ia{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wm(t)?4:kM(t)?9007199254740991:10:ge()}function Jn(t,e){if(t===e)return!0;const n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Aa(t).isEqual(Aa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=qr(i.timestampValue),a=qr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Pi(i.bytesValue).isEqual(Pi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?ju(s)===ju(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return bo(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Mv(s)!==Mv(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Jn(s[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Ca(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=ki(t),r=ki(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ft(o.integerValue||o.doubleValue),l=ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $v(t.timestampValue,e.timestampValue);case 4:return $v(Aa(t),Aa(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Pi(o),l=Pi(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Oe(a[u],l[u]);if(c!==0)return c}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Oe(ft(o.latitude),ft(s.latitude));return a!==0?a:Oe(ft(o.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Mo(a[u],l[u]);if(c)return c}return Oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ml.mapValue&&s===Ml.mapValue)return 0;if(o===Ml.mapValue)return 1;if(s===Ml.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=Oe(l[h],c[h]);if(d!==0)return d;const p=Mo(a[l[h]],u[c[h]]);if(p!==0)return p}return Oe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ge()}}function $v(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=qr(t),r=qr(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function Oo(t){return Wf(t)}function Wf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Pi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Wf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Wf(n.fields[s])}`;return i+"}"}(t.mapValue):ge()}function Fv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hf(t){return!!t&&"integerValue"in t}function qm(t){return!!t&&"arrayValue"in t}function Uv(t){return!!t&&"nullValue"in t}function Bv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jl(t){return!!t&&"mapValue"in t}function Ws(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ws(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ws(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ws(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ws(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Jl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wn(Ws(this.value))}}function MS(t){const e=[];return Xo(t.fields,(n,r)=>{const i=new xt([n]);if(Jl(r)){const o=MS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,ve.min(),ve.min(),ve.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,ve.min(),ve.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,ve.min(),ve.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.position=e,this.inclusive=n}}function jv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=Mo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function NM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{}class mt extends OS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VM(e,n,r):n==="array-contains"?new bM(e,r):n==="in"?new MM(e,r):n==="not-in"?new OM(e,r):n==="array-contains-any"?new $M(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DM(e,r):new LM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends OS{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Fn(e,n)}matches(e){return $S(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function $S(t){return t.op==="and"}function FS(t){return xM(t)&&$S(t)}function xM(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function qf(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(FS(t))return t.filters.map(e=>qf(e)).join(",");{const e=t.filters.map(n=>qf(n)).join(",");return`${t.op}(${e})`}}function US(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&US(s,i.filters[a]),!0):!1}(t,e):void ge()}function BS(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(BS).join(" ,")+"}"}(t):"Filter"}class VM extends mt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class DM extends mt{constructor(e,n){super(e,"in",n),this.keys=jS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LM extends mt{constructor(e,n){super(e,"not-in",n),this.keys=jS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class bM extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qm(n)&&Ca(n.arrayValue,this.value)}}class MM extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ca(this.value.arrayValue,n)}}class OM extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ca(this.value.arrayValue,n)}}class $M extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ca(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function Wv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new FM(t,e,n,r,i,o,s)}function Km(t){const e=we(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oo(r)).join(",")),e.ce=n}return e.ce}function Gm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!US(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zv(t.startAt,e.startAt)&&zv(t.endAt,e.endAt)}function Kf(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function UM(t,e,n,r,i,o,s,a){return new Za(t,e,n,r,i,o,s,a)}function zS(t){return new Za(t)}function Hv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WS(t){return t.collectionGroup!==null}function Hs(t){const e=we(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Lt(xt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Wu(o,r))}),n.has(xt.keyField().canonicalString())||e.le.push(new Wu(xt.keyField(),r))}return e.le}function Qn(t){const e=we(t);return e.he||(e.he=BM(e,Hs(t))),e.he}function BM(t,e){if(t.limitType==="F")return Wv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Wu(i.field,o)});const n=t.endAt?new zu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zu(t.startAt.position,t.startAt.inclusive):null;return Wv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gf(t,e){const n=t.filters.concat([e]);return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hu(t,e,n){return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oh(t,e){return Gm(Qn(t),Qn(e))&&t.limitType===e.limitType}function HS(t){return`${Km(Qn(t))}|lt:${t.limitType}`}function Hi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BS(i)).join(", ")}]`),ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oo(i)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function sh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Hs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=jv(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Hs(r),i)||r.endAt&&!function(s,a,l){const u=jv(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Hs(r),i))}(t,e)}function jM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qS(t){return(e,n)=>{let r=!1;for(const i of Hs(t)){const o=zM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function zM(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Mo(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return LS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new st(he.comparator);function gr(){return WM}const KS=new st(he.comparator);function Ps(...t){let e=KS;for(const n of t)e=e.insert(n.key,n);return e}function GS(t){let e=KS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return qs()}function QS(){return qs()}function qs(){return new Jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const HM=new st(he.comparator),qM=new Lt(he.comparator);function Ce(...t){let e=qM;for(const n of t)e=e.add(n);return e}const KM=new Lt(Oe);function GM(){return KM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ju(e)?"-0":e}}function XS(t){return{integerValue:""+t}}function QM(t,e){return IM(e)?XS(e):YS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function YM(t,e,n){return t instanceof qu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Wm(o)&&(o=Hm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Pa?ZS(t,e):t instanceof ka?eT(t,e):function(i,o){const s=JS(i,o),a=qv(s)+qv(i.Ie);return Hf(s)&&Hf(i.Ie)?XS(a):YS(i.serializer,a)}(t,e)}function XM(t,e,n){return t instanceof Pa?ZS(t,e):t instanceof ka?eT(t,e):n}function JS(t,e){return t instanceof Ku?function(r){return Hf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class qu extends ah{}class Pa extends ah{constructor(e){super(),this.elements=e}}function ZS(t,e){const n=tT(e);for(const r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ka extends ah{constructor(e){super(),this.elements=e}}function eT(t,e){let n=tT(e);for(const r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}class Ku extends ah{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function qv(t){return ft(t.integerValue||t.doubleValue)}function tT(t){return qm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pa&&i instanceof Pa||r instanceof ka&&i instanceof ka?bo(r.elements,i.elements,Jn):r instanceof Ku&&i instanceof Ku?Jn(r.Ie,i.Ie):r instanceof qu&&i instanceof qu}(t.transform,e.transform)}class ZM{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lh{}function nT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iT(t.key,cr.none()):new el(t.key,t.data,cr.none());{const n=t.data,r=wn.empty();let i=new Lt(xt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Mi(t.key,r,new Ln(i.toArray()),cr.none())}}function eO(t,e,n){t instanceof el?function(i,o,s){const a=i.value.clone(),l=Gv(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mi?function(i,o,s){if(!Zl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Gv(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(rT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ks(t,e,n,r){return t instanceof el?function(o,s,a,l){if(!Zl(o.precondition,s))return a;const u=o.value.clone(),c=Qv(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mi?function(o,s,a,l){if(!Zl(o.precondition,s))return a;const u=Qv(o.fieldTransforms,l,s),c=s.data;return c.setAll(rT(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Zl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function tO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=JS(r.transform,i||null);o!=null&&(n===null&&(n=wn.empty()),n.set(r.field,o))}return n||null}function Kv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bo(r,i,(o,s)=>JM(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class el extends lh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mi extends lh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gv(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,XM(s,a,n[i]))}return r}function Qv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,YM(o,s,e))}return r}class iT extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nO extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eO(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ks(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ks(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QS();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=nT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(n,r)=>Kv(n,r))&&bo(this.baseMutations,e.baseMutations,(n,r)=>Kv(n,r))}}class Qm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return HM}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Qm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ve;function sO(t){switch(t){default:return ge();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function oT(t){if(t===void 0)return Xn("GRPC error has no .code"),b.UNKNOWN;switch(t){case dt.OK:return b.OK;case dt.CANCELLED:return b.CANCELLED;case dt.UNKNOWN:return b.UNKNOWN;case dt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case dt.INTERNAL:return b.INTERNAL;case dt.UNAVAILABLE:return b.UNAVAILABLE;case dt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case dt.NOT_FOUND:return b.NOT_FOUND;case dt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case dt.ABORTED:return b.ABORTED;case dt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case dt.DATA_LOSS:return b.DATA_LOSS;default:return ge()}}(Ve=dt||(dt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new vo([4294967295,4294967295],0);function Yv(t){const e=aO().encode(t),n=new uM;return n.update(e),new Uint8Array(n.digest())}function Xv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new vo([n,r],0),new vo([i,o],0)]}class Ym{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ks(`Invalid padding: ${n}`);if(r<0)throw new ks(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ks(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ks(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=vo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(vo.fromNumber(r)));return i.compare(lO)===1&&(i=new vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Yv(e),[r,i]=Xv(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ym(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=Yv(e),[r,i]=Xv(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uh(ve.min(),i,new st(Oe),gr(),Ce())}}class tl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tl(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class sT{constructor(e,n){this.targetId=e,this.fe=n}}class aT{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Jv{constructor(){this.ge=0,this.pe=e_(),this.ye=Ht.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new tl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=e_()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,He(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class uO{constructor(e){this.Le=e,this.ke=new Map,this.qe=gr(),this.Qe=Zv(),this.Ke=new st(Oe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Kf(o))if(r===0){const s=new he(o.path);this.We(n,s,Bt.newNoDocument(s,ve.min()))}else He(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Pi(r).toUint8Array()}catch(l){if(l instanceof bS)return Lo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ym(s,i,o)}catch(l){return Lo(l instanceof ks?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Kf(a.target)){const l=new he(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Bt.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Ce();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new uh(e,n,this.Ke,this.qe,r);return this.qe=gr(),this.Qe=Zv(),this.Ke=new st(Oe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Jv,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Lt(Oe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Jv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Zv(){return new st(he.comparator)}function e_(){return new st(he.comparator)}const cO={asc:"ASCENDING",desc:"DESCENDING"},hO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dO={and:"AND",or:"OR"};class fO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qf(t,e){return t.useProto3Json||ih(e)?e:{value:e}}function Gu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pO(t,e){return Gu(t,e.toTimestamp())}function Yn(t){return He(!!t),ve.fromTimestamp(function(n){const r=qr(n);return new _t(r.seconds,r.nanos)}(t))}function Xm(t,e){return Yf(t,e).canonicalString()}function Yf(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uT(t){const e=Ge.fromString(t);return He(pT(e)),e}function Xf(t,e){return Xm(t.databaseId,e.path)}function hd(t,e){const n=uT(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(hT(n))}function cT(t,e){return Xm(t.databaseId,e)}function mO(t){const e=uT(t);return e.length===4?Ge.emptyPath():hT(e)}function Jf(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hT(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t_(t,e,n){return{name:Xf(t,e),fields:n.value.mapValue.fields}}function gO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(He(c===void 0||typeof c=="string"),Ht.fromBase64String(c||"")):(He(c===void 0||c instanceof Uint8Array),Ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?b.UNKNOWN:oT(u.code);return new ne(c,u.message||"")}(s);n=new aT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hd(t,r.document.name),o=Yn(r.document.updateTime),s=r.document.createTime?Yn(r.document.createTime):ve.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new eu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hd(t,r.document),o=r.readTime?Yn(r.readTime):ve.min(),s=Bt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new eu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hd(t,r.document),o=r.removedTargetIds||[];n=new eu([],o,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new oO(i,o),a=r.targetId;n=new sT(a,s)}}return n}function yO(t,e){let n;if(e instanceof el)n={update:t_(t,e.key,e.value)};else if(e instanceof iT)n={delete:Xf(t,e.key)};else if(e instanceof Mi)n={update:t_(t,e.key,e.data),updateMask:IO(e.fieldMask)};else{if(!(e instanceof nO))return ge();n={verify:Xf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof qu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ka)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ku)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:pO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(t,e.precondition)),n}function vO(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Yn(i.updateTime):Yn(o);return s.isEqual(ve.min())&&(s=Yn(o)),new ZM(s,i.transformResults||[])}(n,e))):[]}function _O(t,e){return{documents:[cT(t,e.path)]}}function EO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cT(t,i);const o=function(u){if(u.length!==0)return fT(Fn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:qi(d.field),direction:TO(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Qf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function wO(t){let e=mO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=dT(h);return d instanceof Fn&&FS(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(y){return new Wu(Ki(y.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,ih(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new zu(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new zu(p,d)}(n.endAt)),UM(e,i,s,o,a,"F",l,u)}function SO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ki(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ki(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ki(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ki(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Ki(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>dT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function TO(t){return cO[t]}function RO(t){return hO[t]}function AO(t){return dO[t]}function qi(t){return{fieldPath:t.canonicalString()}}function Ki(t){return xt.fromServerFormat(t.fieldPath)}function fT(t){return t instanceof mt?function(n){if(n.op==="=="){if(Bv(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NAN"}};if(Uv(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bv(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NOT_NAN"}};if(Uv(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qi(n.field),op:RO(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(i=>fT(i));return r.length===1?r[0]:{compositeFilter:{op:AO(n.op),filters:r}}}(t):ge()}function IO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,i,o=ve.min(),s=ve.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.ct=e}}function PO(t){const e=wO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this._n=new NO}addToCollectionParentIndex(e,n){return this._n.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Hr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class NO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(Ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new $o(0)}static Bn(){return new $o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.changes=new Jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ks(r.mutation,i,Ln.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ps();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=gr();const s=qs(),a=function(){return qs()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Mi)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Ks(c.mutation,u,c.mutation.getFieldMask(),_t.now())):s.set(u.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new VO(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qs();let i=new st((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ln.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=QS();c.forEach(d=>{if(!o.has(d)){const p=nT(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(fi());let a=-1,l=o;return s.next(u=>O.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?O.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:a,changes:GS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Ps();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ps();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,l=>{const u=function(h,d){return new Za(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Bt.newInvalidDocument(c)))});let a=Ps();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Ks(c.mutation,u,Ln.empty(),_t.now()),sh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return O.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yn(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:PO(i.bundledQuery),readTime:Yn(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.overlays=new st(he.comparator),this.hr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=fi(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new st((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=fi(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=fi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iO(n,r));let o=this.hr.get(n);o===void 0&&(o=Ce(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.Pr=new Lt(St.Ir),this.Tr=new Lt(St.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new St(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new he(new Ge([])),r=new St(n,e),i=new St(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new he(new Ge([])),r=new St(n,e),i=new St(n,e+1);let o=Ce();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new St(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return he.comparator(e.key,n.key)||Oe(e.pr,n.pr)}static Er(e,n){return Oe(e.pr,n.pr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Lt(St.Ir)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new rO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new St(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Oe);return n.forEach(i=>{const o=new St(i,0),s=new St(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),O.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new St(new he(o),0);let a=new Lt(Oe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),O.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return O.forEach(n.mutations,i=>{const o=new St(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new St(n,0),i=this.wr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.vr=e,this.docs=function(){return new st(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=gr();const s=n.path,a=new he(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||wM(EM(c),r)<=0||(i.has(c.key)||sh(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $O(this)}getSize(e){return O.resolve(this.size)}}class $O extends xO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.persistence=e,this.Mr=new Jo(n=>Km(n),Gm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Jm,this.targetCount=0,this.Br=$o.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),O.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.qn(n),O.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.Lr={},this.overlays={},this.kr=new zm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new FO(this),this.indexManager=new kO,this.remoteDocumentCache=function(i){return new OO(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new CO(n),this.$r=new LO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new MO(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new BO(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return O.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class BO extends TM{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.zr=new Jm,this.jr=null}static Hr(e){return new Zm(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),O.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Jr,r=>{const i=he.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ve.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return O.or([()=>O.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ce(),i=Ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new eg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return HD()?8:di.v(Du())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new jO;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(vs()<=De.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Hi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),O.resolve()):(vs()<=De.DEBUG&&G("QueryEngine","Query:",Hi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(vs()<=De.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Hi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):O.resolve())}ji(e,n){if(Hv(n))return O.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hu(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ce(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,Hu(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return Hv(n)||i.isEqual(ve.min())?O.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?O.resolve(null):(vs()<=De.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hi(n)),this.es(e,s,n,_M(i,-1)).next(a=>a))})}Zi(e,n){let r=new Lt(qS(e));return n.forEach((i,o)=>{sh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return vs()<=De.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Hi(n)),this.zi.getDocumentsMatchingQuery(e,n,Hr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new st(Oe),this.rs=new Jo(o=>Km(o),Gm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function HO(t,e,n,r){return new WO(t,e,n,r)}async function mT(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ce();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function qO(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let p=O.resolve();return d.forEach(y=>{p=p.next(()=>c.getEntry(l,y)).next(E=>{const A=u.docVersions.get(y);He(A!==null),E.version.compareTo(A)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),c.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gT(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function KO(t,e){const n=we(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(E,A,m){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,p,c)&&a.push(n.Qr.updateTargetData(o,p))});let l=gr(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(GO(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ve.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function GO(t,e,n){let r=Ce(),i=Ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=gr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function QO(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YO(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new kr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Zf(t,e,n){const r=we(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ja(s))throw s;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function n_(t,e,n){const r=we(t);let i=ve.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=we(l),d=h.rs.get(c);return d!==void 0?O.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,s,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ve.min(),n?o:Ce())).next(a=>(XO(r,jM(e),a),{documents:a,hs:o})))}function XO(t,e,n){let r=t.ss.get(e)||ve.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class r_{constructor(){this.activeTargetIds=GM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JO{constructor(){this.no=new r_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new r_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol=null;function dd(){return Ol===null?Ol=function(){return 268435456+Math.round(2147483648*Math.random())}():Ol++,"0x"+Ol.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class n4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=dd(),l=this.bo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(G("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Lo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=e4[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=dd();return new Promise((s,a)=>{const l=new lM;l.setWithCredentials(!0),l.listenOnce(sM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cd.NO_ERROR:const c=l.getResponseJson();G($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case cd.TIMEOUT:G($t,`RPC '${e}' ${o} timed out`),a(new ne(b.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const h=l.getStatus();if(G($t,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const y=function(A){const m=A.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(m)>=0?m:b.UNKNOWN}(p.status);a(new ne(y,p.message))}else a(new ne(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ne(b.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{G($t,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);G($t,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=dd(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iM(),a=oM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");G($t,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,p=!1;const y=new t4({lo:A=>{p?G($t,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(d||(G($t,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),G($t,`RPC '${e}' stream ${i} sending:`,A),h.send(A))},ho:()=>h.close()}),E=(A,m,f)=>{A.listen(m,g=>{try{f(g)}catch(T){setTimeout(()=>{throw T},0)}})};return E(h,Ll.EventType.OPEN,()=>{p||G($t,`RPC '${e}' stream ${i} transport opened.`)}),E(h,Ll.EventType.CLOSE,()=>{p||(p=!0,G($t,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),E(h,Ll.EventType.ERROR,A=>{p||(p=!0,Lo($t,`RPC '${e}' stream ${i} transport errored:`,A),y.Vo(new ne(b.UNAVAILABLE,"The operation could not be completed")))}),E(h,Ll.EventType.MESSAGE,A=>{var m;if(!p){const f=A.data[0];He(!!f);const g=f,T=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(T){G($t,`RPC '${e}' stream ${i} received error:`,T);const C=T.status;let L=function(ae){const J=dt[ae];if(J!==void 0)return oT(J)}(C),M=T.message;L===void 0&&(L=b.INTERNAL,M="Unknown error status: "+C+" with message "+T.message),p=!0,y.Vo(new ne(L,M)),h.close()}else G($t,`RPC '${e}' stream ${i} received:`,f),y.mo(f)}}),E(a,aM.STAT_EVENT,A=>{A.stat===Dv.PROXY?G($t,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Dv.NOPROXY&&G($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){return new fO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new yT(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new ne(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r4 extends vT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=gO(this.serializer,e),r=function(o){if(!("targetChange"in o))return ve.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?Yn(s.readTime):ve.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Jf(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Kf(l)?{documents:_O(o,l)}:{query:EO(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=lT(o,s.resumeToken);const u=Qf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=Gu(o,s.snapshotVersion.toTimestamp());const u=Qf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=SO(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Jf(this.serializer),n.removeTarget=e,this.t_(n)}}class i4 extends vT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=vO(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.T_(r,n)}return He(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Jf(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yO(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ne(b.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Yf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(b.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Yf(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(b.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class s4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Xn(n),this.g_=!1):G("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Oi(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=we(l);u.v_.add(4),await nl(u),u.x_.set("Unknown"),u.v_.delete(4),await hh(u)}(this))})}),this.x_=new s4(r,i)}}async function hh(t){if(Oi(t))for(const e of t.F_)await e(!0)}async function nl(t){for(const e of t.F_)await e(!1)}function _T(t,e){const n=we(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),rg(n)?ng(n):Zo(n).Jo()&&tg(n,e))}function ET(t,e){const n=we(t),r=Zo(n);n.C_.delete(e),r.Jo()&&wT(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Oi(n)&&n.x_.set("Unknown"))}function tg(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(t).c_(e)}function wT(t,e){t.O_.Oe(e),Zo(t).l_(e)}function ng(t){t.O_=new uO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Zo(t).start(),t.x_.p_()}function rg(t){return Oi(t)&&!Zo(t).Ho()&&t.C_.size>0}function Oi(t){return we(t).v_.size===0}function ST(t){t.O_=void 0}async function l4(t){t.C_.forEach((e,n)=>{tg(t,e)})}async function u4(t,e){ST(t),rg(t)?(t.x_.S_(e),ng(t)):t.x_.set("Unknown")}async function c4(t,e,n){if(t.x_.set("Online"),e instanceof aT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qu(t,r)}else if(e instanceof eu?t.O_.$e(e):e instanceof sT?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ve.min()))try{const r=await gT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(Ht.EMPTY_BYTE_STRING,c.snapshotVersion)),wT(o,l);const h=new kr(c.target,l,u,c.sequenceNumber);tg(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Qu(t,r)}}async function Qu(t,e,n){if(!Ja(e))throw e;t.v_.add(1),await nl(t),t.x_.set("Offline"),n||(n=()=>gT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await hh(t)})}function TT(t,e){return e().catch(n=>Qu(t,n,e))}async function dh(t){const e=we(t),n=Kr(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;h4(e);)try{const i=await QO(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,d4(e,i)}catch(i){await Qu(e,i)}RT(e)&&AT(e)}function h4(t){return Oi(t)&&t.D_.length<10}function d4(t,e){t.D_.push(e);const n=Kr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function RT(t){return Oi(t)&&!Kr(t).Ho()&&t.D_.length>0}function AT(t){Kr(t).start()}async function f4(t){Kr(t).d_()}async function p4(t){const e=Kr(t);for(const n of t.D_)e.I_(n.mutations)}async function m4(t,e,n){const r=t.D_.shift(),i=Qm.from(r,e,n);await TT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dh(t)}async function g4(t,e){e&&Kr(t).P_&&await async function(r,i){if(function(s){return sO(s)&&s!==b.ABORTED}(i.code)){const o=r.D_.shift();Kr(r).Zo(),await TT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await dh(r)}}(t,e),RT(t)&&AT(t)}async function o_(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Oi(n);n.v_.add(3),await nl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await hh(n)}async function y4(t,e){const n=we(t);e?(n.v_.delete(2),await hh(n)):e||(n.v_.add(2),await nl(n),n.x_.set("Unknown"))}function Zo(t){return t.N_||(t.N_=function(n,r,i){const o=we(n);return o.R_(),new r4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:l4.bind(null,t),To:u4.bind(null,t),u_:c4.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),rg(t)?ng(t):t.x_.set("Unknown")):(await t.N_.stop(),ST(t))})),t.N_}function Kr(t){return t.B_||(t.B_=function(n,r,i){const o=we(n);return o.R_(),new i4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:f4.bind(null,t),To:g4.bind(null,t),E_:p4.bind(null,t),T_:m4.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await dh(t)):(await t.B_.stop(),t.D_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ig(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),Ja(t))return new ne(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Ps(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new _o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.L_=new st(he.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ge():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Fo(e,n,_o.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.q_=void 0,this.Q_=[]}}class _4{constructor(){this.queries=new Jo(e=>HS(e),oh),this.onlineState="Unknown",this.K_=new Set}}async function E4(t,e){const n=we(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new v4),i)try{o.q_=await n.onListen(r)}catch(s){const a=og(s,`Initialization of query '${Hi(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&sg(n)}async function w4(t,e){const n=we(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function S4(t,e){const n=we(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&sg(n)}function T4(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function sg(t){t.K_.forEach(e=>{e.next()})}class R4{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.key=e}}class CT{constructor(e){this.key=e}}class A4{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ce(),this.mutatedKeys=Ce(),this.ua=qS(e),this.ca=new _o(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new s_,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=sh(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let A=!1;d&&p?d.data.isEqual(p.data)?y!==E&&(r.track({type:3,doc:p}),A=!0):this.Ia(d,p)||(r.track({type:2,doc:p}),A=!0,(l&&this.ua(p,l)>0||u&&this.ua(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),A=!0):d&&!p&&(r.track({type:1,doc:d}),A=!0,(l||u)&&(a=!0)),A&&(p?(s=s.add(p),o=E?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,h)=>function(p,y){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return E(p)-E(y)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new Fo(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new s_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Ce(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new CT(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new IT(r))}),n}Ra(e){this.oa=e.hs,this.aa=Ce();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Fo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class I4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C4{constructor(e){this.key=e,this.ma=!1}}class P4{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Jo(a=>HS(a),oh),this.pa=new Map,this.ya=new Set,this.wa=new st(he.comparator),this.Sa=new Map,this.ba=new Jm,this.Da={},this.Ca=new Map,this.va=$o.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function k4(t,e){const n=F4(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await YO(n.localStore,Qn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await N4(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&_T(n.remoteStore,s)}return i}async function N4(t,e,n,r,i){t.Ma=(h,d,p)=>async function(E,A,m,f){let g=A.view.ha(m);g.Xi&&(g=await n_(E.localStore,A.query,!1).then(({documents:M})=>A.view.ha(M,g)));const T=f&&f.targetChanges.get(A.targetId),C=f&&f.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(g,E.isPrimaryClient,T,C);return l_(E,A.targetId,L.da),L.snapshot}(t,h,d,p);const o=await n_(t.localStore,e,!0),s=new A4(e,o.hs),a=s.ha(o.documents),l=tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);l_(t,n,u.da);const c=new I4(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function x4(t,e){const n=we(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!oh(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ET(n.remoteStore,r.targetId),ep(n,r.targetId)}).catch(Xa)):(ep(n,r.targetId),await Zf(n.localStore,r.targetId,!0))}async function V4(t,e,n){const r=U4(t);try{const i=await function(s,a){const l=we(s),u=_t.now(),c=a.reduce((p,y)=>p.add(y.key),Ce());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=gr(),E=Ce();return l.os.getEntries(p,c).next(A=>{y=A,y.forEach((m,f)=>{f.isValidDocument()||(E=E.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(A=>{h=A;const m=[];for(const f of a){const g=tO(f,h.get(f.key).overlayedDocument);g!=null&&m.push(new Mi(f.key,g,MS(g.value.mapValue),cr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,a)}).next(A=>{d=A;const m=A.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(p,A.batchId,m)})}).then(()=>({batchId:d.batchId,changes:GS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new st(Oe)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await rl(r,i.changes),await dh(r.remoteStore)}catch(i){const o=og(i,"Failed to persist write");n.reject(o)}}async function PT(t,e){const n=we(t);try{const r=await KO(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?He(s.ma):i.removedDocuments.size>0&&(He(s.ma),s.ma=!1))}),await rl(n,r,e)}catch(r){await Xa(r)}}function a_(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=we(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Q_)d.U_(a)&&(u=!0)}),u&&sg(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D4(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new st(he.comparator);s=s.insert(o,Bt.newNoDocument(o,ve.min()));const a=Ce().add(o),l=new uh(ve.min(),new Map,new st(Oe),s,a);await PT(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),ag(r)}else await Zf(r.localStore,e,!1).then(()=>ep(r,e,n)).catch(Xa)}async function L4(t,e){const n=we(t),r=e.batch.batchId;try{const i=await qO(n.localStore,e);NT(n,r,null),kT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rl(n,i)}catch(i){await Xa(i)}}async function b4(t,e,n){const r=we(t);try{const i=await function(s,a){const l=we(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(He(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);NT(r,e,n),kT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rl(r,i)}catch(i){await Xa(i)}}function kT(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function NT(t,e,n){const r=we(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function ep(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||xT(t,r)})}function xT(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(ET(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),ag(t))}function l_(t,e,n){for(const r of n)r instanceof IT?(t.ba.addReference(r.key,e),M4(t,r)):r instanceof CT?(G("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||xT(t,r.key)):ge()}function M4(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(G("SyncEngine","New document in limbo: "+n),t.ya.add(r),ag(t))}function ag(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new he(Ge.fromString(e)),r=t.va.next();t.Sa.set(r,new C4(n)),t.wa=t.wa.insert(n,r),_T(t.remoteStore,new kr(Qn(zS(n.path)),r,"TargetPurposeLimboResolution",zm._e))}}async function rl(t,e,n){const r=we(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=eg.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=we(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>O.forEach(u,d=>O.forEach(d.qi,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>O.forEach(d.Qi,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!Ja(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.ns.get(d),y=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(y);c.ns=c.ns.insert(d,E)}}}(r.localStore,o))}async function O4(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await mT(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new ne(b.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rl(n,r.us)}}function $4(t,e){const n=we(t),r=n.Sa.get(e);if(r&&r.ma)return Ce().add(r.key);{let i=Ce();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function F4(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D4.bind(null,e),e.fa.u_=S4.bind(null,e.eventManager),e.fa.xa=T4.bind(null,e.eventManager),e}function U4(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,e),e}class u_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ch(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HO(this.persistence,new zO,e.initialUser,this.serializer)}createPersistence(e){return new UO(Zm.Hr,this.serializer)}createSharedClientState(e){return new JO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class B4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O4.bind(null,this.syncEngine),await y4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _4}()}createDatastore(e){const n=ch(e.databaseInfo.databaseId),r=function(o){return new n4(o)}(e.databaseInfo);return function(o,s,a,l){return new o4(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new a4(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>a_(this.syncEngine,n,0),function(){return i_.D()?new i_:new ZO}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new P4(i,o,s,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=we(r);G("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await nl(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=DS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=og(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pd(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function c_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H4(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>o_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>o_(e.remoteStore,i)),t._onlineComponents=e}function W4(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function H4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await pd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!W4(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await pd(t,new u_)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await pd(t,new u_);return t._offlineComponents}async function VT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await c_(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await c_(t,new B4))),t._onlineComponents}function q4(t){return VT(t).then(e=>e.syncEngine)}async function K4(t){const e=await VT(t),n=e.eventManager;return n.onListen=k4.bind(null,e.syncEngine),n.onUnlisten=x4.bind(null,e.syncEngine),n}function G4(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new j4({next:d=>{s.enqueueAndForget(()=>w4(o,h)),d.fromCache&&l.source==="server"?u.reject(new ne(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new R4(a,c,{includeMetadataChanges:!0,Z_:!0});return E4(o,h)}(await K4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e,n){if(!n)throw new ne(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q4(t,e,n,r){if(e===!0&&r===!0)throw new ne(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d_(t){if(!he.isDocumentKey(t))throw new ne(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f_(t){if(he.isDocumentKey(t))throw new ne(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Yu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fh(t);throw new ne(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Y4(t,e){if(e<=0)throw new ne(b.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cM;switch(r.type){case"firstParty":return new pM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h_.get(n);r&&(G("ComponentProvider","Removing Datastore"),h_.delete(n),r.terminate())}(this),Promise.resolve()}}function X4(t,e,n,r={}){var i;const o=(t=Yu(t,ph))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ft.MOCK_USER;else{a=zD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ne(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ft(u)}t._authCredentials=new hM(new VS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class jr extends $i{constructor(e,n,r){super(e,n,zS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new he(e))}withConverter(e){return new jr(this.firestore,e,this._path)}}function lg(t,e,...n){if(t=Vo(t),LT("collection","path",e),t instanceof ph){const r=Ge.fromString(e,...n);return f_(r),new jr(t,null,r)}{if(!(t instanceof Rn||t instanceof jr))throw new ne(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return f_(r),new jr(t.firestore,null,r)}}function J4(t,e,...n){if(t=Vo(t),arguments.length===1&&(e=DS.newId()),LT("doc","path",e),t instanceof ph){const r=Ge.fromString(e,...n);return d_(r),new Rn(t,null,new he(r))}{if(!(t instanceof Rn||t instanceof jr))throw new ne(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return d_(r),new Rn(t.firestore,t instanceof jr?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new yT(this,"async_queue_retry"),this._u=()=>{const n=fd();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=fd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=fd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new ur;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Ja(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=ig.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&ge()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class ug extends ph{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Z4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||MT(this),this._firestoreClient.terminate()}}function e$(t,e){const n=typeof t=="object"?t:GL(),r=typeof t=="string"?t:e||"(default)",i=WL(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=BD("firestore");o&&X4(i,...o)}return i}function bT(t){return t._firestoreClient||MT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function MT(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new PM(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,DT(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new z4(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Ht.fromBase64String(e))}catch(n){throw new ne(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=/^__.*__$/;class n${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new el(e,this.data,n,this.fieldTransforms)}}function $T(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class dg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Xu(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if($T(this.du)&&t$.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class r${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ch(e)}Su(e,n,r,i=!1){return new dg({du:e,methodName:n,wu:r,path:xt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FT(t){const e=t._freezeSettings(),n=ch(t._databaseId);return new r$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i$(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);jT("Data must be an object, but it was:",s,r);const a=UT(r,s);let l,u;if(o.merge)l=new Ln(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=s$(e,h,n);if(!s.contains(d))throw new ne(b.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);l$(c,d)||c.push(d)}l=new Ln(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new n$(new wn(a),l,u)}function o$(t,e,n,r=!1){return fg(n,t.Su(r?4:3,e))}function fg(t,e){if(BT(t=Vo(t)))return jT("Unsupported field value:",e,t),UT(t,e);if(t instanceof OT)return function(r,i){if(!$T(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=fg(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Vo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_t.fromDate(r);return{timestampValue:Gu(i.serializer,o)}}if(r instanceof _t){const o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gu(i.serializer,o)}}if(r instanceof hg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uo)return{bytesValue:lT(i.serializer,r._byteString)};if(r instanceof Rn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Xm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${fh(r)}`)}(t,e)}function UT(t,e){const n={};return LS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(r,i)=>{const o=fg(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function BT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof hg||t instanceof Uo||t instanceof Rn||t instanceof OT)}function jT(t,e,n){if(!BT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=fh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function s$(t,e,n){if((e=Vo(e))instanceof cg)return e._internalPath;if(typeof e=="string")return zT(t,e);throw Xu("Field path arguments must be of type string or ",t,!1,void 0,n)}const a$=new RegExp("[~\\*/\\[\\]]");function zT(t,e,n){if(e.search(a$)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cg(...e.split("."))._internalPath}catch{throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ne(b.INVALID_ARGUMENT,a+t+l)}function l$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u$ extends WT{data(){return super.data()}}function pg(t,e){return typeof e=="string"?zT(t,e):e instanceof cg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class HT extends mg{}function qT(t,e,...n){let r=[];e instanceof mg&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof gg).length,a=o.filter(l=>l instanceof mh).length;if(s>1||s>0&&a>0)throw new ne(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mh extends HT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mh(e,n,r)}_apply(e){const n=this._parse(e);return GT(e._query,n),new $i(e.firestore,e.converter,Gf(e._query,n))}_parse(e){const n=FT(e.firestore);return function(o,s,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ne(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){g_(h,c);const p=[];for(const y of h)p.push(m_(l,o,y));d={arrayValue:{values:p}}}else d=m_(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||g_(h,c),d=o$(a,s,h,c==="in"||c==="not-in");return mt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function KT(t,e,n){const r=e,i=pg("where",t);return mh._create(i,r,n)}class gg extends mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)GT(s,l),s=Gf(s,l)}(e._query,n),new $i(e.firestore,e.converter,Gf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yg extends HT{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new yg(e,n,r)}_apply(e){return new $i(e.firestore,e.converter,Hu(e._query,this._limit,this._limitType))}}function h$(t){return Y4("limit",t),yg._create("limit",t,"F")}function m_(t,e,n){if(typeof(n=Vo(n))=="string"){if(n==="")throw new ne(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WS(e)&&n.indexOf("/")!==-1)throw new ne(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!he.isDocumentKey(r))throw new ne(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fv(t,new he(r))}if(n instanceof Rn)return Fv(t,n._key);throw new ne(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(n)}.`)}function g_(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GT(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class d${convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new hg(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Aa(e));default:return null}}convertTimestamp(e){const n=qr(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);He(pT(r));const i=new Ia(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||Xn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p$ extends WT{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tu extends p${data(e={}){return super.data(e)}}class m${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $l(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tu(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new tu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new tu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:g$(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function g$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class y$ extends d${constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function QT(t){t=Yu(t,$i);const e=Yu(t.firestore,ug),n=bT(e),r=new y$(e);return c$(t._query),G4(n,t._query).then(i=>new m$(e,r,t,i))}function v$(t,e){const n=Yu(t.firestore,ug),r=J4(t),i=f$(t.converter,e);return _$(n,[i$(FT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function _$(t,e){return function(r,i){const o=new ur;return r.asyncQueue.enqueueAndForget(async()=>V4(await q4(r),i,o)),o.promise}(bT(t),e)}(function(e,n=!0){(function(i){Yo=i})(KL),bu(new pa("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ug(new dM(r.getProvider("auth-internal")),new gM(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),go(Lv,"4.4.1",e),go(Lv,"4.4.1","esm2017")})();var E$="firebase",w$="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(E$,w$,"app");var md={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const S$={apiKey:md.REACT_APP_Firebase_apiKey,authDomain:"overdog-577c3.firebaseapp.com",projectId:"overdog-577c3",storageBucket:"overdog-577c3.appspot.com",messagingSenderId:md.REACT_APP_Firebase_messagingSenderId,appId:md.REACT_APP_Firebase_appId},T$=Iw(S$),vg=e$(T$);var _g={};Object.defineProperty(_g,"__esModule",{value:!0});var YT=_g.recoilPersist=void 0;const R$=(t={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:n=localStorage,converter:r=JSON}=t,i=({onSet:u,node:c,trigger:h,setSelf:d})=>{if(h==="get"){const p=s();typeof p.then=="function"&&p.then(y=>{y.hasOwnProperty(c.key)&&d(y[c.key])}),p.hasOwnProperty(c.key)&&d(p[c.key])}u(async(p,y,E)=>{const A=s();typeof A.then=="function"?A.then(m=>o(p,m,c.key,E)):o(p,A,c.key,E)})},o=(u,c,h,d)=>{d?delete c[h]:c[h]=u,l(c)},s=()=>{const u=n.getItem(e);return u==null?{}:typeof u=="string"?a(u):typeof u.then=="function"?u.then(a):{}},a=u=>{if(u===void 0)return{};try{return r.parse(u)}catch(c){return console.error(c),{}}},l=u=>{try{typeof n.mergeItem=="function"?n.mergeItem(e,r.stringify(u)):n.setItem(e,r.stringify(u))}catch(c){console.error(c)}};return{persistAtom:i}};YT=_g.recoilPersist=R$;const{persistAtom:A$}=YT(),I$=async t=>{const e=lg(vg,"posts"),n=qT(e,KT("postId","==",t),h$(1));return(await QT(n)).docs.map(o=>o.data())},C$=async t=>{const e=lg(vg,"comments"),n=qT(e,KT("postId","==",t));return(await QT(n)).docs.map(o=>o.data())},P$=async t=>{try{const e=lg(vg,"comments");await v$(e,t)}catch(e){console.log(e)}},k$=mm({key:"postState",default:async t=>await I$(t)}),N$=mm({key:"commentState",default:async t=>await C$(t)});mm({key:"setCommentState",default:async t=>await P$(t)});const XT=AD({key:"postIdState",default:"null",effects_UNSTABLE:[A$]}),x$=()=>{const t=gw(k$("NZPl4Cr1fxH54bzJm7Wy")),[,e]=yw(XT);if(t.state==="loading")return N.jsx("div",{children:" ..."});if(t.state==="hasError")return N.jsx("div",{children:" ."});const n=t.contents;return t.state==="hasValue"&&e(n[0].postId),N.jsx(te.Suspense,{fallback:"...loading",children:N.jsx("div",{className:"grid-rows-3",children:N.jsx(xD,{data:n[0]})})})},JT=t=>{const e=t.createdAt.toDate(),r=new Date-e,i=Math.floor(r/(1e3*60));let o;return i/60>=24?o=`${Math.floor(i/60/24)} `:i>=60?o=`${Math.floor(i/60)} `:o=`${i} `,o},V$=t=>N.jsx("div",{children:t.data.map((e,n)=>N.jsxs("div",{className:"flex items-center my-3 mx-2",children:[N.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:"nickname"}),N.jsx("div",{className:"ml-2 text-[14px]",children:e.commentContent})]}),N.jsx("div",{className:"flex",children:N.jsx("div",{className:"ml-2 text-[11px]",children:JT(e)})})]})]},n))});var il=t=>t.type==="checkbox",ao=t=>t instanceof Date,Kt=t=>t==null;const ZT=t=>typeof t=="object";var Et=t=>!Kt(t)&&!Array.isArray(t)&&ZT(t)&&!ao(t),D$=t=>Et(t)&&t.target?il(t.target)?t.target.checked:t.target.value:t,L$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,b$=(t,e)=>t.has(L$(e)),M$=t=>{const e=t.constructor&&t.constructor.prototype;return Et(e)&&e.hasOwnProperty("isPrototypeOf")},Eg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Eg&&(t instanceof Blob||t instanceof FileList))&&(n||Et(t)))if(e=n?[]:{},!n&&!M$(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=gn(t[r]));else return t;return e}var ol=t=>Array.isArray(t)?t.filter(Boolean):[],ut=t=>t===void 0,se=(t,e,n)=>{if(!e||!Et(t))return n;const r=ol(e.split(/[,[\].]+?/)).reduce((i,o)=>Kt(i)?i:i[o],t);return ut(r)||r===t?ut(t[e])?n:t[e]:r},ir=t=>typeof t=="boolean";const y_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Dn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},tr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};_e.createContext(null);var O$=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==Dn.all&&(e._proxyFormState[s]=!r||Dn.all),n&&(n[s]=!0),t[s]}});return i},yn=t=>Et(t)&&!Object.keys(t).length,$$=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return yn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!r||Dn.all))},gd=t=>Array.isArray(t)?t:[t];function F$(t){const e=_e.useRef(t);e.current=t,_e.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var qn=t=>typeof t=="string",U$=(t,e,n,r,i)=>qn(t)?(r&&e.watch.add(t),se(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),se(n,o))):(r&&(e.watchAll=!0),n),wg=t=>/^\w*$/.test(t),eR=t=>ol(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(t,e,n)=>{let r=-1;const i=wg(e)?[e]:eR(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=t[a];l=Et(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},B$=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},v_=t=>({isOnSubmit:!t||t===Dn.onSubmit,isOnBlur:t===Dn.onBlur,isOnChange:t===Dn.onChange,isOnAll:t===Dn.all,isOnTouch:t===Dn.onTouched}),__=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Gs=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=se(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)break;if(s.ref&&e(s.ref,s.name)&&!r)break;Gs(a,e)}else Et(a)&&Gs(a,e)}}};var j$=(t,e,n)=>{const r=ol(se(t,n));return Je(r,"root",e[n]),Je(t,n,r),t},Sg=t=>t.type==="file",Nr=t=>typeof t=="function",Ju=t=>{if(!Eg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},nu=t=>qn(t),Tg=t=>t.type==="radio",Zu=t=>t instanceof RegExp;const E_={value:!1,isValid:!1},w_={value:!0,isValid:!0};var tR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ut(t[0].attributes.value)?ut(t[0].value)||t[0].value===""?w_:{value:t[0].value,isValid:!0}:w_:E_}return E_};const S_={isValid:!1,value:null};var nR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,S_):S_;function T_(t,e,n="validate"){if(nu(t)||Array.isArray(t)&&t.every(nu)||ir(t)&&!t)return{type:n,message:nu(t)?t:"",ref:e}}var Wi=t=>Et(t)&&!Zu(t)?t:{value:t,message:""},R_=async(t,e,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:d,validate:p,name:y,valueAsNumber:E,mount:A,disabled:m}=t._f,f=se(e,y);if(!A||m)return{};const g=s?s[0]:o,T=$=>{r&&g.reportValidity&&(g.setCustomValidity(ir($)?"":$||""),g.reportValidity())},C={},L=Tg(o),M=il(o),q=L||M,ae=(E||Sg(o))&&ut(o.value)&&ut(f)||Ju(o)&&o.value===""||f===""||Array.isArray(f)&&!f.length,J=B$.bind(null,y,n,C),Ie=($,D,Z,ue=tr.maxLength,Ae=tr.minLength)=>{const be=$?D:Z;C[y]={type:$?ue:Ae,message:be,ref:o,...J($?ue:Ae,be)}};if(i?!Array.isArray(f)||!f.length:a&&(!q&&(ae||Kt(f))||ir(f)&&!f||M&&!tR(s).isValid||L&&!nR(s).isValid)){const{value:$,message:D}=nu(a)?{value:!!a,message:a}:Wi(a);if($&&(C[y]={type:tr.required,message:D,ref:g,...J(tr.required,D)},!n))return T(D),C}if(!ae&&(!Kt(c)||!Kt(h))){let $,D;const Z=Wi(h),ue=Wi(c);if(!Kt(f)&&!isNaN(f)){const Ae=o.valueAsNumber||f&&+f;Kt(Z.value)||($=Ae>Z.value),Kt(ue.value)||(D=Ae<ue.value)}else{const Ae=o.valueAsDate||new Date(f),be=S=>new Date(new Date().toDateString()+" "+S),B=o.type=="time",x=o.type=="week";qn(Z.value)&&f&&($=B?be(f)>be(Z.value):x?f>Z.value:Ae>new Date(Z.value)),qn(ue.value)&&f&&(D=B?be(f)<be(ue.value):x?f<ue.value:Ae<new Date(ue.value))}if(($||D)&&(Ie(!!$,Z.message,ue.message,tr.max,tr.min),!n))return T(C[y].message),C}if((l||u)&&!ae&&(qn(f)||i&&Array.isArray(f))){const $=Wi(l),D=Wi(u),Z=!Kt($.value)&&f.length>+$.value,ue=!Kt(D.value)&&f.length<+D.value;if((Z||ue)&&(Ie(Z,$.message,D.message),!n))return T(C[y].message),C}if(d&&!ae&&qn(f)){const{value:$,message:D}=Wi(d);if(Zu($)&&!f.match($)&&(C[y]={type:tr.pattern,message:D,ref:o,...J(tr.pattern,D)},!n))return T(D),C}if(p){if(Nr(p)){const $=await p(f,e),D=T_($,g);if(D&&(C[y]={...D,...J(tr.validate,D.message)},!n))return T(D.message),C}else if(Et(p)){let $={};for(const D in p){if(!yn($)&&!n)break;const Z=T_(await p[D](f,e),g,D);Z&&($={...Z,...J(D,Z.message)},T(Z.message),n&&(C[y]=$))}if(!yn($)&&(C[y]={ref:g,...$},!n))return C}}return T(!0),C};function z$(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ut(t)?r++:t[e[r++]];return t}function W$(t){for(const e in t)if(t.hasOwnProperty(e)&&!ut(t[e]))return!1;return!0}function Ct(t,e){const n=Array.isArray(e)?e:wg(e)?[e]:eR(e),r=n.length===1?t:z$(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Et(r)&&yn(r)||Array.isArray(r)&&W$(r))&&Ct(t,n.slice(0,-1)),t}var yd=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},ec=t=>Kt(t)||!ZT(t);function pi(t,e){if(ec(t)||ec(e))return t===e;if(ao(t)&&ao(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(ao(o)&&ao(s)||Et(o)&&Et(s)||Array.isArray(o)&&Array.isArray(s)?!pi(o,s):o!==s)return!1}}return!0}var rR=t=>t.type==="select-multiple",H$=t=>Tg(t)||il(t),vd=t=>Ju(t)&&t.isConnected,iR=t=>{for(const e in t)if(Nr(t[e]))return!0;return!1};function tc(t,e={}){const n=Array.isArray(t);if(Et(t)||n)for(const r in t)Array.isArray(t[r])||Et(t[r])&&!iR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},tc(t[r],e[r])):Kt(t[r])||(e[r]=!0);return e}function oR(t,e,n){const r=Array.isArray(t);if(Et(t)||r)for(const i in t)Array.isArray(t[i])||Et(t[i])&&!iR(t[i])?ut(e)||ec(n[i])?n[i]=Array.isArray(t[i])?tc(t[i],[]):{...tc(t[i])}:oR(t[i],Kt(e)?{}:e[i],n[i]):n[i]=!pi(t[i],e[i]);return n}var _d=(t,e)=>oR(t,e,tc(e)),sR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ut(t)?t:e?t===""?NaN:t&&+t:n&&qn(t)?new Date(t):r?r(t):t;function Ed(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Sg(e)?e.files:Tg(e)?nR(t.refs).value:rR(e)?[...e.selectedOptions].map(({value:n})=>n):il(e)?tR(t.refs).value:sR(ut(e.value)?t.ref.value:e.value,t)}var q$=(t,e,n,r)=>{const i={};for(const o of t){const s=se(e,o);s&&Je(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},_s=t=>ut(t)?t:Zu(t)?t.source:Et(t)?Zu(t.value)?t.value.source:t.value:t,K$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function A_(t,e,n){const r=se(t,n);if(r||wg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=se(e,o),a=se(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var G$=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Q$=(t,e)=>!ol(se(t,e)).length&&Ct(t,e);const Y$={mode:Dn.onSubmit,reValidateMode:Dn.onChange,shouldFocusError:!0};function X$(t={},e){let n={...Y$,...t},r={submitCount:0,isDirty:!1,isLoading:Nr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=Et(n.defaultValues)||Et(n.values)?gn(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:gn(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:yd(),array:yd(),state:yd()},p=v_(n.mode),y=v_(n.reValidateMode),E=n.criteriaMode===Dn.all,A=_=>I=>{clearTimeout(c),c=setTimeout(_,I)},m=async _=>{if(h.isValid||_){const I=n.resolver?yn((await ae()).errors):await Ie(i,!0);I!==r.isValid&&d.state.next({isValid:I})}},f=_=>h.isValidating&&d.state.next({isValidating:_}),g=(_,I=[],k,K,H=!0,j=!0)=>{if(K&&k){if(a.action=!0,j&&Array.isArray(se(i,_))){const ce=k(se(i,_),K.argA,K.argB);H&&Je(i,_,ce)}if(j&&Array.isArray(se(r.errors,_))){const ce=k(se(r.errors,_),K.argA,K.argB);H&&Je(r.errors,_,ce),Q$(r.errors,_)}if(h.touchedFields&&j&&Array.isArray(se(r.touchedFields,_))){const ce=k(se(r.touchedFields,_),K.argA,K.argB);H&&Je(r.touchedFields,_,ce)}h.dirtyFields&&(r.dirtyFields=_d(o,s)),d.state.next({name:_,isDirty:D(_,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(s,_,I)},T=(_,I)=>{Je(r.errors,_,I),d.state.next({errors:r.errors})},C=_=>{r.errors=_,d.state.next({errors:r.errors,isValid:!1})},L=(_,I,k,K)=>{const H=se(i,_);if(H){const j=se(s,_,ut(k)?se(o,_):k);ut(j)||K&&K.defaultChecked||I?Je(s,_,I?j:Ed(H._f)):Ae(_,j),a.mount&&m()}},M=(_,I,k,K,H)=>{let j=!1,ce=!1;const Be={name:_},ht=!!(se(i,_)&&se(i,_)._f.disabled);if(!k||K){h.isDirty&&(ce=r.isDirty,r.isDirty=Be.isDirty=D(),j=ce!==Be.isDirty);const pn=ht||pi(se(o,_),I);ce=!!(!ht&&se(r.dirtyFields,_)),pn||ht?Ct(r.dirtyFields,_):Je(r.dirtyFields,_,!0),Be.dirtyFields=r.dirtyFields,j=j||h.dirtyFields&&ce!==!pn}if(k){const pn=se(r.touchedFields,_);pn||(Je(r.touchedFields,_,k),Be.touchedFields=r.touchedFields,j=j||h.touchedFields&&pn!==k)}return j&&H&&d.state.next(Be),j?Be:{}},q=(_,I,k,K)=>{const H=se(r.errors,_),j=h.isValid&&ir(I)&&r.isValid!==I;if(t.delayError&&k?(u=A(()=>T(_,k)),u(t.delayError)):(clearTimeout(c),u=null,k?Je(r.errors,_,k):Ct(r.errors,_)),(k?!pi(H,k):H)||!yn(K)||j){const ce={...K,...j&&ir(I)?{isValid:I}:{},errors:r.errors,name:_};r={...r,...ce},d.state.next(ce)}f(!1)},ae=async _=>n.resolver(s,n.context,q$(_||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),J=async _=>{const{errors:I}=await ae(_);if(_)for(const k of _){const K=se(I,k);K?Je(r.errors,k,K):Ct(r.errors,k)}else r.errors=I;return I},Ie=async(_,I,k={valid:!0})=>{for(const K in _){const H=_[K];if(H){const{_f:j,...ce}=H;if(j){const Be=l.array.has(j.name),ht=await R_(H,s,E,n.shouldUseNativeValidation&&!I,Be);if(ht[j.name]&&(k.valid=!1,I))break;!I&&(se(ht,j.name)?Be?j$(r.errors,ht,j.name):Je(r.errors,j.name,ht[j.name]):Ct(r.errors,j.name))}ce&&await Ie(ce,I,k)}}return k.valid},$=()=>{for(const _ of l.unMount){const I=se(i,_);I&&(I._f.refs?I._f.refs.every(k=>!vd(k)):!vd(I._f.ref))&&le(_)}l.unMount=new Set},D=(_,I)=>(_&&I&&Je(s,_,I),!pi(v(),o)),Z=(_,I,k)=>U$(_,l,{...a.mount?s:ut(I)?o:qn(_)?{[_]:I}:I},k,I),ue=_=>ol(se(a.mount?s:o,_,t.shouldUnregister?se(o,_,[]):[])),Ae=(_,I,k={})=>{const K=se(i,_);let H=I;if(K){const j=K._f;j&&(!j.disabled&&Je(s,_,sR(I,j)),H=Ju(j.ref)&&Kt(I)?"":I,rR(j.ref)?[...j.ref.options].forEach(ce=>ce.selected=H.includes(ce.value)):j.refs?il(j.ref)?j.refs.length>1?j.refs.forEach(ce=>(!ce.defaultChecked||!ce.disabled)&&(ce.checked=Array.isArray(H)?!!H.find(Be=>Be===ce.value):H===ce.value)):j.refs[0]&&(j.refs[0].checked=!!H):j.refs.forEach(ce=>ce.checked=ce.value===H):Sg(j.ref)?j.ref.value="":(j.ref.value=H,j.ref.type||d.values.next({name:_,values:{...s}})))}(k.shouldDirty||k.shouldTouch)&&M(_,H,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&z(_)},be=(_,I,k)=>{for(const K in I){const H=I[K],j=`${_}.${K}`,ce=se(i,j);(l.array.has(_)||!ec(H)||ce&&!ce._f)&&!ao(H)?be(j,H,k):Ae(j,H,k)}},B=(_,I,k={})=>{const K=se(i,_),H=l.array.has(_),j=gn(I);Je(s,_,j),H?(d.array.next({name:_,values:{...s}}),(h.isDirty||h.dirtyFields)&&k.shouldDirty&&d.state.next({name:_,dirtyFields:_d(o,s),isDirty:D(_,j)})):K&&!K._f&&!Kt(j)?be(_,j,k):Ae(_,j,k),__(_,l)&&d.state.next({...r}),d.values.next({name:_,values:{...s}}),!a.mount&&e()},x=async _=>{const I=_.target;let k=I.name,K=!0;const H=se(i,k),j=()=>I.type?Ed(H._f):D$(_),ce=Be=>{K=Number.isNaN(Be)||Be===se(s,k,Be)};if(H){let Be,ht;const pn=j(),_r=_.type===y_.BLUR||_.type===y_.FOCUS_OUT,gh=!K$(H._f)&&!n.resolver&&!se(r.errors,k)&&!H._f.deps||G$(_r,se(r.touchedFields,k),r.isSubmitted,y,p),es=__(k,l,_r);Je(s,k,pn),_r?(H._f.onBlur&&H._f.onBlur(_),u&&u(0)):H._f.onChange&&H._f.onChange(_);const Fi=M(k,pn,_r,!1),yh=!yn(Fi)||es;if(!_r&&d.values.next({name:k,type:_.type,values:{...s}}),gh)return h.isValid&&m(),yh&&d.state.next({name:k,...es?{}:Fi});if(!_r&&es&&d.state.next({...r}),f(!0),n.resolver){const{errors:sl}=await ae([k]);if(ce(pn),K){const R=A_(r.errors,i,k),w=A_(sl,i,R.name||k);Be=w.error,k=w.name,ht=yn(sl)}}else Be=(await R_(H,s,E,n.shouldUseNativeValidation))[k],ce(pn),K&&(Be?ht=!1:h.isValid&&(ht=await Ie(i,!0)));K&&(H._f.deps&&z(H._f.deps),q(k,ht,Be,Fi))}},S=(_,I)=>{if(se(r.errors,I)&&_.focus)return _.focus(),1},z=async(_,I={})=>{let k,K;const H=gd(_);if(f(!0),n.resolver){const j=await J(ut(_)?_:H);k=yn(j),K=_?!H.some(ce=>se(j,ce)):k}else _?(K=(await Promise.all(H.map(async j=>{const ce=se(i,j);return await Ie(ce&&ce._f?{[j]:ce}:ce)}))).every(Boolean),!(!K&&!r.isValid)&&m()):K=k=await Ie(i);return d.state.next({...!qn(_)||h.isValid&&k!==r.isValid?{}:{name:_},...n.resolver||!_?{isValid:k}:{},errors:r.errors,isValidating:!1}),I.shouldFocus&&!K&&Gs(i,S,_?H:l.mount),K},v=_=>{const I={...o,...a.mount?s:{}};return ut(_)?I:qn(_)?se(I,_):_.map(k=>se(I,k))},P=(_,I)=>({invalid:!!se((I||r).errors,_),isDirty:!!se((I||r).dirtyFields,_),isTouched:!!se((I||r).touchedFields,_),error:se((I||r).errors,_)}),V=_=>{_&&gd(_).forEach(I=>Ct(r.errors,I)),d.state.next({errors:_?r.errors:{}})},ee=(_,I,k)=>{const K=(se(i,_,{_f:{}})._f||{}).ref;Je(r.errors,_,{...I,ref:K}),d.state.next({name:_,errors:r.errors,isValid:!1}),k&&k.shouldFocus&&K&&K.focus&&K.focus()},W=(_,I)=>Nr(_)?d.values.subscribe({next:k=>_(Z(void 0,I),k)}):Z(_,I,!0),le=(_,I={})=>{for(const k of _?gd(_):l.mount)l.mount.delete(k),l.array.delete(k),I.keepValue||(Ct(i,k),Ct(s,k)),!I.keepError&&Ct(r.errors,k),!I.keepDirty&&Ct(r.dirtyFields,k),!I.keepTouched&&Ct(r.touchedFields,k),!n.shouldUnregister&&!I.keepDefaultValue&&Ct(o,k);d.values.next({values:{...s}}),d.state.next({...r,...I.keepDirty?{isDirty:D()}:{}}),!I.keepIsValid&&m()},pe=({disabled:_,name:I,field:k,fields:K,value:H})=>{if(ir(_)){const j=_?void 0:ut(H)?Ed(k?k._f:se(K,I)._f):H;Je(s,I,j),M(I,j,!1,!1,!0)}},oe=(_,I={})=>{let k=se(i,_);const K=ir(I.disabled);return Je(i,_,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:_}},name:_,mount:!0,...I}}),l.mount.add(_),k?pe({field:k,disabled:I.disabled,name:_,value:I.value}):L(_,!0,I.value),{...K?{disabled:I.disabled}:{},...n.progressive?{required:!!I.required,min:_s(I.min),max:_s(I.max),minLength:_s(I.minLength),maxLength:_s(I.maxLength),pattern:_s(I.pattern)}:{},name:_,onChange:x,onBlur:x,ref:H=>{if(H){oe(_,I),k=se(i,_);const j=ut(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,ce=H$(j),Be=k._f.refs||[];if(ce?Be.find(ht=>ht===j):j===k._f.ref)return;Je(i,_,{_f:{...k._f,...ce?{refs:[...Be.filter(vd),j,...Array.isArray(se(o,_))?[{}]:[]],ref:{type:j.type,name:_}}:{ref:j}}}),L(_,!1,void 0,j)}else k=se(i,_,{}),k._f&&(k._f.mount=!1),(n.shouldUnregister||I.shouldUnregister)&&!(b$(l.array,_)&&a.action)&&l.unMount.add(_)}}},ke=()=>n.shouldFocusError&&Gs(i,S,l.mount),Ne=_=>{ir(_)&&(d.state.next({disabled:_}),Gs(i,(I,k)=>{let K=_;const H=se(i,k);H&&ir(H._f.disabled)&&(K||(K=H._f.disabled)),I.disabled=K},0,!1))},Se=(_,I)=>async k=>{k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let K=gn(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:H,values:j}=await ae();r.errors=H,K=j}else await Ie(i);Ct(r.errors,"root"),yn(r.errors)?(d.state.next({errors:{}}),await _(K,k)):(I&&await I({...r.errors},k),ke(),setTimeout(ke)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},xe=(_,I={})=>{se(i,_)&&(ut(I.defaultValue)?B(_,gn(se(o,_))):(B(_,I.defaultValue),Je(o,_,gn(I.defaultValue))),I.keepTouched||Ct(r.touchedFields,_),I.keepDirty||(Ct(r.dirtyFields,_),r.isDirty=I.defaultValue?D(_,gn(se(o,_))):D()),I.keepError||(Ct(r.errors,_),h.isValid&&m()),d.state.next({...r}))},tt=(_,I={})=>{const k=_?gn(_):o,K=gn(k),H=_&&!yn(_)?K:o;if(I.keepDefaultValues||(o=k),!I.keepValues){if(I.keepDirtyValues)for(const j of l.mount)se(r.dirtyFields,j)?Je(H,j,se(s,j)):B(j,se(H,j));else{if(Eg&&ut(_))for(const j of l.mount){const ce=se(i,j);if(ce&&ce._f){const Be=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(Ju(Be)){const ht=Be.closest("form");if(ht){ht.reset();break}}}}i={}}s=t.shouldUnregister?I.keepDefaultValues?gn(o):{}:gn(H),d.array.next({values:{...H}}),d.values.next({values:{...H}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!I.keepIsValid,a.watch=!!t.shouldUnregister,d.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!pi(_,o)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:I.keepDirtyValues?r.dirtyFields:I.keepDefaultValues&&_?_d(o,_):{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(_,I)=>tt(Nr(_)?_(s):_,I);return{control:{register:oe,unregister:le,getFieldState:P,handleSubmit:Se,setError:ee,_executeSchema:ae,_getWatch:Z,_getDirty:D,_updateValid:m,_removeUnmounted:$,_updateFieldArray:g,_updateDisabledField:pe,_getFieldArray:ue,_reset:tt,_resetDefaultValues:()=>Nr(n.defaultValues)&&n.defaultValues().then(_=>{Me(_,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:_=>{r={...r,..._}},_disableForm:Ne,_subjects:d,_proxyFormState:h,_setErrors:C,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(_){a=_},get _defaultValues(){return o},get _names(){return l},set _names(_){l=_},get _formState(){return r},set _formState(_){r=_},get _options(){return n},set _options(_){n={...n,..._}}},trigger:z,register:oe,handleSubmit:Se,watch:W,setValue:B,getValues:v,reset:Me,resetField:xe,clearErrors:V,unregister:le,setError:ee,setFocus:(_,I={})=>{const k=se(i,_),K=k&&k._f;if(K){const H=K.refs?K.refs[0]:K.ref;H.focus&&(H.focus(),I.shouldSelect&&H.select())}},getFieldState:P}}function J$(t={}){const e=_e.useRef(),n=_e.useRef(),[r,i]=_e.useState({isDirty:!1,isValidating:!1,isLoading:Nr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Nr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...X$(t,()=>i(s=>({...s}))),formState:r});const o=e.current.control;return o._options=t,F$({subject:o._subjects.state,next:s=>{$$(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),_e.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),_e.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),_e.useEffect(()=>{t.values&&!pi(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),_e.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),_e.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=O$(r,o),e.current}function Z$(t){return Xr({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M169.64,134.33l44.77-19.46A16,16,0,0,0,213,85.07L52.92,32.8A16,16,0,0,0,32.8,52.92L85.07,213a15.83,15.83,0,0,0,14.41,11l.79,0a15.83,15.83,0,0,0,14.6-9.59h0l19.46-44.77L184,219.31a16,16,0,0,0,22.63,0l12.68-12.68a16,16,0,0,0,0-22.63Zm-69.48,73.76.06-.05Zm95.15-.09-49.66-49.67a16,16,0,0,0-26,4.94l-19.42,44.65L48,48l159.87,52.21-44.64,19.41a16,16,0,0,0-4.94,26L208,195.31ZM88,24V16a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0ZM8,96a8,8,0,0,1,8-8h8a8,8,0,0,1,0,16H16A8,8,0,0,1,8,96ZM120.85,28.42l8-16a8,8,0,0,1,14.31,7.16l-8,16a8,8,0,1,1-14.31-7.16Zm-81.69,96a8,8,0,0,1-3.58,10.74l-16,8a8,8,0,0,1-7.16-14.31l16-8A8,8,0,0,1,39.16,124.42Z"}}]})(t)}const eF=()=>{const[t,e]=te.useState(!1),[n,r]=te.useState(""),[i]=yw(XT),[o,s]=te.useState(""),[a,l]=te.useState(""),[u,c]=te.useState(Array(1e3).fill(!1)),{formState:{isSubmitting:h},handleSubmit:d,reset:p,register:y,setValue:E}=J$(),A=(T,C)=>{s(T),l(C)},m=()=>{p();const T={userId:1,commentContents:"1",postId:i,origin_commentId:a!=""?a:"null"};console.log(T),e(!0),setTimeout(()=>{e(!1),E("comment","")},200),s(""),l("")},f=gw(N$(i));if(f.state==="loading")return N.jsx("div",{children:" ..."});if(f.state==="hasError")return N.jsx("div",{children:" ."});const g=f.contents;return N.jsxs("div",{children:[g.map((T,C)=>N.jsx("div",{children:T.origin_commentId!="null"?"":N.jsxs("div",{children:[N.jsxs("div",{className:"flex items-center my-3 mx-2",children:[N.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:"nickname"}),N.jsx("div",{className:"ml-2 text-[14px]",children:T.commentContent})]}),N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"ml-2 text-[11px]",children:JT(T)}),N.jsx("div",{className:"ml-2 text-[11px]",onClick:()=>A(T.userId,T.commentId),children:" "})]})]})]}),N.jsxs("div",{className:"ml-12 text-[11px]  w-fit",onClick:()=>{const L=[...u];L[C]=!L[C],c(L)},children:[N.jsx("div",{className:"text-gray-500 cursor-pointer hover:text-black",children:g.filter(L=>L.origin_commentId===T.commentId).length>0?u[C]?" ":` ${g.filter(L=>L.origin_commentId===T.commentId).length}  `:""}),u[C]&&N.jsx(V$,{data:g.filter(L=>L.origin_commentId===T.commentId)})]})]})},T.commentId)),o&&N.jsx("div",{className:"fixed bottom-12 left-0 right-0 p-4",children:N.jsxs("div",{className:"bg-white border w-fit p-1 rounded-3xl text-[14px] text-gray-500",onClick:()=>s(""),children:[o," X"]})}),N.jsx("form",{onSubmit:d(m),children:N.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 flex justify-center",children:[N.jsx("textarea",{...y("comment"),placeholder:" .",name:"",id:"comment",cols:30,rows:1,onKeyDown:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),d(m)())},onChange:T=>r(T.target.value),required:!0,className:"border border-solid border-gray-500 p-2 rounded-xl focus:outline-none mr-2 w-full"}),N.jsx("button",{type:"submit",disabled:h,className:`bg-black text-white py-2 px-4 rounded-full ${t&&n.trim()!==""?"bg-slate-500":""}`,onClick:()=>n.trim()==""?e(!0):"",children:N.jsx(Z$,{})})]})})]})};function aR(t){return Xr({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"}}]})(t)}var lR={exports:{}};(function(t,e){(function(n,r){t.exports=r(te)})(cR,n=>(()=>{var r={703:(a,l,u)=>{var c=u(414);function h(){}function d(){}d.resetWarningCache=h,a.exports=function(){function p(A,m,f,g,T,C){if(C!==c){var L=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw L.name="Invariant Violation",L}}function y(){return p}p.isRequired=p;var E={array:p,bigint:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:y,element:p,elementType:p,instanceOf:y,node:p,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:d,resetWarningCache:h};return E.PropTypes=E,E}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,o),u.exports}o.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return o.d(l,{a:l}),l},o.d=(a,l)=>{for(var u in l)o.o(l,u)&&!o.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s={};return(()=>{o.r(s),o.d(s,{default:()=>Ie});var a=o(98),l=o.n(a),u=o(697),c=o.n(u);function h(){return h=Object.assign?Object.assign.bind():function($){for(var D=1;D<arguments.length;D++){var Z=arguments[D];for(var ue in Z)Object.prototype.hasOwnProperty.call(Z,ue)&&($[ue]=Z[ue])}return $},h.apply(this,arguments)}var d=function($){var D=$.pageClassName,Z=$.pageLinkClassName,ue=$.page,Ae=$.selected,be=$.activeClassName,B=$.activeLinkClassName,x=$.getEventListener,S=$.pageSelectedHandler,z=$.href,v=$.extraAriaContext,P=$.pageLabelBuilder,V=$.rel,ee=$.ariaLabel||"Page "+ue+(v?" "+v:""),W=null;return Ae&&(W="page",ee=$.ariaLabel||"Page "+ue+" is your current page",D=D!==void 0?D+" "+be:be,Z!==void 0?B!==void 0&&(Z=Z+" "+B):Z=B),l().createElement("li",{className:D},l().createElement("a",h({rel:V,role:z?void 0:"button",className:Z,href:z,tabIndex:Ae?"-1":"0","aria-label":ee,"aria-current":W,onKeyPress:S},x(S)),P(ue)))};d.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const p=d;function y(){return y=Object.assign?Object.assign.bind():function($){for(var D=1;D<arguments.length;D++){var Z=arguments[D];for(var ue in Z)Object.prototype.hasOwnProperty.call(Z,ue)&&($[ue]=Z[ue])}return $},y.apply(this,arguments)}var E=function($){var D=$.breakLabel,Z=$.breakAriaLabel,ue=$.breakClassName,Ae=$.breakLinkClassName,be=$.breakHandler,B=$.getEventListener,x=ue||"break";return l().createElement("li",{className:x},l().createElement("a",y({className:Ae,role:"button",tabIndex:"0","aria-label":Z,onKeyPress:be},B(be)),D))};E.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabel:c().string,breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const A=E;function m($){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return $??D}function f($){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},f($)}function g(){return g=Object.assign?Object.assign.bind():function($){for(var D=1;D<arguments.length;D++){var Z=arguments[D];for(var ue in Z)Object.prototype.hasOwnProperty.call(Z,ue)&&($[ue]=Z[ue])}return $},g.apply(this,arguments)}function T($,D){for(var Z=0;Z<D.length;Z++){var ue=D[Z];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty($,ue.key,ue)}}function C($,D){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,ue){return Z.__proto__=ue,Z},C($,D)}function L($,D){if(D&&(f(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M($)}function M($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function q($){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},q($)}function ae($,D,Z){return D in $?Object.defineProperty($,D,{value:Z,enumerable:!0,configurable:!0,writable:!0}):$[D]=Z,$}var J=function($){(function(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),S&&C(x,S)})(B,$);var D,Z,ue,Ae,be=(ue=B,Ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,S=q(ue);if(Ae){var z=q(this).constructor;x=Reflect.construct(S,arguments,z)}else x=S.apply(this,arguments);return L(this,x)});function B(x){var S,z;return function(v,P){if(!(v instanceof P))throw new TypeError("Cannot call a class as a function")}(this,B),ae(M(S=be.call(this,x)),"handlePreviousPage",function(v){var P=S.state.selected;S.handleClick(v,null,P>0?P-1:void 0,{isPrevious:!0})}),ae(M(S),"handleNextPage",function(v){var P=S.state.selected,V=S.props.pageCount;S.handleClick(v,null,P<V-1?P+1:void 0,{isNext:!0})}),ae(M(S),"handlePageSelected",function(v,P){if(S.state.selected===v)return S.callActiveCallback(v),void S.handleClick(P,null,void 0,{isActive:!0});S.handleClick(P,null,v)}),ae(M(S),"handlePageChange",function(v){S.state.selected!==v&&(S.setState({selected:v}),S.callCallback(v))}),ae(M(S),"getEventListener",function(v){return ae({},S.props.eventListener,v)}),ae(M(S),"handleClick",function(v,P,V){var ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},W=ee.isPrevious,le=W!==void 0&&W,pe=ee.isNext,oe=pe!==void 0&&pe,ke=ee.isBreak,Ne=ke!==void 0&&ke,Se=ee.isActive,xe=Se!==void 0&&Se;v.preventDefault?v.preventDefault():v.returnValue=!1;var tt=S.state.selected,Me=S.props.onClick,ze=V;if(Me){var Ue=Me({index:P,selected:tt,nextSelectedPage:V,event:v,isPrevious:le,isNext:oe,isBreak:Ne,isActive:xe});if(Ue===!1)return;Number.isInteger(Ue)&&(ze=Ue)}ze!==void 0&&S.handlePageChange(ze)}),ae(M(S),"handleBreakClick",function(v,P){var V=S.state.selected;S.handleClick(P,v,V<v?S.getForwardJump():S.getBackwardJump(),{isBreak:!0})}),ae(M(S),"callCallback",function(v){S.props.onPageChange!==void 0&&typeof S.props.onPageChange=="function"&&S.props.onPageChange({selected:v})}),ae(M(S),"callActiveCallback",function(v){S.props.onPageActive!==void 0&&typeof S.props.onPageActive=="function"&&S.props.onPageActive({selected:v})}),ae(M(S),"getElementPageRel",function(v){var P=S.state.selected,V=S.props,ee=V.nextPageRel,W=V.prevPageRel,le=V.selectedPageRel;return P-1===v?W:P===v?le:P+1===v?ee:void 0}),ae(M(S),"pagination",function(){var v=[],P=S.props,V=P.pageRangeDisplayed,ee=P.pageCount,W=P.marginPagesDisplayed,le=P.breakLabel,pe=P.breakClassName,oe=P.breakLinkClassName,ke=P.breakAriaLabels,Ne=S.state.selected;if(ee<=V)for(var Se=0;Se<ee;Se++)v.push(S.getPageElement(Se));else{var xe=V/2,tt=V-xe;Ne>ee-V/2?xe=V-(tt=ee-Ne):Ne<V/2&&(tt=V-(xe=Ne));var Me,ze,Ue=function(k){return S.getPageElement(k)},nt=[];for(Me=0;Me<ee;Me++){var _=Me+1;if(_<=W)nt.push({type:"page",index:Me,display:Ue(Me)});else if(_>ee-W)nt.push({type:"page",index:Me,display:Ue(Me)});else if(Me>=Ne-xe&&Me<=Ne+(Ne===0&&V>1?tt-1:tt))nt.push({type:"page",index:Me,display:Ue(Me)});else if(le&&nt.length>0&&nt[nt.length-1].display!==ze&&(V>0||W>0)){var I=Me<Ne?ke.backward:ke.forward;ze=l().createElement(A,{key:Me,breakAriaLabel:I,breakLabel:le,breakClassName:pe,breakLinkClassName:oe,breakHandler:S.handleBreakClick.bind(null,Me),getEventListener:S.getEventListener}),nt.push({type:"break",index:Me,display:ze})}}nt.forEach(function(k,K){var H=k;k.type==="break"&&nt[K-1]&&nt[K-1].type==="page"&&nt[K+1]&&nt[K+1].type==="page"&&nt[K+1].index-nt[K-1].index<=2&&(H={type:"page",index:k.index,display:Ue(k.index)}),v.push(H.display)})}return v}),x.initialPage!==void 0&&x.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(x.initialPage,") and forcePage (").concat(x.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),z=x.initialPage?x.initialPage:x.forcePage?x.forcePage:0,S.state={selected:z},S}return D=B,(Z=[{key:"componentDidMount",value:function(){var x=this.props,S=x.initialPage,z=x.disableInitialCallback,v=x.extraAriaContext,P=x.pageCount,V=x.forcePage;S===void 0||z||this.callCallback(S),v&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(P)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(P,"). Did you forget a Math.ceil()?")),S!==void 0&&S>P-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(S," > ").concat(P-1,").")),V!==void 0&&V>P-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(V," > ").concat(P-1,")."))}},{key:"componentDidUpdate",value:function(x){this.props.forcePage!==void 0&&this.props.forcePage!==x.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(x.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var x=this.state.selected,S=this.props,z=S.pageCount,v=x+S.pageRangeDisplayed;return v>=z?z-1:v}},{key:"getBackwardJump",value:function(){var x=this.state.selected-this.props.pageRangeDisplayed;return x<0?0:x}},{key:"getElementHref",value:function(x){var S=this.props,z=S.hrefBuilder,v=S.pageCount,P=S.hrefAllControls;if(z)return P||x>=0&&x<v?z(x+1,v,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(x){var S=x===this.state.selected;if(this.props.ariaLabelBuilder&&x>=0&&x<this.props.pageCount){var z=this.props.ariaLabelBuilder(x+1,S);return this.props.extraAriaContext&&!S&&(z=z+" "+this.props.extraAriaContext),z}}},{key:"getPageElement",value:function(x){var S=this.state.selected,z=this.props,v=z.pageClassName,P=z.pageLinkClassName,V=z.activeClassName,ee=z.activeLinkClassName,W=z.extraAriaContext,le=z.pageLabelBuilder;return l().createElement(p,{key:x,pageSelectedHandler:this.handlePageSelected.bind(null,x),selected:S===x,rel:this.getElementPageRel(x),pageClassName:v,pageLinkClassName:P,activeClassName:V,activeLinkClassName:ee,extraAriaContext:W,href:this.getElementHref(x),ariaLabel:this.ariaLabelBuilder(x),page:x+1,pageLabelBuilder:le,getEventListener:this.getEventListener})}},{key:"render",value:function(){var x=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&x!==void 0)return x&&x(this.props);var S=this.props,z=S.disabledClassName,v=S.disabledLinkClassName,P=S.pageCount,V=S.className,ee=S.containerClassName,W=S.previousLabel,le=S.previousClassName,pe=S.previousLinkClassName,oe=S.previousAriaLabel,ke=S.prevRel,Ne=S.nextLabel,Se=S.nextClassName,xe=S.nextLinkClassName,tt=S.nextAriaLabel,Me=S.nextRel,ze=this.state.selected,Ue=ze===0,nt=ze===P-1,_="".concat(m(le)).concat(Ue?" ".concat(m(z)):""),I="".concat(m(Se)).concat(nt?" ".concat(m(z)):""),k="".concat(m(pe)).concat(Ue?" ".concat(m(v)):""),K="".concat(m(xe)).concat(nt?" ".concat(m(v)):""),H=Ue?"true":"false",j=nt?"true":"false";return l().createElement("ul",{className:V||ee,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:_},l().createElement("a",g({className:k,href:this.getElementHref(ze-1),tabIndex:Ue?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":H,"aria-label":oe,rel:ke},this.getEventListener(this.handlePreviousPage)),W)),this.pagination(),l().createElement("li",{className:I},l().createElement("a",g({className:K,href:this.getElementHref(ze+1),tabIndex:nt?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":j,"aria-label":tt,rel:Me},this.getEventListener(this.handleNextPage)),Ne)))}}])&&T(D.prototype,Z),Object.defineProperty(D,"prototype",{writable:!1}),B}(a.Component);ae(J,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabels:c().shape({forward:c().string,backward:c().string}),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),ae(J,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function($){return $},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const Ie=J})(),s})())})(lR);var tF=lR.exports;const nF=tp(tF),rF=()=>{const[e,n]=te.useState(0),r=[{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...1"},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...2"},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...3"}],i=Math.ceil(r.length/5),o=({selected:c})=>{n(c)},s=e*5,a=r.slice(s,s+5),l=Jp(),u=()=>{l("/notice_detail")};return N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:N.jsxs("div",{children:[N.jsx("img",{src:"../../public/free-icon-cool-7298816.png",width:55}),N.jsx("span",{children:"overdog"})]})}),a.map(c=>N.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[N.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"text-[13px]",children:N.jsx(aR,{})}),N.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:c.title})]}),N.jsx("span",{className:"text-gray-500 text-[11px]",children:c.time})]}),N.jsx("div",{children:N.jsx("div",{className:"flex items-center",children:N.jsx("div",{className:"flex-1",onClick:u,children:N.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.contents})})})})]})),N.jsx(nF,{pageClassName:"inline-block mx-1 p-2 rounded-full cursor-pointer  ",pageLinkClassName:"block w-8 h-8 leading-8 text-center border border-gray-300 bg-white rounded-full transition duration-300 ease-in-out hover:bg-gray-300",containerClassName:"pagination flex justify-center my-2",activeClassName:"bg-gray-300",previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:o})]})},iF=()=>N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:N.jsxs("div",{children:[N.jsx("img",{src:"../../public/free-icon-cool-7298816.png",width:55}),N.jsx("span",{children:"overdog"})]})}),N.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[N.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"text-[13px]",children:N.jsx(aR,{})}),N.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:" "})]}),N.jsx("span",{className:"text-gray-500 text-[11px]",children:"1 "})]}),N.jsx("div",{children:N.jsx("div",{className:"flex items-center",children:N.jsx("div",{className:"flex-1",children:N.jsx("p",{className:"text-sm font-medium text-gray-900 w-full h-[30vh]",children:" "})})})})]})]});var oF={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function sF(){return N.jsx(RD,{children:N.jsx("div",{className:"font-pretendard",children:N.jsxs(kC,{basename:oF.PUBLIC_URL,children:[N.jsx(DC,{}),N.jsxs(CC,{children:[N.jsx(Rs,{path:"/",element:N.jsx(x$,{})}),N.jsx(Rs,{path:"/comment",element:N.jsx(eF,{})}),N.jsx(Rs,{path:"/notice",element:N.jsx(rF,{})}),N.jsx(Rs,{path:"/notice_detail",element:N.jsx(iF,{})})]})]})})})}wd.createRoot(document.getElementById("root")).render(N.jsx(sF,{}));
