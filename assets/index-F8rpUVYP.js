function eA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var tA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m0={exports:{}},Sc={},g0={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=Symbol.for("react.element"),nA=Symbol.for("react.portal"),rA=Symbol.for("react.fragment"),iA=Symbol.for("react.strict_mode"),oA=Symbol.for("react.profiler"),sA=Symbol.for("react.provider"),aA=Symbol.for("react.context"),lA=Symbol.for("react.forward_ref"),uA=Symbol.for("react.suspense"),cA=Symbol.for("react.memo"),hA=Symbol.for("react.lazy"),cy=Symbol.iterator;function dA(t){return t===null||typeof t!="object"?null:(t=cy&&t[cy]||t["@@iterator"],typeof t=="function"?t:null)}var y0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v0=Object.assign,_0={};function ns(t,e,n){this.props=t,this.context=e,this.refs=_0,this.updater=n||y0}ns.prototype.isReactComponent={};ns.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ns.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function w0(){}w0.prototype=ns.prototype;function bp(t,e,n){this.props=t,this.context=e,this.refs=_0,this.updater=n||y0}var Op=bp.prototype=new w0;Op.constructor=bp;v0(Op,ns.prototype);Op.isPureReactComponent=!0;var hy=Array.isArray,E0=Object.prototype.hasOwnProperty,Mp={current:null},S0={key:!0,ref:!0,__self:!0,__source:!0};function T0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)E0.call(e,r)&&!S0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ga,type:t,key:o,ref:s,props:i,_owner:Mp.current}}function fA(t,e){return{$$typeof:Ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $p(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ga}function pA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dy=/\/+/g;function Wh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pA(""+t.key):e.toString(36)}function ru(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ga:case nA:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Wh(s,0):r,hy(i)?(n="",t!=null&&(n=t.replace(dy,"$&/")+"/"),ru(i,e,n,"",function(u){return u})):i!=null&&($p(i)&&(i=fA(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(dy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",hy(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Wh(o,a);s+=ru(o,e,n,l,i)}else if(l=dA(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Wh(o,a++),s+=ru(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Il(t,e,n){if(t==null)return t;var r=[],i=0;return ru(t,r,"","",function(o){return e.call(n,o,i++)}),r}function mA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},iu={transition:null},gA={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:iu,ReactCurrentOwner:Mp};Pe.Children={map:Il,forEach:function(t,e,n){Il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Il(t,function(){e++}),e},toArray:function(t){return Il(t,function(e){return e})||[]},only:function(t){if(!$p(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=ns;Pe.Fragment=rA;Pe.Profiler=oA;Pe.PureComponent=bp;Pe.StrictMode=iA;Pe.Suspense=uA;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gA;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Mp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)E0.call(e,l)&&!S0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ga,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:aA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sA,_context:t},t.Consumer=t};Pe.createElement=T0;Pe.createFactory=function(t){var e=T0.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:lA,render:t}};Pe.isValidElement=$p;Pe.lazy=function(t){return{$$typeof:hA,_payload:{_status:-1,_result:t},_init:mA}};Pe.memo=function(t,e){return{$$typeof:cA,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=iu.transition;iu.transition={};try{t()}finally{iu.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return Yt.current.useCallback(t,e)};Pe.useContext=function(t){return Yt.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return Yt.current.useEffect(t,e)};Pe.useId=function(){return Yt.current.useId()};Pe.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return Yt.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};Pe.useRef=function(t){return Yt.current.useRef(t)};Pe.useState=function(t){return Yt.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return Yt.current.useTransition()};Pe.version="18.2.0";g0.exports=Pe;var j=g0.exports;const _e=Lp(j),yA=eA({__proto__:null,default:_e},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA=j,_A=Symbol.for("react.element"),wA=Symbol.for("react.fragment"),EA=Object.prototype.hasOwnProperty,SA=vA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TA={key:!0,ref:!0,__self:!0,__source:!0};function R0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)EA.call(e,r)&&!TA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_A,type:t,key:o,ref:s,props:i,_owner:SA.current}}Sc.Fragment=wA;Sc.jsx=R0;Sc.jsxs=R0;m0.exports=Sc;var N=m0.exports,Kd={},A0={exports:{}},gn={},I0={exports:{}},C0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,D){var S=B.length;B.push(D);e:for(;0<S;){var q=S-1>>>1,v=B[q];if(0<i(v,D))B[q]=D,B[S]=v,S=q;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var D=B[0],S=B.pop();if(S!==D){B[0]=S;e:for(var q=0,v=B.length,P=v>>>1;q<P;){var L=2*(q+1)-1,te=B[L],H=L+1,le=B[H];if(0>i(te,S))H<v&&0>i(le,te)?(B[q]=le,B[H]=S,q=H):(B[q]=te,B[L]=S,q=L);else if(H<v&&0>i(le,S))B[q]=le,B[H]=S,q=H;else break e}}return D}function i(B,D){var S=B.sortIndex-D.sortIndex;return S!==0?S:B.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,y=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(B){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=B)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function A(B){if(w=!1,g(B),!y)if(n(l)!==null)y=!0,Ie(C);else{var D=n(u);D!==null&&be(A,D.startTime-B)}}function C(B,D){y=!1,w&&(w=!1,m(z),z=-1),p=!0;var S=d;try{for(g(D),h=n(l);h!==null&&(!(h.expirationTime>D)||B&&!Se());){var q=h.callback;if(typeof q=="function"){h.callback=null,d=h.priorityLevel;var v=q(h.expirationTime<=D);D=t.unstable_now(),typeof v=="function"?h.callback=v:h===n(l)&&r(l),g(D)}else r(l);h=n(l)}if(h!==null)var P=!0;else{var L=n(u);L!==null&&be(A,L.startTime-D),P=!1}return P}finally{h=null,d=S,p=!1}}var x=!1,V=null,z=-1,se=5,K=-1;function Se(){return!(t.unstable_now()-K<se)}function $(){if(V!==null){var B=t.unstable_now();K=B;var D=!0;try{D=V(!0,B)}finally{D?b():(x=!1,V=null)}}else x=!1}var b;if(typeof f=="function")b=function(){f($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ue=ee.port2;ee.port1.onmessage=$,b=function(){ue.postMessage(null)}}else b=function(){T($,0)};function Ie(B){V=B,x||(x=!0,b())}function be(B,D){z=T(function(){B(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Ie(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var S=d;d=D;try{return B()}finally{d=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,D){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var S=d;d=B;try{return D()}finally{d=S}},t.unstable_scheduleCallback=function(B,D,S){var q=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?q+S:q):S=q,B){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=S+v,B={id:c++,callback:D,priorityLevel:B,startTime:S,expirationTime:v,sortIndex:-1},S>q?(B.sortIndex=S,e(u,B),n(l)===null&&B===n(u)&&(w?(m(z),z=-1):w=!0,be(A,S-q))):(B.sortIndex=v,e(l,B),y||p||(y=!0,Ie(C))),B},t.unstable_shouldYield=Se,t.unstable_wrapCallback=function(B){var D=d;return function(){var S=d;d=D;try{return B.apply(this,arguments)}finally{d=S}}}})(C0);I0.exports=C0;var RA=I0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0=j,pn=RA;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k0=new Set,da={};function qi(t,e){Oo(t,e),Oo(t+"Capture",e)}function Oo(t,e){for(da[t]=e,t=0;t<e.length;t++)k0.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gd=Object.prototype.hasOwnProperty,AA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fy={},py={};function IA(t){return Gd.call(py,t)?!0:Gd.call(fy,t)?!1:AA.test(t)?py[t]=!0:(fy[t]=!0,!1)}function CA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PA(t,e,n,r){if(e===null||typeof e>"u"||CA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fp=/[\-:]([a-z])/g;function Up(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fp,Up);bt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fp,Up);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fp,Up);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bp(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PA(e,n,i,r)&&(n=null),r||i===null?IA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ir=P0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cl=Symbol.for("react.element"),co=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),x0=Symbol.for("react.provider"),N0=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),Xd=Symbol.for("react.suspense_list"),Wp=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),V0=Symbol.for("react.offscreen"),my=Symbol.iterator;function _s(t){return t===null||typeof t!="object"?null:(t=my&&t[my]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,qh;function Os(t){if(qh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qh=e&&e[1]||""}return`
`+qh+t}var Hh=!1;function Kh(t,e){if(!t||Hh)return"";Hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Hh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Os(t):""}function kA(t){switch(t.tag){case 5:return Os(t.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return t=Kh(t.type,!1),t;case 11:return t=Kh(t.type.render,!1),t;case 1:return t=Kh(t.type,!0),t;default:return""}}function Jd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ho:return"Fragment";case co:return"Portal";case Qd:return"Profiler";case jp:return"StrictMode";case Yd:return"Suspense";case Xd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N0:return(t.displayName||"Context")+".Consumer";case x0:return(t._context.displayName||"Context")+".Provider";case zp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wp:return e=t.displayName||null,e!==null?e:Jd(t.type)||"Memo";case Nr:e=t._payload,t=t._init;try{return Jd(t(e))}catch{}}return null}function xA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jd(e);case 8:return e===jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NA(t){var e=D0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pl(t){t._valueTracker||(t._valueTracker=NA(t))}function L0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=D0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ru(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zd(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ti(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b0(t,e){e=e.checked,e!=null&&Bp(t,"checked",e,!1)}function ef(t,e){b0(t,e);var n=ti(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tf(t,e.type,n):e.hasOwnProperty("defaultValue")&&tf(t,e.type,ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tf(t,e,n){(e!=="number"||Ru(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ms=Array.isArray;function Ao(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ti(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ms(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ti(n)}}function O0(t,e){var n=ti(e.value),r=ti(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _y(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function M0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?M0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kl,$0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kl=kl||document.createElement("div"),kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VA=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(t){VA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ks[e]=Ks[t]})});function F0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ks.hasOwnProperty(t)&&Ks[t]?(""+e).trim():e+"px"}function U0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=F0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DA=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function of(t,e){if(e){if(DA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function sf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=null;function qp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lf=null,Io=null,Co=null;function wy(t){if(t=Xa(t)){if(typeof lf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Cc(e),lf(t.stateNode,t.type,e))}}function B0(t){Io?Co?Co.push(t):Co=[t]:Io=t}function j0(){if(Io){var t=Io,e=Co;if(Co=Io=null,wy(t),e)for(t=0;t<e.length;t++)wy(e[t])}}function z0(t,e){return t(e)}function W0(){}var Gh=!1;function q0(t,e,n){if(Gh)return t(e,n);Gh=!0;try{return z0(t,e,n)}finally{Gh=!1,(Io!==null||Co!==null)&&(W0(),j0())}}function pa(t,e){var n=t.stateNode;if(n===null)return null;var r=Cc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var uf=!1;if(_r)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){uf=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{uf=!1}function LA(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Gs=!1,Au=null,Iu=!1,cf=null,bA={onError:function(t){Gs=!0,Au=t}};function OA(t,e,n,r,i,o,s,a,l){Gs=!1,Au=null,LA.apply(bA,arguments)}function MA(t,e,n,r,i,o,s,a,l){if(OA.apply(this,arguments),Gs){if(Gs){var u=Au;Gs=!1,Au=null}else throw Error(U(198));Iu||(Iu=!0,cf=u)}}function Hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ey(t){if(Hi(t)!==t)throw Error(U(188))}function $A(t){var e=t.alternate;if(!e){if(e=Hi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ey(i),t;if(o===r)return Ey(i),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function K0(t){return t=$A(t),t!==null?G0(t):null}function G0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=G0(t);if(e!==null)return e;t=t.sibling}return null}var Q0=pn.unstable_scheduleCallback,Sy=pn.unstable_cancelCallback,FA=pn.unstable_shouldYield,UA=pn.unstable_requestPaint,ct=pn.unstable_now,BA=pn.unstable_getCurrentPriorityLevel,Hp=pn.unstable_ImmediatePriority,Y0=pn.unstable_UserBlockingPriority,Cu=pn.unstable_NormalPriority,jA=pn.unstable_LowPriority,X0=pn.unstable_IdlePriority,Tc=null,Yn=null;function zA(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Tc,t,void 0,(t.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:HA,WA=Math.log,qA=Math.LN2;function HA(t){return t>>>=0,t===0?32:31-(WA(t)/qA|0)|0}var xl=64,Nl=4194304;function $s(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=$s(a):(o&=s,o!==0&&(r=$s(o)))}else s=n&~i,s!==0?r=$s(s):o!==0&&(r=$s(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mn(e),i=1<<n,r|=t[n],e&=~i;return r}function KA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Mn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=KA(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function hf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function J0(){var t=xl;return xl<<=1,!(xl&4194240)&&(xl=64),t}function Qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mn(e),t[e]=n}function QA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Kp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function Z0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e1,Gp,t1,n1,r1,df=!1,Vl=[],zr=null,Wr=null,qr=null,ma=new Map,ga=new Map,Lr=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ty(t,e){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":ma.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(e.pointerId)}}function Es(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Xa(e),e!==null&&Gp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XA(t,e,n,r,i){switch(e){case"focusin":return zr=Es(zr,t,e,n,r,i),!0;case"dragenter":return Wr=Es(Wr,t,e,n,r,i),!0;case"mouseover":return qr=Es(qr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ma.set(o,Es(ma.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ga.set(o,Es(ga.get(o)||null,t,e,n,r,i)),!0}return!1}function i1(t){var e=Ei(t.target);if(e!==null){var n=Hi(e);if(n!==null){if(e=n.tag,e===13){if(e=H0(n),e!==null){t.blockedOn=e,r1(t.priority,function(){t1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ou(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ff(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);af=r,n.target.dispatchEvent(r),af=null}else return e=Xa(n),e!==null&&Gp(e),t.blockedOn=n,!1;e.shift()}return!0}function Ry(t,e,n){ou(t)&&n.delete(e)}function JA(){df=!1,zr!==null&&ou(zr)&&(zr=null),Wr!==null&&ou(Wr)&&(Wr=null),qr!==null&&ou(qr)&&(qr=null),ma.forEach(Ry),ga.forEach(Ry)}function Ss(t,e){t.blockedOn===e&&(t.blockedOn=null,df||(df=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,JA)))}function ya(t){function e(i){return Ss(i,t)}if(0<Vl.length){Ss(Vl[0],t);for(var n=1;n<Vl.length;n++){var r=Vl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zr!==null&&Ss(zr,t),Wr!==null&&Ss(Wr,t),qr!==null&&Ss(qr,t),ma.forEach(e),ga.forEach(e),n=0;n<Lr.length;n++)r=Lr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lr.length&&(n=Lr[0],n.blockedOn===null);)i1(n),n.blockedOn===null&&Lr.shift()}var Po=Ir.ReactCurrentBatchConfig,ku=!0;function ZA(t,e,n,r){var i=$e,o=Po.transition;Po.transition=null;try{$e=1,Qp(t,e,n,r)}finally{$e=i,Po.transition=o}}function eI(t,e,n,r){var i=$e,o=Po.transition;Po.transition=null;try{$e=4,Qp(t,e,n,r)}finally{$e=i,Po.transition=o}}function Qp(t,e,n,r){if(ku){var i=ff(t,e,n,r);if(i===null)od(t,e,r,xu,n),Ty(t,r);else if(XA(i,t,e,n,r))r.stopPropagation();else if(Ty(t,r),e&4&&-1<YA.indexOf(t)){for(;i!==null;){var o=Xa(i);if(o!==null&&e1(o),o=ff(t,e,n,r),o===null&&od(t,e,r,xu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else od(t,e,r,null,n)}}var xu=null;function ff(t,e,n,r){if(xu=null,t=qp(r),t=Ei(t),t!==null)if(e=Hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xu=t,null}function o1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BA()){case Hp:return 1;case Y0:return 4;case Cu:case jA:return 16;case X0:return 536870912;default:return 16}default:return 16}}var Mr=null,Yp=null,su=null;function s1(){if(su)return su;var t,e=Yp,n=e.length,r,i="value"in Mr?Mr.value:Mr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return su=i.slice(t,1<r?1-r:void 0)}function au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dl(){return!0}function Ay(){return!1}function yn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dl:Ay,this.isPropagationStopped=Ay,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),e}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=yn(rs),Ya=ot({},rs,{view:0,detail:0}),tI=yn(Ya),Yh,Xh,Ts,Rc=ot({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ts&&(Ts&&t.type==="mousemove"?(Yh=t.screenX-Ts.screenX,Xh=t.screenY-Ts.screenY):Xh=Yh=0,Ts=t),Yh)},movementY:function(t){return"movementY"in t?t.movementY:Xh}}),Iy=yn(Rc),nI=ot({},Rc,{dataTransfer:0}),rI=yn(nI),iI=ot({},Ya,{relatedTarget:0}),Jh=yn(iI),oI=ot({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),sI=yn(oI),aI=ot({},rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lI=yn(aI),uI=ot({},rs,{data:0}),Cy=yn(uI),cI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dI[t])?!!e[t]:!1}function Jp(){return fI}var pI=ot({},Ya,{key:function(t){if(t.key){var e=cI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jp,charCode:function(t){return t.type==="keypress"?au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mI=yn(pI),gI=ot({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Py=yn(gI),yI=ot({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jp}),vI=yn(yI),_I=ot({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),wI=yn(_I),EI=ot({},Rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SI=yn(EI),TI=[9,13,27,32],Zp=_r&&"CompositionEvent"in window,Qs=null;_r&&"documentMode"in document&&(Qs=document.documentMode);var RI=_r&&"TextEvent"in window&&!Qs,a1=_r&&(!Zp||Qs&&8<Qs&&11>=Qs),ky=" ",xy=!1;function l1(t,e){switch(t){case"keyup":return TI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function AI(t,e){switch(t){case"compositionend":return u1(e);case"keypress":return e.which!==32?null:(xy=!0,ky);case"textInput":return t=e.data,t===ky&&xy?null:t;default:return null}}function II(t,e){if(fo)return t==="compositionend"||!Zp&&l1(t,e)?(t=s1(),su=Yp=Mr=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a1&&e.locale!=="ko"?null:e.data;default:return null}}var CI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CI[t.type]:e==="textarea"}function c1(t,e,n,r){B0(r),e=Nu(e,"onChange"),0<e.length&&(n=new Xp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ys=null,va=null;function PI(t){E1(t,0)}function Ac(t){var e=go(t);if(L0(e))return t}function kI(t,e){if(t==="change")return e}var h1=!1;if(_r){var Zh;if(_r){var ed="oninput"in document;if(!ed){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),ed=typeof Vy.oninput=="function"}Zh=ed}else Zh=!1;h1=Zh&&(!document.documentMode||9<document.documentMode)}function Dy(){Ys&&(Ys.detachEvent("onpropertychange",d1),va=Ys=null)}function d1(t){if(t.propertyName==="value"&&Ac(va)){var e=[];c1(e,va,t,qp(t)),q0(PI,e)}}function xI(t,e,n){t==="focusin"?(Dy(),Ys=e,va=n,Ys.attachEvent("onpropertychange",d1)):t==="focusout"&&Dy()}function NI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ac(va)}function VI(t,e){if(t==="click")return Ac(e)}function DI(t,e){if(t==="input"||t==="change")return Ac(e)}function LI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:LI;function _a(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gd.call(e,i)||!Un(t[i],e[i]))return!1}return!0}function Ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function by(t,e){var n=Ly(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ly(n)}}function f1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?f1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p1(){for(var t=window,e=Ru();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ru(t.document)}return e}function em(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bI(t){var e=p1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&f1(n.ownerDocument.documentElement,n)){if(r!==null&&em(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=by(n,o);var s=by(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OI=_r&&"documentMode"in document&&11>=document.documentMode,po=null,pf=null,Xs=null,mf=!1;function Oy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||po==null||po!==Ru(r)||(r=po,"selectionStart"in r&&em(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xs&&_a(Xs,r)||(Xs=r,r=Nu(pf,"onSelect"),0<r.length&&(e=new Xp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=po)))}function Ll(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mo={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},td={},m1={};_r&&(m1=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Ic(t){if(td[t])return td[t];if(!mo[t])return t;var e=mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in m1)return td[t]=e[n];return t}var g1=Ic("animationend"),y1=Ic("animationiteration"),v1=Ic("animationstart"),_1=Ic("transitionend"),w1=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){w1.set(t,e),qi(e,[t])}for(var nd=0;nd<My.length;nd++){var rd=My[nd],MI=rd.toLowerCase(),$I=rd[0].toUpperCase()+rd.slice(1);si(MI,"on"+$I)}si(g1,"onAnimationEnd");si(y1,"onAnimationIteration");si(v1,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(_1,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function $y(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MA(r,e,void 0,t),t.currentTarget=null}function E1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;$y(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;$y(i,a,u),o=l}}}if(Iu)throw t=cf,Iu=!1,cf=null,t}function He(t,e){var n=e[wf];n===void 0&&(n=e[wf]=new Set);var r=t+"__bubble";n.has(r)||(S1(e,t,2,!1),n.add(r))}function id(t,e,n){var r=0;e&&(r|=4),S1(n,t,r,e)}var bl="_reactListening"+Math.random().toString(36).slice(2);function wa(t){if(!t[bl]){t[bl]=!0,k0.forEach(function(n){n!=="selectionchange"&&(FI.has(n)||id(n,!1,t),id(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bl]||(e[bl]=!0,id("selectionchange",!1,e))}}function S1(t,e,n,r){switch(o1(e)){case 1:var i=ZA;break;case 4:i=eI;break;default:i=Qp}n=i.bind(null,e,n,t),i=void 0,!uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function od(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ei(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}q0(function(){var u=o,c=qp(n),h=[];e:{var d=w1.get(t);if(d!==void 0){var p=Xp,y=t;switch(t){case"keypress":if(au(n)===0)break e;case"keydown":case"keyup":p=mI;break;case"focusin":y="focus",p=Jh;break;case"focusout":y="blur",p=Jh;break;case"beforeblur":case"afterblur":p=Jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vI;break;case g1:case y1:case v1:p=sI;break;case _1:p=wI;break;case"scroll":p=tI;break;case"wheel":p=SI;break;case"copy":case"cut":case"paste":p=lI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Py}var w=(e&4)!==0,T=!w&&t==="scroll",m=w?d!==null?d+"Capture":null:d;w=[];for(var f=u,g;f!==null;){g=f;var A=g.stateNode;if(g.tag===5&&A!==null&&(g=A,m!==null&&(A=pa(f,m),A!=null&&w.push(Ea(f,A,g)))),T)break;f=f.return}0<w.length&&(d=new p(d,y,null,n,c),h.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==af&&(y=n.relatedTarget||n.fromElement)&&(Ei(y)||y[wr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Ei(y):null,y!==null&&(T=Hi(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=Iy,A="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(w=Py,A="onPointerLeave",m="onPointerEnter",f="pointer"),T=p==null?d:go(p),g=y==null?d:go(y),d=new w(A,f+"leave",p,n,c),d.target=T,d.relatedTarget=g,A=null,Ei(c)===u&&(w=new w(m,f+"enter",y,n,c),w.target=g,w.relatedTarget=T,A=w),T=A,p&&y)t:{for(w=p,m=y,f=0,g=w;g;g=ro(g))f++;for(g=0,A=m;A;A=ro(A))g++;for(;0<f-g;)w=ro(w),f--;for(;0<g-f;)m=ro(m),g--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=ro(w),m=ro(m)}w=null}else w=null;p!==null&&Fy(h,d,p,w,!1),y!==null&&T!==null&&Fy(h,T,y,w,!0)}}e:{if(d=u?go(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=kI;else if(Ny(d))if(h1)C=DI;else{C=NI;var x=xI}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=VI);if(C&&(C=C(t,u))){c1(h,C,n,c);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&tf(d,"number",d.value)}switch(x=u?go(u):window,t){case"focusin":(Ny(x)||x.contentEditable==="true")&&(po=x,pf=u,Xs=null);break;case"focusout":Xs=pf=po=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Oy(h,n,c);break;case"selectionchange":if(OI)break;case"keydown":case"keyup":Oy(h,n,c)}var V;if(Zp)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else fo?l1(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(a1&&n.locale!=="ko"&&(fo||z!=="onCompositionStart"?z==="onCompositionEnd"&&fo&&(V=s1()):(Mr=c,Yp="value"in Mr?Mr.value:Mr.textContent,fo=!0)),x=Nu(u,z),0<x.length&&(z=new Cy(z,t,null,n,c),h.push({event:z,listeners:x}),V?z.data=V:(V=u1(n),V!==null&&(z.data=V)))),(V=RI?AI(t,n):II(t,n))&&(u=Nu(u,"onBeforeInput"),0<u.length&&(c=new Cy("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=V))}E1(h,e)})}function Ea(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=pa(t,n),o!=null&&r.unshift(Ea(t,o,i)),o=pa(t,e),o!=null&&r.push(Ea(t,o,i))),t=t.return}return r}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fy(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=pa(n,o),l!=null&&s.unshift(Ea(n,l,a))):i||(l=pa(n,o),l!=null&&s.push(Ea(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var UI=/\r\n?/g,BI=/\u0000|\uFFFD/g;function Uy(t){return(typeof t=="string"?t:""+t).replace(UI,`
`).replace(BI,"")}function Ol(t,e,n){if(e=Uy(e),Uy(t)!==e&&n)throw Error(U(425))}function Vu(){}var gf=null,yf=null;function vf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,jI=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,zI=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(WI)}:_f;function WI(t){setTimeout(function(){throw t})}function sd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ya(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ya(e)}function Hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var is=Math.random().toString(36).slice(2),qn="__reactFiber$"+is,Sa="__reactProps$"+is,wr="__reactContainer$"+is,wf="__reactEvents$"+is,qI="__reactListeners$"+is,HI="__reactHandles$"+is;function Ei(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jy(t);t!==null;){if(n=t[qn])return n;t=jy(t)}return e}t=n,n=t.parentNode}return null}function Xa(t){return t=t[qn]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Cc(t){return t[Sa]||null}var Ef=[],yo=-1;function ai(t){return{current:t}}function Ye(t){0>yo||(t.current=Ef[yo],Ef[yo]=null,yo--)}function We(t,e){yo++,Ef[yo]=t.current,t.current=e}var ni={},Wt=ai(ni),nn=ai(!1),Di=ni;function Mo(t,e){var n=t.type.contextTypes;if(!n)return ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function Du(){Ye(nn),Ye(Wt)}function zy(t,e,n){if(Wt.current!==ni)throw Error(U(168));We(Wt,e),We(nn,n)}function T1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,xA(t)||"Unknown",i));return ot({},n,r)}function Lu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ni,Di=Wt.current,We(Wt,t),We(nn,nn.current),!0}function Wy(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=T1(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,Ye(nn),Ye(Wt),We(Wt,t)):Ye(nn),We(nn,n)}var dr=null,Pc=!1,ad=!1;function R1(t){dr===null?dr=[t]:dr.push(t)}function KI(t){Pc=!0,R1(t)}function li(){if(!ad&&dr!==null){ad=!0;var t=0,e=$e;try{var n=dr;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Pc=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),Q0(Hp,li),i}finally{$e=e,ad=!1}}return null}var vo=[],_o=0,bu=null,Ou=0,Sn=[],Tn=0,Li=null,pr=1,mr="";function gi(t,e){vo[_o++]=Ou,vo[_o++]=bu,bu=t,Ou=e}function A1(t,e,n){Sn[Tn++]=pr,Sn[Tn++]=mr,Sn[Tn++]=Li,Li=t;var r=pr;t=mr;var i=32-Mn(r)-1;r&=~(1<<i),n+=1;var o=32-Mn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,pr=1<<32-Mn(e)+i|n<<i|r,mr=o+t}else pr=1<<o|n<<i|r,mr=t}function tm(t){t.return!==null&&(gi(t,1),A1(t,1,0))}function nm(t){for(;t===bu;)bu=vo[--_o],vo[_o]=null,Ou=vo[--_o],vo[_o]=null;for(;t===Li;)Li=Sn[--Tn],Sn[Tn]=null,mr=Sn[--Tn],Sn[Tn]=null,pr=Sn[--Tn],Sn[Tn]=null}var fn=null,cn=null,Ze=!1,bn=null;function I1(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,cn=Hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Li!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,cn=null,!0):!1;default:return!1}}function Sf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tf(t){if(Ze){var e=cn;if(e){var n=e;if(!qy(t,e)){if(Sf(t))throw Error(U(418));e=Hr(n.nextSibling);var r=fn;e&&qy(t,e)?I1(r,n):(t.flags=t.flags&-4097|2,Ze=!1,fn=t)}}else{if(Sf(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ze=!1,fn=t}}}function Hy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Ml(t){if(t!==fn)return!1;if(!Ze)return Hy(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vf(t.type,t.memoizedProps)),e&&(e=cn)){if(Sf(t))throw C1(),Error(U(418));for(;e;)I1(t,e),e=Hr(e.nextSibling)}if(Hy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=Hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=fn?Hr(t.stateNode.nextSibling):null;return!0}function C1(){for(var t=cn;t;)t=Hr(t.nextSibling)}function $o(){cn=fn=null,Ze=!1}function rm(t){bn===null?bn=[t]:bn.push(t)}var GI=Ir.ReactCurrentBatchConfig;function Dn(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Mu=ai(null),$u=null,wo=null,im=null;function om(){im=wo=$u=null}function sm(t){var e=Mu.current;Ye(Mu),t._currentValue=e}function Rf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ko(t,e){$u=t,im=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(im!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if($u===null)throw Error(U(308));wo=t,$u.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var Si=null;function am(t){Si===null?Si=[t]:Si.push(t)}function P1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,am(e)):(n.next=i.next,i.next=n),e.interleaved=n,Er(t,r)}function Er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function lm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Er(t,n)}return i=r.interleaved,i===null?(e.next=e,am(r)):(e.next=i.next,i.next=e),r.interleaved=e,Er(t,n)}function lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}function Ky(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fu(t,e,n,r){var i=t.updateQueue;Vr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(d=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(p,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,d=typeof y=="function"?y.call(p,h,d):y,d==null)break e;h=ot({},h,d);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Oi|=s,t.lanes=s,t.memoizedState=h}}function Gy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var x1=new P0.Component().refs;function Af(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kc={isMounted:function(t){return(t=t._reactInternals)?Hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Qr(t),o=yr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Kr(t,o,i),e!==null&&($n(e,t,i,r),lu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Qr(t),o=yr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Kr(t,o,i),e!==null&&($n(e,t,i,r),lu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=Qr(t),i=yr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Kr(t,i,r),e!==null&&($n(e,t,r,n),lu(e,t,r))}};function Qy(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!_a(n,r)||!_a(i,o):!0}function N1(t,e,n){var r=!1,i=ni,o=e.contextType;return typeof o=="object"&&o!==null?o=Cn(o):(i=rn(e)?Di:Wt.current,r=e.contextTypes,o=(r=r!=null)?Mo(t,i):ni),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Yy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kc.enqueueReplaceState(e,e.state,null)}function If(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=x1,lm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Cn(o):(o=rn(e)?Di:Wt.current,i.context=Mo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Af(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kc.enqueueReplaceState(i,i.state,null),Fu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===x1&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function $l(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xy(t){var e=t._init;return e(t._payload)}function V1(t){function e(m,f){if(t){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=Yr(m,f),m.index=0,m.sibling=null,m}function o(m,f,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,A){return f===null||f.tag!==6?(f=pd(g,m.mode,A),f.return=m,f):(f=i(f,g),f.return=m,f)}function l(m,f,g,A){var C=g.type;return C===ho?c(m,f,g.props.children,A,g.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nr&&Xy(C)===f.type)?(A=i(f,g.props),A.ref=Rs(m,f,g),A.return=m,A):(A=pu(g.type,g.key,g.props,null,m.mode,A),A.ref=Rs(m,f,g),A.return=m,A)}function u(m,f,g,A){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=md(g,m.mode,A),f.return=m,f):(f=i(f,g.children||[]),f.return=m,f)}function c(m,f,g,A,C){return f===null||f.tag!==7?(f=xi(g,m.mode,A,C),f.return=m,f):(f=i(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=pd(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Cl:return g=pu(f.type,f.key,f.props,null,m.mode,g),g.ref=Rs(m,null,f),g.return=m,g;case co:return f=md(f,m.mode,g),f.return=m,f;case Nr:var A=f._init;return h(m,A(f._payload),g)}if(Ms(f)||_s(f))return f=xi(f,m.mode,g,null),f.return=m,f;$l(m,f)}return null}function d(m,f,g,A){var C=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:a(m,f,""+g,A);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:return g.key===C?l(m,f,g,A):null;case co:return g.key===C?u(m,f,g,A):null;case Nr:return C=g._init,d(m,f,C(g._payload),A)}if(Ms(g)||_s(g))return C!==null?null:c(m,f,g,A,null);$l(m,g)}return null}function p(m,f,g,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return m=m.get(g)||null,a(f,m,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Cl:return m=m.get(A.key===null?g:A.key)||null,l(f,m,A,C);case co:return m=m.get(A.key===null?g:A.key)||null,u(f,m,A,C);case Nr:var x=A._init;return p(m,f,g,x(A._payload),C)}if(Ms(A)||_s(A))return m=m.get(g)||null,c(f,m,A,C,null);$l(f,A)}return null}function y(m,f,g,A){for(var C=null,x=null,V=f,z=f=0,se=null;V!==null&&z<g.length;z++){V.index>z?(se=V,V=null):se=V.sibling;var K=d(m,V,g[z],A);if(K===null){V===null&&(V=se);break}t&&V&&K.alternate===null&&e(m,V),f=o(K,f,z),x===null?C=K:x.sibling=K,x=K,V=se}if(z===g.length)return n(m,V),Ze&&gi(m,z),C;if(V===null){for(;z<g.length;z++)V=h(m,g[z],A),V!==null&&(f=o(V,f,z),x===null?C=V:x.sibling=V,x=V);return Ze&&gi(m,z),C}for(V=r(m,V);z<g.length;z++)se=p(V,m,z,g[z],A),se!==null&&(t&&se.alternate!==null&&V.delete(se.key===null?z:se.key),f=o(se,f,z),x===null?C=se:x.sibling=se,x=se);return t&&V.forEach(function(Se){return e(m,Se)}),Ze&&gi(m,z),C}function w(m,f,g,A){var C=_s(g);if(typeof C!="function")throw Error(U(150));if(g=C.call(g),g==null)throw Error(U(151));for(var x=C=null,V=f,z=f=0,se=null,K=g.next();V!==null&&!K.done;z++,K=g.next()){V.index>z?(se=V,V=null):se=V.sibling;var Se=d(m,V,K.value,A);if(Se===null){V===null&&(V=se);break}t&&V&&Se.alternate===null&&e(m,V),f=o(Se,f,z),x===null?C=Se:x.sibling=Se,x=Se,V=se}if(K.done)return n(m,V),Ze&&gi(m,z),C;if(V===null){for(;!K.done;z++,K=g.next())K=h(m,K.value,A),K!==null&&(f=o(K,f,z),x===null?C=K:x.sibling=K,x=K);return Ze&&gi(m,z),C}for(V=r(m,V);!K.done;z++,K=g.next())K=p(V,m,z,K.value,A),K!==null&&(t&&K.alternate!==null&&V.delete(K.key===null?z:K.key),f=o(K,f,z),x===null?C=K:x.sibling=K,x=K);return t&&V.forEach(function($){return e(m,$)}),Ze&&gi(m,z),C}function T(m,f,g,A){if(typeof g=="object"&&g!==null&&g.type===ho&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:e:{for(var C=g.key,x=f;x!==null;){if(x.key===C){if(C=g.type,C===ho){if(x.tag===7){n(m,x.sibling),f=i(x,g.props.children),f.return=m,m=f;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nr&&Xy(C)===x.type){n(m,x.sibling),f=i(x,g.props),f.ref=Rs(m,x,g),f.return=m,m=f;break e}n(m,x);break}else e(m,x);x=x.sibling}g.type===ho?(f=xi(g.props.children,m.mode,A,g.key),f.return=m,m=f):(A=pu(g.type,g.key,g.props,null,m.mode,A),A.ref=Rs(m,f,g),A.return=m,m=A)}return s(m);case co:e:{for(x=g.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=i(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=md(g,m.mode,A),f.return=m,m=f}return s(m);case Nr:return x=g._init,T(m,f,x(g._payload),A)}if(Ms(g))return y(m,f,g,A);if(_s(g))return w(m,f,g,A);$l(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,g),f.return=m,m=f):(n(m,f),f=pd(g,m.mode,A),f.return=m,m=f),s(m)):n(m,f)}return T}var Fo=V1(!0),D1=V1(!1),Ja={},Xn=ai(Ja),Ta=ai(Ja),Ra=ai(Ja);function Ti(t){if(t===Ja)throw Error(U(174));return t}function um(t,e){switch(We(Ra,e),We(Ta,t),We(Xn,Ja),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rf(e,t)}Ye(Xn),We(Xn,e)}function Uo(){Ye(Xn),Ye(Ta),Ye(Ra)}function L1(t){Ti(Ra.current);var e=Ti(Xn.current),n=rf(e,t.type);e!==n&&(We(Ta,t),We(Xn,n))}function cm(t){Ta.current===t&&(Ye(Xn),Ye(Ta))}var rt=ai(0);function Uu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ld=[];function hm(){for(var t=0;t<ld.length;t++)ld[t]._workInProgressVersionPrimary=null;ld.length=0}var uu=Ir.ReactCurrentDispatcher,ud=Ir.ReactCurrentBatchConfig,bi=0,it=null,gt=null,Tt=null,Bu=!1,Js=!1,Aa=0,QI=0;function Ot(){throw Error(U(321))}function dm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function fm(t,e,n,r,i,o){if(bi=o,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uu.current=t===null||t.memoizedState===null?ZI:eC,t=n(r,i),Js){o=0;do{if(Js=!1,Aa=0,25<=o)throw Error(U(301));o+=1,Tt=gt=null,e.updateQueue=null,uu.current=tC,t=n(r,i)}while(Js)}if(uu.current=ju,e=gt!==null&&gt.next!==null,bi=0,Tt=gt=it=null,Bu=!1,e)throw Error(U(300));return t}function pm(){var t=Aa!==0;return Aa=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?it.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Pn(){if(gt===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Tt===null?it.memoizedState:Tt.next;if(e!==null)Tt=e,gt=t;else{if(t===null)throw Error(U(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?it.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Ia(t,e){return typeof e=="function"?e(t):e}function cd(t){var e=Pn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((bi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,it.lanes|=c,Oi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Un(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,it.lanes|=o,Oi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hd(t){var e=Pn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Un(o,e.memoizedState)||(tn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function b1(){}function O1(t,e){var n=it,r=Pn(),i=e(),o=!Un(r.memoizedState,i);if(o&&(r.memoizedState=i,tn=!0),r=r.queue,mm(F1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Ca(9,$1.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(U(349));bi&30||M1(n,e,i)}return i}function M1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $1(t,e,n,r){e.value=n,e.getSnapshot=r,U1(e)&&B1(t)}function F1(t,e,n){return n(function(){U1(e)&&B1(t)})}function U1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function B1(t){var e=Er(t,1);e!==null&&$n(e,t,1,-1)}function Jy(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:t},e.queue=t,t=t.dispatch=JI.bind(null,it,t),[e.memoizedState,t]}function Ca(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function j1(){return Pn().memoizedState}function cu(t,e,n,r){var i=Wn();it.flags|=t,i.memoizedState=Ca(1|e,n,void 0,r===void 0?null:r)}function xc(t,e,n,r){var i=Pn();r=r===void 0?null:r;var o=void 0;if(gt!==null){var s=gt.memoizedState;if(o=s.destroy,r!==null&&dm(r,s.deps)){i.memoizedState=Ca(e,n,o,r);return}}it.flags|=t,i.memoizedState=Ca(1|e,n,o,r)}function Zy(t,e){return cu(8390656,8,t,e)}function mm(t,e){return xc(2048,8,t,e)}function z1(t,e){return xc(4,2,t,e)}function W1(t,e){return xc(4,4,t,e)}function q1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function H1(t,e,n){return n=n!=null?n.concat([t]):null,xc(4,4,q1.bind(null,e,t),n)}function gm(){}function K1(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function G1(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Q1(t,e,n){return bi&21?(Un(n,e)||(n=J0(),it.lanes|=n,Oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function YI(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=ud.transition;ud.transition={};try{t(!1),e()}finally{$e=n,ud.transition=r}}function Y1(){return Pn().memoizedState}function XI(t,e,n){var r=Qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X1(t))J1(e,n);else if(n=P1(t,e,n,r),n!==null){var i=Qt();$n(n,t,r,i),Z1(n,e,r)}}function JI(t,e,n){var r=Qr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X1(t))J1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Un(a,s)){var l=e.interleaved;l===null?(i.next=i,am(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=P1(t,e,i,r),n!==null&&(i=Qt(),$n(n,t,r,i),Z1(n,e,r))}}function X1(t){var e=t.alternate;return t===it||e!==null&&e===it}function J1(t,e){Js=Bu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Z1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}var ju={readContext:Cn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},ZI={readContext:Cn,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:Zy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cu(4194308,4,q1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return cu(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XI.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:Jy,useDebugValue:gm,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=Jy(!1),e=t[0];return t=YI.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,i=Wn();if(Ze){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Rt===null)throw Error(U(349));bi&30||M1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Zy(F1.bind(null,r,o,t),[t]),r.flags|=2048,Ca(9,$1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Wn(),e=Rt.identifierPrefix;if(Ze){var n=mr,r=pr;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Aa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eC={readContext:Cn,useCallback:K1,useContext:Cn,useEffect:mm,useImperativeHandle:H1,useInsertionEffect:z1,useLayoutEffect:W1,useMemo:G1,useReducer:cd,useRef:j1,useState:function(){return cd(Ia)},useDebugValue:gm,useDeferredValue:function(t){var e=Pn();return Q1(e,gt.memoizedState,t)},useTransition:function(){var t=cd(Ia)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:b1,useSyncExternalStore:O1,useId:Y1,unstable_isNewReconciler:!1},tC={readContext:Cn,useCallback:K1,useContext:Cn,useEffect:mm,useImperativeHandle:H1,useInsertionEffect:z1,useLayoutEffect:W1,useMemo:G1,useReducer:hd,useRef:j1,useState:function(){return hd(Ia)},useDebugValue:gm,useDeferredValue:function(t){var e=Pn();return gt===null?e.memoizedState=t:Q1(e,gt.memoizedState,t)},useTransition:function(){var t=hd(Ia)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:b1,useSyncExternalStore:O1,useId:Y1,unstable_isNewReconciler:!1};function Bo(t,e){try{var n="",r=e;do n+=kA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function dd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nC=typeof WeakMap=="function"?WeakMap:Map;function ew(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wu||(Wu=!0,Mf=r),Cf(t,e)},n}function tw(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Cf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Cf(t,e),typeof r!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ev(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gC.bind(null,t,e,n),e.then(t,t))}function tv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,Kr(n,e,1))),n.lanes|=1),t)}var rC=Ir.ReactCurrentOwner,tn=!1;function Ht(t,e,n,r){e.child=t===null?D1(e,null,n,r):Fo(e,t.child,n,r)}function rv(t,e,n,r,i){n=n.render;var o=e.ref;return ko(e,i),r=fm(t,e,n,r,o,i),n=pm(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sr(t,e,i)):(Ze&&n&&tm(e),e.flags|=1,Ht(t,e,r,i),e.child)}function iv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Rm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,nw(t,e,o,r,i)):(t=pu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:_a,n(s,r)&&t.ref===e.ref)return Sr(t,e,i)}return e.flags|=1,t=Yr(o,r),t.ref=e.ref,t.return=e,e.child=t}function nw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(_a(o,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Sr(t,e,i)}return Pf(t,e,n,r,i)}function rw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(So,un),un|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(So,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,We(So,un),un|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,We(So,un),un|=r;return Ht(t,e,i,n),e.child}function iw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pf(t,e,n,r,i){var o=rn(n)?Di:Wt.current;return o=Mo(e,o),ko(e,i),n=fm(t,e,n,r,o,i),r=pm(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sr(t,e,i)):(Ze&&r&&tm(e),e.flags|=1,Ht(t,e,n,i),e.child)}function ov(t,e,n,r,i){if(rn(n)){var o=!0;Lu(e)}else o=!1;if(ko(e,i),e.stateNode===null)hu(t,e),N1(e,n,r),If(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cn(u):(u=rn(n)?Di:Wt.current,u=Mo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Yy(e,s,r,u),Vr=!1;var d=e.memoizedState;s.state=d,Fu(e,r,s,i),l=e.memoizedState,a!==r||d!==l||nn.current||Vr?(typeof c=="function"&&(Af(e,n,c,r),l=e.memoizedState),(a=Vr||Qy(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,k1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Dn(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=rn(n)?Di:Wt.current,l=Mo(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Yy(e,s,r,l),Vr=!1,d=e.memoizedState,s.state=d,Fu(e,r,s,i);var y=e.memoizedState;a!==h||d!==y||nn.current||Vr?(typeof p=="function"&&(Af(e,n,p,r),y=e.memoizedState),(u=Vr||Qy(e,n,u,r,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return kf(t,e,n,r,o,i)}function kf(t,e,n,r,i,o){iw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Wy(e,n,!1),Sr(t,e,o);r=e.stateNode,rC.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Fo(e,t.child,null,o),e.child=Fo(e,null,a,o)):Ht(t,e,a,o),e.memoizedState=r.state,i&&Wy(e,n,!0),e.child}function ow(t){var e=t.stateNode;e.pendingContext?zy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zy(t,e.context,!1),um(t,e.containerInfo)}function sv(t,e,n,r,i){return $o(),rm(i),e.flags|=256,Ht(t,e,n,r),e.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function Nf(t){return{baseLanes:t,cachePool:null,transitions:null}}function sw(t,e,n){var r=e.pendingProps,i=rt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(rt,i&1),t===null)return Tf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Dc(s,r,0,null),t=xi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Nf(n),e.memoizedState=xf,t):ym(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iC(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Yr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Yr(a,o):(o=xi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Nf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=xf,r}return o=t.child,t=o.sibling,r=Yr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ym(t,e){return e=Dc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fl(t,e,n,r){return r!==null&&rm(r),Fo(e,t.child,null,n),t=ym(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iC(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=dd(Error(U(422))),Fl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Dc({mode:"visible",children:r.children},i,0,null),o=xi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Fo(e,t.child,null,s),e.child.memoizedState=Nf(s),e.memoizedState=xf,o);if(!(e.mode&1))return Fl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=dd(o,r,void 0),Fl(t,e,s,r)}if(a=(s&t.childLanes)!==0,tn||a){if(r=Rt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Er(t,i),$n(r,t,i,-1))}return Tm(),r=dd(Error(U(421))),Fl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,cn=Hr(i.nextSibling),fn=e,Ze=!0,bn=null,t!==null&&(Sn[Tn++]=pr,Sn[Tn++]=mr,Sn[Tn++]=Li,pr=t.id,mr=t.overflow,Li=e),e=ym(e,r.children),e.flags|=4096,e)}function av(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rf(t.return,e,n)}function fd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aw(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ht(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&av(t,n,e);else if(t.tag===19)av(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Uu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fd(e,!0,n,null,o);break;case"together":fd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oC(t,e,n){switch(e.tag){case 3:ow(e),$o();break;case 5:L1(e);break;case 1:rn(e.type)&&Lu(e);break;case 4:um(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(Mu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?sw(t,e,n):(We(rt,rt.current&1),t=Sr(t,e,n),t!==null?t.sibling:null);We(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,rw(t,e,n)}return Sr(t,e,n)}var lw,Vf,uw,cw;lw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vf=function(){};uw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ti(Xn.current);var o=null;switch(n){case"input":i=Zd(t,i),r=Zd(t,r),o=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":i=nf(t,i),r=nf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vu)}of(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(da.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(da.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};cw=function(t,e,n,r){n!==r&&(e.flags|=4)};function As(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sC(t,e,n){var r=e.pendingProps;switch(nm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return rn(e.type)&&Du(),Mt(e),null;case 3:return r=e.stateNode,Uo(),Ye(nn),Ye(Wt),hm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(Uf(bn),bn=null))),Vf(t,e),Mt(e),null;case 5:cm(e);var i=Ti(Ra.current);if(n=e.type,t!==null&&e.stateNode!=null)uw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Mt(e),null}if(t=Ti(Xn.current),Ml(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qn]=e,r[Sa]=o,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Fs.length;i++)He(Fs[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":gy(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":vy(r,o),He("invalid",r)}of(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ol(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ol(r.textContent,a,t),i=["children",""+a]):da.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&He("scroll",r)}switch(n){case"input":Pl(r),yy(r,o,!0);break;case"textarea":Pl(r),_y(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qn]=e,t[Sa]=r,lw(t,e,!1,!1),e.stateNode=t;e:{switch(s=sf(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fs.length;i++)He(Fs[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":gy(t,r),i=Zd(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),He("invalid",t);break;case"textarea":vy(t,r),i=nf(t,r),He("invalid",t);break;default:i=r}of(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?U0(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$0(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fa(t,l):typeof l=="number"&&fa(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(da.hasOwnProperty(o)?l!=null&&o==="onScroll"&&He("scroll",t):l!=null&&Bp(t,o,l,s))}switch(n){case"input":Pl(t),yy(t,r,!1);break;case"textarea":Pl(t),_y(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ti(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ao(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)cw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Ti(Ra.current),Ti(Xn.current),Ml(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(o=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Ol(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ol(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Mt(e),null;case 13:if(Ye(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&cn!==null&&e.mode&1&&!(e.flags&128))C1(),$o(),e.flags|=98560,o=!1;else if(o=Ml(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[qn]=e}else $o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),o=!1}else bn!==null&&(Uf(bn),bn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?yt===0&&(yt=3):Tm())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Uo(),Vf(t,e),t===null&&wa(e.stateNode.containerInfo),Mt(e),null;case 10:return sm(e.type._context),Mt(e),null;case 17:return rn(e.type)&&Du(),Mt(e),null;case 19:if(Ye(rt),o=e.memoizedState,o===null)return Mt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)As(o,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Uu(t),s!==null){for(e.flags|=128,As(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(rt,rt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ct()>jo&&(e.flags|=128,r=!0,As(o,!1),e.lanes=4194304)}else{if(!r)if(t=Uu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),As(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ze)return Mt(e),null}else 2*ct()-o.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,As(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ct(),e.sibling=null,n=rt.current,We(rt,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return Sm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function aC(t,e){switch(nm(e),e.tag){case 1:return rn(e.type)&&Du(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uo(),Ye(nn),Ye(Wt),hm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cm(e),null;case 13:if(Ye(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));$o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(rt),null;case 4:return Uo(),null;case 10:return sm(e.type._context),null;case 22:case 23:return Sm(),null;case 24:return null;default:return null}}var Ul=!1,Ut=!1,lC=typeof WeakSet=="function"?WeakSet:Set,re=null;function Eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Df(t,e,n){try{n()}catch(r){at(t,e,r)}}var lv=!1;function uC(t,e){if(gf=ku,t=p1(),em(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yf={focusedElem:t,selectionRange:n},ku=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,T=y.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Dn(e.type,w),T);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(A){at(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return y=lv,lv=!1,y}function Zs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Df(e,n,o)}i=i.next}while(i!==r)}}function Nc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hw(t){var e=t.alternate;e!==null&&(t.alternate=null,hw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Sa],delete e[wf],delete e[qI],delete e[HI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dw(t){return t.tag===5||t.tag===3||t.tag===4}function uv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vu));else if(r!==4&&(t=t.child,t!==null))for(bf(t,e,n),t=t.sibling;t!==null;)bf(t,e,n),t=t.sibling}function Of(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Of(t,e,n),t=t.sibling;t!==null;)Of(t,e,n),t=t.sibling}var Pt=null,Ln=!1;function xr(t,e,n){for(n=n.child;n!==null;)fw(t,e,n),n=n.sibling}function fw(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Tc,n)}catch{}switch(n.tag){case 5:Ut||Eo(n,e);case 6:var r=Pt,i=Ln;Pt=null,xr(t,e,n),Pt=r,Ln=i,Pt!==null&&(Ln?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Ln?(t=Pt,n=n.stateNode,t.nodeType===8?sd(t.parentNode,n):t.nodeType===1&&sd(t,n),ya(t)):sd(Pt,n.stateNode));break;case 4:r=Pt,i=Ln,Pt=n.stateNode.containerInfo,Ln=!0,xr(t,e,n),Pt=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Df(n,e,s),i=i.next}while(i!==r)}xr(t,e,n);break;case 1:if(!Ut&&(Eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}xr(t,e,n);break;case 21:xr(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,xr(t,e,n),Ut=r):xr(t,e,n);break;default:xr(t,e,n)}}function cv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lC),e.forEach(function(r){var i=vC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Ln=!1;break e;case 3:Pt=a.stateNode.containerInfo,Ln=!0;break e;case 4:Pt=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(Pt===null)throw Error(U(160));fw(o,s,i),Pt=null,Ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pw(e,t),e=e.sibling}function pw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),zn(t),r&4){try{Zs(3,t,t.return),Nc(3,t)}catch(w){at(t,t.return,w)}try{Zs(5,t,t.return)}catch(w){at(t,t.return,w)}}break;case 1:Nn(e,t),zn(t),r&512&&n!==null&&Eo(n,n.return);break;case 5:if(Nn(e,t),zn(t),r&512&&n!==null&&Eo(n,n.return),t.flags&32){var i=t.stateNode;try{fa(i,"")}catch(w){at(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&b0(i,o),sf(a,s);var u=sf(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?U0(i,h):c==="dangerouslySetInnerHTML"?$0(i,h):c==="children"?fa(i,h):Bp(i,c,h,u)}switch(a){case"input":ef(i,o);break;case"textarea":O0(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ao(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ao(i,!!o.multiple,o.defaultValue,!0):Ao(i,!!o.multiple,o.multiple?[]:"",!1))}i[Sa]=o}catch(w){at(t,t.return,w)}}break;case 6:if(Nn(e,t),zn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){at(t,t.return,w)}}break;case 3:if(Nn(e,t),zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(e.containerInfo)}catch(w){at(t,t.return,w)}break;case 4:Nn(e,t),zn(t);break;case 13:Nn(e,t),zn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(wm=ct())),r&4&&cv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||c,Nn(e,t),Ut=u):Nn(e,t),zn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(re=t,c=t.child;c!==null;){for(h=re=c;re!==null;){switch(d=re,p=d.child,d.tag){case 0:case 11:case 14:case 15:Zs(4,d,d.return);break;case 1:Eo(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){at(r,n,w)}}break;case 5:Eo(d,d.return);break;case 22:if(d.memoizedState!==null){dv(h);continue}}p!==null?(p.return=d,re=p):dv(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=F0("display",s))}catch(w){at(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){at(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nn(e,t),zn(t),r&4&&cv(t);break;case 21:break;default:Nn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dw(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fa(i,""),r.flags&=-33);var o=uv(t);Of(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=uv(t);bf(t,a,s);break;default:throw Error(U(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cC(t,e,n){re=t,mw(t)}function mw(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ul;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=Ul;var u=Ut;if(Ul=s,(Ut=l)&&!u)for(re=i;re!==null;)s=re,l=s.child,s.tag===22&&s.memoizedState!==null?fv(i):l!==null?(l.return=s,re=l):fv(i);for(;o!==null;)re=o,mw(o),o=o.sibling;re=i,Ul=a,Ut=u}hv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):hv(t)}}function hv(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||Nc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Gy(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gy(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ya(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ut||e.flags&512&&Lf(e)}catch(d){at(e,e.return,d)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function dv(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function fv(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nc(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var o=e.return;try{Lf(e)}catch(l){at(e,o,l)}break;case 5:var s=e.return;try{Lf(e)}catch(l){at(e,s,l)}}}catch(l){at(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var hC=Math.ceil,zu=Ir.ReactCurrentDispatcher,vm=Ir.ReactCurrentOwner,In=Ir.ReactCurrentBatchConfig,Le=0,Rt=null,pt=null,Vt=0,un=0,So=ai(0),yt=0,Pa=null,Oi=0,Vc=0,_m=0,ea=null,Zt=null,wm=0,jo=1/0,hr=null,Wu=!1,Mf=null,Gr=null,Bl=!1,$r=null,qu=0,ta=0,$f=null,du=-1,fu=0;function Qt(){return Le&6?ct():du!==-1?du:du=ct()}function Qr(t){return t.mode&1?Le&2&&Vt!==0?Vt&-Vt:GI.transition!==null?(fu===0&&(fu=J0()),fu):(t=$e,t!==0||(t=window.event,t=t===void 0?16:o1(t.type)),t):1}function $n(t,e,n,r){if(50<ta)throw ta=0,$f=null,Error(U(185));Qa(t,n,r),(!(Le&2)||t!==Rt)&&(t===Rt&&(!(Le&2)&&(Vc|=n),yt===4&&br(t,Vt)),on(t,r),n===1&&Le===0&&!(e.mode&1)&&(jo=ct()+500,Pc&&li()))}function on(t,e){var n=t.callbackNode;GA(t,e);var r=Pu(t,t===Rt?Vt:0);if(r===0)n!==null&&Sy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sy(n),e===1)t.tag===0?KI(pv.bind(null,t)):R1(pv.bind(null,t)),zI(function(){!(Le&6)&&li()}),n=null;else{switch(Z0(r)){case 1:n=Hp;break;case 4:n=Y0;break;case 16:n=Cu;break;case 536870912:n=X0;break;default:n=Cu}n=Tw(n,gw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gw(t,e){if(du=-1,fu=0,Le&6)throw Error(U(327));var n=t.callbackNode;if(xo()&&t.callbackNode!==n)return null;var r=Pu(t,t===Rt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hu(t,r);else{e=r;var i=Le;Le|=2;var o=vw();(Rt!==t||Vt!==e)&&(hr=null,jo=ct()+500,ki(t,e));do try{pC();break}catch(a){yw(t,a)}while(!0);om(),zu.current=o,Le=i,pt!==null?e=0:(Rt=null,Vt=0,e=yt)}if(e!==0){if(e===2&&(i=hf(t),i!==0&&(r=i,e=Ff(t,i))),e===1)throw n=Pa,ki(t,0),br(t,r),on(t,ct()),n;if(e===6)br(t,r);else{if(i=t.current.alternate,!(r&30)&&!dC(i)&&(e=Hu(t,r),e===2&&(o=hf(t),o!==0&&(r=o,e=Ff(t,o))),e===1))throw n=Pa,ki(t,0),br(t,r),on(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:yi(t,Zt,hr);break;case 3:if(br(t,r),(r&130023424)===r&&(e=wm+500-ct(),10<e)){if(Pu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_f(yi.bind(null,t,Zt,hr),e);break}yi(t,Zt,hr);break;case 4:if(br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Mn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hC(r/1960))-r,10<r){t.timeoutHandle=_f(yi.bind(null,t,Zt,hr),r);break}yi(t,Zt,hr);break;case 5:yi(t,Zt,hr);break;default:throw Error(U(329))}}}return on(t,ct()),t.callbackNode===n?gw.bind(null,t):null}function Ff(t,e){var n=ea;return t.current.memoizedState.isDehydrated&&(ki(t,e).flags|=256),t=Hu(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&Uf(e)),t}function Uf(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function dC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Un(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function br(t,e){for(e&=~_m,e&=~Vc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mn(e),r=1<<n;t[n]=-1,e&=~r}}function pv(t){if(Le&6)throw Error(U(327));xo();var e=Pu(t,0);if(!(e&1))return on(t,ct()),null;var n=Hu(t,e);if(t.tag!==0&&n===2){var r=hf(t);r!==0&&(e=r,n=Ff(t,r))}if(n===1)throw n=Pa,ki(t,0),br(t,e),on(t,ct()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yi(t,Zt,hr),on(t,ct()),null}function Em(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(jo=ct()+500,Pc&&li())}}function Mi(t){$r!==null&&$r.tag===0&&!(Le&6)&&xo();var e=Le;Le|=1;var n=In.transition,r=$e;try{if(In.transition=null,$e=1,t)return t()}finally{$e=r,In.transition=n,Le=e,!(Le&6)&&li()}}function Sm(){un=So.current,Ye(So)}function ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jI(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(nm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Du();break;case 3:Uo(),Ye(nn),Ye(Wt),hm();break;case 5:cm(r);break;case 4:Uo();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:sm(r.type._context);break;case 22:case 23:Sm()}n=n.return}if(Rt=t,pt=t=Yr(t.current,null),Vt=un=e,yt=0,Pa=null,_m=Vc=Oi=0,Zt=ea=null,Si!==null){for(e=0;e<Si.length;e++)if(n=Si[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Si=null}return t}function yw(t,e){do{var n=pt;try{if(om(),uu.current=ju,Bu){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bu=!1}if(bi=0,Tt=gt=it=null,Js=!1,Aa=0,vm.current=null,n===null||n.return===null){yt=1,Pa=e,pt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=tv(s);if(p!==null){p.flags&=-257,nv(p,s,a,o,e),p.mode&1&&ev(o,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){ev(o,u,e),Tm();break e}l=Error(U(426))}}else if(Ze&&a.mode&1){var T=tv(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),nv(T,s,a,o,e),rm(Bo(l,a));break e}}o=l=Bo(l,a),yt!==4&&(yt=2),ea===null?ea=[o]:ea.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=ew(o,l,e);Ky(o,m);break e;case 1:a=l;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gr===null||!Gr.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=tw(o,a,e);Ky(o,A);break e}}o=o.return}while(o!==null)}ww(n)}catch(C){e=C,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function vw(){var t=zu.current;return zu.current=ju,t===null?ju:t}function Tm(){(yt===0||yt===3||yt===2)&&(yt=4),Rt===null||!(Oi&268435455)&&!(Vc&268435455)||br(Rt,Vt)}function Hu(t,e){var n=Le;Le|=2;var r=vw();(Rt!==t||Vt!==e)&&(hr=null,ki(t,e));do try{fC();break}catch(i){yw(t,i)}while(!0);if(om(),Le=n,zu.current=r,pt!==null)throw Error(U(261));return Rt=null,Vt=0,yt}function fC(){for(;pt!==null;)_w(pt)}function pC(){for(;pt!==null&&!FA();)_w(pt)}function _w(t){var e=Sw(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?ww(t):pt=e,vm.current=null}function ww(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aC(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,pt=null;return}}else if(n=sC(n,e,un),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);yt===0&&(yt=5)}function yi(t,e,n){var r=$e,i=In.transition;try{In.transition=null,$e=1,mC(t,e,n,r)}finally{In.transition=i,$e=r}return null}function mC(t,e,n,r){do xo();while($r!==null);if(Le&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(QA(t,o),t===Rt&&(pt=Rt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bl||(Bl=!0,Tw(Cu,function(){return xo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=In.transition,In.transition=null;var s=$e;$e=1;var a=Le;Le|=4,vm.current=null,uC(t,n),pw(n,t),bI(yf),ku=!!gf,yf=gf=null,t.current=n,cC(n),UA(),Le=a,$e=s,In.transition=o}else t.current=n;if(Bl&&(Bl=!1,$r=t,qu=i),o=t.pendingLanes,o===0&&(Gr=null),zA(n.stateNode),on(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,t=Mf,Mf=null,t;return qu&1&&t.tag!==0&&xo(),o=t.pendingLanes,o&1?t===$f?ta++:(ta=0,$f=t):ta=0,li(),null}function xo(){if($r!==null){var t=Z0(qu),e=In.transition,n=$e;try{if(In.transition=null,$e=16>t?16:t,$r===null)var r=!1;else{if(t=$r,$r=null,qu=0,Le&6)throw Error(U(331));var i=Le;for(Le|=4,re=t.current;re!==null;){var o=re,s=o.child;if(re.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:Zs(8,c,o)}var h=c.child;if(h!==null)h.return=c,re=h;else for(;re!==null;){c=re;var d=c.sibling,p=c.return;if(hw(c),c===u){re=null;break}if(d!==null){d.return=p,re=d;break}re=p}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,re=s;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,re=m;break e}re=o.return}}var f=t.current;for(re=f;re!==null;){s=re;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,re=g;else e:for(s=f;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nc(9,a)}}catch(C){at(a,a.return,C)}if(a===s){re=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,re=A;break e}re=a.return}}if(Le=i,li(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Tc,t)}catch{}r=!0}return r}finally{$e=n,In.transition=e}}return!1}function mv(t,e,n){e=Bo(n,e),e=ew(t,e,1),t=Kr(t,e,1),e=Qt(),t!==null&&(Qa(t,1,e),on(t,e))}function at(t,e,n){if(t.tag===3)mv(t,t,n);else for(;e!==null;){if(e.tag===3){mv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gr===null||!Gr.has(r))){t=Bo(n,t),t=tw(e,t,1),e=Kr(e,t,1),t=Qt(),e!==null&&(Qa(e,1,t),on(e,t));break}}e=e.return}}function gC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Vt&n)===n&&(yt===4||yt===3&&(Vt&130023424)===Vt&&500>ct()-wm?ki(t,0):_m|=n),on(t,e)}function Ew(t,e){e===0&&(t.mode&1?(e=Nl,Nl<<=1,!(Nl&130023424)&&(Nl=4194304)):e=1);var n=Qt();t=Er(t,e),t!==null&&(Qa(t,e,n),on(t,n))}function yC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ew(t,n)}function vC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Ew(t,n)}var Sw;Sw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,oC(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Ze&&e.flags&1048576&&A1(e,Ou,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hu(t,e),t=e.pendingProps;var i=Mo(e,Wt.current);ko(e,n),i=fm(null,e,r,t,i,n);var o=pm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(o=!0,Lu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lm(e),i.updater=kc,e.stateNode=i,i._reactInternals=e,If(e,r,t,n),e=kf(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&tm(e),Ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=wC(r),t=Dn(r,t),i){case 0:e=Pf(null,e,r,t,n);break e;case 1:e=ov(null,e,r,t,n);break e;case 11:e=rv(null,e,r,t,n);break e;case 14:e=iv(null,e,r,Dn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),Pf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),ov(t,e,r,i,n);case 3:e:{if(ow(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,i=o.element,k1(t,e),Fu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Bo(Error(U(423)),e),e=sv(t,e,r,n,i);break e}else if(r!==i){i=Bo(Error(U(424)),e),e=sv(t,e,r,n,i);break e}else for(cn=Hr(e.stateNode.containerInfo.firstChild),fn=e,Ze=!0,bn=null,n=D1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($o(),r===i){e=Sr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return L1(e),t===null&&Tf(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,vf(r,i)?s=null:o!==null&&vf(r,o)&&(e.flags|=32),iw(t,e),Ht(t,e,s,n),e.child;case 6:return t===null&&Tf(e),null;case 13:return sw(t,e,n);case 4:return um(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),rv(t,e,r,i,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,We(Mu,r._currentValue),r._currentValue=s,o!==null)if(Un(o.value,s)){if(o.children===i.children&&!nn.current){e=Sr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=yr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Rf(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Rf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ko(e,n),i=Cn(i),r=r(i),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,i=Dn(r,e.pendingProps),i=Dn(r.type,i),iv(t,e,r,i,n);case 15:return nw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),hu(t,e),e.tag=1,rn(r)?(t=!0,Lu(e)):t=!1,ko(e,n),N1(e,r,i),If(e,r,i,n),kf(null,e,r,!0,t,n);case 19:return aw(t,e,n);case 22:return rw(t,e,n)}throw Error(U(156,e.tag))};function Tw(t,e){return Q0(t,e)}function _C(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new _C(t,e,n,r)}function Rm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wC(t){if(typeof t=="function")return Rm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zp)return 11;if(t===Wp)return 14}return 2}function Yr(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Rm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ho:return xi(n.children,i,o,e);case jp:s=8,i|=8;break;case Qd:return t=An(12,n,e,i|2),t.elementType=Qd,t.lanes=o,t;case Yd:return t=An(13,n,e,i),t.elementType=Yd,t.lanes=o,t;case Xd:return t=An(19,n,e,i),t.elementType=Xd,t.lanes=o,t;case V0:return Dc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x0:s=10;break e;case N0:s=9;break e;case zp:s=11;break e;case Wp:s=14;break e;case Nr:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=An(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function xi(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Dc(t,e,n,r){return t=An(22,t,r,e),t.elementType=V0,t.lanes=n,t.stateNode={isHidden:!1},t}function pd(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function md(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function EC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qh(0),this.expirationTimes=Qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Am(t,e,n,r,i,o,s,a,l){return t=new EC(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=An(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lm(o),t}function SC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rw(t){if(!t)return ni;t=t._reactInternals;e:{if(Hi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(rn(n))return T1(t,n,e)}return e}function Aw(t,e,n,r,i,o,s,a,l){return t=Am(n,r,!0,t,i,o,s,a,l),t.context=Rw(null),n=t.current,r=Qt(),i=Qr(n),o=yr(r,i),o.callback=e??null,Kr(n,o,i),t.current.lanes=i,Qa(t,i,r),on(t,r),t}function Lc(t,e,n,r){var i=e.current,o=Qt(),s=Qr(i);return n=Rw(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kr(i,e,s),t!==null&&($n(t,i,s,o),lu(t,i,s)),s}function Ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Im(t,e){gv(t,e),(t=t.alternate)&&gv(t,e)}function TC(){return null}var Iw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cm(t){this._internalRoot=t}bc.prototype.render=Cm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Lc(t,e,null,null)};bc.prototype.unmount=Cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mi(function(){Lc(null,t,null,null)}),e[wr]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var e=n1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lr.length&&e!==0&&e<Lr[n].priority;n++);Lr.splice(n,0,t),n===0&&i1(t)}};function Pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yv(){}function RC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ku(s);o.call(u)}}var s=Aw(e,r,t,0,null,!1,!1,"",yv);return t._reactRootContainer=s,t[wr]=s.current,wa(t.nodeType===8?t.parentNode:t),Mi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ku(l);a.call(u)}}var l=Am(t,0,!1,null,null,!1,!1,"",yv);return t._reactRootContainer=l,t[wr]=l.current,wa(t.nodeType===8?t.parentNode:t),Mi(function(){Lc(e,l,n,r)}),l}function Mc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ku(s);a.call(l)}}Lc(e,s,t,i)}else s=RC(n,e,t,i,r);return Ku(s)}e1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$s(e.pendingLanes);n!==0&&(Kp(e,n|1),on(e,ct()),!(Le&6)&&(jo=ct()+500,li()))}break;case 13:Mi(function(){var r=Er(t,1);if(r!==null){var i=Qt();$n(r,t,1,i)}}),Im(t,1)}};Gp=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var n=Qt();$n(e,t,134217728,n)}Im(t,134217728)}};t1=function(t){if(t.tag===13){var e=Qr(t),n=Er(t,e);if(n!==null){var r=Qt();$n(n,t,e,r)}Im(t,e)}};n1=function(){return $e};r1=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};lf=function(t,e,n){switch(e){case"input":if(ef(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cc(r);if(!i)throw Error(U(90));L0(r),ef(r,i)}}}break;case"textarea":O0(t,n);break;case"select":e=n.value,e!=null&&Ao(t,!!n.multiple,e,!1)}};z0=Em;W0=Mi;var AC={usingClientEntryPoint:!1,Events:[Xa,go,Cc,B0,j0,Em]},Is={findFiberByHostInstance:Ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},IC={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K0(t),t===null?null:t.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||TC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Tc=jl.inject(IC),Yn=jl}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pm(e))throw Error(U(200));return SC(t,e,null,n)};gn.createRoot=function(t,e){if(!Pm(t))throw Error(U(299));var n=!1,r="",i=Iw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Am(t,1,!1,null,null,n,!1,r,i),t[wr]=e.current,wa(t.nodeType===8?t.parentNode:t),new Cm(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=K0(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return Mi(t)};gn.hydrate=function(t,e,n){if(!Oc(e))throw Error(U(200));return Mc(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!Pm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Iw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Aw(e,null,t,1,n??null,i,!1,o,s),t[wr]=e.current,wa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bc(e)};gn.render=function(t,e,n){if(!Oc(e))throw Error(U(200));return Mc(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!Oc(t))throw Error(U(40));return t._reactRootContainer?(Mi(function(){Mc(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};gn.unstable_batchedUpdates=Em;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Mc(t,e,n,!1,r)};gn.version="18.2.0-next-9e3b772b8-20220608";function Cw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cw)}catch(t){console.error(t)}}Cw(),A0.exports=gn;var Pw=A0.exports;const CC=Lp(Pw);var vv=Pw;Kd.createRoot=vv.createRoot,Kd.hydrateRoot=vv.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(this,arguments)}var Fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fr||(Fr={}));const _v="popstate";function PC(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Ki(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Bf("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:kw(o))}function r(i,o){$c(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return xC(e,n,r,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $c(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kC(){return Math.random().toString(36).substr(2,8)}function wv(t,e){return{usr:t.state,key:t.key,idx:e}}function Bf(t,e,n,r){return n===void 0&&(n=null),ka({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ki(e):e,{state:n,key:e&&e.key||r||kC()})}function kw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Fr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(ka({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Fr.Pop;let T=c(),m=T==null?null:T-u;u=T,l&&l({action:a,location:w.location,delta:m})}function d(T,m){a=Fr.Push;let f=Bf(w.location,T,m);n&&n(f,T),u=c()+1;let g=wv(f,u),A=w.createHref(f);try{s.pushState(g,"",A)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(A)}o&&l&&l({action:a,location:w.location,delta:1})}function p(T,m){a=Fr.Replace;let f=Bf(w.location,T,m);n&&n(f,T),u=c();let g=wv(f,u),A=w.createHref(f);s.replaceState(g,"",A),o&&l&&l({action:a,location:w.location,delta:0})}function y(T){let m=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof T=="string"?T:kw(T);return vt(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let w={get action(){return a},get location(){return t(i,s)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_v,h),l=T,()=>{i.removeEventListener(_v,h),l=null}},createHref(T){return e(i,T)},createURL:y,encodeLocation(T){let m=y(T);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(T){return s.go(T)}};return w}var Ev;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ev||(Ev={}));function NC(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ki(e):e,i=Vw(r.pathname||"/",n);if(i==null)return null;let o=xw(t);VC(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=BC(o[a],WC(i));return s}function xw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ni([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xw(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:FC(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Nw(o.path))i(o,s,l)}),e}function Nw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Nw(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function VC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DC=/^:\w+$/,LC=3,bC=2,OC=1,MC=10,$C=-2,Sv=t=>t==="*";function FC(t,e){let n=t.split("/"),r=n.length;return n.some(Sv)&&(r+=$C),e&&(r+=bC),n.filter(i=>!Sv(i)).reduce((i,o)=>i+(DC.test(o)?LC:o===""?OC:MC),r)}function UC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function BC(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=jC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:Ni([i,c.pathname]),pathnameBase:XC(Ni([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Ni([i,c.pathnameBase]))}return o}function jC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let w=a[h]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?u[d]=void 0:u[d]=qC(y||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function zC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$c(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WC(t){try{return decodeURI(t)}catch(e){return $c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qC(t,e){try{return decodeURIComponent(t)}catch(n){return $c(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Vw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function HC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ki(t):t;return{pathname:n?n.startsWith("/")?n:KC(n,e):e,search:JC(r),hash:ZC(i)}}function KC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function QC(t,e){let n=GC(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function YC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ki(t):(i=ka({},t),vt(!i.pathname||!i.pathname.includes("?"),gd("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),gd("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),gd("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=HC(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ni=t=>t.join("/").replace(/\/\/+/g,"/"),XC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Dw=["post","put","patch","delete"];new Set(Dw);const tP=["get",...Dw];new Set(tP);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xa.apply(this,arguments)}const km=j.createContext(null),nP=j.createContext(null),Fc=j.createContext(null),Uc=j.createContext(null),os=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Lw=j.createContext(null);function Bc(){return j.useContext(Uc)!=null}function xm(){return Bc()||vt(!1),j.useContext(Uc).location}function bw(t){j.useContext(Fc).static||j.useLayoutEffect(t)}function Nm(){let{isDataRoute:t}=j.useContext(os);return t?mP():rP()}function rP(){Bc()||vt(!1);let t=j.useContext(km),{basename:e,future:n,navigator:r}=j.useContext(Fc),{matches:i}=j.useContext(os),{pathname:o}=xm(),s=JSON.stringify(QC(i,n.v7_relativeSplatPath)),a=j.useRef(!1);return bw(()=>{a.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=YC(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ni([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,o,t])}function iP(t,e){return oP(t,e)}function oP(t,e,n,r){Bc()||vt(!1);let{navigator:i}=j.useContext(Fc),{matches:o}=j.useContext(os),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=xm(),c;if(e){var h;let T=typeof e=="string"?Ki(e):e;l==="/"||(h=T.pathname)!=null&&h.startsWith(l)||vt(!1),c=T}else c=u;let d=c.pathname||"/",p=l==="/"?d:d.slice(l.length)||"/",y=NC(t,{pathname:p}),w=cP(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Ni([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Ni([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&w?j.createElement(Uc.Provider,{value:{location:xa({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Fr.Pop}},w):w}function sP(){let t=pP(),e=eP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const aP=j.createElement(sP,null);class lP extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(os.Provider,{value:this.props.routeContext},j.createElement(Lw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uP(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(km);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(os.Provider,{value:e},r)}function cP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||vt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:p}=n,y=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let p,y=!1,w=null,T=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||aP,l&&(u<0&&d===0?(gP("route-fallback",!1),y=!0,T=null):u===d&&(y=!0,T=h.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,d+1)),f=()=>{let g;return p?g=w:y?g=T:h.route.Component?g=j.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=c,j.createElement(uP,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?j.createElement(lP,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var Ow=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ow||{}),Gu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gu||{});function hP(t){let e=j.useContext(km);return e||vt(!1),e}function dP(t){let e=j.useContext(nP);return e||vt(!1),e}function fP(t){let e=j.useContext(os);return e||vt(!1),e}function Mw(t){let e=fP(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function pP(){var t;let e=j.useContext(Lw),n=dP(Gu.UseRouteError),r=Mw(Gu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mP(){let{router:t}=hP(Ow.UseNavigateStable),e=Mw(Gu.UseNavigateStable),n=j.useRef(!1);return bw(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xa({fromRouteId:e},o)))},[t,e])}const Tv={};function gP(t,e,n){!e&&!Tv[t]&&(Tv[t]=!0)}function Us(t){vt(!1)}function yP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fr.Pop,navigator:o,static:s=!1,future:a}=t;Bc()&&vt(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:o,static:s,future:xa({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Ki(r));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:y="default"}=r,w=j.useMemo(()=>{let T=Vw(c,l);return T==null?null:{location:{pathname:T,search:h,hash:d,state:p,key:y},navigationType:i}},[l,c,h,d,p,y,i]);return w==null?null:j.createElement(Fc.Provider,{value:u},j.createElement(Uc.Provider,{children:n,value:w}))}function vP(t){let{children:e,location:n}=t;return iP(jf(e),n)}new Promise(()=>{});function jf(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,jf(r.props.children,o));return}r.type!==Us&&vt(!1),!r.props.index||!r.props.children||vt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=jf(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _P="startTransition",Rv=yA[_P];function wP(t){let{basename:e,children:n,future:r,window:i}=t,o=j.useRef();o.current==null&&(o.current=PC({window:i,v5Compat:!0}));let s=o.current,[a,l]=j.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=j.useCallback(h=>{u&&Rv?Rv(()=>l(h)):l(h)},[l,u]);return j.useLayoutEffect(()=>s.listen(c),[s,c]),j.createElement(yP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Av;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Av||(Av={}));var Iv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Iv||(Iv={}));var $w={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cv=_e.createContext&&_e.createContext($w),Xr=function(){return Xr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xr.apply(this,arguments)},EP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Fw(t){return t&&t.map(function(e,n){return _e.createElement(e.tag,Xr({key:n},e.attr),Fw(e.child))})}function Gi(t){return function(e){return _e.createElement(SP,Xr({attr:Xr({},t.attr)},e),Fw(t.child))}}function SP(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=EP(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),_e.createElement("svg",Xr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Xr(Xr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&_e.createElement("title",null,o),t.children)};return Cv!==void 0?_e.createElement(Cv.Consumer,null,function(n){return e(n)}):e($w)}function Pv(t){return Gi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(t)}const TP=()=>{const t=xm(),e=Nm(),n=()=>{e(-1)};return N.jsxs("div",{children:[N.jsxs("div",{className:"flex mx-2 my-2 justify-between ",children:[N.jsx("div",{className:"text-2xl",onClick:n,children:N.jsx(Pv,{})}),N.jsx("div",{className:"font-semibold",children:t.pathname==="/"?"":t.pathname==="/comment"?"":""}),N.jsx("div",{className:"text-2xl text-white",onClick:n,children:N.jsx(Pv,{})})]}),N.jsx("hr",{})]})};var Uw={};function RP(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var AP=RP,Re=AP;function IP(t){return!!t&&typeof t.then=="function"}var Qe=IP;function CP(t,e){if(t!=null)return t;throw Re(e??"Got unexpected null or undefined")}var et=CP;function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class jc{getValue(){throw Re("BaseLoadable")}toPromise(){throw Re("BaseLoadable")}valueMaybe(){throw Re("BaseLoadable")}valueOrThrow(){throw Re(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Re("BaseLoadable")}promiseOrThrow(){throw Re(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Re("BaseLoadable")}errorOrThrow(){throw Re(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Re("BaseLoadable")}}class PP extends jc{constructor(e){super(),we(this,"state","hasValue"),we(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Qe(n)?$i(n):zo(n)?n:Za(n)}catch(n){return Qe(n)?$i(n.next(()=>this.map(e))):zc(n)}}}class kP extends jc{constructor(e){super(),we(this,"state","hasError"),we(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class Bw extends jc{constructor(e){super(),we(this,"state","loading"),we(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return $i(this.contents.then(n=>{const r=e(n);if(zo(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Qe(n))return n.then(()=>this.map(e).contents);throw n}))}}function Za(t){return Object.freeze(new PP(t))}function zc(t){return Object.freeze(new kP(t))}function $i(t){return Object.freeze(new Bw(t))}function jw(){return Object.freeze(new Bw(new Promise(()=>{})))}function xP(t){return t.every(e=>e.state==="hasValue")?Za(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?zc(et(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):$i(Promise.all(t.map(e=>e.contents)))}function zw(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>zo(i)?i:Qe(i)?$i(i):Za(i)),r=xP(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:i[a]}),{}))}function zo(t){return t instanceof jc}const NP={of:t=>Qe(t)?$i(t):zo(t)?t:Za(t),error:t=>zc(t),loading:()=>jw(),all:zw,isLoadable:zo};var Qi={loadableWithValue:Za,loadableWithError:zc,loadableWithPromise:$i,loadableLoading:jw,loadableAll:zw,isLoadable:zo,RecoilLoadable:NP},VP=Qi.loadableWithValue,DP=Qi.loadableWithError,LP=Qi.loadableWithPromise,bP=Qi.loadableLoading,OP=Qi.loadableAll,MP=Qi.isLoadable,$P=Qi.RecoilLoadable,el=Object.freeze({__proto__:null,loadableWithValue:VP,loadableWithError:DP,loadableWithPromise:LP,loadableLoading:bP,loadableAll:OP,isLoadable:MP,RecoilLoadable:$P});const zf={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function FP(t,e){var n,r;const i=(n=Uw[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Re(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function UP(t,e){var n;const r=(n=Uw[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function BP(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(FP("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{zf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),UP("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{zf.RECOIL_GKS_ENABLED.add(n)})}))}BP();var ss=zf;function Wc(t){return ss.RECOIL_GKS_ENABLED.has(t)}Wc.setPass=t=>{ss.RECOIL_GKS_ENABLED.add(t)};Wc.setFail=t=>{ss.RECOIL_GKS_ENABLED.delete(t)};Wc.clear=()=>{ss.RECOIL_GKS_ENABLED.clear()};var je=Wc;function jP(t,e,{error:n}={}){return null}var zP=jP,Vm=zP,yd,vd,_d;const WP=(yd=_e.createMutableSource)!==null&&yd!==void 0?yd:_e.unstable_createMutableSource,Ww=(vd=_e.useMutableSource)!==null&&vd!==void 0?vd:_e.unstable_useMutableSource,qw=(_d=_e.useSyncExternalStore)!==null&&_d!==void 0?_d:_e.unstable_useSyncExternalStore;function qP(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function HP(){return je("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:je("recoil_sync_external_store")&&qw!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:je("recoil_mutable_source")&&Ww!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?je("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:je("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function KP(){return!1}var tl={createMutableSource:WP,useMutableSource:Ww,useSyncExternalStore:qw,currentRendererSupportsUseSyncExternalStore:qP,reactMode:HP,isFastRefreshEnabled:KP};class Dm{constructor(e){we(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class Hw extends Dm{}class Kw extends Dm{}function GP(t){return t instanceof Hw||t instanceof Kw}var qc={AbstractRecoilValue:Dm,RecoilState:Hw,RecoilValueReadOnly:Kw,isRecoilValue:GP},QP=qc.AbstractRecoilValue,YP=qc.RecoilState,XP=qc.RecoilValueReadOnly,JP=qc.isRecoilValue,Wo=Object.freeze({__proto__:null,AbstractRecoilValue:QP,RecoilState:YP,RecoilValueReadOnly:XP,isRecoilValue:JP});function ZP(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Hc=ZP;class Gw{}const ek=new Gw,Fi=new Map,Lm=new Map;function tk(t){return Hc(t,e=>et(Lm.get(e)))}function nk(t){if(Fi.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function rk(t){ss.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&nk(t.key),Fi.set(t.key,t);const e=t.set==null?new Wo.RecoilValueReadOnly(t.key):new Wo.RecoilState(t.key);return Lm.set(t.key,e),e}class Qw extends Error{}function ik(t){const e=Fi.get(t);if(e==null)throw new Qw(`Missing definition for RecoilValue: "${t}""`);return e}function ok(t){return Fi.get(t)}const Qu=new Map;function sk(t){var e;if(!je("recoil_memory_managament_2020"))return;const n=Fi.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Fi.delete(t),(r=Yw(t))===null||r===void 0||r(),Qu.delete(t)}}function ak(t,e){je("recoil_memory_managament_2020")&&(e===void 0?Qu.delete(t):Qu.set(t,e))}function Yw(t){return Qu.get(t)}var ln={nodes:Fi,recoilValues:Lm,registerNode:rk,getNode:ik,getNodeMaybe:ok,deleteNodeConfigIfPossible:sk,setConfigDeletionHandler:ak,getConfigDeletionHandler:Yw,recoilValuesForKeys:tk,NodeMissingError:Qw,DefaultValue:Gw,DEFAULT_VALUE:ek};function lk(t,e){e()}var uk={enqueueExecution:lk};function ck(t,e){return e={exports:{}},t(e,e.exports),e.exports}var hk=ck(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,l={},u=function(E){return function(){return E}},c=n.hash=function(R){var E=typeof R>"u"?"undefined":e(R);if(E==="number")return R;E!=="string"&&(R+="");for(var F=0,J=0,Z=R.length;J<Z;++J){var ie=R.charCodeAt(J);F=(F<<5)-F+ie|0}return F},h=function(E){return E-=E>>1&1431655765,E=(E&858993459)+(E>>2&858993459),E=E+(E>>4)&252645135,E+=E>>8,E+=E>>16,E&127},d=function(E,F){return F>>>E&o},p=function(E){return 1<<E},y=function(E,F){return h(E&F-1)},w=function(E,F,J,Z){var ie=Z;if(!E){var me=Z.length;ie=new Array(me);for(var de=0;de<me;++de)ie[de]=Z[de]}return ie[F]=J,ie},T=function(E,F,J){var Z=J.length-1,ie=0,me=0,de=J;if(E)ie=me=F;else for(de=new Array(Z);ie<F;)de[me++]=J[ie++];for(++ie;ie<=Z;)de[me++]=J[ie++];return E&&(de.length=Z),de},m=function(E,F,J,Z){var ie=Z.length;if(E){for(var me=ie;me>=F;)Z[me--]=Z[me];return Z[F]=J,Z}for(var de=0,fe=0,Ae=new Array(ie+1);de<F;)Ae[fe++]=Z[de++];for(Ae[F]=J;de<ie;)Ae[++fe]=Z[de++];return Ae},f=1,g=2,A=3,C=4,x={__hamt_isEmpty:!0},V=function(E){return E===x||E&&E.__hamt_isEmpty},z=function(E,F,J,Z){return{type:f,edit:E,hash:F,key:J,value:Z,_modify:B}},se=function(E,F,J){return{type:g,edit:E,hash:F,children:J,_modify:D}},K=function(E,F,J){return{type:A,edit:E,mask:F,children:J,_modify:S}},Se=function(E,F,J){return{type:C,edit:E,size:F,children:J,_modify:q}},$=function(E){return E===x||E.type===f||E.type===g},b=function(E,F,J,Z,ie){for(var me=[],de=Z,fe=0,Ae=0;de;++Ae)de&1&&(me[Ae]=ie[fe++]),de>>>=1;return me[F]=J,Se(E,fe+1,me)},ee=function(E,F,J,Z){for(var ie=new Array(F-1),me=0,de=0,fe=0,Ae=Z.length;fe<Ae;++fe)if(fe!==J){var Xe=Z[fe];Xe&&!V(Xe)&&(ie[me++]=Xe,de|=1<<fe)}return K(E,de,ie)},ue=function R(E,F,J,Z,ie,me){if(J===ie)return se(E,J,[me,Z]);var de=d(F,J),fe=d(F,ie);return K(E,p(de)|p(fe),de===fe?[R(E,F+r,J,Z,ie,me)]:de<fe?[Z,me]:[me,Z])},Ie=function(E,F,J,Z,ie,me,de,fe){for(var Ae=ie.length,Xe=0;Xe<Ae;++Xe){var Jt=ie[Xe];if(J(de,Jt.key)){var Et=Jt.value,_n=me(Et);return _n===Et?ie:_n===l?(--fe.value,T(E,Xe,ie)):w(E,Xe,z(F,Z,de,_n),ie)}}var xn=me();return xn===l?ie:(++fe.value,w(E,Ae,z(F,Z,de,xn),ie))},be=function(E,F){return E===F.edit},B=function(E,F,J,Z,ie,me,de){if(F(me,this.key)){var fe=Z(this.value);return fe===this.value?this:fe===l?(--de.value,x):be(E,this)?(this.value=fe,this):z(E,ie,me,fe)}var Ae=Z();return Ae===l?this:(++de.value,ue(E,J,this.hash,this,ie,z(E,ie,me,Ae)))},D=function(E,F,J,Z,ie,me,de){if(ie===this.hash){var fe=be(E,this),Ae=Ie(fe,E,F,this.hash,this.children,Z,me,de);return Ae===this.children?this:Ae.length>1?se(E,this.hash,Ae):Ae[0]}var Xe=Z();return Xe===l?this:(++de.value,ue(E,J,this.hash,this,ie,z(E,ie,me,Xe)))},S=function(E,F,J,Z,ie,me,de){var fe=this.mask,Ae=this.children,Xe=d(J,ie),Jt=p(Xe),Et=y(fe,Jt),_n=fe&Jt,xn=_n?Ae[Et]:x,no=xn._modify(E,F,J+r,Z,ie,me,de);if(xn===no)return this;var Al=be(E,this),ys=fe,vs=void 0;if(_n&&V(no)){if(ys&=~Jt,!ys)return x;if(Ae.length<=2&&$(Ae[Et^1]))return Ae[Et^1];vs=T(Al,Et,Ae)}else if(!_n&&!V(no)){if(Ae.length>=s)return b(E,Xe,no,fe,Ae);ys|=Jt,vs=m(Al,Et,no,Ae)}else vs=w(Al,Et,no,Ae);return Al?(this.mask=ys,this.children=vs,this):K(E,ys,vs)},q=function(E,F,J,Z,ie,me,de){var fe=this.size,Ae=this.children,Xe=d(J,ie),Jt=Ae[Xe],Et=(Jt||x)._modify(E,F,J+r,Z,ie,me,de);if(Jt===Et)return this;var _n=be(E,this),xn=void 0;if(V(Jt)&&!V(Et))++fe,xn=w(_n,Xe,Et,Ae);else if(!V(Jt)&&V(Et)){if(--fe,fe<=a)return ee(E,fe,Xe,Ae);xn=w(_n,Xe,x,Ae)}else xn=w(_n,Xe,Et,Ae);return _n?(this.size=fe,this.children=xn,this):Se(E,fe,xn)};x._modify=function(R,E,F,J,Z,ie,me){var de=J();return de===l?x:(++me.value,z(R,Z,ie,de))};function v(R,E,F,J,Z){this._editable=R,this._edit=E,this._config=F,this._root=J,this._size=Z}v.prototype.setTree=function(R,E){return this._editable?(this._root=R,this._size=E,this):R===this._root?this:new v(this._editable,this._edit,this._config,R,E)};var P=n.tryGetHash=function(R,E,F,J){for(var Z=J._root,ie=0,me=J._config.keyEq;;)switch(Z.type){case f:return me(F,Z.key)?Z.value:R;case g:{if(E===Z.hash)for(var de=Z.children,fe=0,Ae=de.length;fe<Ae;++fe){var Xe=de[fe];if(me(F,Xe.key))return Xe.value}return R}case A:{var Jt=d(ie,E),Et=p(Jt);if(Z.mask&Et){Z=Z.children[y(Z.mask,Et)],ie+=r;break}return R}case C:{if(Z=Z.children[d(ie,E)],Z){ie+=r;break}return R}default:return R}};v.prototype.tryGetHash=function(R,E,F){return P(R,E,F,this)};var L=n.tryGet=function(R,E,F){return P(R,F._config.hash(E),E,F)};v.prototype.tryGet=function(R,E){return L(R,E,this)};var te=n.getHash=function(R,E,F){return P(void 0,R,E,F)};v.prototype.getHash=function(R,E){return te(R,E,this)},n.get=function(R,E){return P(void 0,E._config.hash(R),R,E)},v.prototype.get=function(R,E){return L(E,R,this)};var H=n.has=function(R,E,F){return P(l,R,E,F)!==l};v.prototype.hasHash=function(R,E){return H(R,E,this)};var le=n.has=function(R,E){return H(E._config.hash(R),R,E)};v.prototype.has=function(R){return le(R,this)};var pe=function(E,F){return E===F};n.make=function(R){return new v(0,0,{keyEq:R&&R.keyEq||pe,hash:R&&R.hash||c},x,0)},n.empty=n.make();var oe=n.isEmpty=function(R){return R&&!!V(R._root)};v.prototype.isEmpty=function(){return oe(this)};var ke=n.modifyHash=function(R,E,F,J){var Z={value:J._size},ie=J._root._modify(J._editable?J._edit:NaN,J._config.keyEq,0,R,E,F,Z);return J.setTree(ie,Z.value)};v.prototype.modifyHash=function(R,E,F){return ke(F,R,E,this)};var xe=n.modify=function(R,E,F){return ke(R,F._config.hash(E),E,F)};v.prototype.modify=function(R,E){return xe(E,R,this)};var Te=n.setHash=function(R,E,F,J){return ke(u(F),R,E,J)};v.prototype.setHash=function(R,E,F){return Te(R,E,F,this)};var Ne=n.set=function(R,E,F){return Te(F._config.hash(R),R,E,F)};v.prototype.set=function(R,E){return Ne(R,E,this)};var tt=u(l),Oe=n.removeHash=function(R,E,F){return ke(tt,R,E,F)};v.prototype.removeHash=v.prototype.deleteHash=function(R,E){return Oe(R,E,this)};var ze=n.remove=function(R,E){return Oe(E._config.hash(R),R,E)};v.prototype.remove=v.prototype.delete=function(R){return ze(R,this)};var Ue=n.beginMutation=function(R){return new v(R._editable+1,R._edit+1,R._config,R._root,R._size)};v.prototype.beginMutation=function(){return Ue(this)};var nt=n.endMutation=function(R){return R._editable=R._editable&&R._editable-1,R};v.prototype.endMutation=function(){return nt(this)};var _=n.mutate=function(R,E){var F=Ue(E);return R(F),nt(F)};v.prototype.mutate=function(R){return _(R,this)};var I=function(E){return E&&k(E[0],E[1],E[2],E[3],E[4])},k=function(E,F,J,Z,ie){for(;J<E;){var me=F[J++];if(me&&!V(me))return Q(me,Z,[E,F,J,Z,ie])}return I(ie)},Q=function(E,F,J){switch(E.type){case f:return{value:F(E),rest:J};case g:case C:case A:var Z=E.children;return k(Z.length,Z,0,F,J);default:return I(J)}},G={done:!0};function W(R){this.v=R}W.prototype.next=function(){if(!this.v)return G;var R=this.v;return this.v=I(R.rest),R},W.prototype[Symbol.iterator]=function(){return this};var ce=function(E,F){return new W(Q(E._root,F))},Be=function(E){return[E.key,E.value]},ht=n.entries=function(R){return ce(R,Be)};v.prototype.entries=v.prototype[Symbol.iterator]=function(){return ht(this)};var vn=function(E){return E.key},kr=n.keys=function(R){return ce(R,vn)};v.prototype.keys=function(){return kr(this)};var jh=function(E){return E.value},gs=n.values=v.prototype.values=function(R){return ce(R,jh)};v.prototype.values=function(){return gs(this)};var to=n.fold=function(R,E,F){var J=F._root;if(J.type===f)return R(E,J.value,J.key);for(var Z=[J.children],ie=void 0;ie=Z.pop();)for(var me=0,de=ie.length;me<de;){var fe=ie[me++];fe&&fe.type&&(fe.type===f?E=R(E,fe.value,fe.key):Z.push(fe.children))}return E};v.prototype.fold=function(R,E){return to(R,E,this)};var zh=n.forEach=function(R,E){return to(function(F,J,Z){return R(J,Z,E)},null,E)};v.prototype.forEach=function(R){return zh(R,this)};var Rl=n.count=function(R){return R._size};v.prototype.count=function(){return Rl(this)},Object.defineProperty(v.prototype,"size",{get:v.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class dk{constructor(e){we(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Om(this)}toMap(){return new Map(this._map)}}class bm{constructor(e){if(we(this,"_hamt",hk.empty.beginMutation()),e instanceof bm){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Om(this)}toMap(){return new Map(this._hamt)}}function Om(t){return je("recoil_hamt_2020")?new bm(t):new dk(t)}var fk={persistentMap:Om},pk=fk.persistentMap,mk=Object.freeze({__proto__:null,persistentMap:pk});function gk(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var na=gk;function yk(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Yu=yk;function vk(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function _k(t){return{nodeDeps:Yu(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Yu(t.nodeToNodeSubscriptions,e=>new Set(e))}}function wd(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;i.set(t,e);const a=s==null?e:na(e,s);for(const l of a)o.has(l)||o.set(l,new Set),et(o.get(l)).add(t);if(s){const l=na(s,e);for(const u of l){if(!o.has(u))return;const c=et(o.get(u));c.delete(t),c.size===0&&o.delete(u)}}}function wk(t,e,n,r){var i,o,s,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((o=l.previousTree)===null||o===void 0||o.version);const u=n.getGraph(r);if(wd(t,e,u),r===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const h=n.getGraph(l.currentTree.version);wd(t,e,h,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const h=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(h!==void 0){const d=n.getGraph(h);wd(t,e,d,u)}}}var nl={cloneGraph:_k,graph:vk,saveDepsToStore:wk};let Ek=0;const Sk=()=>Ek++;let Tk=0;const Rk=()=>Tk++;let Ak=0;const Ik=()=>Ak++;var Kc={getNextTreeStateVersion:Sk,getNextStoreID:Rk,getNextComponentID:Ik};const{persistentMap:kv}=mk,{graph:Ck}=nl,{getNextTreeStateVersion:Xw}=Kc;function Jw(){const t=Xw();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:kv(),nonvalidatedAtoms:kv()}}function Pk(){const t=Jw();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,Ck()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Zw={makeEmptyTreeState:Jw,makeEmptyStoreState:Pk,getNextTreeStateVersion:Xw};class eE{}function kk(){return new eE}var Gc={RetentionZone:eE,retentionZone:kk};function xk(t,e){const n=new Set(t);return n.add(e),n}function Nk(t,e){const n=new Set(t);return n.delete(e),n}function Vk(t,e,n){const r=new Map(t);return r.set(e,n),r}function Dk(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function Lk(t,e){const n=new Map(t);return n.delete(e),n}function bk(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var tE={setByAddingToSet:xk,setByDeletingFromSet:Nk,mapBySettingInMap:Vk,mapByUpdatingInMap:Dk,mapByDeletingFromMap:Lk,mapByDeletingMultipleFromMap:bk};function*Ok(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Mm=Ok;function Mk(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var nE=Mk;const{getNode:rl,getNodeMaybe:$k,recoilValuesForKeys:xv}=ln,{RetentionZone:Nv}=Gc,{setByAddingToSet:Fk}=tE,Uk=Object.freeze(new Set);class Bk extends Error{}function jk(t,e,n){if(!je("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof Nv)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!je("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof Nv)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function $m(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=rl(n),s=jk(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function zk(t,e,n){$m(t,t.getState().currentTree,e,n)}function Wk(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function qk(t,e,n){return $m(t,e,n,"get"),rl(n).get(t,e)}function rE(t,e,n){return rl(n).peek(t,e)}function Hk(t,e,n){var r;const i=$k(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:Fk(t.dirtyAtoms,e)}}function Kk(t,e,n,r){const i=rl(n);if(i.set==null)throw new Bk(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return $m(t,e,n,"set"),o(t,e,r)}function Gk(t,e,n){const r=t.getState(),i=t.getGraph(e.version),o=rl(n).nodeType;return nE({type:o},{loadable:()=>rE(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return xv((s=i.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:xv(Mm(iE(t,e,new Set([n])),l=>l!==n)),components:Hc((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function iE(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:Uk;for(const u of l)r.has(u)||i.push(u)}return r}var ui={getNodeLoadable:qk,peekNodeLoadable:rE,setNodeValue:Kk,initializeNode:zk,cleanUpNode:Wk,setUnvalidatedAtomValue_DEPRECATED:Hk,peekNodeInfo:Gk,getDownstreamNodes:iE};let oE=null;function Qk(t){oE=t}function Yk(){var t;(t=oE)===null||t===void 0||t()}var sE={setInvalidateMemoizedSnapshot:Qk,invalidateMemoizedSnapshot:Yk};const{getDownstreamNodes:Xk,getNodeLoadable:aE,setNodeValue:Jk}=ui,{getNextComponentID:Zk}=Kc,{getNode:ex,getNodeMaybe:lE}=ln,{DefaultValue:Fm}=ln,{reactMode:tx}=tl,{AbstractRecoilValue:nx,RecoilState:rx,RecoilValueReadOnly:ix,isRecoilValue:ox}=Wo,{invalidateMemoizedSnapshot:sx}=sE;function ax(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=o.previousTree)===null||i===void 0||i.version);const s=aE(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function lx(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Fm?n.delete(i):n.set(i,r)}),n}function ux(t,e,{key:n},r){if(typeof r=="function"){const i=aE(t,e,n);if(i.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Re(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function cx(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=ux(t,e,i,o),a=Jk(t,e,i.key,s);for(const[l,u]of a.entries())Wf(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;Wf(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=lE(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else Vm(`Unknown action ${n.type}`)}function Wf(t,e,n){n.state==="hasValue"&&n.contents instanceof Fm?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function uE(t,e){t.replaceState(n=>{const r=cE(n);for(const i of e)cx(t,r,i);return hE(t,r),sx(),r})}function Qc(t,e){if(ra.length){const n=ra[ra.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else uE(t,[e])}const ra=[];function hx(){const t=new Map;return ra.push(t),()=>{for(const[e,n]of t)uE(e,n);ra.pop()}}function cE(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function hE(t,e){const n=Xk(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=lE(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function dE(t,e,n){Qc(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function dx(t,e,n){if(n instanceof Fm)return dE(t,e,n);Qc(t,{type:"setLoadable",recoilValue:e,loadable:n})}function fx(t,e){Qc(t,{type:"markModified",recoilValue:e})}function px(t,e,n){Qc(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function mx(t,{key:e},n,r=null){const i=Zk(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),et(o.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const s=tx();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function gx(t,e){var n;const{currentTree:r}=t.getState(),i=ex(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var ir={RecoilValueReadOnly:ix,AbstractRecoilValue:nx,RecoilState:rx,getRecoilValueAsLoadable:ax,setRecoilValue:dE,setRecoilValueLoadable:dx,markRecoilValueModified:fx,setUnvalidatedRecoilValue:px,subscribeToRecoilValue:mx,isRecoilValue:ox,applyAtomValueWrites:lx,batchStart:hx,writeLoadableToTreeState:Wf,invalidateDownstreams:hE,copyTreeState:cE,refreshRecoilValue:gx};function yx(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var vx=yx;const{cleanUpNode:_x}=ui,{deleteNodeConfigIfPossible:wx,getNode:fE}=ln,{RetentionZone:pE}=Gc,Ex=12e4,mE=new Set;function gE(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const s of e)if(s instanceof pE)for(const a of Ax(n,s))i.add(a);else i.add(s);const o=Sx(t,i);for(const s of o)Rx(t,r,s)}function Sx(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(l){const u=new Set,c=Tx(t,r,l,o,s);for(const y of c){var h;if(fE(y).retainedBy==="recoilRoot"){s.add(y);continue}if(((h=n.retention.referenceCounts.get(y))!==null&&h!==void 0?h:0)>0){s.add(y);continue}if(yE(y).some(T=>n.retention.referenceCounts.get(T))){s.add(y);continue}const w=i.nodeToNodeSubscriptions.get(y);if(w&&vx(w,T=>s.has(T))){s.add(y);continue}o.add(y),u.add(y)}const d=new Set;for(const y of u)for(const w of(p=i.nodeDeps.get(y))!==null&&p!==void 0?p:mE){var p;o.has(w)||d.add(w)}d.size&&a(d)}}function Tx(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(et(n.values().next().value));return s;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=o.nodeToNodeSubscriptions.get(u);if(c)for(const h of c)l(h);a.add(u),n.delete(u),s.push(u)}}function Rx(t,e,n){if(!je("recoil_memory_managament_2020"))return;_x(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=yE(n);for(const l of i){var o;(o=r.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const u of l){var a;(a=s.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}wx(n)}function Ax(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:mE}function yE(t){const e=fE(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof pE?[e]:e}function Ix(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):gE(t,new Set([e]))}function Cx(t,e,n){var r;if(!je("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?vE(t,e):i.set(e,o)}function vE(t,e){if(!je("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),Ix(t,e)}function Px(t){if(!je("recoil_memory_managament_2020"))return;const e=t.getState();gE(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function kx(t){return t===void 0?"recoilRoot":t}var Yi={SUSPENSE_TIMEOUT_MS:Ex,updateRetainCount:Cx,updateRetainCountToZero:vE,releaseScheduledRetainablesNow:Px,retainedByOptionWithDefault:kx};const{unstable_batchedUpdates:xx}=CC;var Nx={unstable_batchedUpdates:xx};const{unstable_batchedUpdates:Vx}=Nx;var Dx={unstable_batchedUpdates:Vx};const{batchStart:Lx}=ir,{unstable_batchedUpdates:bx}=Dx;let Um=bx||(t=>t());const Ox=t=>{Um=t},Mx=()=>Um,$x=t=>{Um(()=>{let e=()=>{};try{e=Lx(),t()}finally{e()}})};var Yc={getBatcher:Mx,setBatcher:Ox,batchUpdates:$x};function*Fx(t){for(const e of t)for(const n of e)yield n}var _E=Fx;const wE=typeof Window>"u"||typeof window>"u",Ux=t=>!wE&&(t===window||t instanceof Window),Bx=typeof navigator<"u"&&navigator.product==="ReactNative";var Xc={isSSR:wE,isReactNative:Bx,isWindow:Ux};function jx(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function zx(t,e){let n,r;return(...i)=>{const o=e(...i);return n===o||(n=o,r=t(...i)),r}}function Wx(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var qx={memoizeWithArgsHash:jx,memoizeOneWithArgsHash:zx,memoizeOneWithArgsHashAndInvalidation:Wx};const{batchUpdates:qf}=Yc,{initializeNode:Hx,peekNodeInfo:Kx}=ui,{graph:Gx}=nl,{getNextStoreID:Qx}=Kc,{DEFAULT_VALUE:Yx,recoilValues:Vv,recoilValuesForKeys:Dv}=ln,{AbstractRecoilValue:Xx,getRecoilValueAsLoadable:Jx,setRecoilValue:Lv,setUnvalidatedRecoilValue:Zx}=ir,{updateRetainCount:mu}=Yi,{setInvalidateMemoizedSnapshot:e2}=sE,{getNextTreeStateVersion:t2,makeEmptyStoreState:n2}=Zw,{isSSR:r2}=Xc,{memoizeOneWithArgsHashAndInvalidation:i2}=qx;class Jc{constructor(e,n){we(this,"_store",void 0),we(this,"_refCount",1),we(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),Jx(this._store,r))),we(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),we(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return Dv(s.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?Vv.values():r.isInitialized===!0?Dv(_E([i,o])):Mm(Vv.values(),({key:s})=>!i.has(s)&&!o.has(s))}),we(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),Kx(this._store,this._store.getState().currentTree,r))),we(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new Hf(this,qf);return r(i),i}),we(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new Hf(this,qf);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:Qx(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return et(i.get(r));const o=Gx();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Re("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)Hx(this._store,r,"get"),mu(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){r2||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!je("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){je("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function EE(t,e,n=!1){const r=t.getState(),i=n?t2():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Hc(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function o2(t){const e=new Jc(n2());return t!=null?e.map(t):e}const[bv,SE]=i2((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:et(r.previousTree);return new Jc(EE(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});e2(SE);function s2(t,e="latest"){const n=bv(t,e);return n.isRetained()?n:(SE(),bv(t,e))}class Hf extends Jc{constructor(e,n){super(EE(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),we(this,"_batch",void 0),we(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{mu(o,r.key,1),Lv(this.getStore_INTERNAL(),r,i)})}),we(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{mu(i,r.key,1),Lv(this.getStore_INTERNAL(),r,Yx)})}),we(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();qf(()=>{for(const[o,s]of r.entries())mu(i,o,1),Zx(i,new Xx(o),s)})}),this._batch=n}}var Zc={Snapshot:Jc,MutableSnapshot:Hf,freshSnapshot:o2,cloneSnapshot:s2},a2=Zc.Snapshot,l2=Zc.MutableSnapshot,u2=Zc.freshSnapshot,c2=Zc.cloneSnapshot,eh=Object.freeze({__proto__:null,Snapshot:a2,MutableSnapshot:l2,freshSnapshot:u2,cloneSnapshot:c2});function h2(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var d2=h2;const{useRef:f2}=_e;function p2(t){const e=f2(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var Ov=p2;const{getNextTreeStateVersion:m2,makeEmptyStoreState:TE}=Zw,{cleanUpNode:g2,getDownstreamNodes:y2,initializeNode:v2,setNodeValue:_2,setUnvalidatedAtomValue_DEPRECATED:w2}=ui,{graph:E2}=nl,{cloneGraph:S2}=nl,{getNextStoreID:RE}=Kc,{createMutableSource:Ed,reactMode:AE}=tl,{applyAtomValueWrites:T2}=ir,{releaseScheduledRetainablesNow:IE}=Yi,{freshSnapshot:R2}=eh,{useCallback:A2,useContext:CE,useEffect:Kf,useMemo:I2,useRef:C2,useState:P2}=_e;function Cs(){throw Re("This component must be used inside a <RecoilRoot> component.")}const PE=Object.freeze({storeID:RE(),getState:Cs,replaceState:Cs,getGraph:Cs,subscribeToTransactions:Cs,addTransactionMetadata:Cs});let Gf=!1;function Mv(t){if(Gf)throw Re("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){je("recoil_memory_managament_2020")&&je("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&IE(t);const n=e.currentTree.version,r=m2();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,S2(et(e.graphsByVersion.get(n))))}}const kE=_e.createContext({current:PE}),th=()=>CE(kE),xE=_e.createContext(null);function k2(){return CE(xE)}function Bm(t,e,n){const r=y2(t,n,n.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[s,[a,l]]of o)l(n)}}function NE(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[s,a]of o)a(t);for(const[i,o]of e.transactionSubscriptions)o(t);(!AE().early||e.suspendedComponentResolvers.size>0)&&(Bm(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function x2(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,NE(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Vm("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,je("recoil_memory_managament_2020")&&n==null&&IE(t)}finally{e.commitDepth--}}function N2({setNotifyBatcherOfChange:t}){const e=th(),[,n]=P2([]);return t(()=>n({})),Kf(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Kf(()=>{uk.enqueueExecution("Batcher",()=>{x2(e.current)})}),null}function V2(t,e){const n=TE();return e({set:(r,i)=>{const o=n.currentTree,s=_2(t,o,r.key,i),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...o,dirtyAtoms:d2(o.dirtyAtoms,a),atomValues:T2(o.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=w2(n.currentTree,o,i)})}}),n}function D2(t){const e=R2(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let $v=0;function L2({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const o=p=>{const y=i.current.graphsByVersion;if(y.has(p))return et(y.get(p));const w=E2();return y.set(p,w),w},s=(p,y)=>{if(y==null){const{transactionSubscriptions:w}=h.current.getState(),T=$v++;return w.set(T,p),{release:()=>{w.delete(T)}}}else{const{nodeTransactionSubscriptions:w}=h.current.getState();w.has(y)||w.set(y,new Map);const T=$v++;return et(w.get(y)).set(T,p),{release:()=>{const m=w.get(y);m&&(m.delete(T),m.size===0&&w.delete(y))}}}},a=p=>{Mv(h.current);for(const y of Object.keys(p))et(h.current.getState().nextTree).transactionMetadata[y]=p[y]},l=p=>{Mv(h.current);const y=et(i.current.nextTree);let w;try{Gf=!0,w=p(y)}finally{Gf=!1}w!==y&&(i.current.nextTree=w,AE().early&&Bm(h.current,i.current,w),et(u.current)())},u=C2(null),c=A2(p=>{u.current=p},[u]),h=Ov(()=>n??{storeID:RE(),getState:()=>i.current,replaceState:l,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(h.current=n),i=Ov(()=>t!=null?V2(h.current,t):e!=null?D2(e):TE());const d=I2(()=>Ed==null?void 0:Ed(i,()=>i.current.currentTree.version),[i]);return Kf(()=>{const p=h.current;for(const y of new Set(p.getState().knownAtoms))v2(p,y,"get");return()=>{for(const y of p.getState().knownAtoms)g2(p,y)}},[h]),_e.createElement(kE.Provider,{value:h},_e.createElement(xE.Provider,{value:d},_e.createElement(N2,{setNotifyBatcherOfChange:c}),r))}function b2(t){const{override:e,...n}=t,r=th();return e===!1&&r.current!==PE?t.children:_e.createElement(L2,n)}function O2(){return th().current.storeID}var Cr={RecoilRoot:b2,useStoreRef:th,useRecoilMutableSource:k2,useRecoilStoreID:O2,notifyComponents_FOR_TESTING:Bm,sendEndOfBatchNotifications_FOR_TESTING:NE};function M2(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var $2=M2;const{useEffect:F2,useRef:U2}=_e;function B2(t){const e=U2();return F2(()=>{e.current=t}),e.current}var VE=B2;const{useStoreRef:j2}=Cr,{SUSPENSE_TIMEOUT_MS:z2}=Yi,{updateRetainCount:Ps}=Yi,{RetentionZone:W2}=Gc,{useEffect:q2,useRef:H2}=_e,{isSSR:Fv}=Xc;function K2(t){if(je("recoil_memory_managament_2020"))return G2(t)}function G2(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof W2?s:s.key),r=j2();q2(()=>{if(!je("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!Fv)window.clearTimeout(i.current),i.current=null;else for(const a of n)Ps(s,a,1);return()=>{for(const a of n)Ps(s,a,-1)}},[r,...n]);const i=H2(),o=VE(n);if(!Fv&&(o===void 0||!$2(o,n))){const s=r.current;for(const a of n)Ps(s,a,1);if(o)for(const a of o)Ps(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Ps(s,a,-1)},z2)}}var jm=K2;function Q2(){return"<component name not available>"}var il=Q2;const{batchUpdates:Y2}=Yc,{DEFAULT_VALUE:DE}=ln,{currentRendererSupportsUseSyncExternalStore:X2,reactMode:as,useMutableSource:J2,useSyncExternalStore:Z2}=tl,{useRecoilMutableSource:eN,useStoreRef:or}=Cr,{AbstractRecoilValue:Qf,getRecoilValueAsLoadable:ol,setRecoilValue:Xu,setUnvalidatedRecoilValue:tN,subscribeToRecoilValue:qo}=ir,{useCallback:sn,useEffect:Ho,useMemo:LE,useRef:ia,useState:zm}=_e,{setByAddingToSet:nN}=tE,{isSSR:rN}=Xc;function Wm(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const o=n.current.getState().suspendedComponentResolvers;o.add(i),rN&&Qe(t.contents)&&t.contents.finally(()=>{o.delete(i)})}):t.state==="hasError"?t.contents:Re(`Invalid value of loadable atom "${e.key}"`)}function iN(){const t=il(),e=or(),[,n]=zm([]),r=ia(new Set);r.current=new Set;const i=ia(new Set),o=ia(new Map),s=sn(l=>{const u=o.current.get(l);u&&(u.release(),o.current.delete(l))},[o]),a=sn((l,u)=>{o.current.has(u)&&n([])},[]);return Ho(()=>{const l=e.current;na(r.current,i.current).forEach(u=>{if(o.current.has(u))return;const c=qo(l,new Qf(u),d=>a(d,u),t);o.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),na(i.current,r.current).forEach(u=>{s(u)}),i.current=r.current}),Ho(()=>{const l=o.current;return na(r.current,new Set(l.keys())).forEach(u=>{const c=qo(e.current,new Qf(u),h=>a(h,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>s(c))},[t,e,s,a]),LE(()=>{function l(y){return w=>{Xu(e.current,y,w)}}function u(y){return()=>Xu(e.current,y,DE)}function c(y){var w;r.current.has(y.key)||(r.current=nN(r.current,y.key));const T=e.current.getState();return ol(e.current,y,as().early&&(w=T.nextTree)!==null&&w!==void 0?w:T.currentTree)}function h(y){const w=c(y);return Wm(w,y,e)}function d(y){return[h(y),l(y)]}function p(y){return[c(y),l(y)]}return{getRecoilValue:h,getRecoilValueLoadable:c,getRecoilState:d,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const oN={current:0};function sN(t){const e=or(),n=il(),r=sn(()=>{var a;const l=e.current,u=l.getState(),c=as().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:ol(l,t,c),key:t.key}},[e,t]),i=sn(a=>{let l;return()=>{var u,c;const h=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(h.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===h.key?l:(l=h,h)}},[]),o=LE(()=>i(r),[r,i]),s=sn(a=>{const l=e.current;return qo(l,t,a,n).release},[e,t,n]);return Z2(s,o,o).loadable}function aN(t){const e=or(),n=sn(()=>{var u;const c=e.current,h=c.getState(),d=as().early&&(u=h.nextTree)!==null&&u!==void 0?u:h.currentTree;return ol(c,t,d)},[e,t]),r=sn(()=>n(),[n]),i=il(),o=sn((u,c)=>{const h=e.current;return qo(h,t,()=>{if(!je("recoil_suppress_rerender_in_callback"))return c();const p=n();l.current.is(p)||c(),l.current=p},i).release},[e,t,i,n]),s=eN();if(s==null)throw Re("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=J2(s,r,o),l=ia(a);return Ho(()=>{l.current=a}),a}function Yf(t){const e=or(),n=il(),r=sn(()=>{var l;const u=e.current,c=u.getState(),h=as().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return ol(u,t,h)},[e,t]),i=sn(()=>({loadable:r(),key:t.key}),[r,t.key]),o=sn(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);Ho(()=>{const l=qo(e.current,t,u=>{a(o)},n);return a(o),l.release},[n,t,e,o]);const[s,a]=zm(i);return s.key!==t.key?i().loadable:s.loadable}function lN(t){const e=or(),[,n]=zm([]),r=il(),i=sn(()=>{var a;const l=e.current,u=l.getState(),c=as().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return ol(l,t,c)},[e,t]),o=i(),s=ia(o);return Ho(()=>{s.current=o}),Ho(()=>{const a=e.current,l=a.getState(),u=qo(a,t,h=>{var d;if(!je("recoil_suppress_rerender_in_callback"))return n([]);const p=i();(d=s.current)!==null&&d!==void 0&&d.is(p)||n(p),s.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var c;if(!je("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(c=s.current)!==null&&c!==void 0&&c.is(h)||n(h),s.current=h}return u.release},[r,i,t,e]),o}function qm(t){return je("recoil_memory_managament_2020")&&jm(t),{TRANSITION_SUPPORT:Yf,SYNC_EXTERNAL_STORE:X2()?sN:Yf,MUTABLE_SOURCE:aN,LEGACY:lN}[as().mode](t)}function bE(t){const e=or(),n=qm(t);return Wm(n,t,e)}function nh(t){const e=or();return sn(n=>{Xu(e.current,t,n)},[e,t])}function uN(t){const e=or();return sn(()=>{Xu(e.current,t,DE)},[e,t])}function cN(t){return[bE(t),nh(t)]}function hN(t){return[qm(t),nh(t)]}function dN(){const t=or();return(e,n={})=>{Y2(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>tN(t.current,new Qf(i),r))})}}function OE(t){return je("recoil_memory_managament_2020")&&jm(t),Yf(t)}function ME(t){const e=or(),n=OE(t);return Wm(n,t,e)}function fN(t){return[ME(t),nh(t)]}var pN={recoilComponentGetRecoilValueCount_FOR_TESTING:oN,useRecoilInterface:iN,useRecoilState:cN,useRecoilStateLoadable:hN,useRecoilValue:bE,useRecoilValueLoadable:qm,useResetRecoilState:uN,useSetRecoilState:nh,useSetUnvalidatedAtomValues:dN,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:OE,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:ME,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:fN};function mN(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var gN=mN;function yN(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var vN=yN;function _N(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var wN=_N;const{batchUpdates:EN}=Yc,{DEFAULT_VALUE:SN,getNode:$E,nodes:TN}=ln,{useStoreRef:Hm}=Cr,{AbstractRecoilValue:RN,setRecoilValueLoadable:AN}=ir,{SUSPENSE_TIMEOUT_MS:IN}=Yi,{cloneSnapshot:Ju}=eh,{useCallback:rh,useEffect:FE,useRef:Uv,useState:CN}=_e,{isSSR:Bv}=Xc;function ih(t){const e=Hm();FE(()=>e.current.subscribeToTransactions(t).release,[t,e])}function jv(t){const e=t.atomValues.toMap(),n=Yu(gN(e,(r,i)=>{const s=$E(i).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return wN(t.nonvalidatedAtoms.toMap(),n)}function PN(t){ih(rh(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=jv(r),o=jv(n),s=Yu(TN,l=>{var u,c,h,d;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(h=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.backButton)!==null&&h!==void 0?h:!1}}}),a=vN(r.dirtyAtoms,l=>i.has(l)||o.has(l));t({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function kN(t){ih(rh(e=>{const n=Ju(e,"latest"),r=Ju(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function xN(){const t=Hm(),[e,n]=CN(()=>Ju(t.current)),r=VE(e),i=Uv(),o=Uv();if(ih(rh(a=>n(Ju(a)),[])),FE(()=>{const a=e.retain();if(i.current&&!Bv){var l;window.clearTimeout(i.current),i.current=null,(l=o.current)===null||l===void 0||l.call(o),o.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!Bv){if(i.current){var s;window.clearTimeout(i.current),i.current=null,(s=o.current)===null||s===void 0||s.call(o),o.current=null}o.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=o.current)===null||a===void 0||a.call(o),o.current=null},IN)}return e}function UE(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;EN(()=>{const s=new Set;for(const u of[i.atomValues.keys(),o.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&$E(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(u=>{AN(t,new RN(u),o.atomValues.has(u)?et(o.atomValues.get(u)):SN)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function NN(){const t=Hm();return rh(e=>UE(t.current,e),[t])}var BE={useRecoilSnapshot:xN,gotoSnapshot:UE,useGotoRecoilSnapshot:NN,useRecoilTransactionObserver:kN,useTransactionObservation_DEPRECATED:PN,useTransactionSubscription_DEPRECATED:ih};const{peekNodeInfo:VN}=ui,{useStoreRef:DN}=Cr;function LN(){const t=DN();return({key:e})=>VN(t.current,t.current.getState().currentTree,e)}var bN=LN;const{reactMode:ON}=tl,{RecoilRoot:MN,useStoreRef:$N}=Cr,{useMemo:FN}=_e;function UN(){ON().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=$N().current;return FN(()=>{function e({children:n}){return _e.createElement(MN,{store_INTERNAL:t},n)}return e},[t])}var BN=UN;const{loadableWithValue:jN}=el,{initializeNode:zN}=ui,{DEFAULT_VALUE:WN,getNode:qN}=ln,{copyTreeState:HN,getRecoilValueAsLoadable:KN,invalidateDownstreams:GN,writeLoadableToTreeState:QN}=ir;function zv(t){return qN(t.key).nodeType==="atom"}class YN{constructor(e,n){we(this,"_store",void 0),we(this,"_treeState",void 0),we(this,"_changes",void 0),we(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!zv(r))throw Re("Reading selectors within atomicUpdate is not supported");const i=KN(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Re(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),we(this,"set",(r,i)=>{if(!zv(r))throw Re("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else zN(this._store,r.key,"set"),this._changes.set(r.key,i)}),we(this,"reset",r=>{this.set(r,WN)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=HN(this._treeState);for(const[n,r]of this._changes)QN(e,n,jN(r));return GN(this._store,e),e}}function XN(t){return e=>{t.replaceState(n=>{const r=new YN(t,n);return e(r),r.newTreeState_INTERNAL()})}}var JN={atomicUpdater:XN},ZN=JN.atomicUpdater,jE=Object.freeze({__proto__:null,atomicUpdater:ZN});function eV(t,e){if(!t)throw new Error(e)}var tV=eV,Bs=tV;const{atomicUpdater:nV}=jE,{batchUpdates:rV}=Yc,{DEFAULT_VALUE:iV}=ln,{useStoreRef:oV}=Cr,{refreshRecoilValue:sV,setRecoilValue:Wv}=ir,{cloneSnapshot:aV}=eh,{gotoSnapshot:lV}=BE,{useCallback:uV}=_e;class zE{}const cV=new zE;function WE(t,e,n,r){let i=cV,o;if(rV(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Re(a);const l=nE({...r??{},set:(c,h)=>Wv(t,c,h),reset:c=>Wv(t,c,iV),refresh:c=>sV(t,c),gotoSnapshot:c=>lV(t,c),transact_UNSTABLE:c=>nV(t)(c)},{snapshot:()=>{const c=aV(t);return o=c.retain(),c}}),u=e(l);if(typeof u!="function")throw Re(a);i=u(...n)}),i instanceof zE&&Bs(!1),Qe(i))i=i.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return i}function hV(t,e){const n=oV();return uV((...r)=>WE(n.current,t,r),e!=null?[...e,n]:void 0)}var qE={recoilCallback:WE,useRecoilCallback:hV};const{useStoreRef:dV}=Cr,{refreshRecoilValue:fV}=ir,{useCallback:pV}=_e;function mV(t){const e=dV();return pV(()=>{const n=e.current;fV(n,t)},[t,e])}var gV=mV;const{atomicUpdater:yV}=jE,{useStoreRef:vV}=Cr,{useMemo:_V}=_e;function wV(t,e){const n=vV();return _V(()=>(...r)=>{yV(n.current)(o=>{t(o)(...r)})},e!=null?[...e,n]:void 0)}var EV=wV;class SV{constructor(e){we(this,"value",void 0),this.value=e}}var TV={WrappedValue:SV},RV=TV.WrappedValue,HE=Object.freeze({__proto__:null,WrappedValue:RV});const{isFastRefreshEnabled:AV}=tl;class qv extends Error{}class IV{constructor(e){var n,r,i;we(this,"_name",void 0),we(this,"_numLeafs",void 0),we(this,"_root",void 0),we(this,"_onHit",void 0),we(this,"_onSet",void 0),we(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var o,s,a,l;let u,c;for(const[T,m]of e){var h,d,p;const f=this._root;if((f==null?void 0:f.type)==="leaf")throw this.invalidCacheError();const g=u;if(u=g?g.branches.get(c):f,u=(h=u)!==null&&h!==void 0?h:{type:"branch",nodeKey:T,parent:g,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==T)throw this.invalidCacheError();g==null||g.branches.set(c,u),r==null||(d=r.onNodeVisit)===null||d===void 0||d.call(r,u),c=this._mapNodeValue(m),this._root=(p=this._root)!==null&&p!==void 0?p:u}const y=u?(o=u)===null||o===void 0?void 0:o.branches.get(c):this._root;if(y!=null&&(y.type!=="leaf"||y.branchKey!==c))throw this.invalidCacheError();const w={type:"leaf",value:n,parent:u,branchKey:c};(s=u)===null||s===void 0||s.branches.set(c,w),this._root=(a=this._root)!==null&&a!==void 0?a:w,this._numLeafs++,this._onSet(w),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,w)};try{i()}catch(o){if(o instanceof qv)this.clear(),i();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=AV()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Vm(e+(this._name!=null?` - ${this._name}`:"")),new qv}}var CV={TreeCache:IV},PV=CV.TreeCache,KE=Object.freeze({__proto__:null,TreeCache:PV});class kV{constructor(e){var n;we(this,"_maxSize",void 0),we(this,"_size",void 0),we(this,"_head",void 0),we(this,"_tail",void 0),we(this,"_map",void 0),we(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=et(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var xV={LRUCache:kV},NV=xV.LRUCache,GE=Object.freeze({__proto__:null,LRUCache:NV});const{LRUCache:VV}=GE,{TreeCache:DV}=KE;function LV({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new VV({maxSize:e}),i=new DV({name:t,mapNodeValue:n,onHit:o=>{r.set(o,!0)},onSet:o=>{const s=r.tail();r.set(o,!0),s&&i.size()>e&&i.delete(s.key)}});return i}var Hv=LV;function Vn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Re("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Qe(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>Vn(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return Vn(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:Vn(o,e)]=s;return Vn(i,e,n)}return t instanceof Set?Vn(Array.from(t).sort((i,o)=>Vn(i,e).localeCompare(Vn(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Vn(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Vn(i,e)}:${Vn(t[i],e,i)}`).join(",")}}`}function bV(t,e={allowFunctions:!1}){return Vn(t,e)}var oh=bV;const{TreeCache:OV}=KE,zl={equality:"reference",eviction:"keep-all",maxSize:1/0};function MV({equality:t=zl.equality,eviction:e=zl.eviction,maxSize:n=zl.maxSize}=zl,r){const i=$V(t);return FV(e,n,i,r)}function $V(t){switch(t){case"reference":return e=>e;case"value":return e=>oh(e)}throw Re(`Unrecognized equality policy ${t}`)}function FV(t,e,n,r){switch(t){case"keep-all":return new OV({name:r,mapNodeValue:n});case"lru":return Hv({name:r,maxSize:et(e),mapNodeValue:n});case"most-recent":return Hv({name:r,maxSize:1,mapNodeValue:n})}throw Re(`Unrecognized eviction policy ${t}`)}var UV=MV;function BV(t){return()=>null}var jV={startPerfBlock:BV};const{isLoadable:zV,loadableWithError:Wl,loadableWithPromise:WV,loadableWithValue:Sd}=el,{WrappedValue:QE}=HE,{getNodeLoadable:ql,peekNodeLoadable:qV,setNodeValue:HV}=ui,{saveDepsToStore:KV}=nl,{DEFAULT_VALUE:GV,getConfigDeletionHandler:QV,getNode:YV,registerNode:Kv}=ln,{isRecoilValue:XV}=Wo,{markRecoilValueModified:Gv}=ir,{retainedByOptionWithDefault:JV}=Yi,{recoilCallback:ZV}=qE,{startPerfBlock:eD}=jV;class YE{}const ks=new YE,xs=[],Hl=new Map,tD=(()=>{let t=0;return()=>t++})();function XE(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,o=t.set!=null?t.set:void 0,s=new Set,a=UV(i??{equality:"reference",eviction:"keep-all"},n),l=JV(t.retainedBy_UNSTABLE),u=new Map;let c=0;function h(){return!je("recoil_memory_managament_2020")||c>0}function d(v){return v.getState().knownSelectors.add(n),c++,()=>{c--}}function p(){return QV(n)!==void 0&&!h()}function y(v,P,L,te,H){Ie(P,te,H),w(v,L)}function w(v,P){ee(v,P)&&b(v),m(P,!0)}function T(v,P){ee(v,P)&&(et(K(v)).stateVersions.clear(),m(P,!1))}function m(v,P){const L=Hl.get(v);if(L!=null){for(const te of L)Gv(te,et(e));P&&Hl.delete(v)}}function f(v,P){let L=Hl.get(P);L==null&&Hl.set(P,L=new Set),L.add(v)}function g(v,P,L,te,H,le){return P.then(pe=>{if(!h())throw b(v),ks;const oe=Sd(pe);return y(v,L,H,oe,te),pe}).catch(pe=>{if(!h())throw b(v),ks;if(Qe(pe))return A(v,pe,L,te,H,le);const oe=Wl(pe);throw y(v,L,H,oe,te),pe})}function A(v,P,L,te,H,le){return P.then(pe=>{if(!h())throw b(v),ks;le.loadingDepKey!=null&&le.loadingDepPromise===P?L.atomValues.set(le.loadingDepKey,Sd(pe)):v.getState().knownSelectors.forEach(Te=>{L.atomValues.delete(Te)});const oe=V(v,L);if(oe&&oe.state!=="loading"){if((ee(v,H)||K(v)==null)&&w(v,H),oe.state==="hasValue")return oe.contents;throw oe.contents}if(!ee(v,H)){const Te=se(v,L);if(Te!=null)return Te.loadingLoadable.contents}const[ke,xe]=x(v,L,H);if(ke.state!=="loading"&&y(v,L,H,ke,xe),ke.state==="hasError")throw ke.contents;return ke.contents}).catch(pe=>{if(pe instanceof YE)throw ks;if(!h())throw b(v),ks;const oe=Wl(pe);throw y(v,L,H,oe,te),pe})}function C(v,P,L,te){var H,le,pe,oe;if(ee(v,te)||P.version===((H=v.getState())===null||H===void 0||(le=H.currentTree)===null||le===void 0?void 0:le.version)||P.version===((pe=v.getState())===null||pe===void 0||(oe=pe.nextTree)===null||oe===void 0?void 0:oe.version)){var ke,xe,Te;KV(n,L,v,(ke=(xe=v.getState())===null||xe===void 0||(Te=xe.nextTree)===null||Te===void 0?void 0:Te.version)!==null&&ke!==void 0?ke:v.getState().currentTree.version)}for(const Ne of L)s.add(Ne)}function x(v,P,L){const te=eD(n);let H=!0,le=!0;const pe=()=>{te(),le=!1};let oe,ke=!1,xe;const Te={loadingDepKey:null,loadingDepPromise:null},Ne=new Map;function tt({key:ze}){const Ue=ql(v,P,ze);switch(Ne.set(ze,Ue),H||(C(v,P,new Set(Ne.keys()),L),T(v,L)),Ue.state){case"hasValue":return Ue.contents;case"hasError":throw Ue.contents;case"loading":throw Te.loadingDepKey=ze,Te.loadingDepPromise=Ue.contents,Ue.contents}throw Re("Invalid Loadable state")}const Oe=ze=>(...Ue)=>{if(le)throw Re("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Bs(!1),ZV(v,ze,Ue,{node:e})};try{oe=r({get:tt,getCallback:Oe}),oe=XV(oe)?tt(oe):oe,zV(oe)&&(oe.state==="hasError"&&(ke=!0),oe=oe.contents),Qe(oe)?oe=g(v,oe,P,Ne,L,Te).finally(pe):pe(),oe=oe instanceof QE?oe.value:oe}catch(ze){oe=ze,Qe(oe)?oe=A(v,oe,P,Ne,L,Te).finally(pe):(ke=!0,pe())}return ke?xe=Wl(oe):Qe(oe)?xe=WV(oe):xe=Sd(oe),H=!1,$(v,L,Ne),C(v,P,new Set(Ne.keys()),L),[xe,Ne]}function V(v,P){let L=P.atomValues.get(n);if(L!=null)return L;const te=new Set;try{L=a.get(le=>(typeof le!="string"&&Bs(!1),ql(v,P,le).contents),{onNodeVisit:le=>{le.type==="branch"&&le.nodeKey!==n&&te.add(le.nodeKey)}})}catch(le){throw Re(`Problem with cache lookup for selector "${n}": ${le.message}`)}if(L){var H;P.atomValues.set(n,L),C(v,P,te,(H=K(v))===null||H===void 0?void 0:H.executionID)}return L}function z(v,P){const L=V(v,P);if(L!=null)return b(v),L;const te=se(v,P);if(te!=null){var H;return((H=te.loadingLoadable)===null||H===void 0?void 0:H.state)==="loading"&&f(v,te.executionID),te.loadingLoadable}const le=tD(),[pe,oe]=x(v,P,le);return pe.state==="loading"?(Se(v,le,pe,oe,P),f(v,le)):(b(v),Ie(P,pe,oe)),pe}function se(v,P){const L=_E([u.has(v)?[et(u.get(v))]:[],Hc(Mm(u,([H])=>H!==v),([,H])=>H)]);function te(H){for(const[le,pe]of H)if(!ql(v,P,le).is(pe))return!0;return!1}for(const H of L){if(H.stateVersions.get(P.version)||!te(H.depValuesDiscoveredSoFarDuringAsyncWork))return H.stateVersions.set(P.version,!0),H;H.stateVersions.set(P.version,!1)}}function K(v){return u.get(v)}function Se(v,P,L,te,H){u.set(v,{depValuesDiscoveredSoFarDuringAsyncWork:te,executionID:P,loadingLoadable:L,stateVersions:new Map([[H.version,!0]])})}function $(v,P,L){if(ee(v,P)){const te=K(v);te!=null&&(te.depValuesDiscoveredSoFarDuringAsyncWork=L)}}function b(v){u.delete(v)}function ee(v,P){var L;return P===((L=K(v))===null||L===void 0?void 0:L.executionID)}function ue(v){return Array.from(v.entries()).map(([P,L])=>[P,L.contents])}function Ie(v,P,L){v.atomValues.set(n,P);try{a.set(ue(L),P)}catch(te){throw Re(`Problem with setting cache for selector "${n}": ${te.message}`)}}function be(v){if(xs.includes(n)){const P=`Recoil selector has circular dependencies: ${xs.slice(xs.indexOf(n)).join("  ")}`;return Wl(Re(P))}xs.push(n);try{return v()}finally{xs.pop()}}function B(v,P){const L=P.atomValues.get(n);return L??a.get(te=>{var H;return typeof te!="string"&&Bs(!1),(H=qV(v,P,te))===null||H===void 0?void 0:H.contents})}function D(v,P){return be(()=>z(v,P))}function S(v){v.atomValues.delete(n)}function q(v,P){e==null&&Bs(!1);for(const te of s){var L;const H=YV(te);(L=H.clearCache)===null||L===void 0||L.call(H,v,P)}s.clear(),S(P),a.clear(),Gv(v,e)}return o!=null?e=Kv({key:n,nodeType:"selector",peek:B,get:D,set:(P,L,te)=>{let H=!1;const le=new Map;function pe({key:Te}){if(H)throw Re("Recoil: Async selector sets are not currently supported.");const Ne=ql(P,L,Te);if(Ne.state==="hasValue")return Ne.contents;if(Ne.state==="loading"){const tt=`Getting value of asynchronous atom or selector "${Te}" in a pending state while setting selector "${n}" is not yet supported.`;throw Re(tt)}else throw Ne.contents}function oe(Te,Ne){if(H)throw Re("Recoil: Async selector sets are not currently supported.");const tt=typeof Ne=="function"?Ne(pe(Te)):Ne;HV(P,L,Te.key,tt).forEach((ze,Ue)=>le.set(Ue,ze))}function ke(Te){oe(Te,GV)}const xe=o({set:oe,get:pe,reset:ke},te);if(xe!==void 0)throw Qe(xe)?Re("Recoil: Async selector sets are not currently supported."):Re("Recoil: selector set should be a void function.");return H=!0,le},init:d,invalidate:S,clearCache:q,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=Kv({key:n,nodeType:"selector",peek:B,get:D,init:d,invalidate:S,clearCache:q,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}XE.value=t=>new QE(t);var Ko=XE;const{isLoadable:nD,loadableWithError:Td,loadableWithPromise:Rd,loadableWithValue:io}=el,{WrappedValue:JE}=HE,{peekNodeInfo:rD}=ui,{DEFAULT_VALUE:_i,DefaultValue:Dr,getConfigDeletionHandler:ZE,registerNode:iD,setConfigDeletionHandler:oD}=ln,{isRecoilValue:sD}=Wo,{getRecoilValueAsLoadable:aD,markRecoilValueModified:lD,setRecoilValue:Qv,setRecoilValueLoadable:uD}=ir,{retainedByOptionWithDefault:cD}=Yi,Ns=t=>t instanceof JE?t.value:t;function hD(t){const{key:e,persistence_UNSTABLE:n}=t,r=cD(t.retainedBy_UNSTABLE);let i=0;function o(f){return Rd(f.then(g=>(s=io(g),g)).catch(g=>{throw s=Td(g),g}))}let s=Qe(t.default)?o(t.default):nD(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:io(Ns(t.default));s.contents;let a;const l=new Map;function u(f){return f}function c(f,g){const A=g.then(C=>{var x,V;return((V=((x=f.getState().nextTree)!==null&&x!==void 0?x:f.getState().currentTree).atomValues.get(e))===null||V===void 0?void 0:V.contents)===A&&Qv(f,m,C),C}).catch(C=>{var x,V;throw((V=((x=f.getState().nextTree)!==null&&x!==void 0?x:f.getState().currentTree).atomValues.get(e))===null||V===void 0?void 0:V.contents)===A&&uD(f,m,Td(C)),C});return A}function h(f,g,A){var C;i++;const x=()=>{var K;i--,(K=l.get(f))===null||K===void 0||K.forEach(Se=>Se()),l.delete(f)};if(f.getState().knownAtoms.add(e),s.state==="loading"){const K=()=>{var Se;((Se=f.getState().nextTree)!==null&&Se!==void 0?Se:f.getState().currentTree).atomValues.has(e)||lD(f,m)};s.contents.finally(K)}const V=(C=t.effects)!==null&&C!==void 0?C:t.effects_UNSTABLE;if(V!=null){let K=function(S){if(ee&&S.key===e){const q=b;return q instanceof Dr?d(f,g):Qe(q)?Rd(q.then(v=>v instanceof Dr?s.toPromise():v)):io(q)}return aD(f,S)},Se=function(S){return K(S).toPromise()},$=function(S){var q;const v=rD(f,(q=f.getState().nextTree)!==null&&q!==void 0?q:f.getState().currentTree,S.key);return ee&&S.key===e&&!(b instanceof Dr)?{...v,isSet:!0,loadable:K(S)}:v},b=_i,ee=!0,ue=!1,Ie=null;const be=S=>q=>{if(ee){const v=K(m),P=v.state==="hasValue"?v.contents:_i;b=typeof q=="function"?q(P):q,Qe(b)&&(b=b.then(L=>(Ie={effect:S,value:L},L)))}else{if(Qe(q))throw Re("Setting atoms to async values is not implemented.");typeof q!="function"&&(Ie={effect:S,value:Ns(q)}),Qv(f,m,typeof q=="function"?v=>{const P=Ns(q(v));return Ie={effect:S,value:P},P}:Ns(q))}},B=S=>()=>be(S)(_i),D=S=>q=>{var v;const{release:P}=f.subscribeToTransactions(L=>{var te;let{currentTree:H,previousTree:le}=L.getState();le||(le=H);const pe=(te=H.atomValues.get(e))!==null&&te!==void 0?te:s;if(pe.state==="hasValue"){var oe,ke,xe,Te;const Ne=pe.contents,tt=(oe=le.atomValues.get(e))!==null&&oe!==void 0?oe:s,Oe=tt.state==="hasValue"?tt.contents:_i;((ke=Ie)===null||ke===void 0?void 0:ke.effect)!==S||((xe=Ie)===null||xe===void 0?void 0:xe.value)!==Ne?q(Ne,Oe,!H.atomValues.has(e)):((Te=Ie)===null||Te===void 0?void 0:Te.effect)===S&&(Ie=null)}},e);l.set(f,[...(v=l.get(f))!==null&&v!==void 0?v:[],P])};for(const S of V)try{const q=S({node:m,storeID:f.storeID,parentStoreID_UNSTABLE:f.parentStoreID,trigger:A,setSelf:be(S),resetSelf:B(S),onSet:D(S),getPromise:Se,getLoadable:K,getInfo_UNSTABLE:$});if(q!=null){var z;l.set(f,[...(z=l.get(f))!==null&&z!==void 0?z:[],q])}}catch(q){b=q,ue=!0}if(ee=!1,!(b instanceof Dr)){var se;const S=ue?Td(b):Qe(b)?Rd(c(f,b)):io(Ns(b));S.contents,g.atomValues.set(e,S),(se=f.getState().nextTree)===null||se===void 0||se.atomValues.set(e,S)}}return x}function d(f,g){var A,C;return(A=(C=g.atomValues.get(e))!==null&&C!==void 0?C:a)!==null&&A!==void 0?A:s}function p(f,g){if(g.atomValues.has(e))return et(g.atomValues.get(e));if(g.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const A=g.nonvalidatedAtoms.get(e),C=n.validator(A,_i);return a=C instanceof Dr?s:io(C),a}else return s}function y(){a=void 0}function w(f,g,A){if(g.atomValues.has(e)){const C=et(g.atomValues.get(e));if(C.state==="hasValue"&&A===C.contents)return new Map}else if(!g.nonvalidatedAtoms.has(e)&&A instanceof Dr)return new Map;return a=void 0,new Map().set(e,io(A))}function T(){return ZE(e)!==void 0&&i<=0}const m=iD({key:e,nodeType:"atom",peek:d,get:p,set:w,init:h,invalidate:y,shouldDeleteConfigOnRelease:T,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return m}function Km(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return sD(n)?dD({...e,default:n}):hD({...e,default:n})}function dD(t){const e=Km({...t,default:_i,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Dr?r:et(t.persistence_UNSTABLE).validator(r,_i)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Ko({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Dr?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return oD(n.key,ZE(t.key)),n}Km.value=t=>new JE(t);var eS=Km;class fD{constructor(e){var n;we(this,"_map",void 0),we(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var pD={MapCache:fD},mD=pD.MapCache,gD=Object.freeze({__proto__:null,MapCache:mD});const{LRUCache:Yv}=GE,{MapCache:yD}=gD,Kl={equality:"reference",eviction:"none",maxSize:1/0};function vD({equality:t=Kl.equality,eviction:e=Kl.eviction,maxSize:n=Kl.maxSize}=Kl){const r=_D(t);return wD(e,n,r)}function _D(t){switch(t){case"reference":return e=>e;case"value":return e=>oh(e)}throw Re(`Unrecognized equality policy ${t}`)}function wD(t,e,n){switch(t){case"keep-all":return new yD({mapKey:n});case"lru":return new Yv({mapKey:n,maxSize:et(e)});case"most-recent":return new Yv({mapKey:n,maxSize:1})}throw Re(`Unrecognized eviction policy ${t}`)}var tS=vD;const{setConfigDeletionHandler:ED}=ln;function SD(t){var e,n;const r=tS({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,s;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),h=eS({...u,key:`${t.key}__${(o=oh(i))!==null&&o!==void 0?o:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(i,h),ED(h.key,()=>{r.delete(i)}),h}}var TD=SD;const{setConfigDeletionHandler:RD}=ln;let AD=0;function ID(t){var e,n;const r=tS({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let s;try{s=r.get(i)}catch(d){throw Re(`Problem with cache lookup for selector ${t.key}: ${d.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=oh(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${AD++}`,l=d=>t.get(i)(d),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const d=t.set;h=Ko({key:a,get:l,set:(y,w)=>d(i)(y,w),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else h=Ko({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,h),RD(h.key,()=>{r.delete(i)}),h}}var ci=ID;const CD=ci({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function PD(t){return CD(t)}var kD=PD;const xD=ci({key:"__error",get:t=>()=>{throw Re(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function ND(t){return xD(t)}var VD=ND;function DD(t){return t}var LD=DD;const{loadableWithError:nS,loadableWithPromise:rS,loadableWithValue:iS}=el;function sh(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function bD(t){return t!=null&&!Qe(t)}function ah(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Xf(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function No(t,e,n){const r=n.map((i,o)=>i==null?iS(e[o]):Qe(i)?rS(i):nS(i));return Xf(t,r)}function OD(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const MD=ci({key:"__waitForNone",get:t=>({get:e})=>{const n=ah(t),[r,i]=sh(e,n);return No(t,r,i)},dangerouslyAllowMutability:!0}),$D=ci({key:"__waitForAny",get:t=>({get:e})=>{const n=ah(t),[r,i]=sh(e,n);return i.some(o=>!Qe(o))?No(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())Qe(a)&&a.then(l=>{r[s]=l,i[s]=void 0,o(No(t,r,i))}).catch(l=>{i[s]=l,o(No(t,r,i))})})},dangerouslyAllowMutability:!0}),FD=ci({key:"__waitForAll",get:t=>({get:e})=>{const n=ah(t),[r,i]=sh(e,n);if(i.every(s=>s==null))return Xf(t,r);const o=i.find(bD);if(o!=null)throw o;return Promise.all(i).then(s=>Xf(t,OD(r,s)))},dangerouslyAllowMutability:!0}),UD=ci({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=ah(t),[r,i]=sh(e,n);return i.every(o=>!Qe(o))?No(t,r,i):Promise.all(i.map((o,s)=>Qe(o)?o.then(a=>{r[s]=a,i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>No(t,r,i))},dangerouslyAllowMutability:!0}),BD=ci({key:"__noWait",get:t=>({get:e})=>{try{return Ko.value(iS(e(t)))}catch(n){return Ko.value(Qe(n)?rS(n):nS(n))}},dangerouslyAllowMutability:!0});var jD={waitForNone:MD,waitForAny:$D,waitForAll:FD,waitForAllSettled:UD,noWait:BD};const{RecoilLoadable:zD}=el,{DefaultValue:WD}=ln,{RecoilRoot:qD,useRecoilStoreID:HD}=Cr,{isRecoilValue:KD}=Wo,{retentionZone:GD}=Gc,{freshSnapshot:QD}=eh,{useRecoilState:YD,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:XD,useRecoilStateLoadable:JD,useRecoilValue:ZD,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:eL,useRecoilValueLoadable:tL,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:nL,useResetRecoilState:rL,useSetRecoilState:iL}=pN,{useGotoRecoilSnapshot:oL,useRecoilSnapshot:sL,useRecoilTransactionObserver:aL}=BE,{useRecoilCallback:lL}=qE,{noWait:uL,waitForAll:cL,waitForAllSettled:hL,waitForAny:dL,waitForNone:fL}=jD;var ls={DefaultValue:WD,isRecoilValue:KD,RecoilLoadable:zD,RecoilEnv:ss,RecoilRoot:qD,useRecoilStoreID:HD,useRecoilBridgeAcrossReactRoots_UNSTABLE:BN,atom:eS,selector:Ko,atomFamily:TD,selectorFamily:ci,constSelector:kD,errorSelector:VD,readOnlySelector:LD,noWait:uL,waitForNone:fL,waitForAny:dL,waitForAll:cL,waitForAllSettled:hL,useRecoilValue:ZD,useRecoilValueLoadable:tL,useRecoilState:YD,useRecoilStateLoadable:JD,useSetRecoilState:iL,useResetRecoilState:rL,useGetRecoilValueInfo_UNSTABLE:bN,useRecoilRefresher_UNSTABLE:gV,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:nL,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:eL,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:XD,useRecoilCallback:lL,useRecoilTransaction_UNSTABLE:EV,useGotoRecoilSnapshot:oL,useRecoilSnapshot:sL,useRecoilTransactionObserver_UNSTABLE:aL,snapshot_UNSTABLE:QD,useRetain:jm,retentionZone:GD},pL=ls.RecoilRoot,oS=ls.atom,sr=ls.atomFamily,mL=ls.useRecoilValueLoadable,Ur=ls.useRecoilState,gL=ls.useRecoilStateLoadable;function yL(t){return Gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2zM4 10h2v9H4v-9zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7v1.819z"}}]})(t)}function vL(t){return Gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21h1V8H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2zM20 8h-7l1.122-3.368A2 2 0 0 0 12.225 2H12L7 7.438V21h11l3.912-8.596L22 12v-2a2 2 0 0 0-2-2z"}}]})(t)}function _L(t){return Gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"}}]})(t)}function wL(t){return Gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"}}]})(t)}var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},aS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new SL;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TL=function(t){const e=sS(t);return aS.encodeByteArray(e,!0)},Zu=function(t){return TL(t).replace(/\./g,"")},RL=function(t){try{return aS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=()=>AL().__FIREBASE_DEFAULTS__,CL=()=>{if(typeof process>"u"||typeof Xv>"u")return;const t=Xv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RL(t[1]);return e&&JSON.parse(e)},Gm=()=>{try{return IL()||CL()||PL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kL=t=>{var e,n;return(n=(e=Gm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xL=t=>{const e=kL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lS=()=>{var t;return(t=Gm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zu(JSON.stringify(n)),Zu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DL(){var t;const e=(t=Gm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LL(){return!DL()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uS(){try{return typeof indexedDB=="object"}catch{return!1}}function bL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="FirebaseError";class us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OL,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cS.prototype.create)}}class cS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ML(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new us(i,a,r)}}function ML(t,e){return t.replace($L,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $L=/\{\$([^}]+)}/g;function Jf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Jv(o)&&Jv(s)){if(!Jf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t){return t&&t._delegate?t._delegate:t}class Na{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BL(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UL(t){return t===vi?void 0:t}function BL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const zL={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},WL=De.INFO,qL={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},HL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hS{constructor(e){this.name=e,this._logLevel=WL,this._logHandler=HL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const KL=(t,e)=>e.some(n=>t instanceof n);let Zv,e_;function GL(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QL(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dS=new WeakMap,Zf=new WeakMap,fS=new WeakMap,Ad=new WeakMap,Qm=new WeakMap;function YL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Jr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&dS.set(n,t)}).catch(()=>{}),Qm.set(e,t),e}function XL(t){if(Zf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Zf.set(t,e)}let ep={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JL(t){ep=t(ep)}function ZL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Id(this),e,...n);return fS.set(r,e.sort?e.sort():[e]),Jr(r)}:QL().includes(t)?function(...e){return t.apply(Id(this),e),Jr(dS.get(this))}:function(...e){return Jr(t.apply(Id(this),e))}}function eb(t){return typeof t=="function"?ZL(t):(t instanceof IDBTransaction&&XL(t),KL(t,GL())?new Proxy(t,ep):t)}function Jr(t){if(t instanceof IDBRequest)return YL(t);if(Ad.has(t))return Ad.get(t);const e=eb(t);return e!==t&&(Ad.set(t,e),Qm.set(e,t)),e}const Id=t=>Qm.get(t);function tb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Jr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Jr(s.result),l.oldVersion,l.newVersion,Jr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const nb=["get","getKey","getAll","getAllKeys","count"],rb=["put","add","delete","clear"],Cd=new Map;function t_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cd.get(e))return Cd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nb.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Cd.set(e,o),o}JL(t=>({...t,get:(e,n,r)=>t_(e,n)||t.get(e,n,r),has:(e,n)=>!!t_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ob(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ob(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tp="@firebase/app",n_="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new hS("@firebase/app"),sb="@firebase/app-compat",ab="@firebase/analytics-compat",lb="@firebase/analytics",ub="@firebase/app-check-compat",cb="@firebase/app-check",hb="@firebase/auth",db="@firebase/auth-compat",fb="@firebase/database",pb="@firebase/database-compat",mb="@firebase/functions",gb="@firebase/functions-compat",yb="@firebase/installations",vb="@firebase/installations-compat",_b="@firebase/messaging",wb="@firebase/messaging-compat",Eb="@firebase/performance",Sb="@firebase/performance-compat",Tb="@firebase/remote-config",Rb="@firebase/remote-config-compat",Ab="@firebase/storage",Ib="@firebase/storage-compat",Cb="@firebase/firestore",Pb="@firebase/firestore-compat",kb="firebase",xb="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",Nb={[tp]:"fire-core",[sb]:"fire-core-compat",[lb]:"fire-analytics",[ab]:"fire-analytics-compat",[cb]:"fire-app-check",[ub]:"fire-app-check-compat",[hb]:"fire-auth",[db]:"fire-auth-compat",[fb]:"fire-rtdb",[pb]:"fire-rtdb-compat",[mb]:"fire-fn",[gb]:"fire-fn-compat",[yb]:"fire-iid",[vb]:"fire-iid-compat",[_b]:"fire-fcm",[wb]:"fire-fcm-compat",[Eb]:"fire-perf",[Sb]:"fire-perf-compat",[Tb]:"fire-rc",[Rb]:"fire-rc-compat",[Ab]:"fire-gcs",[Ib]:"fire-gcs-compat",[Cb]:"fire-fst",[Pb]:"fire-fst-compat","fire-js":"fire-js",[kb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,rp=new Map;function Vb(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nc(t){const e=t.name;if(rp.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,t);for(const n of tc.values())Vb(n,t);return!0}function Db(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zr=new cS("app","Firebase",Lb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=xb;function pS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:np,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=lS()),!n)throw Zr.create("no-options");const o=tc.get(i);if(o){if(Jf(n,o.options)&&Jf(r,o.config))return o;throw Zr.create("duplicate-app",{appName:i})}const s=new jL(i);for(const l of rp.values())s.addComponent(l);const a=new bb(n,r,s);return tc.set(i,a),a}function Mb(t=np){const e=tc.get(t);if(!e&&t===np&&lS())return pS();if(!e)throw Zr.create("no-app",{appName:t});return e}function Vo(t,e,n){var r;let i=(r=Nb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(a.join(" "));return}nc(new Na(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firebase-heartbeat-database",Fb=1,Va="firebase-heartbeat-store";let Pd=null;function mS(){return Pd||(Pd=tb($b,Fb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Va)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zr.create("idb-open",{originalErrorMessage:t.message})})),Pd}async function Ub(t){try{return await(await mS()).transaction(Va).objectStore(Va).get(gS(t))}catch(e){if(e instanceof us)Ui.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function r_(t,e){try{const r=(await mS()).transaction(Va,"readwrite");await r.objectStore(Va).put(e,gS(t)),await r.done}catch(n){if(n instanceof us)Ui.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(r.message)}}}function gS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1024,jb=30*24*60*60*1e3;class zb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=i_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=jb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i_(),{heartbeatsToSend:r,unsentEntries:i}=Wb(this._heartbeatsCache.heartbeats),o=Zu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function i_(){return new Date().toISOString().substring(0,10)}function Wb(t,e=Bb){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),o_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uS()?bL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ub(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o_(t){return Zu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){nc(new Na("platform-logger",e=>new ib(e),"PRIVATE")),nc(new Na("heartbeat",e=>new zb(e),"PRIVATE")),Vo(tp,n_,t),Vo(tp,n_,"esm2017"),Vo("fire-js","")}Hb("");var Kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,Ym=Ym||{},ye=Kb||self;function lh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function sl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Gb(t){return Object.prototype.hasOwnProperty.call(t,kd)&&t[kd]||(t[kd]=++Qb)}var kd="closure_uid_"+(1e9*Math.random()>>>0),Qb=0;function Yb(t,e,n){return t.call.apply(t.bind,arguments)}function Xb(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jt=Yb:jt=Xb,jt.apply(null,arguments)}function Gl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function hi(){this.s=this.s,this.o=this.o}var Jb=0;hi.prototype.s=!1;hi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Jb!=0)&&Gb(this)};hi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Xm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function s_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(lh(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var Zb=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ye.addEventListener("test",n,e),ye.removeEventListener("test",n,e)}catch{}return t}();function Da(t){return/^[\s\xa0]*$/.test(t)}function uh(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function Hn(t){return uh().indexOf(t)!=-1}function Jm(t){return Jm[" "](t),t}Jm[" "]=function(){};function eO(t,e){var n=HO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var tO=Hn("Opera"),Go=Hn("Trident")||Hn("MSIE"),vS=Hn("Edge"),ip=vS||Go,_S=Hn("Gecko")&&!(uh().toLowerCase().indexOf("webkit")!=-1&&!Hn("Edge"))&&!(Hn("Trident")||Hn("MSIE"))&&!Hn("Edge"),nO=uh().toLowerCase().indexOf("webkit")!=-1&&!Hn("Edge");function wS(){var t=ye.document;return t?t.documentMode:void 0}var op;e:{var xd="",Nd=function(){var t=uh();if(_S)return/rv:([^\);]+)(\)|;)/.exec(t);if(vS)return/Edge\/([\d\.]+)/.exec(t);if(Go)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nO)return/WebKit\/(\S+)/.exec(t);if(tO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Nd&&(xd=Nd?Nd[1]:""),Go){var Vd=wS();if(Vd!=null&&Vd>parseFloat(xd)){op=String(Vd);break e}}op=xd}var sp;if(ye.document&&Go){var a_=wS();sp=a_||parseInt(op,10)||void 0}else sp=void 0;var rO=sp;function La(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_S){e:{try{Jm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&La.$.h.call(this)}}It(La,zt);var iO={2:"touch",3:"pen",4:"mouse"};La.prototype.h=function(){La.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var al="closure_listenable_"+(1e6*Math.random()|0),oO=0;function sO(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++oO,this.fa=this.ia=!1}function ch(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Zm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function aO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ES(t){const e={};for(const n in t)e[n]=t[n];return e}const l_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<l_.length;o++)n=l_[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hh(t){this.src=t,this.g={},this.h=0}hh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=lp(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new sO(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function ap(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=yS(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(ch(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function lp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var eg="closure_lm_"+(1e6*Math.random()|0),Dd={};function TS(t,e,n,r,i){if(r&&r.once)return AS(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)TS(t,e[o],n,r,i);return null}return n=rg(n),t&&t[al]?t.O(e,n,sl(r)?!!r.capture:!!r,i):RS(t,e,n,!1,r,i)}function RS(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=sl(i)?!!i.capture:!!i,a=ng(t);if(a||(t[eg]=a=new hh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=lO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Zb||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(CS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function lO(){function t(n){return e.call(t.src,t.listener,n)}const e=uO;return t}function AS(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)AS(t,e[o],n,r,i);return null}return n=rg(n),t&&t[al]?t.P(e,n,sl(r)?!!r.capture:!!r,i):RS(t,e,n,!0,r,i)}function IS(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)IS(t,e[o],n,r,i);else r=sl(r)?!!r.capture:!!r,n=rg(n),t&&t[al]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=lp(o,n,r,i),-1<n&&(ch(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=ng(t))&&(e=t.g[e.toString()],t=-1,e&&(t=lp(e,n,r,i)),(n=-1<t?e[t]:null)&&tg(n))}function tg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[al])ap(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(CS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ng(e))?(ap(n,t),n.h==0&&(n.src=null,e[eg]=null)):ch(t)}}}function CS(t){return t in Dd?Dd[t]:Dd[t]="on"+t}function uO(t,e){if(t.fa)t=!0;else{e=new La(e,this);var n=t.listener,r=t.la||t.src;t.ia&&tg(t),t=n.call(r,e)}return t}function ng(t){return t=t[eg],t instanceof hh?t:null}var Ld="__closure_events_fn_"+(1e9*Math.random()>>>0);function rg(t){return typeof t=="function"?t:(t[Ld]||(t[Ld]=function(e){return t.handleEvent(e)}),t[Ld])}function At(){hi.call(this),this.i=new hh(this),this.S=this,this.J=null}It(At,hi);At.prototype[al]=!0;At.prototype.removeEventListener=function(t,e,n,r){IS(this,t,e,n,r)};function Dt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;e=new zt(r,t),SS(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ql(s,r,!0,e)&&i}if(s=e.g=t,i=Ql(s,r,!0,e)&&i,i=Ql(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Ql(s,r,!1,e)&&i}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ch(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ql(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&ap(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var ig=ye.JSON.stringify;class cO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function hO(){var t=og;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class dO{constructor(){this.h=this.g=null}add(e,n){const r=PS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var PS=new cO(()=>new fO,t=>t.reset());class fO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function pO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function mO(t){ye.setTimeout(()=>{throw t},0)}let ba,Oa=!1,og=new dO,kS=()=>{const t=ye.Promise.resolve(void 0);ba=()=>{t.then(gO)}};var gO=()=>{for(var t;t=hO();){try{t.h.call(t.g)}catch(n){mO(n)}var e=PS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Oa=!1};function dh(t,e){At.call(this),this.h=t||1,this.g=e||ye,this.j=jt(this.qb,this),this.l=Date.now()}It(dh,At);X=dh.prototype;X.ga=!1;X.T=null;X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dt(this,"tick"),this.ga&&(sg(this),this.start()))}};X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}X.N=function(){dh.$.N.call(this),sg(this),delete this.g};function ag(t,e,n){if(typeof t=="function")n&&(t=jt(t,n));else if(t&&typeof t.handleEvent=="function")t=jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function xS(t){t.g=ag(()=>{t.g=null,t.i&&(t.i=!1,xS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class yO extends hi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xS(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(t){hi.call(this),this.h=t,this.g={}}It(Ma,hi);var u_=[];function NS(t,e,n,r){Array.isArray(n)||(n&&(u_[0]=n.toString()),n=u_);for(var i=0;i<n.length;i++){var o=TS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function VS(t){Zm(t.g,function(e,n){this.g.hasOwnProperty(n)&&tg(e)},t),t.g={}}Ma.prototype.N=function(){Ma.$.N.call(this),VS(this)};Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fh(){this.g=!0}fh.prototype.Ea=function(){this.g=!1};function vO(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function _O(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function To(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+EO(t,n)+(r?" "+r:"")})}function wO(t,e){t.info(function(){return"TIMEOUT: "+e})}fh.prototype.info=function(){};function EO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return ig(n)}catch{return e}}var Xi={},c_=null;function ph(){return c_=c_||new At}Xi.Ta="serverreachability";function DS(t){zt.call(this,Xi.Ta,t)}It(DS,zt);function $a(t){const e=ph();Dt(e,new DS(e))}Xi.STAT_EVENT="statevent";function LS(t,e){zt.call(this,Xi.STAT_EVENT,t),this.stat=e}It(LS,zt);function Gt(t){const e=ph();Dt(e,new LS(e,t))}Xi.Ua="timingevent";function bS(t,e){zt.call(this,Xi.Ua,t),this.size=e}It(bS,zt);function ll(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var mh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lg(){}lg.prototype.h=null;function h_(t){return t.h||(t.h=t.i())}function MS(){}var ul={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ug(){zt.call(this,"d")}It(ug,zt);function cg(){zt.call(this,"c")}It(cg,zt);var up;function gh(){}It(gh,lg);gh.prototype.g=function(){return new XMLHttpRequest};gh.prototype.i=function(){return{}};up=new gh;function cl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ma(this),this.P=SO,t=ip?125:void 0,this.V=new dh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $S}function $S(){this.i=null,this.g="",this.h=!1}var SO=45e3,FS={},cp={};X=cl.prototype;X.setTimeout=function(t){this.P=t};function hp(t,e,n){t.L=1,t.A=vh(Tr(e)),t.u=n,t.S=!0,US(t,null)}function US(t,e){t.G=Date.now(),hl(t),t.B=Tr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),GS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new $S,t.g=mT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new yO(jt(t.Pa,t,t.g),t.O)),NS(t.U,t.g,"readystatechange",t.nb),e=t.I?ES(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),$a(),vO(t.j,t.v,t.B,t.m,t.W,t.u)}X.nb=function(t){t=t.target;const e=this.M;e&&Kn(t)==3?e.l():this.Pa(t)};X.Pa=function(t){try{if(t==this.g)e:{const c=Kn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||ip||this.g&&(this.h.h||this.g.ja()||m_(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?$a(3):$a(2)),yh(this);var n=this.g.da();this.ca=n;t:if(BS(this)){var r=m_(this.g);t="";var i=r.length,o=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),oa(this);var s="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,_O(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Da(a)){var u=a;break t}}u=null}if(n=u)To(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dp(this,n);else{this.i=!1,this.s=3,Gt(12),Ri(this),oa(this);break e}}this.S?(jS(this,c,s),ip&&this.i&&c==3&&(NS(this.U,this.V,"tick",this.mb),this.V.start())):(To(this.j,this.m,s,null),dp(this,s)),c==4&&Ri(this),this.i&&!this.J&&(c==4?hT(this.l,this):(this.i=!1,hl(this)))}else zO(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),Ri(this),oa(this)}}}catch{}finally{}};function BS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function jS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=TO(t,n),i==cp){e==4&&(t.s=4,Gt(14),r=!1),To(t.j,t.m,null,"[Incomplete Response]");break}else if(i==FS){t.s=4,Gt(15),To(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else To(t.j,t.m,i,null),dp(t,i);BS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gg(e),e.M=!0,Gt(11))):(To(t.j,t.m,n,"[Invalid Chunked Response]"),Ri(t),oa(t))}X.mb=function(){if(this.g){var t=Kn(this.g),e=this.g.ja();this.o<e.length&&(yh(this),jS(this,t,e),this.i&&t!=4&&hl(this))}};function TO(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?cp:(n=Number(e.substring(n,r)),isNaN(n)?FS:(r+=1,r+n>e.length?cp:(e=e.slice(r,r+n),t.o=r+n,e)))}X.cancel=function(){this.J=!0,Ri(this)};function hl(t){t.Y=Date.now()+t.P,zS(t,t.P)}function zS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ll(jt(t.lb,t),e)}function yh(t){t.C&&(ye.clearTimeout(t.C),t.C=null)}X.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(wO(this.j,this.B),this.L!=2&&($a(),Gt(17)),Ri(this),this.s=2,oa(this)):zS(this,this.Y-t)};function oa(t){t.l.H==0||t.J||hT(t.l,t)}function Ri(t){yh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sg(t.V),VS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function dp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||fp(n.i,t))){if(!t.K&&fp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)oc(n),Sh(n);else break e;mg(n),Gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ll(jt(n.ib,n),6e3));if(1>=XS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ai(n,11)}else if((t.K||n.g==t)&&oc(n),!Da(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(hg(o,o.h),o.h=null))}if(r.F){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Ke(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=pT(r,r.J?r.pa:null,r.Y),s.K){JS(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(yh(a),hl(a)),r.g=s}else uT(r);0<n.j.length&&Th(n)}else u[0]!="stop"&&u[0]!="close"||Ai(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ai(n,7):pg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}$a(4)}catch{}}function RO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(lh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function AO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(lh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function WS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(lh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=AO(t),r=RO(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var qS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vi){this.h=t.h,rc(this,t.j),this.s=t.s,this.g=t.g,ic(this,t.m),this.l=t.l;var e=t.i,n=new Fa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),d_(this,n),this.o=t.o}else t&&(e=String(t).match(qS))?(this.h=!1,rc(this,e[1]||"",!0),this.s=js(e[2]||""),this.g=js(e[3]||"",!0),ic(this,e[4]),this.l=js(e[5]||"",!0),d_(this,e[6]||"",!0),this.o=js(e[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}Vi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zs(e,f_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zs(e,f_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zs(n,n.charAt(0)=="/"?kO:PO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zs(n,NO)),t.join("")};function Tr(t){return new Vi(t)}function rc(t,e,n){t.j=n?js(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ic(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function d_(t,e,n){e instanceof Fa?(t.i=e,VO(t.i,t.h)):(n||(e=zs(e,xO)),t.i=new Fa(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function vh(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function js(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,CO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var f_=/[#\/\?@]/g,PO=/[#\?:]/g,kO=/[#\?]/g,xO=/[#\?@]/g,NO=/#/g;function Fa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function di(t){t.g||(t.g=new Map,t.h=0,t.i&&IO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=Fa.prototype;X.add=function(t,e){di(this),this.i=null,t=cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function HS(t,e){di(t),e=cs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KS(t,e){return di(t),e=cs(t,e),t.g.has(e)}X.forEach=function(t,e){di(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};X.ta=function(){di(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};X.Z=function(t){di(this);let e=[];if(typeof t=="string")KS(this,t)&&(e=e.concat(this.g.get(cs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return di(this),this.i=null,t=cs(this,t),KS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function GS(t,e,n){HS(t,e),0<n.length&&(t.i=null,t.g.set(cs(t,e),Xm(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VO(t,e){e&&!t.j&&(di(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(HS(this,r),GS(this,i,n))},t)),t.j=e}var DO=class{constructor(t,e){this.g=t,this.map=e}};function QS(t){this.l=t||LO,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var LO=10;function YS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function XS(t){return t.h?1:t.g?t.g.size:0}function fp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function hg(t,e){t.g?t.g.add(e):t.h=e}function JS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}QS.prototype.cancel=function(){if(this.i=ZS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ZS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Xm(t.i)}var bO=class{stringify(t){return ye.JSON.stringify(t,void 0)}parse(t){return ye.JSON.parse(t,void 0)}};function OO(){this.g=new bO}function MO(t,e,n){const r=n||"";try{WS(t,function(i,o){let s=i;sl(i)&&(s=ig(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $O(t,e){const n=new fh;if(ye.Image){const r=new Image;r.onload=Gl(Yl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gl(Yl,n,r,"TestLoadImage: error",!1,e),r.onabort=Gl(Yl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gl(Yl,n,r,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function _h(t){this.l=t.ec||null,this.j=t.ob||!1}It(_h,lg);_h.prototype.g=function(){return new wh(this.l,this.j)};_h.prototype.i=function(t){return function(){return t}}({});function wh(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=dg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(wh,At);var dg=0;X=wh.prototype;X.open=function(t,e){if(this.readyState!=dg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ua(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dl(this)),this.readyState=dg};X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function eT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dl(this):Ua(this),this.readyState==3&&eT(this)}};X.Za=function(t){this.g&&(this.response=this.responseText=t,dl(this))};X.Ya=function(t){this.g&&(this.response=t,dl(this))};X.ka=function(){this.g&&dl(this)};function dl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ua(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(wh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var FO=ye.JSON.parse;function lt(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tT,this.L=this.M=!1}It(lt,At);var tT="",UO=/^https?$/i,BO=["POST","PUT"];X=lt.prototype;X.Oa=function(t){this.M=t};X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():up.g(),this.C=this.u?h_(this.u):h_(up),this.g.onreadystatechange=jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){p_(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ye.FormData&&t instanceof ye.FormData,!(0<=yS(BO,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iT(this),0<this.B&&((this.L=jO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.ua,this)):this.A=ag(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){p_(this,o)}};function jO(t){return Go&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.ua=function(){typeof Ym<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))};function p_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nT(t),Eh(t)}function nT(t){t.F||(t.F=!0,Dt(t,"complete"),Dt(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),Eh(this))};X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eh(this,!0)),lt.$.N.call(this)};X.La=function(){this.s||(this.G||this.v||this.l?rT(this):this.kb())};X.kb=function(){rT(this)};function rT(t){if(t.h&&typeof Ym<"u"&&(!t.C[1]||Kn(t)!=4||t.da()!=2)){if(t.v&&Kn(t)==4)ag(t.La,0,t);else if(Dt(t,"readystatechange"),Kn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(qS)[1]||null;!i&&ye.self&&ye.self.location&&(i=ye.self.location.protocol.slice(0,-1)),r=!UO.test(i?i.toLowerCase():"")}n=r}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var o=2<Kn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",nT(t)}}finally{Eh(t)}}}}function Eh(t,e){if(t.g){iT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch{}}}function iT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}X.isActive=function(){return!!this.g};function Kn(t){return t.g?t.g.readyState:0}X.da=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}};X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),FO(e)}};function m_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case tT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function zO(t){const e={};t=(t.g&&2<=Kn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Da(t[r]))continue;var n=pO(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}aO(e,function(r){return r.join(", ")})}X.Ia=function(){return this.m};X.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function oT(t){let e="";return Zm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function fg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=oT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function Vs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sT(t){this.Ga=0,this.j=[],this.l=new fh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vs("baseRetryDelayMs",5e3,t),this.hb=Vs("retryDelaySeedMs",1e4,t),this.eb=Vs("forwardChannelMaxRetries",2,t),this.xa=Vs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new QS(t&&t.concurrentRequestLimit),this.Ja=new OO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}X=sT.prototype;X.ra=8;X.H=1;function pg(t){if(aT(t),t.H==3){var e=t.W++,n=Tr(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),fl(t,n),e=new cl(t,t.l,e),e.L=2,e.A=vh(Tr(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon)try{n=ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=mT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),hl(e)}fT(t)}function Sh(t){t.g&&(gg(t),t.g.cancel(),t.g=null)}function aT(t){Sh(t),t.u&&(ye.clearTimeout(t.u),t.u=null),oc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function Th(t){if(!YS(t.i)&&!t.m){t.m=!0;var e=t.Na;ba||kS(),Oa||(ba(),Oa=!0),og.add(e,t),t.C=0}}function WO(t,e){return XS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ll(jt(t.Na,t,e),dT(t,t.C)),t.C++,!0)}X.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new cl(this,this.l,t);let o=this.s;if(this.U&&(o?(o=ES(o),SS(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=lT(this,i,e),n=Tr(this.I),Ke(n,"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),fl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(oT(o)))+"&"+e:this.o&&fg(n,this.o,o)),hg(this.i,i),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),i.aa=!0,hp(i,n,null)):hp(i,n,e),this.H=2}}else this.H==3&&(t?g_(this,t):this.j.length==0||YS(this.i)||g_(this))};function g_(t,e){var n;e?n=e.m:n=t.W++;const r=Tr(t.I);Ke(r,"SID",t.K),Ke(r,"RID",n),Ke(r,"AID",t.V),fl(t,r),t.o&&t.s&&fg(r,t.o,t.s),n=new cl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=lT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hg(t.i,n),hp(n,r,e)}function fl(t,e){t.na&&Zm(t.na,function(n,r){Ke(e,r,n)}),t.h&&WS({},function(n,r){Ke(e,r,n)})}function lT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{MO(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function uT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ba||kS(),Oa||(ba(),Oa=!0),og.add(e,t),t.A=0}}function mg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ll(jt(t.Ma,t),dT(t,t.A)),t.A++,!0)}X.Ma=function(){if(this.u=null,cT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ll(jt(this.jb,this),t)}};X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gt(10),Sh(this),cT(this))};function gg(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function cT(t){t.g=new cl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Tr(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),fl(t,e),t.o&&t.s&&fg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=vh(Tr(e)),n.u=null,n.S=!0,US(n,t)}X.ib=function(){this.v!=null&&(this.v=null,Sh(this),mg(this),Gt(19))};function oc(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function hT(t,e){var n=null;if(t.g==e){oc(t),gg(t),t.g=null;var r=2}else if(fp(t.i,e))n=e.F,JS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=ph(),Dt(r,new bS(r,n)),Th(t)}else uT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&WO(t,e)||r==2&&mg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ai(t,5);break;case 4:Ai(t,10);break;case 3:Ai(t,6);break;default:Ai(t,2)}}}function dT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jt(t.pb,t);n||(n=new Vi("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||rc(n,"https"),vh(n)),$O(n.toString(),r)}else Gt(2);t.H=0,t.h&&t.h.za(e),fT(t),aT(t)}X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gt(2)):(this.l.info("Failed to ping google.com"),Gt(1))};function fT(t){if(t.H=0,t.ma=[],t.h){const e=ZS(t.i);(e.length!=0||t.j.length!=0)&&(s_(t.ma,e),s_(t.ma,t.j),t.i.i.length=0,Xm(t.j),t.j.length=0),t.h.ya()}}function pT(t,e,n){var r=n instanceof Vi?Tr(n):new Vi(n);if(r.g!="")e&&(r.g=e+"."+r.g),ic(r,r.m);else{var i=ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Vi(null);r&&rc(o,r),e&&(o.g=e),i&&ic(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ke(r,n,e),Ke(r,"VER",t.ra),fl(t,r),r}function mT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new lt(new _h({ob:n})):new lt(t.va),e.Oa(t.J),e}X.isActive=function(){return!!this.h&&this.h.isActive(this)};function gT(){}X=gT.prototype;X.Ba=function(){};X.Aa=function(){};X.za=function(){};X.ya=function(){};X.isActive=function(){return!0};X.Va=function(){};function sc(){if(Go&&!(10<=Number(rO)))throw Error("Environmental error: no available transport.")}sc.prototype.g=function(t,e){return new mn(t,e)};function mn(t,e){At.call(this),this.g=new sT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Da(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Da(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new hs(this)}It(mn,At);mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pT(t,null,t.Y),Th(t)};mn.prototype.close=function(){pg(this.g)};mn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ig(t),t=n);e.j.push(new DO(e.fb++,t)),e.H==3&&Th(e)};mn.prototype.N=function(){this.g.h=null,delete this.j,pg(this.g),delete this.g,mn.$.N.call(this)};function yT(t){ug.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(yT,ug);function vT(){cg.call(this),this.status=1}It(vT,cg);function hs(t){this.g=t}It(hs,gT);hs.prototype.Ba=function(){Dt(this.g,"a")};hs.prototype.Aa=function(t){Dt(this.g,new yT(t))};hs.prototype.za=function(t){Dt(this.g,new vT)};hs.prototype.ya=function(){Dt(this.g,"b")};function qO(){this.blockSize=-1}function Bn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It(Bn,qO);Bn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Bn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)bd(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){bd(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){bd(this,r),i=0;break}}this.h=i,this.i+=e};Bn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var HO={};function yg(t){return-128<=t&&128>t?eO(t,function(e){return new Fe([e|0],0>e?-1:0)}):new Fe([t|0],0>t?-1:0)}function Gn(t){if(isNaN(t)||!isFinite(t))return Do;if(0>t)return xt(Gn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=pp;return new Fe(e,0)}function _T(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return xt(_T(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Gn(Math.pow(e,8)),r=Do,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Gn(Math.pow(e,o)),r=r.R(o).add(Gn(s))):(r=r.R(n),r=r.add(Gn(s)))}return r}var pp=4294967296,Do=yg(0),mp=yg(1),y_=yg(16777216);X=Fe.prototype;X.ea=function(){if(Rn(this))return-xt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:pp+r)*e,e*=pp}return t};X.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(gr(this))return"0";if(Rn(this))return"-"+xt(this).toString(t);for(var e=Gn(Math.pow(t,6)),n=this,r="";;){var i=lc(n,e).g;n=ac(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,gr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function gr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rn(t){return t.h==-1}X.X=function(t){return t=ac(this,t),Rn(t)?-1:gr(t)?0:1};function xt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Fe(n,~t.h).add(mp)}X.abs=function(){return Rn(this)?xt(this):this};X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Fe(n,n[n.length-1]&-2147483648?-1:0)};function ac(t,e){return t.add(xt(e))}X.R=function(t){if(gr(this)||gr(t))return Do;if(Rn(this))return Rn(t)?xt(this).R(xt(t)):xt(xt(this).R(t));if(Rn(t))return xt(this.R(xt(t)));if(0>this.X(y_)&&0>t.X(y_))return Gn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Xl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Xl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Xl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Xl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Fe(n,0)};function Xl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ds(t,e){this.g=t,this.h=e}function lc(t,e){if(gr(e))throw Error("division by zero");if(gr(t))return new Ds(Do,Do);if(Rn(t))return e=lc(xt(t),e),new Ds(xt(e.g),xt(e.h));if(Rn(e))return e=lc(t,xt(e)),new Ds(xt(e.g),e.h);if(30<t.g.length){if(Rn(t)||Rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=mp,r=e;0>=r.X(t);)n=v_(n),r=v_(r);var i=oo(n,1),o=oo(r,1);for(r=oo(r,2),n=oo(n,2);!gr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=oo(r,1),n=oo(n,1)}return e=ac(t,i.R(e)),new Ds(i,e)}for(i=Do;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Gn(n),s=o.R(e);Rn(s)||0<s.X(t);)n-=r,o=Gn(n),s=o.R(e);gr(o)&&(o=mp),i=i.add(o),t=ac(t,s)}return new Ds(i,t)}X.gb=function(t){return lc(this,t).h};X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Fe(n,this.h&t.h)};X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Fe(n,this.h|t.h)};X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Fe(n,this.h^t.h)};function v_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Fe(n,t.h)}function oo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Fe(i,t.h)}sc.prototype.createWebChannel=sc.prototype.g;mn.prototype.send=mn.prototype.u;mn.prototype.open=mn.prototype.m;mn.prototype.close=mn.prototype.close;mh.NO_ERROR=0;mh.TIMEOUT=8;mh.HTTP_ERROR=6;OS.COMPLETE="complete";MS.EventType=ul;ul.OPEN="a";ul.CLOSE="b";ul.ERROR="c";ul.MESSAGE="d";At.prototype.listen=At.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;Bn.prototype.digest=Bn.prototype.l;Bn.prototype.reset=Bn.prototype.reset;Bn.prototype.update=Bn.prototype.j;Fe.prototype.add=Fe.prototype.add;Fe.prototype.multiply=Fe.prototype.R;Fe.prototype.modulo=Fe.prototype.gb;Fe.prototype.compare=Fe.prototype.X;Fe.prototype.toNumber=Fe.prototype.ea;Fe.prototype.toString=Fe.prototype.toString;Fe.prototype.getBits=Fe.prototype.D;Fe.fromNumber=Gn;Fe.fromString=_T;var KO=function(){return new sc},GO=function(){return ph()},Od=mh,QO=OS,YO=Xi,__={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jl=MS,XO=lt,JO=Bn,Lo=Fe;const w_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new hS("@firebase/firestore");function Ls(){return Bi.logLevel}function Y(t,...e){if(Bi.logLevel<=De.DEBUG){const n=e.map(vg);Bi.debug(`Firestore (${ds}): ${t}`,...n)}}function nr(t,...e){if(Bi.logLevel<=De.ERROR){const n=e.map(vg);Bi.error(`Firestore (${ds}): ${t}`,...n)}}function Qo(t,...e){if(Bi.logLevel<=De.WARN){const n=e.map(vg);Bi.warn(`Firestore (${ds}): ${t}`,...n)}}function vg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+t;throw nr(e),new Error(e)}function qe(t,e){t||ge()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class eM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tM{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new wT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Ft(e)}}class nM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new iM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sM(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function Yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new _t(0,0))}static max(){return new ve(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ba.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ba?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Ba{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const aM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Ba{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return aM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ne(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ne(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ne(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Ge.fromString(e))}static fromName(e){return new he(Ge.fromString(e).popFirst(5))}static empty(){return new he(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Ge(e.slice()))}}function lM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new ri(i,he.empty(),e)}function uM(t){return new ri(t.readTime,t.key,-1)}class ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ri(ve.min(),he.empty(),-1)}static max(){return new ri(ve.max(),he.empty(),-1)}}function cM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==hM)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new M((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new vr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new sa(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=wg(r.target.error);this.V.reject(new sa(e,i))}}static open(e,n,r,i){try{return new _g(n,e.transaction(i,r))}catch(o){throw new sa(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new pM(n)}}class Ii{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ii.S(ec())===12.2&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Y("SimpleDb","Removing database:",e),wi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!uS())return!1;if(Ii.C())return!0;const e=ec(),n=Ii.S(e),r=0<n&&n<10,i=Ii.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Y("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new sa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new ne(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ne(O.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new sa(e,s))},i.onupgradeneeded=o=>{Y("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{Y("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=_g.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),M.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(Y("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class fM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return wi(this.k.delete())}}class sa extends ne{constructor(e,n){super(O.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ml(t){return t.name==="IndexedDbTransactionError"}class pM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Y("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Y("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wi(r)}add(e){return Y("SimpleDb","ADD",this.store.name,e,e),wi(this.store.add(e))}get(e){return wi(this.store.get(e)).next(n=>(n===void 0&&(n=null),Y("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Y("SimpleDb","DELETE",this.store.name,e),wi(this.store.delete(e))}count(){return Y("SimpleDb","COUNT",this.store.name),wi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new M((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new M((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){Y("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new M((r,i)=>{n.onerror=o=>{const s=wg(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new M((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new fM(a),u=n(a.primaryKey,a.value,l);if(u instanceof M){const c=u.catch(h=>(l.done(),M.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function wi(t){return new M((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=wg(r.target.error);n(i)}})}let E_=!1;function wg(t){const e=Ii.S(ec());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return E_||(E_=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Eg._e=-1;function Rh(t){return t==null}function uc(t){return t===0&&1/t==-1/0}function mM(t){return typeof t=="number"&&Number.isInteger(t)&&!uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ST(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zl(this.root,e,this.comparator,!0)}}class Zl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=o??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,o){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(e){return new T_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class T_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new Lt(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TT("Invalid base64 string: "+o):o}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const gM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(qe(!!t),typeof t=="string"){let e=0;const n=gM.exec(t);if(qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tg(t){const e=t.mapValue.fields.__previous_value__;return Sg(e)?Tg(e):e}function ja(t){const e=ii(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class za{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sg(t)?4:vM(t)?9007199254740991:10:ge()}function rr(t,e){if(t===e)return!0;const n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ja(t).isEqual(ja(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ii(i.timestampValue),a=ii(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ji(i.bytesValue).isEqual(ji(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?uc(s)===uc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(S_(s)!==S_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!rr(s[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Wa(t,e){return(t.values||[]).find(n=>rr(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=zi(t),r=zi(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ft(o.integerValue||o.doubleValue),l=ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return R_(t.timestampValue,e.timestampValue);case 4:return R_(ja(t),ja(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ji(o),l=ji(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Me(a[u],l[u]);if(c!==0)return c}return Me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Me(ft(o.latitude),ft(s.latitude));return a!==0?a:Me(ft(o.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Xo(a[u],l[u]);if(c)return c}return Me(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===eu.mapValue&&s===eu.mapValue)return 0;if(o===eu.mapValue)return 1;if(s===eu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=Me(l[h],c[h]);if(d!==0)return d;const p=Xo(a[l[h]],u[c[h]]);if(p!==0)return p}return Me(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ge()}}function R_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=ii(t),r=ii(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function Jo(t){return gp(t)}function gp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=gp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${gp(n.fields[s])}`;return i+"}"}(t.mapValue):ge()}function A_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yp(t){return!!t&&"integerValue"in t}function Rg(t){return!!t&&"arrayValue"in t}function I_(t){return!!t&&"nullValue"in t}function C_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gu(t){return!!t&&"mapValue"in t}function aa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=aa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=aa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=aa(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=aa(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ji(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new en(aa(this.value))}}function RT(t){const e=[];return Ji(t.fields,(n,r)=>{const i=new Nt([n]);if(gu(r)){const o=RT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,ve.min(),ve.min(),ve.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,ve.min(),ve.min(),en.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,ve.min(),ve.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.position=e,this.inclusive=n}}function P_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=Xo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function k_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n="asc"){this.field=e,this.dir=n}}function _M(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{}class mt extends AT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EM(e,n,r):n==="array-contains"?new RM(e,r):n==="in"?new AM(e,r):n==="not-in"?new IM(e,r):n==="array-contains-any"?new CM(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SM(e,r):new TM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xo(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends AT{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new jn(e,n)}matches(e){return IT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function IT(t){return t.op==="and"}function CT(t){return wM(t)&&IT(t)}function wM(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function vp(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(CT(t))return t.filters.map(e=>vp(e)).join(",");{const e=t.filters.map(n=>vp(n)).join(",");return`${t.op}(${e})`}}function PT(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&rr(r.value,i.value)}(t,e):t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&PT(s,i.filters[a]),!0):!1}(t,e):void ge()}function kT(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(kT).join(" ,")+"}"}(t):"Filter"}class EM extends mt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class SM extends mt{constructor(e,n){super(e,"in",n),this.keys=xT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TM extends mt{constructor(e,n){super(e,"not-in",n),this.keys=xT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class RM extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rg(n)&&Wa(n.arrayValue,this.value)}}class AM extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wa(this.value.arrayValue,n)}}class IM extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wa(this.value.arrayValue,n)}}class CM extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function x_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new PM(t,e,n,r,i,o,s)}function Ag(t){const e=Ee(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.ce=n}return e.ce}function Ig(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_M(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k_(t.startAt,e.startAt)&&k_(t.endAt,e.endAt)}function _p(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function kM(t,e,n,r,i,o,s,a){return new fs(t,e,n,r,i,o,s,a)}function Cg(t){return new fs(t)}function N_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NT(t){return t.collectionGroup!==null}function la(t){const e=Ee(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Lt(Nt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new qa(o,r))}),n.has(Nt.keyField().canonicalString())||e.le.push(new qa(Nt.keyField(),r))}return e.le}function Jn(t){const e=Ee(t);return e.he||(e.he=xM(e,la(t))),e.he}function xM(t,e){if(t.limitType==="F")return x_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new qa(i.field,o)});const n=t.endAt?new cc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cc(t.startAt.position,t.startAt.inclusive):null;return x_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wp(t,e){const n=t.filters.concat([e]);return new fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hc(t,e,n){return new fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ah(t,e){return Ig(Jn(t),Jn(e))&&t.limitType===e.limitType}function VT(t){return`${Ag(Jn(t))}|lt:${t.limitType}`}function ao(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kT(i)).join(", ")}]`),Rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jo(i)).join(",")),`Target(${r})`}(Jn(t))}; limitType=${t.limitType})`}function Ih(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of la(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=P_(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,la(r),i)||r.endAt&&!function(s,a,l){const u=P_(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,la(r),i))}(t,e)}function NM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DT(t){return(e,n)=>{let r=!1;for(const i of la(t)){const o=VM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function VM(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Xo(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new st(he.comparator);function Rr(){return DM}const LT=new st(he.comparator);function Ws(...t){let e=LT;for(const n of t)e=e.insert(n.key,n);return e}function bT(t){let e=LT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return ua()}function OT(){return ua()}function ua(){return new ps(t=>t.toString(),(t,e)=>t.isEqual(e))}const LM=new st(he.comparator),bM=new Lt(he.comparator);function Ce(...t){let e=bM;for(const n of t)e=e.add(n);return e}const OM=new Lt(Me);function MM(){return OM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function $T(t){return{integerValue:""+t}}function $M(t,e){return mM(e)?$T(e):MT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function FM(t,e,n){return t instanceof dc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Sg(o)&&(o=Tg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ha?UT(t,e):t instanceof Ka?BT(t,e):function(i,o){const s=FT(i,o),a=V_(s)+V_(i.Ie);return yp(s)&&yp(i.Ie)?$T(a):MT(i.serializer,a)}(t,e)}function UM(t,e,n){return t instanceof Ha?UT(t,e):t instanceof Ka?BT(t,e):n}function FT(t,e){return t instanceof fc?function(r){return yp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class dc extends Ch{}class Ha extends Ch{constructor(e){super(),this.elements=e}}function UT(t,e){const n=jT(e);for(const r of t.elements)n.some(i=>rr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ka extends Ch{constructor(e){super(),this.elements=e}}function BT(t,e){let n=jT(e);for(const r of t.elements)n=n.filter(i=>!rr(i,r));return{arrayValue:{values:n}}}class fc extends Ch{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function V_(t){return ft(t.integerValue||t.doubleValue)}function jT(t){return Rg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ha&&i instanceof Ha||r instanceof Ka&&i instanceof Ka?Yo(r.elements,i.elements,rr):r instanceof fc&&i instanceof fc?rr(r.Ie,i.Ie):r instanceof dc&&i instanceof dc}(t.transform,e.transform)}class jM{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ph{}function zT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pg(t.key,Fn.none()):new gl(t.key,t.data,Fn.none());{const n=t.data,r=en.empty();let i=new Lt(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new fi(t.key,r,new hn(i.toArray()),Fn.none())}}function zM(t,e,n){t instanceof gl?function(i,o,s){const a=i.value.clone(),l=L_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fi?function(i,o,s){if(!yu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=L_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(WT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ca(t,e,n,r){return t instanceof gl?function(o,s,a,l){if(!yu(o.precondition,s))return a;const u=o.value.clone(),c=b_(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof fi?function(o,s,a,l){if(!yu(o.precondition,s))return a;const u=b_(o.fieldTransforms,l,s),c=s.data;return c.setAll(WT(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return yu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function WM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=FT(r.transform,i||null);o!=null&&(n===null&&(n=en.empty()),n.set(r.field,o))}return n||null}function D_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yo(r,i,(o,s)=>BM(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gl extends Ph{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fi extends Ph{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function L_(t,e,n){const r=new Map;qe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,UM(s,a,n[i]))}return r}function b_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,FM(o,s,e))}return r}class Pg extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qM extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&zM(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ca(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ca(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=zT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(n,r)=>D_(n,r))&&Yo(this.baseMutations,e.baseMutations,(n,r)=>D_(n,r))}}class kg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length);let i=function(){return LM}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new kg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ve;function QM(t){switch(t){default:return ge();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function qT(t){if(t===void 0)return nr("GRPC error has no .code"),O.UNKNOWN;switch(t){case dt.OK:return O.OK;case dt.CANCELLED:return O.CANCELLED;case dt.UNKNOWN:return O.UNKNOWN;case dt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case dt.INTERNAL:return O.INTERNAL;case dt.UNAVAILABLE:return O.UNAVAILABLE;case dt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case dt.NOT_FOUND:return O.NOT_FOUND;case dt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case dt.ABORTED:return O.ABORTED;case dt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case dt.DATA_LOSS:return O.DATA_LOSS;default:return ge()}}(Ve=dt||(dt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new Lo([4294967295,4294967295],0);function O_(t){const e=YM().encode(t),n=new JO;return n.update(e),new Uint8Array(n.digest())}function M_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Lo([n,r],0),new Lo([i,o],0)]}class xg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qs(`Invalid padding: ${n}`);if(r<0)throw new qs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Lo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Lo.fromNumber(r)));return i.compare(XM)===1&&(i=new Lo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=O_(e),[r,i]=M_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new xg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=O_(e),[r,i]=M_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kh(ve.min(),i,new st(Me),Rr(),Ce())}}class yl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yl(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class HT{constructor(e,n){this.targetId=e,this.fe=n}}class KT{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $_{constructor(){this.ge=0,this.pe=U_(),this.ye=qt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new yl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=U_()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,qe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class JM{constructor(e){this.Le=e,this.ke=new Map,this.qe=Rr(),this.Qe=F_(),this.Ke=new st(Me)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(_p(o))if(r===0){const s=new he(o.path);this.We(n,s,Bt.newNoDocument(s,ve.min()))}else qe(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ji(r).toUint8Array()}catch(l){if(l instanceof TT)return Qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new xg(s,i,o)}catch(l){return Qo(l instanceof qs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&_p(a.target)){const l=new he(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Bt.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Ce();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new kh(e,n,this.Ke,this.qe,r);return this.qe=Rr(),this.Qe=F_(),this.Ke=new st(Me),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new $_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Lt(Me),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new $_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function F_(){return new st(he.comparator)}function U_(){return new st(he.comparator)}const ZM={asc:"ASCENDING",desc:"DESCENDING"},e4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t4={and:"AND",or:"OR"};class n4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ep(t,e){return t.useProto3Json||Rh(e)?e:{value:e}}function pc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function r4(t,e){return pc(t,e.toTimestamp())}function Zn(t){return qe(!!t),ve.fromTimestamp(function(n){const r=ii(n);return new _t(r.seconds,r.nanos)}(t))}function Ng(t,e){return Sp(t,e).canonicalString()}function Sp(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QT(t){const e=Ge.fromString(t);return qe(eR(e)),e}function Tp(t,e){return Ng(t.databaseId,e.path)}function Md(t,e){const n=QT(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(XT(n))}function YT(t,e){return Ng(t.databaseId,e)}function i4(t){const e=QT(t);return e.length===4?Ge.emptyPath():XT(e)}function Rp(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XT(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B_(t,e,n){return{name:Tp(t,e),fields:n.value.mapValue.fields}}function o4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(qe(c===void 0||typeof c=="string"),qt.fromBase64String(c||"")):(qe(c===void 0||c instanceof Uint8Array),qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?O.UNKNOWN:qT(u.code);return new ne(c,u.message||"")}(s);n=new KT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Md(t,r.document.name),o=Zn(r.document.updateTime),s=r.document.createTime?Zn(r.document.createTime):ve.min(),a=new en({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new vu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Md(t,r.document),o=r.readTime?Zn(r.readTime):ve.min(),s=Bt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new vu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Md(t,r.document),o=r.removedTargetIds||[];n=new vu([],o,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new GM(i,o),a=r.targetId;n=new HT(a,s)}}return n}function s4(t,e){let n;if(e instanceof gl)n={update:B_(t,e.key,e.value)};else if(e instanceof Pg)n={delete:Tp(t,e.key)};else if(e instanceof fi)n={update:B_(t,e.key,e.data),updateMask:m4(e.fieldMask)};else{if(!(e instanceof qM))return ge();n={verify:Tp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof dc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ha)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ka)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fc)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:r4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(t,e.precondition)),n}function a4(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Zn(i.updateTime):Zn(o);return s.isEqual(ve.min())&&(s=Zn(o)),new jM(s,i.transformResults||[])}(n,e))):[]}function l4(t,e){return{documents:[YT(t,e.path)]}}function u4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YT(t,i);const o=function(u){if(u.length!==0)return ZT(jn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:lo(d.field),direction:d4(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Ep(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function c4(t){let e=i4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=JT(h);return d instanceof jn&&CT(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(y){return new qa(uo(y.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Rh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new cc(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new cc(p,d)}(n.endAt)),kM(e,i,s,o,a,"F",l,u)}function h4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uo(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uo(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=uo(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=uo(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(uo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>JT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function d4(t){return ZM[t]}function f4(t){return e4[t]}function p4(t){return t4[t]}function lo(t){return{fieldPath:t.canonicalString()}}function uo(t){return Nt.fromServerFormat(t.fieldPath)}function ZT(t){return t instanceof mt?function(n){if(n.op==="=="){if(C_(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(I_(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C_(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(I_(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:f4(n.op),value:n.value}}}(t):t instanceof jn?function(n){const r=n.getFilters().map(i=>ZT(i));return r.length===1?r[0]:{compositeFilter:{op:p4(n.op),filters:r}}}(t):ge()}function m4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,i,o=ve.min(),s=ve.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.ct=e}}function y4(t){const e=c4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this._n=new _4}addToCollectionParentIndex(e,n){return this._n.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ri.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class _4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(Ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Zo(0)}static Bn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.changes=new ps(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ca(r.mutation,i,hn.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ws();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Rr();const s=ua(),a=function(){return ua()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof fi)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ca(c.mutation,u,c.mutation.getFieldMask(),_t.now())):s.set(u.key,hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new E4(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ua();let i=new st((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||hn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=OT();c.forEach(d=>{if(!o.has(d)){const p=zT(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(Ci());let a=-1,l=o;return s.next(u=>M.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?M.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:a,changes:bT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Ws();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ws();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,l=>{const u=function(h,d){return new fs(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Bt.newInvalidDocument(c)))});let a=Ws();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&ca(c.mutation,u,hn.empty(),_t.now()),Ih(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return M.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:y4(i.bundledQuery),readTime:Zn(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.overlays=new st(he.comparator),this.hr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ci();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Ci(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new st((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ci(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ci(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new KM(n,r));let o=this.hr.get(n);o===void 0&&(o=Ce(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.Pr=new Lt(St.Ir),this.Tr=new Lt(St.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new St(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new he(new Ge([])),r=new St(n,e),i=new St(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new he(new Ge([])),r=new St(n,e),i=new St(n,e+1);let o=Ce();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new St(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return he.comparator(e.key,n.key)||Me(e.pr,n.pr)}static Er(e,n){return Me(e.pr,n.pr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Lt(St.Ir)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new HM(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new St(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Me);return n.forEach(i=>{const o=new St(i,0),s=new St(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),M.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new St(new he(o),0);let a=new Lt(Me);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),M.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return M.forEach(n.mutations,i=>{const o=new St(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new St(n,0),i=this.wr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.vr=e,this.docs=function(){return new st(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rr();const s=n.path,a=new he(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||cM(uM(c),r)<=0||(i.has(c.key)||Ih(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C4(this)}getSize(e){return M.resolve(this.size)}}class C4 extends w4{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.persistence=e,this.Mr=new ps(n=>Ag(n),Ig),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Vg,this.targetCount=0,this.Br=Zo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),M.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.qn(n),M.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Eg(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new P4(this),this.indexManager=new v4,this.remoteDocumentCache=function(i){return new I4(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new g4(n),this.$r=new T4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new A4(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new x4(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return M.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class x4 extends dM{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.zr=new Vg,this.jr=null}static Hr(e){return new Dg(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),M.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Jr,r=>{const i=he.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ve.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return M.or([()=>M.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ce(),i=Ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Lg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return LL()?8:Ii.v(ec())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new N4;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ls()<=De.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),M.resolve()):(Ls()<=De.DEBUG&&Y("QueryEngine","Query:",ao(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ls()<=De.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(n))):M.resolve())}ji(e,n){if(N_(n))return M.resolve(null);let r=Jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hc(n,null,"F"),r=Jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ce(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,hc(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return N_(n)||i.isEqual(ve.min())?M.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?M.resolve(null):(Ls()<=De.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ao(n)),this.es(e,s,n,lM(i,-1)).next(a=>a))})}Zi(e,n){let r=new Lt(DT(e));return n.forEach((i,o)=>{Ih(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ls()<=De.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",ao(n)),this.zi.getDocumentsMatchingQuery(e,n,ri.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new st(Me),this.rs=new ps(o=>Ag(o),Ig),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S4(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function L4(t,e,n,r){return new D4(t,e,n,r)}async function tR(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ce();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function b4(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let p=M.resolve();return d.forEach(y=>{p=p.next(()=>c.getEntry(l,y)).next(w=>{const T=u.docVersions.get(y);qe(T!==null),w.version.compareTo(T)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nR(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function O4(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(qt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(w,T,m){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,p,c)&&a.push(n.Qr.updateTargetData(o,p))});let l=Rr(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(M4(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ve.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function M4(t,e,n){let r=Ce(),i=Ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Rr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function $4(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function F4(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Br(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Ap(t,e,n){const r=Ee(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ml(s))throw s;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function j_(t,e,n){const r=Ee(t);let i=ve.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=Ee(l),d=h.rs.get(c);return d!==void 0?M.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,s,Jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ve.min(),n?o:Ce())).next(a=>(U4(r,NM(e),a),{documents:a,hs:o})))}function U4(t,e,n){let r=t.ss.get(e)||ve.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class z_{constructor(){this.activeTargetIds=MM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B4{constructor(){this.no=new z_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new z_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=null;function $d(){return tu===null?tu=function(){return 268435456+Math.round(2147483648*Math.random())}():tu++,"0x"+tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class q4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=$d(),l=this.bo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Qo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ds}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=z4[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=$d();return new Promise((s,a)=>{const l=new XO;l.setWithCredentials(!0),l.listenOnce(QO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Od.NO_ERROR:const c=l.getResponseJson();Y($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Od.TIMEOUT:Y($t,`RPC '${e}' ${o} timed out`),a(new ne(O.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const h=l.getStatus();if(Y($t,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const y=function(T){const m=T.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(m)>=0?m:O.UNKNOWN}(p.status);a(new ne(y,p.message))}else a(new ne(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ne(O.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{Y($t,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Y($t,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=$d(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=KO(),a=GO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Y($t,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,p=!1;const y=new W4({lo:T=>{p?Y($t,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(d||(Y($t,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),Y($t,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},ho:()=>h.close()}),w=(T,m,f)=>{T.listen(m,g=>{try{f(g)}catch(A){setTimeout(()=>{throw A},0)}})};return w(h,Jl.EventType.OPEN,()=>{p||Y($t,`RPC '${e}' stream ${i} transport opened.`)}),w(h,Jl.EventType.CLOSE,()=>{p||(p=!0,Y($t,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),w(h,Jl.EventType.ERROR,T=>{p||(p=!0,Qo($t,`RPC '${e}' stream ${i} transport errored:`,T),y.Vo(new ne(O.UNAVAILABLE,"The operation could not be completed")))}),w(h,Jl.EventType.MESSAGE,T=>{var m;if(!p){const f=T.data[0];qe(!!f);const g=f,A=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(A){Y($t,`RPC '${e}' stream ${i} received error:`,A);const C=A.status;let x=function(se){const K=dt[se];if(K!==void 0)return qT(K)}(C),V=A.message;x===void 0&&(x=O.INTERNAL,V="Unknown error status: "+C+" with message "+A.message),p=!0,y.Vo(new ne(x,V)),h.close()}else Y($t,`RPC '${e}' stream ${i} received:`,f),y.mo(f)}}),w(a,YO.STAT_EVENT,T=>{T.stat===__.PROXY?Y($t,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===__.NOPROXY&&Y($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new n4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new rR(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new ne(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H4 extends iR{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=o4(this.serializer,e),r=function(o){if(!("targetChange"in o))return ve.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?Zn(s.readTime):ve.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Rp(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=_p(l)?{documents:l4(o,l)}:{query:u4(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=GT(o,s.resumeToken);const u=Ep(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=pc(o,s.snapshotVersion.toTimestamp());const u=Ep(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=h4(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Rp(this.serializer),n.removeTarget=e,this.t_(n)}}class K4 extends iR{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=a4(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.T_(r,n)}return qe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Rp(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s4(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ne(O.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Sp(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(O.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Sp(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(O.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Q4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(nr(n),this.g_=!1):Y("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Zi(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ee(l);u.v_.add(4),await vl(u),u.x_.set("Unknown"),u.v_.delete(4),await Nh(u)}(this))})}),this.x_=new Q4(r,i)}}async function Nh(t){if(Zi(t))for(const e of t.F_)await e(!0)}async function vl(t){for(const e of t.F_)await e(!1)}function oR(t,e){const n=Ee(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Mg(n)?Og(n):ms(n).Jo()&&bg(n,e))}function sR(t,e){const n=Ee(t),r=ms(n);n.C_.delete(e),r.Jo()&&aR(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Zi(n)&&n.x_.set("Unknown"))}function bg(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ms(t).c_(e)}function aR(t,e){t.O_.Oe(e),ms(t).l_(e)}function Og(t){t.O_=new JM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ms(t).start(),t.x_.p_()}function Mg(t){return Zi(t)&&!ms(t).Ho()&&t.C_.size>0}function Zi(t){return Ee(t).v_.size===0}function lR(t){t.O_=void 0}async function X4(t){t.C_.forEach((e,n)=>{bg(t,e)})}async function J4(t,e){lR(t),Mg(t)?(t.x_.S_(e),Og(t)):t.x_.set("Unknown")}async function Z4(t,e,n){if(t.x_.set("Online"),e instanceof KT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mc(t,r)}else if(e instanceof vu?t.O_.$e(e):e instanceof HT?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ve.min()))try{const r=await nR(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(qt.EMPTY_BYTE_STRING,c.snapshotVersion)),aR(o,l);const h=new Br(c.target,l,u,c.sequenceNumber);bg(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await mc(t,r)}}async function mc(t,e,n){if(!ml(e))throw e;t.v_.add(1),await vl(t),t.x_.set("Offline"),n||(n=()=>nR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Nh(t)})}function uR(t,e){return e().catch(n=>mc(t,n,e))}async function Vh(t){const e=Ee(t),n=oi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;e$(e);)try{const i=await $4(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,t$(e,i)}catch(i){await mc(e,i)}cR(e)&&hR(e)}function e$(t){return Zi(t)&&t.D_.length<10}function t$(t,e){t.D_.push(e);const n=oi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function cR(t){return Zi(t)&&!oi(t).Ho()&&t.D_.length>0}function hR(t){oi(t).start()}async function n$(t){oi(t).d_()}async function r$(t){const e=oi(t);for(const n of t.D_)e.I_(n.mutations)}async function i$(t,e,n){const r=t.D_.shift(),i=kg.from(r,e,n);await uR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vh(t)}async function o$(t,e){e&&oi(t).P_&&await async function(r,i){if(function(s){return QM(s)&&s!==O.ABORTED}(i.code)){const o=r.D_.shift();oi(r).Zo(),await uR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Vh(r)}}(t,e),cR(t)&&hR(t)}async function q_(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.v_.add(3),await vl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Nh(n)}async function s$(t,e){const n=Ee(t);e?(n.v_.delete(2),await Nh(n)):e||(n.v_.add(2),await vl(n),n.x_.set("Unknown"))}function ms(t){return t.N_||(t.N_=function(n,r,i){const o=Ee(n);return o.R_(),new H4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:X4.bind(null,t),To:J4.bind(null,t),u_:Z4.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Mg(t)?Og(t):t.x_.set("Unknown")):(await t.N_.stop(),lR(t))})),t.N_}function oi(t){return t.B_||(t.B_=function(n,r,i){const o=Ee(n);return o.R_(),new K4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:n$.bind(null,t),To:o$.bind(null,t),E_:r$.bind(null,t),T_:i$.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Vh(t)):(await t.B_.stop(),t.D_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new $g(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(t,e){if(nr("AsyncQueue",`${e}: ${t}`),ml(t))return new ne(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Ws(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.L_=new st(he.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ge():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class es{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new es(e,n,bo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(){this.q_=void 0,this.Q_=[]}}class l${constructor(){this.queries=new ps(e=>VT(e),Ah),this.onlineState="Unknown",this.K_=new Set}}async function dR(t,e){const n=Ee(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new a$),i)try{o.q_=await n.onListen(r)}catch(s){const a=Fg(s,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&Ug(n)}async function fR(t,e){const n=Ee(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function u$(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&Ug(n)}function c$(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function Ug(t){t.K_.forEach(e=>{e.next()})}class pR{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new es(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.key=e}}class gR{constructor(e){this.key=e}}class h${constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ce(),this.mutatedKeys=Ce(),this.ua=DT(e),this.ca=new bo(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new H_,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=Ih(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let T=!1;d&&p?d.data.isEqual(p.data)?y!==w&&(r.track({type:3,doc:p}),T=!0):this.Ia(d,p)||(r.track({type:2,doc:p}),T=!0,(l&&this.ua(p,l)>0||u&&this.ua(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),T=!0):d&&!p&&(r.track({type:1,doc:d}),T=!0,(l||u)&&(a=!0)),T&&(p?(s=s.add(p),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,h)=>function(p,y){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return w(p)-w(y)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new es(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new H_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Ce(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new gR(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new mR(r))}),n}Ra(e){this.oa=e.hs,this.aa=Ce();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return es.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class d${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f${constructor(e){this.key=e,this.ma=!1}}class p${constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new ps(a=>VT(a),Ah),this.pa=new Map,this.ya=new Set,this.wa=new st(he.comparator),this.Sa=new Map,this.ba=new Vg,this.Da={},this.Ca=new Map,this.va=Zo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function m$(t,e){const n=A$(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await F4(n.localStore,Jn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await g$(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&oR(n.remoteStore,s)}return i}async function g$(t,e,n,r,i){t.Ma=(h,d,p)=>async function(w,T,m,f){let g=T.view.ha(m);g.Xi&&(g=await j_(w.localStore,T.query,!1).then(({documents:V})=>T.view.ha(V,g)));const A=f&&f.targetChanges.get(T.targetId),C=f&&f.targetMismatches.get(T.targetId)!=null,x=T.view.applyChanges(g,w.isPrimaryClient,A,C);return G_(w,T.targetId,x.da),x.snapshot}(t,h,d,p);const o=await j_(t.localStore,e,!0),s=new h$(e,o.hs),a=s.ha(o.documents),l=yl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);G_(t,n,u.da);const c=new d$(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function y$(t,e){const n=Ee(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Ah(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ap(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),sR(n.remoteStore,r.targetId),Ip(n,r.targetId)}).catch(pl)):(Ip(n,r.targetId),await Ap(n.localStore,r.targetId,!0))}async function v$(t,e,n){const r=I$(t);try{const i=await function(s,a){const l=Ee(s),u=_t.now(),c=a.reduce((p,y)=>p.add(y.key),Ce());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Rr(),w=Ce();return l.os.getEntries(p,c).next(T=>{y=T,y.forEach((m,f)=>{f.isValidDocument()||(w=w.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(T=>{h=T;const m=[];for(const f of a){const g=WM(f,h.get(f.key).overlayedDocument);g!=null&&m.push(new fi(f.key,g,RT(g.value.mapValue),Fn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,a)}).next(T=>{d=T;const m=T.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(p,T.batchId,m)})}).then(()=>({batchId:d.batchId,changes:bT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new st(Me)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await _l(r,i.changes),await Vh(r.remoteStore)}catch(i){const o=Fg(i,"Failed to persist write");n.reject(o)}}async function yR(t,e){const n=Ee(t);try{const r=await O4(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?qe(s.ma):i.removedDocuments.size>0&&(qe(s.ma),s.ma=!1))}),await _l(n,r,e)}catch(r){await pl(r)}}function K_(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ee(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Q_)d.U_(a)&&(u=!0)}),u&&Ug(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _$(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new st(he.comparator);s=s.insert(o,Bt.newNoDocument(o,ve.min()));const a=Ce().add(o),l=new kh(ve.min(),new Map,new st(Me),s,a);await yR(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),Bg(r)}else await Ap(r.localStore,e,!1).then(()=>Ip(r,e,n)).catch(pl)}async function w$(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await b4(n.localStore,e);_R(n,r,null),vR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _l(n,i)}catch(i){await pl(i)}}async function E$(t,e,n){const r=Ee(t);try{const i=await function(s,a){const l=Ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(qe(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);_R(r,e,n),vR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _l(r,i)}catch(i){await pl(i)}}function vR(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function _R(t,e,n){const r=Ee(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Ip(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||wR(t,r)})}function wR(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(sR(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Bg(t))}function G_(t,e,n){for(const r of n)r instanceof mR?(t.ba.addReference(r.key,e),S$(t,r)):r instanceof gR?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||wR(t,r.key)):ge()}function S$(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.ya.add(r),Bg(t))}function Bg(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new he(Ge.fromString(e)),r=t.va.next();t.Sa.set(r,new f$(n)),t.wa=t.wa.insert(n,r),oR(t.remoteStore,new Br(Jn(Cg(n.path)),r,"TargetPurposeLimboResolution",Eg._e))}}async function _l(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Lg.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=Ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>M.forEach(u,d=>M.forEach(d.qi,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>M.forEach(d.Qi,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!ml(h))throw h;Y("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.ns.get(d),y=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(y);c.ns=c.ns.insert(d,w)}}}(r.localStore,o))}async function T$(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await tR(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new ne(O.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _l(n,r.us)}}function R$(t,e){const n=Ee(t),r=n.Sa.get(e);if(r&&r.ma)return Ce().add(r.key);{let i=Ce();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function A$(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_$.bind(null,e),e.fa.u_=u$.bind(null,e.eventManager),e.fa.xa=c$.bind(null,e.eventManager),e}function I$(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E$.bind(null,e),e}class Q_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return L4(this.persistence,new V4,e.initialUser,this.serializer)}createPersistence(e){return new k4(Dg.Hr,this.serializer)}createSharedClientState(e){return new B4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class C${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T$.bind(null,this.syncEngine),await s$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l$}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=function(o){return new q4(o)}(e.databaseInfo);return function(o,s,a,l){return new G4(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Y4(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>K_(this.syncEngine,n,0),function(){return W_.D()?new W_:new j4}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new p$(i,o,s,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ee(r);Y("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await vl(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=ET.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Y("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ud(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await x$(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>q_(e.remoteStore,i)),t._onlineComponents=e}function k$(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function x$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ud(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!k$(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await Ud(t,new Q_)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Ud(t,new Q_);return t._offlineComponents}async function SR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await Y_(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await Y_(t,new C$))),t._onlineComponents}function N$(t){return SR(t).then(e=>e.syncEngine)}async function Cp(t){const e=await SR(t),n=e.eventManager;return n.onListen=m$.bind(null,e.syncEngine),n.onUnlisten=y$.bind(null,e.syncEngine),n}function V$(t,e,n={}){const r=new vr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new ER({next:d=>{s.enqueueAndForget(()=>fR(o,h)),d.fromCache&&l.source==="server"?u.reject(new ne(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new pR(a,c,{includeMetadataChanges:!0,Z_:!0});return dR(o,h)}(await Cp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e,n){if(!n)throw new ne(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function D$(t,e,n,r){if(e===!0&&r===!0)throw new ne(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J_(t){if(!he.isDocumentKey(t))throw new ne(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(he.isDocumentKey(t))throw new ne(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(t);throw new ne(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function L$(t,e){if(e<=0)throw new ne(O.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZO;switch(r.type){case"firstParty":return new rM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X_.get(n);r&&(Y("ComponentProvider","Removing Datastore"),X_.delete(n),r.terminate())}(this),Promise.resolve()}}function b$(t,e,n,r={}){var i;const o=(t=er(t,Lh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ft.MOCK_USER;else{a=VL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ne(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ft(u)}t._authCredentials=new eM(new wT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pr(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class ei extends Pr{constructor(e,n,r){super(e,n,Cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new he(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function ar(t,e,...n){if(t=tr(t),RR("collection","path",e),t instanceof Lh){const r=Ge.fromString(e,...n);return Z_(r),new ei(t,null,r)}{if(!(t instanceof an||t instanceof ei))throw new ne(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return Z_(r),new ei(t.firestore,null,r)}}function jg(t,e,...n){if(t=tr(t),arguments.length===1&&(e=ET.newId()),RR("doc","path",e),t instanceof Lh){const r=Ge.fromString(e,...n);return J_(r),new an(t,null,new he(r))}{if(!(t instanceof an||t instanceof ei))throw new ne(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return J_(r),new an(t.firestore,t instanceof ei?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new rR(this,"async_queue_retry"),this._u=()=>{const n=Fd();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Fd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Fd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new vr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!ml(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=$g.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&ge()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function t0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Wi extends Lh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new O$}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||AR(this),this._firestoreClient.terminate()}}function M$(t,e){const n=typeof t=="object"?t:Mb(),r=typeof t=="string"?t:e||"(default)",i=Db(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=xL("firestore");o&&b$(i,...o)}return i}function zg(t){return t._firestoreClient||AR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AR(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new yM(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,TR(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new P$(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ts(qt.fromBase64String(e))}catch(n){throw new ne(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ts(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=/^__.*__$/;class F${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new gl(e,this.data,n,this.fieldTransforms)}}class IR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class Hg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return gc(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(CR(this.du)&&$$.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class U${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}Su(e,n,r,i=!1){return new Hg({du:e,methodName:n,wu:r,path:Nt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kg(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new U$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function B$(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);Gg("Data must be an object, but it was:",s,r);const a=PR(r,s);let l,u;if(o.merge)l=new hn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=Pp(e,h,n);if(!s.contains(d))throw new ne(O.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);xR(c,d)||c.push(d)}l=new hn(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new F$(new en(a),l,u)}class Oh extends Wg{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function j$(t,e,n,r){const i=t.Su(1,e,n);Gg("Data must be an object, but it was:",i,r);const o=[],s=en.empty();Ji(r,(l,u)=>{const c=Qg(e,l,n);u=tr(u);const h=i.fu(c);if(u instanceof Oh)o.push(c);else{const d=wl(u,h);d!=null&&(o.push(c),s.set(c,d))}});const a=new hn(o);return new IR(s,a,i.fieldTransforms)}function z$(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[Pp(e,r,n)],l=[i];if(o.length%2!=0)throw new ne(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Pp(e,o[d])),l.push(o[d+1]);const u=[],c=en.empty();for(let d=a.length-1;d>=0;--d)if(!xR(u,a[d])){const p=a[d];let y=l[d];y=tr(y);const w=s.fu(p);if(y instanceof Oh)u.push(p);else{const T=wl(y,w);T!=null&&(u.push(p),c.set(p,T))}}const h=new hn(u);return new IR(c,h,s.fieldTransforms)}function W$(t,e,n,r=!1){return wl(n,t.Su(r?4:3,e))}function wl(t,e){if(kR(t=tr(t)))return Gg("Unsupported field value:",e,t),PR(t,e);if(t instanceof Wg)return function(r,i){if(!CR(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=wl(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=tr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $M(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_t.fromDate(r);return{timestampValue:pc(i.serializer,o)}}if(r instanceof _t){const o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(i.serializer,o)}}if(r instanceof qg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ts)return{bytesValue:GT(i.serializer,r._byteString)};if(r instanceof an){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ng(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Dh(r)}`)}(t,e)}function PR(t,e){const n={};return ST(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(t,(r,i)=>{const o=wl(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function kR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof qg||t instanceof ts||t instanceof an||t instanceof Wg)}function Gg(t,e,n){if(!kR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Dh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Pp(t,e,n){if((e=tr(e))instanceof bh)return e._internalPath;if(typeof e=="string")return Qg(t,e);throw gc("Field path arguments must be of type string or ",t,!1,void 0,n)}const q$=new RegExp("[~\\*/\\[\\]]");function Qg(t,e,n){if(e.search(q$)>=0)throw gc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bh(...e.split("."))._internalPath}catch{throw gc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ne(O.INVALID_ARGUMENT,a+t+l)}function xR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H$ extends NR{data(){return super.data()}}function Mh(t,e){return typeof e=="string"?Qg(t,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class Xg extends Yg{}function pi(t,e,...n){let r=[];e instanceof Yg&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Jg).length,a=o.filter(l=>l instanceof $h).length;if(s>1||s>0&&a>0)throw new ne(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $h extends Xg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $h(e,n,r)}_apply(e){const n=this._parse(e);return DR(e._query,n),new Pr(e.firestore,e.converter,wp(e._query,n))}_parse(e){const n=Kg(e.firestore);return function(o,s,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ne(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){r0(h,c);const p=[];for(const y of h)p.push(n0(l,o,y));d={arrayValue:{values:p}}}else d=n0(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||r0(h,c),d=W$(a,s,h,c==="in"||c==="not-in");return mt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kn(t,e,n){const r=e,i=Mh("where",t);return $h._create(i,r,n)}class Jg extends Yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)DR(s,l),s=wp(s,l)}(e._query,n),new Pr(e.firestore,e.converter,wp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends Xg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zg(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ne(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qa(o,s)}(e._query,this._field,this._direction);return new Pr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new fs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function K$(t,e="asc"){const n=e,r=Mh("orderBy",t);return Zg._create(r,n)}class ey extends Xg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ey(e,n,r)}_apply(e){return new Pr(e.firestore,e.converter,hc(e._query,this._limit,this._limitType))}}function G$(t){return L$("limit",t),ey._create("limit",t,"F")}function n0(t,e,n){if(typeof(n=tr(n))=="string"){if(n==="")throw new ne(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NT(e)&&n.indexOf("/")!==-1)throw new ne(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!he.isDocumentKey(r))throw new ne(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return A_(t,new he(r))}if(n instanceof an)return A_(t,n._key);throw new ne(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function r0(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DR(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Q${convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ji(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new qg(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){const n=ii(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);qe(eR(r));const i=new za(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LR extends NR{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _u extends LR{data(e={}){return super.data(e)}}class bR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _u(this._firestore,this._userDataWriter,r.key,r,new Hs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new _u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new _u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:X$(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function X$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class ty extends Q${constructor(e){super(),this.firestore=e}convertBytes(e){return new ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function Fh(t){t=er(t,Pr);const e=er(t.firestore,Wi),n=zg(e),r=new ty(e);return VR(t._query),V$(n,t._query).then(i=>new bR(e,r,t,i))}function OR(t,e,n,...r){t=er(t,an);const i=er(t.firestore,Wi),o=Kg(i);let s;return s=typeof(e=tr(e))=="string"||e instanceof bh?z$(o,"updateDoc",t._key,e,n,r):j$(o,"updateDoc",t._key,e),ry(i,[s.toMutation(t._key,Fn.exists(!0))])}function MR(t){return ry(er(t.firestore,Wi),[new Pg(t._key,Fn.none())])}function ny(t,e){const n=er(t.firestore,Wi),r=jg(t),i=Y$(t.converter,e);return ry(n,[B$(Kg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Fn.exists(!1))]).then(()=>r)}function Uh(t,...e){var n,r,i;t=tr(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||t0(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(t0(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof an)u=er(t.firestore,Wi),c=Cg(t._key.path),l={next:h=>{e[s]&&e[s](J$(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=er(t,Pr);u=er(h.firestore,Wi),c=h._query;const d=new ty(u);l={next:p=>{e[s]&&e[s](new bR(u,d,h,p))},error:e[s+1],complete:e[s+2]},VR(t._query)}return function(d,p,y,w){const T=new ER(w),m=new pR(p,T,y);return d.asyncQueue.enqueueAndForget(async()=>dR(await Cp(d),m)),()=>{T.La(),d.asyncQueue.enqueueAndForget(async()=>fR(await Cp(d),m))}}(zg(u),c,a,l)}function ry(t,e){return function(r,i){const o=new vr;return r.asyncQueue.enqueueAndForget(async()=>v$(await N$(r),i,o)),o.promise}(zg(t),e)}function J$(t,e,n){const r=n.docs.get(e._key),i=new ty(t);return new LR(t,i,e._key,r,new Hs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ds=i})(Ob),nc(new Na("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Wi(new tM(r.getProvider("auth-internal")),new oM(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Vo(w_,"4.4.1",e),Vo(w_,"4.4.1","esm2017")})();var Z$="firebase",eF="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo(Z$,eF,"app");var Bd={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const tF={apiKey:Bd.REACT_APP_Firebase_apiKey,authDomain:"overdog-577c3.firebaseapp.com",projectId:"overdog-577c3",storageBucket:"overdog-577c3.appspot.com",messagingSenderId:Bd.REACT_APP_Firebase_messagingSenderId,appId:Bd.REACT_APP_Firebase_appId},nF=pS(tF),lr=M$(nF),rF=async t=>{const e=ar(lr,"likes"),n=pi(e,kn("postId","==",t));return new Promise((r,i)=>{Uh(n,o=>{const s=o.docs.map(a=>({...a.data()}));s==null&&r(0),localStorage.setItem("like",JSON.stringify(s)),r(s)},o=>{i(o)})})},iF=async t=>{const e=ar(lr,"likes"),n=pi(e,kn("postId","==",t.postId),kn("userId","==",t.userId));return new Promise((r,i)=>{Uh(n,o=>{const s=o.docs.map(a=>({...a.data()}));s==null&&r(0),localStorage.setItem("userLike",JSON.stringify(s)),r(s)},o=>{i(o)})})},oF=async t=>{try{const e=ar(lr,"likes"),n=pi(e,kn("postId","==",t.postId),kn("userId","==",t.userId));(await Fh(n)).forEach(i=>{const o=i.ref;MR(o).then(()=>{}).catch(s=>{console.error("Error : ",s)})})}catch(e){console.log(e)}},sF=async t=>{try{const e=ar(lr,"likes");await ny(e,{userId:t.userId,postId:t.postId}).then(()=>{})}catch(e){console.log(e)}},aF=sr({key:"likebyUserIdState",default:async t=>await iF(t)}),lF=sr({key:"deleteLikeState",default:async t=>await oF(t)}),uF=sr({key:"setLikeState",default:async t=>await sF(t)}),cF=sr({key:"likebyPostIdState",default:async t=>await rF(t),effects:[({setSelf:t,onSet:e})=>{const n="like",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]});let hF={data:""},dF=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||hF,fF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pF=/\/\*[^]*?\*\/|  +/g,i0=/\n+/g,Or=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Or(s,o):o+"{"+Or(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=Or(s,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Or.p?Or.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ur={},$R=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+$R(t[n]);return e}return t},mF=(t,e,n,r,i)=>{let o=$R(t),s=ur[o]||(ur[o]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(o));if(!ur[s]){let l=o!==t?t:(u=>{let c,h,d=[{}];for(;c=fF.exec(u.replace(pF,""));)c[4]?d.shift():c[3]?(h=c[3].replace(i0," ").trim(),d.unshift(d[0][h]=d[0][h]||{})):d[0][c[1]]=c[2].replace(i0," ").trim();return d[0]})(t);ur[s]=Or(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&ur.g?ur.g:null;return n&&(ur.g=ur[s]),((l,u,c,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(ur[s],e,r,a),s},gF=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Or(a,""):a===!1?"":a}return r+i+(s??"")},"");function Bh(t){let e=this||{},n=t.call?t(e.p):t;return mF(n.unshift?n.raw?gF(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,dF(e.target),e.g,e.o,e.k)}let FR,kp,xp;Bh.bind({g:1});let Ar=Bh.bind({k:1});function yF(t,e,n,r){Or.p=e,FR=t,kp=n,xp=r}function mi(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:kp&&kp()},a),n.o=/ *go\d+/.test(l),a.className=Bh.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let u=t;return t[0]&&(u=a.as||t,delete a.as),xp&&u[0]&&xp(a),FR(u,a)}return e?e(i):i}}var vF=t=>typeof t=="function",yc=(t,e)=>vF(t)?t(e):t,_F=(()=>{let t=0;return()=>(++t).toString()})(),UR=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),wF=20,wu=new Map,EF=1e3,o0=t=>{if(wu.has(t))return;let e=setTimeout(()=>{wu.delete(t),eo({type:4,toastId:t})},EF);wu.set(t,e)},SF=t=>{let e=wu.get(t);e&&clearTimeout(e)},Np=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,wF)};case 1:return e.toast.id&&SF(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?Np(t,{type:1,toast:n}):Np(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?o0(r):t.toasts.forEach(o=>{o0(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Eu=[],Su={toasts:[],pausedAt:void 0},eo=t=>{Su=Np(Su,t),Eu.forEach(e=>{e(Su)})},TF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},RF=(t={})=>{let[e,n]=j.useState(Su);j.useEffect(()=>(Eu.push(n),()=>{let i=Eu.indexOf(n);i>-1&&Eu.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,s;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||TF[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},AF=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||_F()}),El=t=>(e,n)=>{let r=AF(e,t,n);return eo({type:2,toast:r}),r.id},dn=(t,e)=>El("blank")(t,e);dn.error=El("error");dn.success=El("success");dn.loading=El("loading");dn.custom=El("custom");dn.dismiss=t=>{eo({type:3,toastId:t})};dn.remove=t=>eo({type:4,toastId:t});dn.promise=(t,e,n)=>{let r=dn.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(dn.success(yc(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{dn.error(yc(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var IF=(t,e)=>{eo({type:1,toast:{id:t,height:e}})},CF=()=>{eo({type:5,time:Date.now()})},PF=t=>{let{toasts:e,pausedAt:n}=RF(t);j.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&dn.dismiss(a.id);return}return setTimeout(()=>dn.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=j.useCallback(()=>{n&&eo({type:6,time:Date.now()})},[n]),i=j.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=s||{},c=e.filter(p=>(p.position||u)===(o.position||u)&&p.height),h=c.findIndex(p=>p.id===o.id),d=c.filter((p,y)=>y<h&&p.visible).length;return c.filter(p=>p.visible).slice(...a?[d+1]:[0,d]).reduce((p,y)=>p+(y.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:IF,startPause:CF,endPause:r,calculateOffset:i}}},kF=Ar`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xF=Ar`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NF=Ar`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,VF=mi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${NF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,DF=Ar`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,LF=mi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${DF} 1s linear infinite;
`,bF=Ar`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OF=Ar`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,MF=mi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$F=mi("div")`
  position: absolute;
`,FF=mi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,UF=Ar`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BF=mi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${UF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jF=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?j.createElement(BF,null,e):e:n==="blank"?null:j.createElement(FF,null,j.createElement(LF,{...r}),n!=="loading"&&j.createElement($F,null,n==="error"?j.createElement(VF,{...r}):j.createElement(MF,{...r})))},zF=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,WF=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,qF="0%{opacity:0;} 100%{opacity:1;}",HF="0%{opacity:1;} 100%{opacity:0;}",KF=mi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GF=mi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QF=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=UR()?[qF,HF]:[zF(n),WF(n)];return{animation:e?`${Ar(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ar(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},YF=j.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?QF(t.position||e||"top-center",t.visible):{opacity:0},o=j.createElement(jF,{toast:t}),s=j.createElement(GF,{...t.ariaProps},yc(t.message,t));return j.createElement(KF,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):j.createElement(j.Fragment,null,o,s))});yF(j.createElement);var XF=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=j.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return j.createElement("div",{ref:o,className:e,style:n},i)},JF=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:UR()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},ZF=Bh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,nu=16,BR=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=PF(n);return j.createElement("div",{style:{position:"fixed",zIndex:9999,top:nu,left:nu,right:nu,bottom:nu,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,h=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),d=JF(c,h);return j.createElement(XF,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?ZF:"",style:d},u.type==="custom"?yc(u.message,u):i?i(u):j.createElement(YF,{toast:u,position:c}))}))},Vp=dn;const e3=t=>{const e=ar(lr,"follows"),n=pi(e,kn("followerId","==",t.followerId),kn("followingId","==",t.followingId));return new Promise((r,i)=>{Uh(n,o=>{const s=o.docs.map(a=>({...a.data()}));localStorage.setItem("following",JSON.stringify(s)),r(s)},o=>{i(o)})})},t3=async t=>{try{const e=ar(lr,"follows"),n=pi(e,kn("followerId","==",t.followerId),kn("followingId","==",t.followingId));(await Fh(n)).forEach(i=>{const o=i.ref;MR(o).then(()=>{}).catch(s=>{console.error("Error : ",s)})})}catch(e){console.log(e)}},n3=async t=>{try{const e=ar(lr,"follows"),n=pi(e,kn("followerId","==",t.followerId));if((await Fh(n)).docs.find(o=>o.data().followingId===t.followingId))console.log("  followerId  followingId   ");else{const s=(await ny(e,{followerId:t.followerId,followingId:t.followingId})).id;await OR(jg(e,s),{followId:s})}}catch(e){console.error(e)}},r3=sr({key:"setFollowState",default:async t=>await n3(t)}),i3=sr({key:"deleteFollowState",default:async t=>await t3(t)}),o3=sr({key:"followState",default:async t=>await e3(t),effects:[({setSelf:t,onSet:e})=>{const n="following",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]});var iy={};Object.defineProperty(iy,"__esModule",{value:!0});var oy=iy.recoilPersist=void 0;const s3=(t={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:n=localStorage,converter:r=JSON}=t,i=({onSet:u,node:c,trigger:h,setSelf:d})=>{if(h==="get"){const p=s();typeof p.then=="function"&&p.then(y=>{y.hasOwnProperty(c.key)&&d(y[c.key])}),p.hasOwnProperty(c.key)&&d(p[c.key])}u(async(p,y,w)=>{const T=s();typeof T.then=="function"?T.then(m=>o(p,m,c.key,w)):o(p,T,c.key,w)})},o=(u,c,h,d)=>{d?delete c[h]:c[h]=u,l(c)},s=()=>{const u=n.getItem(e);return u==null?{}:typeof u=="string"?a(u):typeof u.then=="function"?u.then(a):{}},a=u=>{if(u===void 0)return{};try{return r.parse(u)}catch(c){return console.error(c),{}}},l=u=>{try{typeof n.mergeItem=="function"?n.mergeItem(e,r.stringify(u)):n.setItem(e,r.stringify(u))}catch(c){console.error(c)}};return{persistAtom:i}};oy=iy.recoilPersist=s3;const{persistAtom:a3}=oy(),jR=oS({key:"userIdState",default:"test",effects_UNSTABLE:[a3]}),l3=t=>{const[e,n]=j.useState(!1),[r,i]=j.useState(!0),[o,s]=j.useState(0),a=o===0,l=o===t.data.imageUrlList.length-1,u=Nm(),c=()=>{u("/comment")},h=()=>Vp(""),d=()=>Vp(""),p=()=>{try{e?(lF(g),d()):(uF(g),h()),n(!e)}catch(K){console.error("Error:",K)}},y=()=>{try{r?(r3(V),h()):(i3(V),d()),i(!r)}catch(K){console.error("Error:",K)}};j.useEffect(()=>{setTimeout(()=>{const K=localStorage.getItem("like"),Se=localStorage.getItem("userLike");Se==null?C(1):C(JSON.parse(Se)),f(JSON.parse(K));const $=localStorage.getItem("following");se($?JSON.parse($):null)},5e3)});const w=()=>{const K=(o+1)%t.data.imageUrlList.length;s(K)},T=()=>{const K=(o-1+t.data.imageUrlList.length)%t.data.imageUrlList.length;s(K)},[m,f]=Ur(cF(t.data.postId)),g={postId:t.data&&t.data.postId,userId:t.data&&t.data.userId},[A,C]=Ur(aF(g));A==null&&n(!e);const[x]=Ur(jR),V={followingId:x,followerId:t.data.userId},[z,se]=Ur(o3(V));return z.length!==0&&i(!r),N.jsxs("div",{children:[N.jsxs("div",{className:"flex items-center my-3 mx-2",children:[N.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),N.jsx("div",{className:"ml-2 text-[14px] font-bold",children:t.data.userId}),r?N.jsx("div",{className:"ml-2 text-black text-[14px] ",onClick:y,children:""}):N.jsx("div",{className:"ml-2 text-blue-400 text-[14px] ",onClick:y,children:""})]}),N.jsxs("div",{className:"relative",children:[N.jsx("img",{src:t.data.imageUrlList[o],alt:" ",className:"w-full h-72"}),!a&&N.jsx("button",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 ml-1 text-4xl bg-white rounded-full opacity-70",onClick:T,children:N.jsx(wL,{})}),!l&&N.jsx("button",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 mr-1 text-4xl bg-white rounded-full opacity-70",onClick:w,children:N.jsx(_L,{})})]}),N.jsxs("div",{className:"flex-row ml-3 mt-3",children:[N.jsxs("div",{className:"flex justify-between",children:[N.jsxs("div",{className:"text-[14px] my-1 font-semibold",children:[" ",m==null?"0":m.length,""]}),N.jsxs("div",{className:"mx-2 text-[24px]",onClick:p,children:[N.jsx(BR,{position:"bottom-center",toastOptions:{style:{border:"2px solid #FFFFFF",padding:"10px",color:"#FFFFFF",height:"8px",width:"fit",fontSize:"12px",background:"black"}}}),e?N.jsx(vL,{}):N.jsx(yL,{})]})]}),N.jsxs("div",{className:"flex text-[14px]",children:[N.jsx("div",{className:"font-semibold",children:t.data.userId}),N.jsx("div",{className:"ml-1",children:t.data.postContent})]}),t.data.tagList.map((K,Se)=>N.jsxs("span",{className:"text-[14px]",children:["#",K+" "]},Se)),N.jsx("div",{className:"text-[13px] text-gray-500 cursor-pointer hover:text-black w-fit ",onClick:c,children:" 1  "}),N.jsx("div",{className:"text-[13px] text-gray-500",children:"1 "})]})]})},{persistAtom:u3}=oy(),c3=async t=>{const e=ar(lr,"posts"),n=pi(e,kn("postId","==",t),G$(1));return(await Fh(n)).docs.map(o=>o.data())},h3=t=>{const e=ar(lr,"comments"),n=pi(e,kn("postId","==",t),K$("createdAt","desc"));return new Promise((r,i)=>{Uh(n,o=>{const s=o.docs.map(a=>({...a.data()}));localStorage.setItem("comment",JSON.stringify(s)),r(s)},o=>{i(o)})})},d3=async t=>{try{const e=ar(lr,"comments"),r=(await ny(e,{commentContent:t.commentContent,postId:t.postId,origin_commentId:t.originCommentId,userId:t.userId,createdAt:new Date})).id;await OR(jg(e,r),{commentId:r})}catch(e){console.log(e)}},f3=sr({key:"postState",default:async t=>await c3(t)}),p3=sr({key:"commentState",default:async t=>await h3(t),effects:[({setSelf:t,onSet:e})=>{const n="comment",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),m3=sr({key:"setCommentState",default:async t=>await d3(t)}),Dp=oS({key:"postIdState",default:"null",effects_UNSTABLE:[u3]}),g3=()=>{const t=o=>{console.log(JSON.stringify(o));const s=o.postId,a=o.userId;if(s==""||s===null){console.error(" .");return}const[,l]=Ur(Dp),[,u]=Ur(jR);if(a!==null||a!=="")u(a);else{console.error(" .");return}if(s!==null||s!=="")l(s);else{console.error(" .");return}window.flutter_inappwebview.postMessage(JSON.stringify(o))};window.addEventListener("fromApptoWeb",()=>{window.flutter_inappwebview.callHandler("fromApptoWeb").then(t)});const[e,n]=Ur(Dp);if(n("NZPl4Cr1fxH54bzJm7Wy"),e==null)return N.jsx("div",{children:" ."});const r=mL(f3(e));if(r.state==="loading")return N.jsx("div",{children:" ..."});if(r.state==="hasError")return N.jsx("div",{children:" ."});const i=r.contents;return r.state==="hasValue"&&n(i[0].postId),N.jsx(j.Suspense,{fallback:"...loading",children:N.jsx("div",{className:"grid-rows-3",children:N.jsx(l3,{data:i[0]})})})},zR=t=>{const n=new Date(t.createdAt.seconds*1e3+t.createdAt.nanoseconds/1e6),i=new Date-n,o=Math.floor(i/(1e3*60));let s;return o/60>=24?s=`${Math.floor(o/60/24)} `:o>=60?s=`${Math.floor(o/60)} `:s=`${o} `,s},y3=t=>N.jsx("div",{children:t.data.map((e,n)=>N.jsxs("div",{className:"flex items-center my-3 mx-2",children:[N.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:"nickname"}),N.jsx("div",{className:"ml-2 text-[14px]",children:e.commentContent})]}),N.jsx("div",{className:"flex",children:N.jsx("div",{className:"ml-2 text-[11px]",children:zR(e)})})]})]},n))});var Sl=t=>t.type==="checkbox",Ro=t=>t instanceof Date,Kt=t=>t==null;const WR=t=>typeof t=="object";var wt=t=>!Kt(t)&&!Array.isArray(t)&&WR(t)&&!Ro(t),v3=t=>wt(t)&&t.target?Sl(t.target)?t.target.checked:t.target.value:t,_3=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,w3=(t,e)=>t.has(_3(e)),E3=t=>{const e=t.constructor&&t.constructor.prototype;return wt(e)&&e.hasOwnProperty("isPrototypeOf")},sy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(sy&&(t instanceof Blob||t instanceof FileList))&&(n||wt(t)))if(e=n?[]:{},!n&&!E3(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=wn(t[r]));else return t;return e}var Tl=t=>Array.isArray(t)?t.filter(Boolean):[],ut=t=>t===void 0,ae=(t,e,n)=>{if(!e||!wt(t))return n;const r=Tl(e.split(/[,[\].]+?/)).reduce((i,o)=>Kt(i)?i:i[o],t);return ut(r)||r===t?ut(t[e])?n:t[e]:r},fr=t=>typeof t=="boolean";const s0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},On={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};_e.createContext(null);var S3=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==On.all&&(e._proxyFormState[s]=!r||On.all),n&&(n[s]=!0),t[s]}});return i},En=t=>wt(t)&&!Object.keys(t).length,T3=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return En(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!r||On.all))},jd=t=>Array.isArray(t)?t:[t];function R3(t){const e=_e.useRef(t);e.current=t,_e.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Qn=t=>typeof t=="string",A3=(t,e,n,r,i)=>Qn(t)?(r&&e.watch.add(t),ae(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),ae(n,o))):(r&&(e.watchAll=!0),n),ay=t=>/^\w*$/.test(t),qR=t=>Tl(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(t,e,n)=>{let r=-1;const i=ay(e)?[e]:qR(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=t[a];l=wt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},I3=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},a0=t=>({isOnSubmit:!t||t===On.onSubmit,isOnBlur:t===On.onBlur,isOnChange:t===On.onChange,isOnAll:t===On.all,isOnTouch:t===On.onTouched}),l0=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ha=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=ae(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)break;if(s.ref&&e(s.ref,s.name)&&!r)break;ha(a,e)}else wt(a)&&ha(a,e)}}};var C3=(t,e,n)=>{const r=Tl(ae(t,n));return Je(r,"root",e[n]),Je(t,n,r),t},ly=t=>t.type==="file",jr=t=>typeof t=="function",vc=t=>{if(!sy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Tu=t=>Qn(t),uy=t=>t.type==="radio",_c=t=>t instanceof RegExp;const u0={value:!1,isValid:!1},c0={value:!0,isValid:!0};var HR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ut(t[0].attributes.value)?ut(t[0].value)||t[0].value===""?c0:{value:t[0].value,isValid:!0}:c0:u0}return u0};const h0={isValid:!1,value:null};var KR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,h0):h0;function d0(t,e,n="validate"){if(Tu(t)||Array.isArray(t)&&t.every(Tu)||fr(t)&&!t)return{type:n,message:Tu(t)?t:"",ref:e}}var so=t=>wt(t)&&!_c(t)?t:{value:t,message:""},f0=async(t,e,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:d,validate:p,name:y,valueAsNumber:w,mount:T,disabled:m}=t._f,f=ae(e,y);if(!T||m)return{};const g=s?s[0]:o,A=$=>{r&&g.reportValidity&&(g.setCustomValidity(fr($)?"":$||""),g.reportValidity())},C={},x=uy(o),V=Sl(o),z=x||V,se=(w||ly(o))&&ut(o.value)&&ut(f)||vc(o)&&o.value===""||f===""||Array.isArray(f)&&!f.length,K=I3.bind(null,y,n,C),Se=($,b,ee,ue=cr.maxLength,Ie=cr.minLength)=>{const be=$?b:ee;C[y]={type:$?ue:Ie,message:be,ref:o,...K($?ue:Ie,be)}};if(i?!Array.isArray(f)||!f.length:a&&(!z&&(se||Kt(f))||fr(f)&&!f||V&&!HR(s).isValid||x&&!KR(s).isValid)){const{value:$,message:b}=Tu(a)?{value:!!a,message:a}:so(a);if($&&(C[y]={type:cr.required,message:b,ref:g,...K(cr.required,b)},!n))return A(b),C}if(!se&&(!Kt(c)||!Kt(h))){let $,b;const ee=so(h),ue=so(c);if(!Kt(f)&&!isNaN(f)){const Ie=o.valueAsNumber||f&&+f;Kt(ee.value)||($=Ie>ee.value),Kt(ue.value)||(b=Ie<ue.value)}else{const Ie=o.valueAsDate||new Date(f),be=S=>new Date(new Date().toDateString()+" "+S),B=o.type=="time",D=o.type=="week";Qn(ee.value)&&f&&($=B?be(f)>be(ee.value):D?f>ee.value:Ie>new Date(ee.value)),Qn(ue.value)&&f&&(b=B?be(f)<be(ue.value):D?f<ue.value:Ie<new Date(ue.value))}if(($||b)&&(Se(!!$,ee.message,ue.message,cr.max,cr.min),!n))return A(C[y].message),C}if((l||u)&&!se&&(Qn(f)||i&&Array.isArray(f))){const $=so(l),b=so(u),ee=!Kt($.value)&&f.length>+$.value,ue=!Kt(b.value)&&f.length<+b.value;if((ee||ue)&&(Se(ee,$.message,b.message),!n))return A(C[y].message),C}if(d&&!se&&Qn(f)){const{value:$,message:b}=so(d);if(_c($)&&!f.match($)&&(C[y]={type:cr.pattern,message:b,ref:o,...K(cr.pattern,b)},!n))return A(b),C}if(p){if(jr(p)){const $=await p(f,e),b=d0($,g);if(b&&(C[y]={...b,...K(cr.validate,b.message)},!n))return A(b.message),C}else if(wt(p)){let $={};for(const b in p){if(!En($)&&!n)break;const ee=d0(await p[b](f,e),g,b);ee&&($={...ee,...K(b,ee.message)},A(ee.message),n&&(C[y]=$))}if(!En($)&&(C[y]={ref:g,...$},!n))return C}}return A(!0),C};function P3(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ut(t)?r++:t[e[r++]];return t}function k3(t){for(const e in t)if(t.hasOwnProperty(e)&&!ut(t[e]))return!1;return!0}function Ct(t,e){const n=Array.isArray(e)?e:ay(e)?[e]:qR(e),r=n.length===1?t:P3(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(wt(r)&&En(r)||Array.isArray(r)&&k3(r))&&Ct(t,n.slice(0,-1)),t}var zd=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},wc=t=>Kt(t)||!WR(t);function Pi(t,e){if(wc(t)||wc(e))return t===e;if(Ro(t)&&Ro(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Ro(o)&&Ro(s)||wt(o)&&wt(s)||Array.isArray(o)&&Array.isArray(s)?!Pi(o,s):o!==s)return!1}}return!0}var GR=t=>t.type==="select-multiple",x3=t=>uy(t)||Sl(t),Wd=t=>vc(t)&&t.isConnected,QR=t=>{for(const e in t)if(jr(t[e]))return!0;return!1};function Ec(t,e={}){const n=Array.isArray(t);if(wt(t)||n)for(const r in t)Array.isArray(t[r])||wt(t[r])&&!QR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Ec(t[r],e[r])):Kt(t[r])||(e[r]=!0);return e}function YR(t,e,n){const r=Array.isArray(t);if(wt(t)||r)for(const i in t)Array.isArray(t[i])||wt(t[i])&&!QR(t[i])?ut(e)||wc(n[i])?n[i]=Array.isArray(t[i])?Ec(t[i],[]):{...Ec(t[i])}:YR(t[i],Kt(e)?{}:e[i],n[i]):n[i]=!Pi(t[i],e[i]);return n}var qd=(t,e)=>YR(t,e,Ec(e)),XR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ut(t)?t:e?t===""?NaN:t&&+t:n&&Qn(t)?new Date(t):r?r(t):t;function Hd(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return ly(e)?e.files:uy(e)?KR(t.refs).value:GR(e)?[...e.selectedOptions].map(({value:n})=>n):Sl(e)?HR(t.refs).value:XR(ut(e.value)?t.ref.value:e.value,t)}var N3=(t,e,n,r)=>{const i={};for(const o of t){const s=ae(e,o);s&&Je(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},bs=t=>ut(t)?t:_c(t)?t.source:wt(t)?_c(t.value)?t.value.source:t.value:t,V3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function p0(t,e,n){const r=ae(t,n);if(r||ay(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=ae(e,o),a=ae(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var D3=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,L3=(t,e)=>!Tl(ae(t,e)).length&&Ct(t,e);const b3={mode:On.onSubmit,reValidateMode:On.onChange,shouldFocusError:!0};function O3(t={},e){let n={...b3,...t},r={submitCount:0,isDirty:!1,isLoading:jr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=wt(n.defaultValues)||wt(n.values)?wn(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:wn(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:zd(),array:zd(),state:zd()},p=a0(n.mode),y=a0(n.reValidateMode),w=n.criteriaMode===On.all,T=_=>I=>{clearTimeout(c),c=setTimeout(_,I)},m=async _=>{if(h.isValid||_){const I=n.resolver?En((await se()).errors):await Se(i,!0);I!==r.isValid&&d.state.next({isValid:I})}},f=_=>h.isValidating&&d.state.next({isValidating:_}),g=(_,I=[],k,Q,G=!0,W=!0)=>{if(Q&&k){if(a.action=!0,W&&Array.isArray(ae(i,_))){const ce=k(ae(i,_),Q.argA,Q.argB);G&&Je(i,_,ce)}if(W&&Array.isArray(ae(r.errors,_))){const ce=k(ae(r.errors,_),Q.argA,Q.argB);G&&Je(r.errors,_,ce),L3(r.errors,_)}if(h.touchedFields&&W&&Array.isArray(ae(r.touchedFields,_))){const ce=k(ae(r.touchedFields,_),Q.argA,Q.argB);G&&Je(r.touchedFields,_,ce)}h.dirtyFields&&(r.dirtyFields=qd(o,s)),d.state.next({name:_,isDirty:b(_,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(s,_,I)},A=(_,I)=>{Je(r.errors,_,I),d.state.next({errors:r.errors})},C=_=>{r.errors=_,d.state.next({errors:r.errors,isValid:!1})},x=(_,I,k,Q)=>{const G=ae(i,_);if(G){const W=ae(s,_,ut(k)?ae(o,_):k);ut(W)||Q&&Q.defaultChecked||I?Je(s,_,I?W:Hd(G._f)):Ie(_,W),a.mount&&m()}},V=(_,I,k,Q,G)=>{let W=!1,ce=!1;const Be={name:_},ht=!!(ae(i,_)&&ae(i,_)._f.disabled);if(!k||Q){h.isDirty&&(ce=r.isDirty,r.isDirty=Be.isDirty=b(),W=ce!==Be.isDirty);const vn=ht||Pi(ae(o,_),I);ce=!!(!ht&&ae(r.dirtyFields,_)),vn||ht?Ct(r.dirtyFields,_):Je(r.dirtyFields,_,!0),Be.dirtyFields=r.dirtyFields,W=W||h.dirtyFields&&ce!==!vn}if(k){const vn=ae(r.touchedFields,_);vn||(Je(r.touchedFields,_,k),Be.touchedFields=r.touchedFields,W=W||h.touchedFields&&vn!==k)}return W&&G&&d.state.next(Be),W?Be:{}},z=(_,I,k,Q)=>{const G=ae(r.errors,_),W=h.isValid&&fr(I)&&r.isValid!==I;if(t.delayError&&k?(u=T(()=>A(_,k)),u(t.delayError)):(clearTimeout(c),u=null,k?Je(r.errors,_,k):Ct(r.errors,_)),(k?!Pi(G,k):G)||!En(Q)||W){const ce={...Q,...W&&fr(I)?{isValid:I}:{},errors:r.errors,name:_};r={...r,...ce},d.state.next(ce)}f(!1)},se=async _=>n.resolver(s,n.context,N3(_||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),K=async _=>{const{errors:I}=await se(_);if(_)for(const k of _){const Q=ae(I,k);Q?Je(r.errors,k,Q):Ct(r.errors,k)}else r.errors=I;return I},Se=async(_,I,k={valid:!0})=>{for(const Q in _){const G=_[Q];if(G){const{_f:W,...ce}=G;if(W){const Be=l.array.has(W.name),ht=await f0(G,s,w,n.shouldUseNativeValidation&&!I,Be);if(ht[W.name]&&(k.valid=!1,I))break;!I&&(ae(ht,W.name)?Be?C3(r.errors,ht,W.name):Je(r.errors,W.name,ht[W.name]):Ct(r.errors,W.name))}ce&&await Se(ce,I,k)}}return k.valid},$=()=>{for(const _ of l.unMount){const I=ae(i,_);I&&(I._f.refs?I._f.refs.every(k=>!Wd(k)):!Wd(I._f.ref))&&le(_)}l.unMount=new Set},b=(_,I)=>(_&&I&&Je(s,_,I),!Pi(v(),o)),ee=(_,I,k)=>A3(_,l,{...a.mount?s:ut(I)?o:Qn(_)?{[_]:I}:I},k,I),ue=_=>Tl(ae(a.mount?s:o,_,t.shouldUnregister?ae(o,_,[]):[])),Ie=(_,I,k={})=>{const Q=ae(i,_);let G=I;if(Q){const W=Q._f;W&&(!W.disabled&&Je(s,_,XR(I,W)),G=vc(W.ref)&&Kt(I)?"":I,GR(W.ref)?[...W.ref.options].forEach(ce=>ce.selected=G.includes(ce.value)):W.refs?Sl(W.ref)?W.refs.length>1?W.refs.forEach(ce=>(!ce.defaultChecked||!ce.disabled)&&(ce.checked=Array.isArray(G)?!!G.find(Be=>Be===ce.value):G===ce.value)):W.refs[0]&&(W.refs[0].checked=!!G):W.refs.forEach(ce=>ce.checked=ce.value===G):ly(W.ref)?W.ref.value="":(W.ref.value=G,W.ref.type||d.values.next({name:_,values:{...s}})))}(k.shouldDirty||k.shouldTouch)&&V(_,G,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&q(_)},be=(_,I,k)=>{for(const Q in I){const G=I[Q],W=`${_}.${Q}`,ce=ae(i,W);(l.array.has(_)||!wc(G)||ce&&!ce._f)&&!Ro(G)?be(W,G,k):Ie(W,G,k)}},B=(_,I,k={})=>{const Q=ae(i,_),G=l.array.has(_),W=wn(I);Je(s,_,W),G?(d.array.next({name:_,values:{...s}}),(h.isDirty||h.dirtyFields)&&k.shouldDirty&&d.state.next({name:_,dirtyFields:qd(o,s),isDirty:b(_,W)})):Q&&!Q._f&&!Kt(W)?be(_,W,k):Ie(_,W,k),l0(_,l)&&d.state.next({...r}),d.values.next({name:_,values:{...s}}),!a.mount&&e()},D=async _=>{const I=_.target;let k=I.name,Q=!0;const G=ae(i,k),W=()=>I.type?Hd(G._f):v3(_),ce=Be=>{Q=Number.isNaN(Be)||Be===ae(s,k,Be)};if(G){let Be,ht;const vn=W(),kr=_.type===s0.BLUR||_.type===s0.FOCUS_OUT,jh=!V3(G._f)&&!n.resolver&&!ae(r.errors,k)&&!G._f.deps||D3(kr,ae(r.touchedFields,k),r.isSubmitted,y,p),gs=l0(k,l,kr);Je(s,k,vn),kr?(G._f.onBlur&&G._f.onBlur(_),u&&u(0)):G._f.onChange&&G._f.onChange(_);const to=V(k,vn,kr,!1),zh=!En(to)||gs;if(!kr&&d.values.next({name:k,type:_.type,values:{...s}}),jh)return h.isValid&&m(),zh&&d.state.next({name:k,...gs?{}:to});if(!kr&&gs&&d.state.next({...r}),f(!0),n.resolver){const{errors:Rl}=await se([k]);if(ce(vn),Q){const R=p0(r.errors,i,k),E=p0(Rl,i,R.name||k);Be=E.error,k=E.name,ht=En(Rl)}}else Be=(await f0(G,s,w,n.shouldUseNativeValidation))[k],ce(vn),Q&&(Be?ht=!1:h.isValid&&(ht=await Se(i,!0)));Q&&(G._f.deps&&q(G._f.deps),z(k,ht,Be,to))}},S=(_,I)=>{if(ae(r.errors,I)&&_.focus)return _.focus(),1},q=async(_,I={})=>{let k,Q;const G=jd(_);if(f(!0),n.resolver){const W=await K(ut(_)?_:G);k=En(W),Q=_?!G.some(ce=>ae(W,ce)):k}else _?(Q=(await Promise.all(G.map(async W=>{const ce=ae(i,W);return await Se(ce&&ce._f?{[W]:ce}:ce)}))).every(Boolean),!(!Q&&!r.isValid)&&m()):Q=k=await Se(i);return d.state.next({...!Qn(_)||h.isValid&&k!==r.isValid?{}:{name:_},...n.resolver||!_?{isValid:k}:{},errors:r.errors,isValidating:!1}),I.shouldFocus&&!Q&&ha(i,S,_?G:l.mount),Q},v=_=>{const I={...o,...a.mount?s:{}};return ut(_)?I:Qn(_)?ae(I,_):_.map(k=>ae(I,k))},P=(_,I)=>({invalid:!!ae((I||r).errors,_),isDirty:!!ae((I||r).dirtyFields,_),isTouched:!!ae((I||r).touchedFields,_),error:ae((I||r).errors,_)}),L=_=>{_&&jd(_).forEach(I=>Ct(r.errors,I)),d.state.next({errors:_?r.errors:{}})},te=(_,I,k)=>{const Q=(ae(i,_,{_f:{}})._f||{}).ref;Je(r.errors,_,{...I,ref:Q}),d.state.next({name:_,errors:r.errors,isValid:!1}),k&&k.shouldFocus&&Q&&Q.focus&&Q.focus()},H=(_,I)=>jr(_)?d.values.subscribe({next:k=>_(ee(void 0,I),k)}):ee(_,I,!0),le=(_,I={})=>{for(const k of _?jd(_):l.mount)l.mount.delete(k),l.array.delete(k),I.keepValue||(Ct(i,k),Ct(s,k)),!I.keepError&&Ct(r.errors,k),!I.keepDirty&&Ct(r.dirtyFields,k),!I.keepTouched&&Ct(r.touchedFields,k),!n.shouldUnregister&&!I.keepDefaultValue&&Ct(o,k);d.values.next({values:{...s}}),d.state.next({...r,...I.keepDirty?{isDirty:b()}:{}}),!I.keepIsValid&&m()},pe=({disabled:_,name:I,field:k,fields:Q,value:G})=>{if(fr(_)){const W=_?void 0:ut(G)?Hd(k?k._f:ae(Q,I)._f):G;Je(s,I,W),V(I,W,!1,!1,!0)}},oe=(_,I={})=>{let k=ae(i,_);const Q=fr(I.disabled);return Je(i,_,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:_}},name:_,mount:!0,...I}}),l.mount.add(_),k?pe({field:k,disabled:I.disabled,name:_,value:I.value}):x(_,!0,I.value),{...Q?{disabled:I.disabled}:{},...n.progressive?{required:!!I.required,min:bs(I.min),max:bs(I.max),minLength:bs(I.minLength),maxLength:bs(I.maxLength),pattern:bs(I.pattern)}:{},name:_,onChange:D,onBlur:D,ref:G=>{if(G){oe(_,I),k=ae(i,_);const W=ut(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,ce=x3(W),Be=k._f.refs||[];if(ce?Be.find(ht=>ht===W):W===k._f.ref)return;Je(i,_,{_f:{...k._f,...ce?{refs:[...Be.filter(Wd),W,...Array.isArray(ae(o,_))?[{}]:[]],ref:{type:W.type,name:_}}:{ref:W}}}),x(_,!1,void 0,W)}else k=ae(i,_,{}),k._f&&(k._f.mount=!1),(n.shouldUnregister||I.shouldUnregister)&&!(w3(l.array,_)&&a.action)&&l.unMount.add(_)}}},ke=()=>n.shouldFocusError&&ha(i,S,l.mount),xe=_=>{fr(_)&&(d.state.next({disabled:_}),ha(i,(I,k)=>{let Q=_;const G=ae(i,k);G&&fr(G._f.disabled)&&(Q||(Q=G._f.disabled)),I.disabled=Q},0,!1))},Te=(_,I)=>async k=>{k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let Q=wn(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:G,values:W}=await se();r.errors=G,Q=W}else await Se(i);Ct(r.errors,"root"),En(r.errors)?(d.state.next({errors:{}}),await _(Q,k)):(I&&await I({...r.errors},k),ke(),setTimeout(ke)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:En(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Ne=(_,I={})=>{ae(i,_)&&(ut(I.defaultValue)?B(_,wn(ae(o,_))):(B(_,I.defaultValue),Je(o,_,wn(I.defaultValue))),I.keepTouched||Ct(r.touchedFields,_),I.keepDirty||(Ct(r.dirtyFields,_),r.isDirty=I.defaultValue?b(_,wn(ae(o,_))):b()),I.keepError||(Ct(r.errors,_),h.isValid&&m()),d.state.next({...r}))},tt=(_,I={})=>{const k=_?wn(_):o,Q=wn(k),G=_&&!En(_)?Q:o;if(I.keepDefaultValues||(o=k),!I.keepValues){if(I.keepDirtyValues)for(const W of l.mount)ae(r.dirtyFields,W)?Je(G,W,ae(s,W)):B(W,ae(G,W));else{if(sy&&ut(_))for(const W of l.mount){const ce=ae(i,W);if(ce&&ce._f){const Be=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(vc(Be)){const ht=Be.closest("form");if(ht){ht.reset();break}}}}i={}}s=t.shouldUnregister?I.keepDefaultValues?wn(o):{}:wn(G),d.array.next({values:{...G}}),d.values.next({values:{...G}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!I.keepIsValid,a.watch=!!t.shouldUnregister,d.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!Pi(_,o)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:I.keepDirtyValues?r.dirtyFields:I.keepDefaultValues&&_?qd(o,_):{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Oe=(_,I)=>tt(jr(_)?_(s):_,I);return{control:{register:oe,unregister:le,getFieldState:P,handleSubmit:Te,setError:te,_executeSchema:se,_getWatch:ee,_getDirty:b,_updateValid:m,_removeUnmounted:$,_updateFieldArray:g,_updateDisabledField:pe,_getFieldArray:ue,_reset:tt,_resetDefaultValues:()=>jr(n.defaultValues)&&n.defaultValues().then(_=>{Oe(_,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:_=>{r={...r,..._}},_disableForm:xe,_subjects:d,_proxyFormState:h,_setErrors:C,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(_){a=_},get _defaultValues(){return o},get _names(){return l},set _names(_){l=_},get _formState(){return r},set _formState(_){r=_},get _options(){return n},set _options(_){n={...n,..._}}},trigger:q,register:oe,handleSubmit:Te,watch:H,setValue:B,getValues:v,reset:Oe,resetField:Ne,clearErrors:L,unregister:le,setError:te,setFocus:(_,I={})=>{const k=ae(i,_),Q=k&&k._f;if(Q){const G=Q.refs?Q.refs[0]:Q.ref;G.focus&&(G.focus(),I.shouldSelect&&G.select())}},getFieldState:P}}function M3(t={}){const e=_e.useRef(),n=_e.useRef(),[r,i]=_e.useState({isDirty:!1,isValidating:!1,isLoading:jr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:jr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...O3(t,()=>i(s=>({...s}))),formState:r});const o=e.current.control;return o._options=t,R3({subject:o._subjects.state,next:s=>{T3(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),_e.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),_e.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),_e.useEffect(()=>{t.values&&!Pi(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),_e.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),_e.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=S3(r,o),e.current}function $3(t){return Gi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M169.64,134.33l44.77-19.46A16,16,0,0,0,213,85.07L52.92,32.8A16,16,0,0,0,32.8,52.92L85.07,213a15.83,15.83,0,0,0,14.41,11l.79,0a15.83,15.83,0,0,0,14.6-9.59h0l19.46-44.77L184,219.31a16,16,0,0,0,22.63,0l12.68-12.68a16,16,0,0,0,0-22.63Zm-69.48,73.76.06-.05Zm95.15-.09-49.66-49.67a16,16,0,0,0-26,4.94l-19.42,44.65L48,48l159.87,52.21-44.64,19.41a16,16,0,0,0-4.94,26L208,195.31ZM88,24V16a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0ZM8,96a8,8,0,0,1,8-8h8a8,8,0,0,1,0,16H16A8,8,0,0,1,8,96ZM120.85,28.42l8-16a8,8,0,0,1,14.31,7.16l-8,16a8,8,0,1,1-14.31-7.16Zm-81.69,96a8,8,0,0,1-3.58,10.74l-16,8a8,8,0,0,1-7.16-14.31l16-8A8,8,0,0,1,39.16,124.42Z"}}]})(t)}const F3=()=>{const[t]=Ur(Dp),[e,n]=j.useState(!1),[r,i]=j.useState(""),[o,s]=j.useState(""),[a,l]=j.useState(""),[u,c]=j.useState(Array(1e3).fill(!1)),{formState:{isSubmitting:h},handleSubmit:d,reset:p,register:y,setValue:w}=M3(),T=(x,V)=>{s(x),l(V)},m=()=>Vp(""),f=()=>{p();const V={userId:1,commentContent:r.trim(),postId:t,originCommentId:a!=""?a:"null"};n(!0),m3(V),m(),setTimeout(()=>{n(!1),w("comment","")},200),s(""),l("")},[g,A]=gL(p3(t));if(g.state==="loading")return N.jsx("div",{children:" ..."});if(g.state==="hasError")return N.jsx("div",{children:" ."});const C=g.contents;return j.useEffect(()=>{setTimeout(()=>{const x=localStorage.getItem("comment");A(JSON.parse(x))},5e3)}),N.jsxs("div",{children:[C.map((x,V)=>N.jsx("div",{children:x.origin_commentId!="null"?"":N.jsxs("div",{children:[N.jsxs("div",{className:"flex items-center my-3 mx-2",children:[N.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:"nickname"}),N.jsx("div",{className:"ml-2 text-[14px]",children:x.commentContent})]}),N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"ml-2 text-[11px]",children:zR(x)}),N.jsx("div",{className:"ml-2 text-[11px]",onClick:()=>T(x.userId,x.commentId),children:" "})]})]})]}),N.jsxs("div",{className:"ml-12 text-[11px]  w-fit",onClick:()=>{const z=[...u];z[V]=!z[V],c(z)},children:[N.jsx("div",{className:"text-gray-500 cursor-pointer hover:text-black",children:C.filter(z=>z.origin_commentId===x.commentId).length>0?u[V]?" ":` ${C.filter(z=>z.origin_commentId===x.commentId).length}  `:""}),u[V]&&N.jsx(y3,{data:C.filter(z=>z.origin_commentId===x.commentId)})]})]})},x.commentId)),o&&N.jsx("div",{className:"fixed bottom-12 left-0 right-0 p-4",children:N.jsxs("div",{className:"bg-white border w-fit p-1 rounded-3xl text-[14px] text-gray-500",onClick:()=>s(""),children:[o," X"]})}),N.jsx("form",{onSubmit:d(f),children:N.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 flex justify-center",children:[N.jsx("textarea",{...y("comment"),placeholder:" .",name:"",id:"comment",cols:30,rows:1,onKeyDown:x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),d(f)())},onChange:x=>i(x.target.value),required:!0,className:"border border-solid border-gray-500 p-2 rounded-xl focus:outline-none mr-2 w-full"}),N.jsxs("button",{type:"submit",disabled:h,className:`bg-black text-white py-2 px-4 rounded-full ${e&&r.trim()!==""?"bg-slate-500":""}`,onClick:()=>r.trim()==""?n(!0):"",children:[N.jsx($3,{}),N.jsx(BR,{position:"bottom-center",toastOptions:{style:{border:"2px solid #FFFFFF",padding:"10px",color:"#FFFFFF",height:"8px",width:"fit",fontSize:"12px",background:"black"}}})]})]})})]})};function JR(t){return Gi({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"}}]})(t)}var ZR={exports:{}};(function(t,e){(function(n,r){t.exports=r(j)})(tA,n=>(()=>{var r={703:(a,l,u)=>{var c=u(414);function h(){}function d(){}d.resetWarningCache=h,a.exports=function(){function p(T,m,f,g,A,C){if(C!==c){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}function y(){return p}p.isRequired=p;var w={array:p,bigint:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:y,element:p,elementType:p,instanceOf:y,node:p,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:d,resetWarningCache:h};return w.PropTypes=w,w}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,o),u.exports}o.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return o.d(l,{a:l}),l},o.d=(a,l)=>{for(var u in l)o.o(l,u)&&!o.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s={};return(()=>{o.r(s),o.d(s,{default:()=>Se});var a=o(98),l=o.n(a),u=o(697),c=o.n(u);function h(){return h=Object.assign?Object.assign.bind():function($){for(var b=1;b<arguments.length;b++){var ee=arguments[b];for(var ue in ee)Object.prototype.hasOwnProperty.call(ee,ue)&&($[ue]=ee[ue])}return $},h.apply(this,arguments)}var d=function($){var b=$.pageClassName,ee=$.pageLinkClassName,ue=$.page,Ie=$.selected,be=$.activeClassName,B=$.activeLinkClassName,D=$.getEventListener,S=$.pageSelectedHandler,q=$.href,v=$.extraAriaContext,P=$.pageLabelBuilder,L=$.rel,te=$.ariaLabel||"Page "+ue+(v?" "+v:""),H=null;return Ie&&(H="page",te=$.ariaLabel||"Page "+ue+" is your current page",b=b!==void 0?b+" "+be:be,ee!==void 0?B!==void 0&&(ee=ee+" "+B):ee=B),l().createElement("li",{className:b},l().createElement("a",h({rel:L,role:q?void 0:"button",className:ee,href:q,tabIndex:Ie?"-1":"0","aria-label":te,"aria-current":H,onKeyPress:S},D(S)),P(ue)))};d.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const p=d;function y(){return y=Object.assign?Object.assign.bind():function($){for(var b=1;b<arguments.length;b++){var ee=arguments[b];for(var ue in ee)Object.prototype.hasOwnProperty.call(ee,ue)&&($[ue]=ee[ue])}return $},y.apply(this,arguments)}var w=function($){var b=$.breakLabel,ee=$.breakAriaLabel,ue=$.breakClassName,Ie=$.breakLinkClassName,be=$.breakHandler,B=$.getEventListener,D=ue||"break";return l().createElement("li",{className:D},l().createElement("a",y({className:Ie,role:"button",tabIndex:"0","aria-label":ee,onKeyPress:be},B(be)),b))};w.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabel:c().string,breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const T=w;function m($){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return $??b}function f($){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f($)}function g(){return g=Object.assign?Object.assign.bind():function($){for(var b=1;b<arguments.length;b++){var ee=arguments[b];for(var ue in ee)Object.prototype.hasOwnProperty.call(ee,ue)&&($[ue]=ee[ue])}return $},g.apply(this,arguments)}function A($,b){for(var ee=0;ee<b.length;ee++){var ue=b[ee];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty($,ue.key,ue)}}function C($,b){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,ue){return ee.__proto__=ue,ee},C($,b)}function x($,b){if(b&&(f(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V($)}function V($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function z($){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},z($)}function se($,b,ee){return b in $?Object.defineProperty($,b,{value:ee,enumerable:!0,configurable:!0,writable:!0}):$[b]=ee,$}var K=function($){(function(D,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(S&&S.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),S&&C(D,S)})(B,$);var b,ee,ue,Ie,be=(ue=B,Ie=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,S=z(ue);if(Ie){var q=z(this).constructor;D=Reflect.construct(S,arguments,q)}else D=S.apply(this,arguments);return x(this,D)});function B(D){var S,q;return function(v,P){if(!(v instanceof P))throw new TypeError("Cannot call a class as a function")}(this,B),se(V(S=be.call(this,D)),"handlePreviousPage",function(v){var P=S.state.selected;S.handleClick(v,null,P>0?P-1:void 0,{isPrevious:!0})}),se(V(S),"handleNextPage",function(v){var P=S.state.selected,L=S.props.pageCount;S.handleClick(v,null,P<L-1?P+1:void 0,{isNext:!0})}),se(V(S),"handlePageSelected",function(v,P){if(S.state.selected===v)return S.callActiveCallback(v),void S.handleClick(P,null,void 0,{isActive:!0});S.handleClick(P,null,v)}),se(V(S),"handlePageChange",function(v){S.state.selected!==v&&(S.setState({selected:v}),S.callCallback(v))}),se(V(S),"getEventListener",function(v){return se({},S.props.eventListener,v)}),se(V(S),"handleClick",function(v,P,L){var te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},H=te.isPrevious,le=H!==void 0&&H,pe=te.isNext,oe=pe!==void 0&&pe,ke=te.isBreak,xe=ke!==void 0&&ke,Te=te.isActive,Ne=Te!==void 0&&Te;v.preventDefault?v.preventDefault():v.returnValue=!1;var tt=S.state.selected,Oe=S.props.onClick,ze=L;if(Oe){var Ue=Oe({index:P,selected:tt,nextSelectedPage:L,event:v,isPrevious:le,isNext:oe,isBreak:xe,isActive:Ne});if(Ue===!1)return;Number.isInteger(Ue)&&(ze=Ue)}ze!==void 0&&S.handlePageChange(ze)}),se(V(S),"handleBreakClick",function(v,P){var L=S.state.selected;S.handleClick(P,v,L<v?S.getForwardJump():S.getBackwardJump(),{isBreak:!0})}),se(V(S),"callCallback",function(v){S.props.onPageChange!==void 0&&typeof S.props.onPageChange=="function"&&S.props.onPageChange({selected:v})}),se(V(S),"callActiveCallback",function(v){S.props.onPageActive!==void 0&&typeof S.props.onPageActive=="function"&&S.props.onPageActive({selected:v})}),se(V(S),"getElementPageRel",function(v){var P=S.state.selected,L=S.props,te=L.nextPageRel,H=L.prevPageRel,le=L.selectedPageRel;return P-1===v?H:P===v?le:P+1===v?te:void 0}),se(V(S),"pagination",function(){var v=[],P=S.props,L=P.pageRangeDisplayed,te=P.pageCount,H=P.marginPagesDisplayed,le=P.breakLabel,pe=P.breakClassName,oe=P.breakLinkClassName,ke=P.breakAriaLabels,xe=S.state.selected;if(te<=L)for(var Te=0;Te<te;Te++)v.push(S.getPageElement(Te));else{var Ne=L/2,tt=L-Ne;xe>te-L/2?Ne=L-(tt=te-xe):xe<L/2&&(tt=L-(Ne=xe));var Oe,ze,Ue=function(k){return S.getPageElement(k)},nt=[];for(Oe=0;Oe<te;Oe++){var _=Oe+1;if(_<=H)nt.push({type:"page",index:Oe,display:Ue(Oe)});else if(_>te-H)nt.push({type:"page",index:Oe,display:Ue(Oe)});else if(Oe>=xe-Ne&&Oe<=xe+(xe===0&&L>1?tt-1:tt))nt.push({type:"page",index:Oe,display:Ue(Oe)});else if(le&&nt.length>0&&nt[nt.length-1].display!==ze&&(L>0||H>0)){var I=Oe<xe?ke.backward:ke.forward;ze=l().createElement(T,{key:Oe,breakAriaLabel:I,breakLabel:le,breakClassName:pe,breakLinkClassName:oe,breakHandler:S.handleBreakClick.bind(null,Oe),getEventListener:S.getEventListener}),nt.push({type:"break",index:Oe,display:ze})}}nt.forEach(function(k,Q){var G=k;k.type==="break"&&nt[Q-1]&&nt[Q-1].type==="page"&&nt[Q+1]&&nt[Q+1].type==="page"&&nt[Q+1].index-nt[Q-1].index<=2&&(G={type:"page",index:k.index,display:Ue(k.index)}),v.push(G.display)})}return v}),D.initialPage!==void 0&&D.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(D.initialPage,") and forcePage (").concat(D.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),q=D.initialPage?D.initialPage:D.forcePage?D.forcePage:0,S.state={selected:q},S}return b=B,(ee=[{key:"componentDidMount",value:function(){var D=this.props,S=D.initialPage,q=D.disableInitialCallback,v=D.extraAriaContext,P=D.pageCount,L=D.forcePage;S===void 0||q||this.callCallback(S),v&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(P)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(P,"). Did you forget a Math.ceil()?")),S!==void 0&&S>P-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(S," > ").concat(P-1,").")),L!==void 0&&L>P-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(L," > ").concat(P-1,")."))}},{key:"componentDidUpdate",value:function(D){this.props.forcePage!==void 0&&this.props.forcePage!==D.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(D.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var D=this.state.selected,S=this.props,q=S.pageCount,v=D+S.pageRangeDisplayed;return v>=q?q-1:v}},{key:"getBackwardJump",value:function(){var D=this.state.selected-this.props.pageRangeDisplayed;return D<0?0:D}},{key:"getElementHref",value:function(D){var S=this.props,q=S.hrefBuilder,v=S.pageCount,P=S.hrefAllControls;if(q)return P||D>=0&&D<v?q(D+1,v,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(D){var S=D===this.state.selected;if(this.props.ariaLabelBuilder&&D>=0&&D<this.props.pageCount){var q=this.props.ariaLabelBuilder(D+1,S);return this.props.extraAriaContext&&!S&&(q=q+" "+this.props.extraAriaContext),q}}},{key:"getPageElement",value:function(D){var S=this.state.selected,q=this.props,v=q.pageClassName,P=q.pageLinkClassName,L=q.activeClassName,te=q.activeLinkClassName,H=q.extraAriaContext,le=q.pageLabelBuilder;return l().createElement(p,{key:D,pageSelectedHandler:this.handlePageSelected.bind(null,D),selected:S===D,rel:this.getElementPageRel(D),pageClassName:v,pageLinkClassName:P,activeClassName:L,activeLinkClassName:te,extraAriaContext:H,href:this.getElementHref(D),ariaLabel:this.ariaLabelBuilder(D),page:D+1,pageLabelBuilder:le,getEventListener:this.getEventListener})}},{key:"render",value:function(){var D=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&D!==void 0)return D&&D(this.props);var S=this.props,q=S.disabledClassName,v=S.disabledLinkClassName,P=S.pageCount,L=S.className,te=S.containerClassName,H=S.previousLabel,le=S.previousClassName,pe=S.previousLinkClassName,oe=S.previousAriaLabel,ke=S.prevRel,xe=S.nextLabel,Te=S.nextClassName,Ne=S.nextLinkClassName,tt=S.nextAriaLabel,Oe=S.nextRel,ze=this.state.selected,Ue=ze===0,nt=ze===P-1,_="".concat(m(le)).concat(Ue?" ".concat(m(q)):""),I="".concat(m(Te)).concat(nt?" ".concat(m(q)):""),k="".concat(m(pe)).concat(Ue?" ".concat(m(v)):""),Q="".concat(m(Ne)).concat(nt?" ".concat(m(v)):""),G=Ue?"true":"false",W=nt?"true":"false";return l().createElement("ul",{className:L||te,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:_},l().createElement("a",g({className:k,href:this.getElementHref(ze-1),tabIndex:Ue?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":G,"aria-label":oe,rel:ke},this.getEventListener(this.handlePreviousPage)),H)),this.pagination(),l().createElement("li",{className:I},l().createElement("a",g({className:Q,href:this.getElementHref(ze+1),tabIndex:nt?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":W,"aria-label":tt,rel:Oe},this.getEventListener(this.handleNextPage)),xe)))}}])&&A(b.prototype,ee),Object.defineProperty(b,"prototype",{writable:!1}),B}(a.Component);se(K,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabels:c().shape({forward:c().string,backward:c().string}),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),se(K,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function($){return $},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const Se=K})(),s})())})(ZR);var U3=ZR.exports;const B3=Lp(U3),j3=()=>{const[e,n]=j.useState(0),r=[{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...1"},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...2"},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...3"}],i=Math.ceil(r.length/5),o=({selected:c})=>{n(c)},s=e*5,a=r.slice(s,s+5),l=Nm(),u=()=>{l("/notice_detail")};return N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:N.jsxs("div",{children:[N.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png",width:55}),N.jsx("span",{children:"overdog"})]})}),a.map(c=>N.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[N.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"text-[13px]",children:N.jsx(JR,{})}),N.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:c.title})]}),N.jsx("span",{className:"text-gray-500 text-[11px]",children:c.time})]}),N.jsx("div",{children:N.jsx("div",{className:"flex items-center",children:N.jsx("div",{className:"flex-1",onClick:u,children:N.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.contents})})})})]})),N.jsx(B3,{pageClassName:"inline-block mx-1 p-2 rounded-full cursor-pointer  ",pageLinkClassName:"block w-8 h-8 leading-8 text-center border border-gray-300 bg-white rounded-full transition duration-300 ease-in-out hover:bg-gray-300",containerClassName:"pagination flex justify-center my-2",activeClassName:"bg-gray-300",previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:o})]})},z3=()=>N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:N.jsxs("div",{children:[N.jsx("img",{src:"../../public/free-icon-cool-7298816.png",width:55}),N.jsx("span",{children:"overdog"})]})}),N.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[N.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[N.jsxs("div",{className:"flex",children:[N.jsx("div",{className:"text-[13px]",children:N.jsx(JR,{})}),N.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:" "})]}),N.jsx("span",{className:"text-gray-500 text-[11px]",children:"1 "})]}),N.jsx("div",{children:N.jsx("div",{className:"flex items-center",children:N.jsx("div",{className:"flex-1",children:N.jsx("p",{className:"text-sm font-medium text-gray-900 w-full h-[30vh]",children:" "})})})})]})]});var W3={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function q3(){return N.jsx(pL,{children:N.jsx("div",{className:"font-pretendard",children:N.jsxs(wP,{basename:W3.PUBLIC_URL,children:[N.jsx(TP,{}),N.jsxs(vP,{children:[N.jsx(Us,{path:"/",element:N.jsx(g3,{})}),N.jsx(Us,{path:"/comment",element:N.jsx(F3,{})}),N.jsx(Us,{path:"/notice",element:N.jsx(j3,{})}),N.jsx(Us,{path:"/notice_detail",element:N.jsx(z3,{})})]})]})})})}Kd.createRoot(document.getElementById("root")).render(N.jsx(q3,{}));
