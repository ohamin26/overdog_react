function BC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var zC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sS={exports:{}},kd={},aS={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),HC=Symbol.for("react.portal"),WC=Symbol.for("react.fragment"),qC=Symbol.for("react.strict_mode"),GC=Symbol.for("react.profiler"),KC=Symbol.for("react.provider"),QC=Symbol.for("react.context"),YC=Symbol.for("react.forward_ref"),XC=Symbol.for("react.suspense"),JC=Symbol.for("react.memo"),ZC=Symbol.for("react.lazy"),m_=Symbol.iterator;function eP(t){return t===null||typeof t!="object"?null:(t=m_&&t[m_]||t["@@iterator"],typeof t=="function"?t:null)}var lS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uS=Object.assign,cS={};function ta(t,e,n){this.props=t,this.context=e,this.refs=cS,this.updater=n||lS}ta.prototype.isReactComponent={};ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fS(){}fS.prototype=ta.prototype;function yv(t,e,n){this.props=t,this.context=e,this.refs=cS,this.updater=n||lS}var _v=yv.prototype=new fS;_v.constructor=yv;uS(_v,ta.prototype);_v.isPureReactComponent=!0;var g_=Array.isArray,dS=Object.prototype.hasOwnProperty,wv={current:null},hS={key:!0,ref:!0,__self:!0,__source:!0};function pS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)dS.call(e,r)&&!hS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pu,type:t,key:o,ref:s,props:i,_owner:wv.current}}function tP(t,e){return{$$typeof:pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ev(t){return typeof t=="object"&&t!==null&&t.$$typeof===pu}function nP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var v_=/\/+/g;function rp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nP(""+t.key):e.toString(36)}function Wc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case pu:case HC:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+rp(s,0):r,g_(i)?(n="",t!=null&&(n=t.replace(v_,"$&/")+"/"),Wc(i,e,n,"",function(u){return u})):i!=null&&(Ev(i)&&(i=tP(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(v_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",g_(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+rp(o,a);s+=Wc(o,e,n,l,i)}else if(l=eP(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+rp(o,a++),s+=Wc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Xu(t,e,n){if(t==null)return t;var r=[],i=0;return Wc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function rP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wn={current:null},qc={transition:null},iP={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:qc,ReactCurrentOwner:wv};Me.Children={map:Xu,forEach:function(t,e,n){Xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!Ev(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=ta;Me.Fragment=WC;Me.Profiler=GC;Me.PureComponent=yv;Me.StrictMode=qC;Me.Suspense=XC;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iP;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=wv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dS.call(e,l)&&!hS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pu,type:t.type,key:i,ref:o,props:r,_owner:s}};Me.createContext=function(t){return t={$$typeof:QC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KC,_context:t},t.Consumer=t};Me.createElement=pS;Me.createFactory=function(t){var e=pS.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:YC,render:t}};Me.isValidElement=Ev;Me.lazy=function(t){return{$$typeof:ZC,_payload:{_status:-1,_result:t},_init:rP}};Me.memo=function(t,e){return{$$typeof:JC,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(t,e){return wn.current.useCallback(t,e)};Me.useContext=function(t){return wn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return wn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return wn.current.useEffect(t,e)};Me.useId=function(){return wn.current.useId()};Me.useImperativeHandle=function(t,e,n){return wn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return wn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return wn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return wn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return wn.current.useReducer(t,e,n)};Me.useRef=function(t){return wn.current.useRef(t)};Me.useState=function(t){return wn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return wn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return wn.current.useTransition()};Me.version="18.2.0";aS.exports=Me;var x=aS.exports;const ve=vv(x),oP=BC({__proto__:null,default:ve},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP=x,aP=Symbol.for("react.element"),lP=Symbol.for("react.fragment"),uP=Object.prototype.hasOwnProperty,cP=sP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fP={key:!0,ref:!0,__self:!0,__source:!0};function mS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)uP.call(e,r)&&!fP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aP,type:t,key:o,ref:s,props:i,_owner:cP.current}}kd.Fragment=lP;kd.jsx=mS;kd.jsxs=mS;sS.exports=kd;var k=sS.exports,mm={},gS={exports:{}},Un={},vS={exports:{}},yS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,V){var I=B.length;B.push(V);e:for(;0<I;){var H=I-1>>>1,E=B[H];if(0<i(E,V))B[H]=V,B[I]=E,I=H;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var V=B[0],I=B.pop();if(I!==V){B[0]=I;e:for(var H=0,E=B.length,F=E>>>1;H<F;){var U=2*(H+1)-1,ne=B[U],Z=U+1,me=B[Z];if(0>i(ne,I))Z<E&&0>i(me,ne)?(B[H]=me,B[Z]=I,H=Z):(B[H]=ne,B[U]=I,H=U);else if(Z<E&&0>i(me,I))B[H]=me,B[Z]=I,H=Z;else break e}}return V}function i(B,V){var I=B.sortIndex-V.sortIndex;return I!==0?I:B.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,m=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=B)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function b(B){if(y=!1,v(B),!m)if(n(l)!==null)m=!0,Ee(C);else{var V=n(u);V!==null&&we(b,V.startTime-B)}}function C(B,V){m=!1,y&&(y=!1,g(P),P=-1),h=!0;var I=d;try{for(v(V),f=n(l);f!==null&&(!(f.expirationTime>V)||B&&!z());){var H=f.callback;if(typeof H=="function"){f.callback=null,d=f.priorityLevel;var E=H(f.expirationTime<=V);V=t.unstable_now(),typeof E=="function"?f.callback=E:f===n(l)&&r(l),v(V)}else r(l);f=n(l)}if(f!==null)var F=!0;else{var U=n(u);U!==null&&we(b,U.startTime-V),F=!1}return F}finally{f=null,d=I,h=!1}}var R=!1,w=null,P=-1,O=5,$=-1;function z(){return!(t.unstable_now()-$<O)}function N(){if(w!==null){var B=t.unstable_now();$=B;var V=!0;try{V=w(!0,B)}finally{V?M():(R=!1,w=null)}}else R=!1}var M;if(typeof p=="function")M=function(){p(N)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,te=Q.port2;Q.port1.onmessage=N,M=function(){te.postMessage(null)}}else M=function(){S(N,0)};function Ee(B){w=B,R||(R=!0,M())}function we(B,V){P=S(function(){B(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Ee(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var V=3;break;default:V=d}var I=d;d=V;try{return B()}finally{d=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var I=d;d=B;try{return V()}finally{d=I}},t.unstable_scheduleCallback=function(B,V,I){var H=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?H+I:H):I=H,B){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=I+E,B={id:c++,callback:V,priorityLevel:B,startTime:I,expirationTime:E,sortIndex:-1},I>H?(B.sortIndex=I,e(u,B),n(l)===null&&B===n(u)&&(y?(g(P),P=-1):y=!0,we(b,I-H))):(B.sortIndex=E,e(l,B),m||h||(m=!0,Ee(C))),B},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(B){var V=d;return function(){var I=d;d=V;try{return B.apply(this,arguments)}finally{d=I}}}})(yS);vS.exports=yS;var dP=vS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=x,$n=dP;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wS=new Set,Cl={};function ko(t,e){Ns(t,e),Ns(t+"Capture",e)}function Ns(t,e){for(Cl[t]=e,t=0;t<e.length;t++)wS.add(e[t])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gm=Object.prototype.hasOwnProperty,hP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y_={},__={};function pP(t){return gm.call(__,t)?!0:gm.call(y_,t)?!1:hP.test(t)?__[t]=!0:(y_[t]=!0,!1)}function mP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gP(t,e,n,r){if(e===null||typeof e>"u"||mP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sv=/[\-:]([a-z])/g;function Tv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sv,Tv);en[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sv,Tv);en[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sv,Tv);en[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rv(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gP(e,n,i,r)&&(n=null),r||i===null?pP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ei=_S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),rs=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),bv=Symbol.for("react.strict_mode"),vm=Symbol.for("react.profiler"),ES=Symbol.for("react.provider"),SS=Symbol.for("react.context"),xv=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),_m=Symbol.for("react.suspense_list"),Av=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),TS=Symbol.for("react.offscreen"),w_=Symbol.iterator;function ya(t){return t===null||typeof t!="object"?null:(t=w_&&t[w_]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,ip;function ja(t){if(ip===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ip=e&&e[1]||""}return`
`+ip+t}var op=!1;function sp(t,e){if(!t||op)return"";op=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{op=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ja(t):""}function vP(t){switch(t.tag){case 5:return ja(t.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 2:case 15:return t=sp(t.type,!1),t;case 11:return t=sp(t.type.render,!1),t;case 1:return t=sp(t.type,!0),t;default:return""}}function wm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case is:return"Fragment";case rs:return"Portal";case vm:return"Profiler";case bv:return"StrictMode";case ym:return"Suspense";case _m:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SS:return(t.displayName||"Context")+".Consumer";case ES:return(t._context.displayName||"Context")+".Provider";case xv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Av:return e=t.displayName||null,e!==null?e:wm(t.type)||"Memo";case si:e=t._payload,t=t._init;try{return wm(t(e))}catch{}}return null}function yP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wm(e);case 8:return e===bv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _P(t){var e=RS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=_P(t))}function bS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=RS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Em(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function E_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xS(t,e){e=e.checked,e!=null&&Rv(t,"checked",e,!1)}function Sm(t,e){xS(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tm(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tm(t,e,n){(e!=="number"||wf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ua=Array.isArray;function ys(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Ua(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function AS(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function R_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ec,CS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ec.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wP=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){wP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function PS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function kS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=PS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EP=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xm(t,e){if(e){if(EP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=null;function Iv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cm=null,_s=null,ws=null;function b_(t){if(t=vu(t)){if(typeof Cm!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Od(e),Cm(t.stateNode,t.type,e))}}function NS(t){_s?ws?ws.push(t):ws=[t]:_s=t}function DS(){if(_s){var t=_s,e=ws;if(ws=_s=null,b_(t),e)for(t=0;t<e.length;t++)b_(e[t])}}function VS(t,e){return t(e)}function LS(){}var ap=!1;function OS(t,e,n){if(ap)return t(e,n);ap=!0;try{return VS(t,e,n)}finally{ap=!1,(_s!==null||ws!==null)&&(LS(),DS())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=Od(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Pm=!1;if(Gr)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){Pm=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{Pm=!1}function SP(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var tl=!1,Ef=null,Sf=!1,km=null,TP={onError:function(t){tl=!0,Ef=t}};function RP(t,e,n,r,i,o,s,a,l){tl=!1,Ef=null,SP.apply(TP,arguments)}function bP(t,e,n,r,i,o,s,a,l){if(RP.apply(this,arguments),tl){if(tl){var u=Ef;tl=!1,Ef=null}else throw Error(J(198));Sf||(Sf=!0,km=u)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function MS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x_(t){if(No(t)!==t)throw Error(J(188))}function xP(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return x_(i),t;if(o===r)return x_(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function $S(t){return t=xP(t),t!==null?FS(t):null}function FS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FS(t);if(e!==null)return e;t=t.sibling}return null}var jS=$n.unstable_scheduleCallback,A_=$n.unstable_cancelCallback,AP=$n.unstable_shouldYield,IP=$n.unstable_requestPaint,It=$n.unstable_now,CP=$n.unstable_getCurrentPriorityLevel,Cv=$n.unstable_ImmediatePriority,US=$n.unstable_UserBlockingPriority,Tf=$n.unstable_NormalPriority,PP=$n.unstable_LowPriority,BS=$n.unstable_IdlePriority,Nd=null,xr=null;function kP(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(Nd,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:VP,NP=Math.log,DP=Math.LN2;function VP(t){return t>>>=0,t===0?32:31-(NP(t)/DP|0)|0}var tc=64,nc=4194304;function Ba(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ba(a):(o&=s,o!==0&&(r=Ba(o)))}else s=n&~i,s!==0?r=Ba(s):o!==0&&(r=Ba(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function LP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ur(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=LP(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Nm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zS(){var t=tc;return tc<<=1,!(tc&4194240)&&(tc=64),t}function lp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function MP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Pv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ye=0;function HS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WS,kv,qS,GS,KS,Dm=!1,rc=[],Ei=null,Si=null,Ti=null,Nl=new Map,Dl=new Map,ui=[],$P="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I_(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(e.pointerId)}}function wa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=vu(e),e!==null&&kv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FP(t,e,n,r,i){switch(e){case"focusin":return Ei=wa(Ei,t,e,n,r,i),!0;case"dragenter":return Si=wa(Si,t,e,n,r,i),!0;case"mouseover":return Ti=wa(Ti,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nl.set(o,wa(Nl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dl.set(o,wa(Dl.get(o)||null,t,e,n,r,i)),!0}return!1}function QS(t){var e=no(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=MS(n),e!==null){t.blockedOn=e,KS(t.priority,function(){qS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Im=r,n.target.dispatchEvent(r),Im=null}else return e=vu(n),e!==null&&kv(e),t.blockedOn=n,!1;e.shift()}return!0}function C_(t,e,n){Gc(t)&&n.delete(e)}function jP(){Dm=!1,Ei!==null&&Gc(Ei)&&(Ei=null),Si!==null&&Gc(Si)&&(Si=null),Ti!==null&&Gc(Ti)&&(Ti=null),Nl.forEach(C_),Dl.forEach(C_)}function Ea(t,e){t.blockedOn===e&&(t.blockedOn=null,Dm||(Dm=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,jP)))}function Vl(t){function e(i){return Ea(i,t)}if(0<rc.length){Ea(rc[0],t);for(var n=1;n<rc.length;n++){var r=rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ei!==null&&Ea(Ei,t),Si!==null&&Ea(Si,t),Ti!==null&&Ea(Ti,t),Nl.forEach(e),Dl.forEach(e),n=0;n<ui.length;n++)r=ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)QS(n),n.blockedOn===null&&ui.shift()}var Es=ei.ReactCurrentBatchConfig,bf=!0;function UP(t,e,n,r){var i=Ye,o=Es.transition;Es.transition=null;try{Ye=1,Nv(t,e,n,r)}finally{Ye=i,Es.transition=o}}function BP(t,e,n,r){var i=Ye,o=Es.transition;Es.transition=null;try{Ye=4,Nv(t,e,n,r)}finally{Ye=i,Es.transition=o}}function Nv(t,e,n,r){if(bf){var i=Vm(t,e,n,r);if(i===null)yp(t,e,r,xf,n),I_(t,r);else if(FP(i,t,e,n,r))r.stopPropagation();else if(I_(t,r),e&4&&-1<$P.indexOf(t)){for(;i!==null;){var o=vu(i);if(o!==null&&WS(o),o=Vm(t,e,n,r),o===null&&yp(t,e,r,xf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yp(t,e,r,null,n)}}var xf=null;function Vm(t,e,n,r){if(xf=null,t=Iv(r),t=no(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=MS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xf=t,null}function YS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CP()){case Cv:return 1;case US:return 4;case Tf:case PP:return 16;case BS:return 536870912;default:return 16}default:return 16}}var mi=null,Dv=null,Kc=null;function XS(){if(Kc)return Kc;var t,e=Dv,n=e.length,r,i="value"in mi?mi.value:mi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Kc=i.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ic(){return!0}function P_(){return!1}function Bn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ic:P_,this.isPropagationStopped=P_,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),e}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vv=Bn(na),gu=Et({},na,{view:0,detail:0}),zP=Bn(gu),up,cp,Sa,Dd=Et({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sa&&(Sa&&t.type==="mousemove"?(up=t.screenX-Sa.screenX,cp=t.screenY-Sa.screenY):cp=up=0,Sa=t),up)},movementY:function(t){return"movementY"in t?t.movementY:cp}}),k_=Bn(Dd),HP=Et({},Dd,{dataTransfer:0}),WP=Bn(HP),qP=Et({},gu,{relatedTarget:0}),fp=Bn(qP),GP=Et({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),KP=Bn(GP),QP=Et({},na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YP=Bn(QP),XP=Et({},na,{data:0}),N_=Bn(XP),JP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ek[t])?!!e[t]:!1}function Lv(){return tk}var nk=Et({},gu,{key:function(t){if(t.key){var e=JP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lv,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rk=Bn(nk),ik=Et({},Dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D_=Bn(ik),ok=Et({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lv}),sk=Bn(ok),ak=Et({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),lk=Bn(ak),uk=Et({},Dd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ck=Bn(uk),fk=[9,13,27,32],Ov=Gr&&"CompositionEvent"in window,nl=null;Gr&&"documentMode"in document&&(nl=document.documentMode);var dk=Gr&&"TextEvent"in window&&!nl,JS=Gr&&(!Ov||nl&&8<nl&&11>=nl),V_=" ",L_=!1;function ZS(t,e){switch(t){case"keyup":return fk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function hk(t,e){switch(t){case"compositionend":return eT(e);case"keypress":return e.which!==32?null:(L_=!0,V_);case"textInput":return t=e.data,t===V_&&L_?null:t;default:return null}}function pk(t,e){if(os)return t==="compositionend"||!Ov&&ZS(t,e)?(t=XS(),Kc=Dv=mi=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JS&&e.locale!=="ko"?null:e.data;default:return null}}var mk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mk[t.type]:e==="textarea"}function tT(t,e,n,r){NS(r),e=Af(e,"onChange"),0<e.length&&(n=new Vv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,Ll=null;function gk(t){dT(t,0)}function Vd(t){var e=ls(t);if(bS(e))return t}function vk(t,e){if(t==="change")return e}var nT=!1;if(Gr){var dp;if(Gr){var hp="oninput"in document;if(!hp){var M_=document.createElement("div");M_.setAttribute("oninput","return;"),hp=typeof M_.oninput=="function"}dp=hp}else dp=!1;nT=dp&&(!document.documentMode||9<document.documentMode)}function $_(){rl&&(rl.detachEvent("onpropertychange",rT),Ll=rl=null)}function rT(t){if(t.propertyName==="value"&&Vd(Ll)){var e=[];tT(e,Ll,t,Iv(t)),OS(gk,e)}}function yk(t,e,n){t==="focusin"?($_(),rl=e,Ll=n,rl.attachEvent("onpropertychange",rT)):t==="focusout"&&$_()}function _k(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vd(Ll)}function wk(t,e){if(t==="click")return Vd(e)}function Ek(t,e){if(t==="input"||t==="change")return Vd(e)}function Sk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:Sk;function Ol(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gm.call(e,i)||!dr(t[i],e[i]))return!1}return!0}function F_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j_(t,e){var n=F_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=F_(n)}}function iT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oT(){for(var t=window,e=wf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wf(t.document)}return e}function Mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tk(t){var e=oT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iT(n.ownerDocument.documentElement,n)){if(r!==null&&Mv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=j_(n,o);var s=j_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Rk=Gr&&"documentMode"in document&&11>=document.documentMode,ss=null,Lm=null,il=null,Om=!1;function U_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Om||ss==null||ss!==wf(r)||(r=ss,"selectionStart"in r&&Mv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&Ol(il,r)||(il=r,r=Af(Lm,"onSelect"),0<r.length&&(e=new Vv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ss)))}function oc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var as={animationend:oc("Animation","AnimationEnd"),animationiteration:oc("Animation","AnimationIteration"),animationstart:oc("Animation","AnimationStart"),transitionend:oc("Transition","TransitionEnd")},pp={},sT={};Gr&&(sT=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Ld(t){if(pp[t])return pp[t];if(!as[t])return t;var e=as[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sT)return pp[t]=e[n];return t}var aT=Ld("animationend"),lT=Ld("animationiteration"),uT=Ld("animationstart"),cT=Ld("transitionend"),fT=new Map,B_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){fT.set(t,e),ko(e,[t])}for(var mp=0;mp<B_.length;mp++){var gp=B_[mp],bk=gp.toLowerCase(),xk=gp[0].toUpperCase()+gp.slice(1);$i(bk,"on"+xk)}$i(aT,"onAnimationEnd");$i(lT,"onAnimationIteration");$i(uT,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(cT,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ak=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function z_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bP(r,e,void 0,t),t.currentTarget=null}function dT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;z_(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;z_(i,a,u),o=l}}}if(Sf)throw t=km,Sf=!1,km=null,t}function st(t,e){var n=e[Um];n===void 0&&(n=e[Um]=new Set);var r=t+"__bubble";n.has(r)||(hT(e,t,2,!1),n.add(r))}function vp(t,e,n){var r=0;e&&(r|=4),hT(n,t,r,e)}var sc="_reactListening"+Math.random().toString(36).slice(2);function Ml(t){if(!t[sc]){t[sc]=!0,wS.forEach(function(n){n!=="selectionchange"&&(Ak.has(n)||vp(n,!1,t),vp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sc]||(e[sc]=!0,vp("selectionchange",!1,e))}}function hT(t,e,n,r){switch(YS(e)){case 1:var i=UP;break;case 4:i=BP;break;default:i=Nv}n=i.bind(null,e,n,t),i=void 0,!Pm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=no(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}OS(function(){var u=o,c=Iv(n),f=[];e:{var d=fT.get(t);if(d!==void 0){var h=Vv,m=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":h=rk;break;case"focusin":m="focus",h=fp;break;case"focusout":m="blur",h=fp;break;case"beforeblur":case"afterblur":h=fp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=k_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=WP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=sk;break;case aT:case lT:case uT:h=KP;break;case cT:h=lk;break;case"scroll":h=zP;break;case"wheel":h=ck;break;case"copy":case"cut":case"paste":h=YP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=D_}var y=(e&4)!==0,S=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var p=u,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=kl(p,g),b!=null&&y.push($l(p,b,v)))),S)break;p=p.return}0<y.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Im&&(m=n.relatedTarget||n.fromElement)&&(no(m)||m[Kr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?no(m):null,m!==null&&(S=No(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(y=k_,b="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=D_,b="onPointerLeave",g="onPointerEnter",p="pointer"),S=h==null?d:ls(h),v=m==null?d:ls(m),d=new y(b,p+"leave",h,n,c),d.target=S,d.relatedTarget=v,b=null,no(c)===u&&(y=new y(g,p+"enter",m,n,c),y.target=v,y.relatedTarget=S,b=y),S=b,h&&m)t:{for(y=h,g=m,p=0,v=y;v;v=zo(v))p++;for(v=0,b=g;b;b=zo(b))v++;for(;0<p-v;)y=zo(y),p--;for(;0<v-p;)g=zo(g),v--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=zo(y),g=zo(g)}y=null}else y=null;h!==null&&H_(f,d,h,y,!1),m!==null&&S!==null&&H_(f,S,m,y,!0)}}e:{if(d=u?ls(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var C=vk;else if(O_(d))if(nT)C=Ek;else{C=_k;var R=yk}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=wk);if(C&&(C=C(t,u))){tT(f,C,n,c);break e}R&&R(t,d,u),t==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&Tm(d,"number",d.value)}switch(R=u?ls(u):window,t){case"focusin":(O_(R)||R.contentEditable==="true")&&(ss=R,Lm=u,il=null);break;case"focusout":il=Lm=ss=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,U_(f,n,c);break;case"selectionchange":if(Rk)break;case"keydown":case"keyup":U_(f,n,c)}var w;if(Ov)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else os?ZS(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(JS&&n.locale!=="ko"&&(os||P!=="onCompositionStart"?P==="onCompositionEnd"&&os&&(w=XS()):(mi=c,Dv="value"in mi?mi.value:mi.textContent,os=!0)),R=Af(u,P),0<R.length&&(P=new N_(P,t,null,n,c),f.push({event:P,listeners:R}),w?P.data=w:(w=eT(n),w!==null&&(P.data=w)))),(w=dk?hk(t,n):pk(t,n))&&(u=Af(u,"onBeforeInput"),0<u.length&&(c=new N_("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=w))}dT(f,e)})}function $l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Af(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=kl(t,n),o!=null&&r.unshift($l(t,o,i)),o=kl(t,e),o!=null&&r.push($l(t,o,i))),t=t.return}return r}function zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function H_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=kl(n,o),l!=null&&s.unshift($l(n,l,a))):i||(l=kl(n,o),l!=null&&s.push($l(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Ik=/\r\n?/g,Ck=/\u0000|\uFFFD/g;function W_(t){return(typeof t=="string"?t:""+t).replace(Ik,`
`).replace(Ck,"")}function ac(t,e,n){if(e=W_(e),W_(t)!==e&&n)throw Error(J(425))}function If(){}var Mm=null,$m=null;function Fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jm=typeof setTimeout=="function"?setTimeout:void 0,Pk=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(t){return q_.resolve(null).then(t).catch(Nk)}:jm;function Nk(t){setTimeout(function(){throw t})}function _p(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vl(e)}function Ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function G_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ra=Math.random().toString(36).slice(2),Er="__reactFiber$"+ra,Fl="__reactProps$"+ra,Kr="__reactContainer$"+ra,Um="__reactEvents$"+ra,Dk="__reactListeners$"+ra,Vk="__reactHandles$"+ra;function no(t){var e=t[Er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kr]||n[Er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=G_(t);t!==null;){if(n=t[Er])return n;t=G_(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[Er]||t[Kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Od(t){return t[Fl]||null}var Bm=[],us=-1;function Fi(t){return{current:t}}function ft(t){0>us||(t.current=Bm[us],Bm[us]=null,us--)}function nt(t,e){us++,Bm[us]=t.current,t.current=e}var Vi={},dn=Fi(Vi),xn=Fi(!1),yo=Vi;function Ds(t,e){var n=t.type.contextTypes;if(!n)return Vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function An(t){return t=t.childContextTypes,t!=null}function Cf(){ft(xn),ft(dn)}function K_(t,e,n){if(dn.current!==Vi)throw Error(J(168));nt(dn,e),nt(xn,n)}function pT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,yP(t)||"Unknown",i));return Et({},n,r)}function Pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,yo=dn.current,nt(dn,t),nt(xn,xn.current),!0}function Q_(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=pT(t,e,yo),r.__reactInternalMemoizedMergedChildContext=t,ft(xn),ft(dn),nt(dn,t)):ft(xn),nt(xn,n)}var Fr=null,Md=!1,wp=!1;function mT(t){Fr===null?Fr=[t]:Fr.push(t)}function Lk(t){Md=!0,mT(t)}function ji(){if(!wp&&Fr!==null){wp=!0;var t=0,e=Ye;try{var n=Fr;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,Md=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(t+1)),jS(Cv,ji),i}finally{Ye=e,wp=!1}}return null}var cs=[],fs=0,kf=null,Nf=0,qn=[],Gn=0,_o=null,Br=1,zr="";function Yi(t,e){cs[fs++]=Nf,cs[fs++]=kf,kf=t,Nf=e}function gT(t,e,n){qn[Gn++]=Br,qn[Gn++]=zr,qn[Gn++]=_o,_o=t;var r=Br;t=zr;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var o=32-ur(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Br=1<<32-ur(e)+i|n<<i|r,zr=o+t}else Br=1<<o|n<<i|r,zr=t}function $v(t){t.return!==null&&(Yi(t,1),gT(t,1,0))}function Fv(t){for(;t===kf;)kf=cs[--fs],cs[fs]=null,Nf=cs[--fs],cs[fs]=null;for(;t===_o;)_o=qn[--Gn],qn[Gn]=null,zr=qn[--Gn],qn[Gn]=null,Br=qn[--Gn],qn[Gn]=null}var Mn=null,Vn=null,mt=!1,or=null;function vT(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Y_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Vn=Ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_o!==null?{id:Br,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Vn=null,!0):!1;default:return!1}}function zm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hm(t){if(mt){var e=Vn;if(e){var n=e;if(!Y_(t,e)){if(zm(t))throw Error(J(418));e=Ri(n.nextSibling);var r=Mn;e&&Y_(t,e)?vT(r,n):(t.flags=t.flags&-4097|2,mt=!1,Mn=t)}}else{if(zm(t))throw Error(J(418));t.flags=t.flags&-4097|2,mt=!1,Mn=t}}}function X_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function lc(t){if(t!==Mn)return!1;if(!mt)return X_(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fm(t.type,t.memoizedProps)),e&&(e=Vn)){if(zm(t))throw yT(),Error(J(418));for(;e;)vT(t,e),e=Ri(e.nextSibling)}if(X_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=Ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=Mn?Ri(t.stateNode.nextSibling):null;return!0}function yT(){for(var t=Vn;t;)t=Ri(t.nextSibling)}function Vs(){Vn=Mn=null,mt=!1}function jv(t){or===null?or=[t]:or.push(t)}var Ok=ei.ReactCurrentBatchConfig;function nr(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Df=Fi(null),Vf=null,ds=null,Uv=null;function Bv(){Uv=ds=Vf=null}function zv(t){var e=Df.current;ft(Df),t._currentValue=e}function Wm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ss(t,e){Vf=t,Uv=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(Uv!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(Vf===null)throw Error(J(308));ds=t,Vf.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var ro=null;function Hv(t){ro===null?ro=[t]:ro.push(t)}function _T(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ai=!1;function Wv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qr(t,n)}return i=r.interleaved,i===null?(e.next=e,Hv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qr(t,n)}function Yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pv(t,n)}}function J_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lf(t,e,n,r){var i=t.updateQueue;ai=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(d=e,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=Et({},f,d);break e;case 2:ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Eo|=s,t.lanes=s,t.memoizedState=f}}function Z_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var ET=new _S.Component().refs;function qm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $d={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Ai(t),o=Wr(r,i);o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(cr(e,t,i,r),Yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Ai(t),o=Wr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(cr(e,t,i,r),Yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=Ai(t),i=Wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(cr(e,t,r,n),Yc(e,t,r))}};function ew(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ol(n,r)||!Ol(i,o):!0}function ST(t,e,n){var r=!1,i=Vi,o=e.contextType;return typeof o=="object"&&o!==null?o=Xn(o):(i=An(e)?yo:dn.current,r=e.contextTypes,o=(r=r!=null)?Ds(t,i):Vi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$d,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function tw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$d.enqueueReplaceState(e,e.state,null)}function Gm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ET,Wv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Xn(o):(o=An(e)?yo:dn.current,i.context=Ds(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(qm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$d.enqueueReplaceState(i,i.state,null),Lf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ta(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===ET&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function uc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nw(t){var e=t._init;return e(t._payload)}function TT(t){function e(g,p){if(t){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Ii(g,p),g.index=0,g.sibling=null,g}function o(g,p,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,b){return p===null||p.tag!==6?(p=Ap(v,g.mode,b),p.return=g,p):(p=i(p,v),p.return=g,p)}function l(g,p,v,b){var C=v.type;return C===is?c(g,p,v.props.children,b,v.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===si&&nw(C)===p.type)?(b=i(p,v.props),b.ref=Ta(g,p,v),b.return=g,b):(b=nf(v.type,v.key,v.props,null,g.mode,b),b.ref=Ta(g,p,v),b.return=g,b)}function u(g,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Ip(v,g.mode,b),p.return=g,p):(p=i(p,v.children||[]),p.return=g,p)}function c(g,p,v,b,C){return p===null||p.tag!==7?(p=fo(v,g.mode,b,C),p.return=g,p):(p=i(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ap(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ju:return v=nf(p.type,p.key,p.props,null,g.mode,v),v.ref=Ta(g,null,p),v.return=g,v;case rs:return p=Ip(p,g.mode,v),p.return=g,p;case si:var b=p._init;return f(g,b(p._payload),v)}if(Ua(p)||ya(p))return p=fo(p,g.mode,v,null),p.return=g,p;uc(g,p)}return null}function d(g,p,v,b){var C=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(g,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ju:return v.key===C?l(g,p,v,b):null;case rs:return v.key===C?u(g,p,v,b):null;case si:return C=v._init,d(g,p,C(v._payload),b)}if(Ua(v)||ya(v))return C!==null?null:c(g,p,v,b,null);uc(g,v)}return null}function h(g,p,v,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,a(p,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ju:return g=g.get(b.key===null?v:b.key)||null,l(p,g,b,C);case rs:return g=g.get(b.key===null?v:b.key)||null,u(p,g,b,C);case si:var R=b._init;return h(g,p,v,R(b._payload),C)}if(Ua(b)||ya(b))return g=g.get(v)||null,c(p,g,b,C,null);uc(p,b)}return null}function m(g,p,v,b){for(var C=null,R=null,w=p,P=p=0,O=null;w!==null&&P<v.length;P++){w.index>P?(O=w,w=null):O=w.sibling;var $=d(g,w,v[P],b);if($===null){w===null&&(w=O);break}t&&w&&$.alternate===null&&e(g,w),p=o($,p,P),R===null?C=$:R.sibling=$,R=$,w=O}if(P===v.length)return n(g,w),mt&&Yi(g,P),C;if(w===null){for(;P<v.length;P++)w=f(g,v[P],b),w!==null&&(p=o(w,p,P),R===null?C=w:R.sibling=w,R=w);return mt&&Yi(g,P),C}for(w=r(g,w);P<v.length;P++)O=h(w,g,P,v[P],b),O!==null&&(t&&O.alternate!==null&&w.delete(O.key===null?P:O.key),p=o(O,p,P),R===null?C=O:R.sibling=O,R=O);return t&&w.forEach(function(z){return e(g,z)}),mt&&Yi(g,P),C}function y(g,p,v,b){var C=ya(v);if(typeof C!="function")throw Error(J(150));if(v=C.call(v),v==null)throw Error(J(151));for(var R=C=null,w=p,P=p=0,O=null,$=v.next();w!==null&&!$.done;P++,$=v.next()){w.index>P?(O=w,w=null):O=w.sibling;var z=d(g,w,$.value,b);if(z===null){w===null&&(w=O);break}t&&w&&z.alternate===null&&e(g,w),p=o(z,p,P),R===null?C=z:R.sibling=z,R=z,w=O}if($.done)return n(g,w),mt&&Yi(g,P),C;if(w===null){for(;!$.done;P++,$=v.next())$=f(g,$.value,b),$!==null&&(p=o($,p,P),R===null?C=$:R.sibling=$,R=$);return mt&&Yi(g,P),C}for(w=r(g,w);!$.done;P++,$=v.next())$=h(w,g,P,$.value,b),$!==null&&(t&&$.alternate!==null&&w.delete($.key===null?P:$.key),p=o($,p,P),R===null?C=$:R.sibling=$,R=$);return t&&w.forEach(function(N){return e(g,N)}),mt&&Yi(g,P),C}function S(g,p,v,b){if(typeof v=="object"&&v!==null&&v.type===is&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ju:e:{for(var C=v.key,R=p;R!==null;){if(R.key===C){if(C=v.type,C===is){if(R.tag===7){n(g,R.sibling),p=i(R,v.props.children),p.return=g,g=p;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===si&&nw(C)===R.type){n(g,R.sibling),p=i(R,v.props),p.ref=Ta(g,R,v),p.return=g,g=p;break e}n(g,R);break}else e(g,R);R=R.sibling}v.type===is?(p=fo(v.props.children,g.mode,b,v.key),p.return=g,g=p):(b=nf(v.type,v.key,v.props,null,g.mode,b),b.ref=Ta(g,p,v),b.return=g,g=b)}return s(g);case rs:e:{for(R=v.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=i(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Ip(v,g.mode,b),p.return=g,g=p}return s(g);case si:return R=v._init,S(g,p,R(v._payload),b)}if(Ua(v))return m(g,p,v,b);if(ya(v))return y(g,p,v,b);uc(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,v),p.return=g,g=p):(n(g,p),p=Ap(v,g.mode,b),p.return=g,g=p),s(g)):n(g,p)}return S}var Ls=TT(!0),RT=TT(!1),yu={},Ar=Fi(yu),jl=Fi(yu),Ul=Fi(yu);function io(t){if(t===yu)throw Error(J(174));return t}function qv(t,e){switch(nt(Ul,e),nt(jl,t),nt(Ar,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bm(e,t)}ft(Ar),nt(Ar,e)}function Os(){ft(Ar),ft(jl),ft(Ul)}function bT(t){io(Ul.current);var e=io(Ar.current),n=bm(e,t.type);e!==n&&(nt(jl,t),nt(Ar,n))}function Gv(t){jl.current===t&&(ft(Ar),ft(jl))}var _t=Fi(0);function Of(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ep=[];function Kv(){for(var t=0;t<Ep.length;t++)Ep[t]._workInProgressVersionPrimary=null;Ep.length=0}var Xc=ei.ReactCurrentDispatcher,Sp=ei.ReactCurrentBatchConfig,wo=0,wt=null,Dt=null,Ut=null,Mf=!1,ol=!1,Bl=0,Mk=0;function tn(){throw Error(J(321))}function Qv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function Yv(t,e,n,r,i,o){if(wo=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xc.current=t===null||t.memoizedState===null?Uk:Bk,t=n(r,i),ol){o=0;do{if(ol=!1,Bl=0,25<=o)throw Error(J(301));o+=1,Ut=Dt=null,e.updateQueue=null,Xc.current=zk,t=n(r,i)}while(ol)}if(Xc.current=$f,e=Dt!==null&&Dt.next!==null,wo=0,Ut=Dt=wt=null,Mf=!1,e)throw Error(J(300));return t}function Xv(){var t=Bl!==0;return Bl=0,t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?wt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Jn(){if(Dt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Ut===null?wt.memoizedState:Ut.next;if(e!==null)Ut=e,Dt=t;else{if(t===null)throw Error(J(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ut===null?wt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function zl(t,e){return typeof e=="function"?e(t):e}function Tp(t){var e=Jn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((wo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,wt.lanes|=c,Eo|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,dr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,wt.lanes|=o,Eo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rp(t){var e=Jn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);dr(o,e.memoizedState)||(bn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function xT(){}function AT(t,e){var n=wt,r=Jn(),i=e(),o=!dr(r.memoizedState,i);if(o&&(r.memoizedState=i,bn=!0),r=r.queue,Jv(PT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,Hl(9,CT.bind(null,n,r,i,e),void 0,null),Bt===null)throw Error(J(349));wo&30||IT(n,e,i)}return i}function IT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CT(t,e,n,r){e.value=n,e.getSnapshot=r,kT(e)&&NT(t)}function PT(t,e,n){return n(function(){kT(e)&&NT(t)})}function kT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function NT(t){var e=Qr(t,1);e!==null&&cr(e,t,1,-1)}function rw(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=jk.bind(null,wt,t),[e.memoizedState,t]}function Hl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DT(){return Jn().memoizedState}function Jc(t,e,n,r){var i=wr();wt.flags|=t,i.memoizedState=Hl(1|e,n,void 0,r===void 0?null:r)}function Fd(t,e,n,r){var i=Jn();r=r===void 0?null:r;var o=void 0;if(Dt!==null){var s=Dt.memoizedState;if(o=s.destroy,r!==null&&Qv(r,s.deps)){i.memoizedState=Hl(e,n,o,r);return}}wt.flags|=t,i.memoizedState=Hl(1|e,n,o,r)}function iw(t,e){return Jc(8390656,8,t,e)}function Jv(t,e){return Fd(2048,8,t,e)}function VT(t,e){return Fd(4,2,t,e)}function LT(t,e){return Fd(4,4,t,e)}function OT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MT(t,e,n){return n=n!=null?n.concat([t]):null,Fd(4,4,OT.bind(null,e,t),n)}function Zv(){}function $T(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FT(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jT(t,e,n){return wo&21?(dr(n,e)||(n=zS(),wt.lanes|=n,Eo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function $k(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=Sp.transition;Sp.transition={};try{t(!1),e()}finally{Ye=n,Sp.transition=r}}function UT(){return Jn().memoizedState}function Fk(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BT(t))zT(e,n);else if(n=_T(t,e,n,r),n!==null){var i=_n();cr(n,t,r,i),HT(n,e,r)}}function jk(t,e,n){var r=Ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BT(t))zT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,dr(a,s)){var l=e.interleaved;l===null?(i.next=i,Hv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_T(t,e,i,r),n!==null&&(i=_n(),cr(n,t,r,i),HT(n,e,r))}}function BT(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function zT(t,e){ol=Mf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pv(t,n)}}var $f={readContext:Xn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},Uk={readContext:Xn,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:iw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4194308,4,OT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jc(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fk.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=wr();return t={current:t},e.memoizedState=t},useState:rw,useDebugValue:Zv,useDeferredValue:function(t){return wr().memoizedState=t},useTransition:function(){var t=rw(!1),e=t[0];return t=$k.bind(null,t[1]),wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=wr();if(mt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Bt===null)throw Error(J(349));wo&30||IT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,iw(PT.bind(null,r,o,t),[t]),r.flags|=2048,Hl(9,CT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=wr(),e=Bt.identifierPrefix;if(mt){var n=zr,r=Br;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Mk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bk={readContext:Xn,useCallback:$T,useContext:Xn,useEffect:Jv,useImperativeHandle:MT,useInsertionEffect:VT,useLayoutEffect:LT,useMemo:FT,useReducer:Tp,useRef:DT,useState:function(){return Tp(zl)},useDebugValue:Zv,useDeferredValue:function(t){var e=Jn();return jT(e,Dt.memoizedState,t)},useTransition:function(){var t=Tp(zl)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:xT,useSyncExternalStore:AT,useId:UT,unstable_isNewReconciler:!1},zk={readContext:Xn,useCallback:$T,useContext:Xn,useEffect:Jv,useImperativeHandle:MT,useInsertionEffect:VT,useLayoutEffect:LT,useMemo:FT,useReducer:Rp,useRef:DT,useState:function(){return Rp(zl)},useDebugValue:Zv,useDeferredValue:function(t){var e=Jn();return Dt===null?e.memoizedState=t:jT(e,Dt.memoizedState,t)},useTransition:function(){var t=Rp(zl)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:xT,useSyncExternalStore:AT,useId:UT,unstable_isNewReconciler:!1};function Ms(t,e){try{var n="",r=e;do n+=vP(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function bp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Km(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hk=typeof WeakMap=="function"?WeakMap:Map;function WT(t,e,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jf||(jf=!0,ig=r),Km(t,e)},n}function qT(t,e,n){n=Wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Km(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Km(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ow(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=iN.bind(null,t,e,n),e.then(t,t))}function sw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wr(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var Wk=ei.ReactCurrentOwner,bn=!1;function mn(t,e,n,r){e.child=t===null?RT(e,null,n,r):Ls(e,t.child,n,r)}function lw(t,e,n,r,i){n=n.render;var o=e.ref;return Ss(e,i),r=Yv(t,e,n,r,o,i),n=Xv(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(mt&&n&&$v(e),e.flags|=1,mn(t,e,r,i),e.child)}function uw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ay(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,GT(t,e,o,r,i)):(t=nf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ol,n(s,r)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=Ii(o,r),t.ref=e.ref,t.return=e,e.child=t}function GT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ol(o,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return Qm(t,e,n,r,i)}function KT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ps,Dn),Dn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(ps,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,nt(ps,Dn),Dn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,nt(ps,Dn),Dn|=r;return mn(t,e,i,n),e.child}function QT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qm(t,e,n,r,i){var o=An(n)?yo:dn.current;return o=Ds(e,o),Ss(e,i),n=Yv(t,e,n,r,o,i),r=Xv(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(mt&&r&&$v(e),e.flags|=1,mn(t,e,n,i),e.child)}function cw(t,e,n,r,i){if(An(n)){var o=!0;Pf(e)}else o=!1;if(Ss(e,i),e.stateNode===null)Zc(t,e),ST(e,n,r),Gm(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=An(n)?yo:dn.current,u=Ds(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&tw(e,s,r,u),ai=!1;var d=e.memoizedState;s.state=d,Lf(e,r,s,i),l=e.memoizedState,a!==r||d!==l||xn.current||ai?(typeof c=="function"&&(qm(e,n,c,r),l=e.memoizedState),(a=ai||ew(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,wT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:nr(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=An(n)?yo:dn.current,l=Ds(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&tw(e,s,r,l),ai=!1,d=e.memoizedState,s.state=d,Lf(e,r,s,i);var m=e.memoizedState;a!==f||d!==m||xn.current||ai?(typeof h=="function"&&(qm(e,n,h,r),m=e.memoizedState),(u=ai||ew(e,n,u,r,d,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ym(t,e,n,r,o,i)}function Ym(t,e,n,r,i,o){QT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Q_(e,n,!1),Yr(t,e,o);r=e.stateNode,Wk.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ls(e,t.child,null,o),e.child=Ls(e,null,a,o)):mn(t,e,a,o),e.memoizedState=r.state,i&&Q_(e,n,!0),e.child}function YT(t){var e=t.stateNode;e.pendingContext?K_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&K_(t,e.context,!1),qv(t,e.containerInfo)}function fw(t,e,n,r,i){return Vs(),jv(i),e.flags|=256,mn(t,e,n,r),e.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Jm(t){return{baseLanes:t,cachePool:null,transitions:null}}function XT(t,e,n){var r=e.pendingProps,i=_t.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(_t,i&1),t===null)return Hm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Bd(s,r,0,null),t=fo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Jm(n),e.memoizedState=Xm,t):ey(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qk(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ii(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ii(a,o):(o=fo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Jm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Xm,r}return o=t.child,t=o.sibling,r=Ii(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ey(t,e){return e=Bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cc(t,e,n,r){return r!==null&&jv(r),Ls(e,t.child,null,n),t=ey(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qk(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=bp(Error(J(422))),cc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Bd({mode:"visible",children:r.children},i,0,null),o=fo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ls(e,t.child,null,s),e.child.memoizedState=Jm(s),e.memoizedState=Xm,o);if(!(e.mode&1))return cc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(J(419)),r=bp(o,r,void 0),cc(t,e,s,r)}if(a=(s&t.childLanes)!==0,bn||a){if(r=Bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Qr(t,i),cr(r,t,i,-1))}return sy(),r=bp(Error(J(421))),cc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oN.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Vn=Ri(i.nextSibling),Mn=e,mt=!0,or=null,t!==null&&(qn[Gn++]=Br,qn[Gn++]=zr,qn[Gn++]=_o,Br=t.id,zr=t.overflow,_o=e),e=ey(e,r.children),e.flags|=4096,e)}function dw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wm(t.return,e,n)}function xp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function JT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mn(t,e,r.children,n),r=_t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dw(t,n,e);else if(t.tag===19)dw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(_t,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Of(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Of(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xp(e,!0,n,null,o);break;case"together":xp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Eo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gk(t,e,n){switch(e.tag){case 3:YT(e),Vs();break;case 5:bT(e);break;case 1:An(e.type)&&Pf(e);break;case 4:qv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(Df,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?XT(t,e,n):(nt(_t,_t.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);nt(_t,_t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(_t,_t.current),r)break;return null;case 22:case 23:return e.lanes=0,KT(t,e,n)}return Yr(t,e,n)}var ZT,Zm,eR,tR;ZT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zm=function(){};eR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,io(Ar.current);var o=null;switch(n){case"input":i=Em(t,i),r=Em(t,r),o=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),o=[];break;case"textarea":i=Rm(t,i),r=Rm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=If)}xm(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};tR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ra(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kk(t,e,n){var r=e.pendingProps;switch(Fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return An(e.type)&&Cf(),nn(e),null;case 3:return r=e.stateNode,Os(),ft(xn),ft(dn),Kv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(ag(or),or=null))),Zm(t,e),nn(e),null;case 5:Gv(e);var i=io(Ul.current);if(n=e.type,t!==null&&e.stateNode!=null)eR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return nn(e),null}if(t=io(Ar.current),lc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Er]=e,r[Fl]=o,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<za.length;i++)st(za[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":E_(r,o),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},st("invalid",r);break;case"textarea":T_(r,o),st("invalid",r)}xm(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),i=["children",""+a]):Cl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&st("scroll",r)}switch(n){case"input":Zu(r),S_(r,o,!0);break;case"textarea":Zu(r),R_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=If)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Er]=e,t[Fl]=r,ZT(t,e,!1,!1),e.stateNode=t;e:{switch(s=Am(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<za.length;i++)st(za[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":E_(t,r),i=Em(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),st("invalid",t);break;case"textarea":T_(t,r),i=Rm(t,r),st("invalid",t);break;default:i=r}xm(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?kS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pl(t,l):typeof l=="number"&&Pl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&st("scroll",t):l!=null&&Rv(t,o,l,s))}switch(n){case"input":Zu(t),S_(t,r,!1);break;case"textarea":Zu(t),R_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ys(t,!!r.multiple,o,!1):r.defaultValue!=null&&ys(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=If)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)tR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=io(Ul.current),io(Ar.current),lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Er]=e,(o=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=e,e.stateNode=r}return nn(e),null;case 13:if(ft(_t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&Vn!==null&&e.mode&1&&!(e.flags&128))yT(),Vs(),e.flags|=98560,o=!1;else if(o=lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Er]=e}else Vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),o=!1}else or!==null&&(ag(or),or=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Vt===0&&(Vt=3):sy())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return Os(),Zm(t,e),t===null&&Ml(e.stateNode.containerInfo),nn(e),null;case 10:return zv(e.type._context),nn(e),null;case 17:return An(e.type)&&Cf(),nn(e),null;case 19:if(ft(_t),o=e.memoizedState,o===null)return nn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ra(o,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Of(t),s!==null){for(e.flags|=128,Ra(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(_t,_t.current&1|2),e.child}t=t.sibling}o.tail!==null&&It()>$s&&(e.flags|=128,r=!0,Ra(o,!1),e.lanes=4194304)}else{if(!r)if(t=Of(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ra(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!mt)return nn(e),null}else 2*It()-o.renderingStartTime>$s&&n!==1073741824&&(e.flags|=128,r=!0,Ra(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=It(),e.sibling=null,n=_t.current,nt(_t,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return oy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function Qk(t,e){switch(Fv(e),e.tag){case 1:return An(e.type)&&Cf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Os(),ft(xn),ft(dn),Kv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gv(e),null;case 13:if(ft(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(_t),null;case 4:return Os(),null;case 10:return zv(e.type._context),null;case 22:case 23:return oy(),null;case 24:return null;default:return null}}var fc=!1,ln=!1,Yk=typeof WeakSet=="function"?WeakSet:Set,he=null;function hs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function eg(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var hw=!1;function Xk(t,e){if(Mm=bf,t=oT(),Mv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($m={focusedElem:t,selectionRange:n},bf=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,S=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:nr(e.type,y),S);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){Rt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return m=hw,hw=!1,m}function sl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&eg(e,n,o)}i=i.next}while(i!==r)}}function jd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nR(t){var e=t.alternate;e!==null&&(t.alternate=null,nR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Er],delete e[Fl],delete e[Um],delete e[Dk],delete e[Vk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rR(t){return t.tag===5||t.tag===3||t.tag===4}function pw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ng(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=If));else if(r!==4&&(t=t.child,t!==null))for(ng(t,e,n),t=t.sibling;t!==null;)ng(t,e,n),t=t.sibling}function rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rg(t,e,n),t=t.sibling;t!==null;)rg(t,e,n),t=t.sibling}var qt=null,ir=!1;function oi(t,e,n){for(n=n.child;n!==null;)iR(t,e,n),n=n.sibling}function iR(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(Nd,n)}catch{}switch(n.tag){case 5:ln||hs(n,e);case 6:var r=qt,i=ir;qt=null,oi(t,e,n),qt=r,ir=i,qt!==null&&(ir?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(ir?(t=qt,n=n.stateNode,t.nodeType===8?_p(t.parentNode,n):t.nodeType===1&&_p(t,n),Vl(t)):_p(qt,n.stateNode));break;case 4:r=qt,i=ir,qt=n.stateNode.containerInfo,ir=!0,oi(t,e,n),qt=r,ir=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&eg(n,e,s),i=i.next}while(i!==r)}oi(t,e,n);break;case 1:if(!ln&&(hs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}oi(t,e,n);break;case 21:oi(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,oi(t,e,n),ln=r):oi(t,e,n);break;default:oi(t,e,n)}}function mw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yk),e.forEach(function(r){var i=sN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,ir=!1;break e;case 3:qt=a.stateNode.containerInfo,ir=!0;break e;case 4:qt=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if(qt===null)throw Error(J(160));iR(o,s,i),qt=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oR(e,t),e=e.sibling}function oR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),yr(t),r&4){try{sl(3,t,t.return),jd(3,t)}catch(y){Rt(t,t.return,y)}try{sl(5,t,t.return)}catch(y){Rt(t,t.return,y)}}break;case 1:er(e,t),yr(t),r&512&&n!==null&&hs(n,n.return);break;case 5:if(er(e,t),yr(t),r&512&&n!==null&&hs(n,n.return),t.flags&32){var i=t.stateNode;try{Pl(i,"")}catch(y){Rt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&xS(i,o),Am(a,s);var u=Am(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?kS(i,f):c==="dangerouslySetInnerHTML"?CS(i,f):c==="children"?Pl(i,f):Rv(i,c,f,u)}switch(a){case"input":Sm(i,o);break;case"textarea":AS(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ys(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?ys(i,!!o.multiple,o.defaultValue,!0):ys(i,!!o.multiple,o.multiple?[]:"",!1))}i[Fl]=o}catch(y){Rt(t,t.return,y)}}break;case 6:if(er(e,t),yr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Rt(t,t.return,y)}}break;case 3:if(er(e,t),yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vl(e.containerInfo)}catch(y){Rt(t,t.return,y)}break;case 4:er(e,t),yr(t);break;case 13:er(e,t),yr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ry=It())),r&4&&mw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||c,er(e,t),ln=u):er(e,t),yr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(he=t,c=t.child;c!==null;){for(f=he=c;he!==null;){switch(d=he,h=d.child,d.tag){case 0:case 11:case 14:case 15:sl(4,d,d.return);break;case 1:hs(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Rt(r,n,y)}}break;case 5:hs(d,d.return);break;case 22:if(d.memoizedState!==null){vw(f);continue}}h!==null?(h.return=d,he=h):vw(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=PS("display",s))}catch(y){Rt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Rt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:er(e,t),yr(t),r&4&&mw(t);break;case 21:break;default:er(e,t),yr(t)}}function yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rR(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pl(i,""),r.flags&=-33);var o=pw(t);rg(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=pw(t);ng(t,a,s);break;default:throw Error(J(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jk(t,e,n){he=t,sR(t)}function sR(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||fc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=fc;var u=ln;if(fc=s,(ln=l)&&!u)for(he=i;he!==null;)s=he,l=s.child,s.tag===22&&s.memoizedState!==null?yw(i):l!==null?(l.return=s,he=l):yw(i);for(;o!==null;)he=o,sR(o),o=o.sibling;he=i,fc=a,ln=u}gw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,he=o):gw(t)}}function gw(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||jd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Z_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Z_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Vl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}ln||e.flags&512&&tg(e)}catch(d){Rt(e,e.return,d)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function vw(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function yw(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jd(4,e)}catch(l){Rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rt(e,i,l)}}var o=e.return;try{tg(e)}catch(l){Rt(e,o,l)}break;case 5:var s=e.return;try{tg(e)}catch(l){Rt(e,s,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var Zk=Math.ceil,Ff=ei.ReactCurrentDispatcher,ty=ei.ReactCurrentOwner,Yn=ei.ReactCurrentBatchConfig,ze=0,Bt=null,kt=null,Xt=0,Dn=0,ps=Fi(0),Vt=0,Wl=null,Eo=0,Ud=0,ny=0,al=null,Tn=null,ry=0,$s=1/0,$r=null,jf=!1,ig=null,xi=null,dc=!1,gi=null,Uf=0,ll=0,og=null,ef=-1,tf=0;function _n(){return ze&6?It():ef!==-1?ef:ef=It()}function Ai(t){return t.mode&1?ze&2&&Xt!==0?Xt&-Xt:Ok.transition!==null?(tf===0&&(tf=zS()),tf):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:YS(t.type)),t):1}function cr(t,e,n,r){if(50<ll)throw ll=0,og=null,Error(J(185));mu(t,n,r),(!(ze&2)||t!==Bt)&&(t===Bt&&(!(ze&2)&&(Ud|=n),Vt===4&&ci(t,Xt)),In(t,r),n===1&&ze===0&&!(e.mode&1)&&($s=It()+500,Md&&ji()))}function In(t,e){var n=t.callbackNode;OP(t,e);var r=Rf(t,t===Bt?Xt:0);if(r===0)n!==null&&A_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&A_(n),e===1)t.tag===0?Lk(_w.bind(null,t)):mT(_w.bind(null,t)),kk(function(){!(ze&6)&&ji()}),n=null;else{switch(HS(r)){case 1:n=Cv;break;case 4:n=US;break;case 16:n=Tf;break;case 536870912:n=BS;break;default:n=Tf}n=pR(n,aR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aR(t,e){if(ef=-1,tf=0,ze&6)throw Error(J(327));var n=t.callbackNode;if(Ts()&&t.callbackNode!==n)return null;var r=Rf(t,t===Bt?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bf(t,r);else{e=r;var i=ze;ze|=2;var o=uR();(Bt!==t||Xt!==e)&&($r=null,$s=It()+500,co(t,e));do try{nN();break}catch(a){lR(t,a)}while(!0);Bv(),Ff.current=o,ze=i,kt!==null?e=0:(Bt=null,Xt=0,e=Vt)}if(e!==0){if(e===2&&(i=Nm(t),i!==0&&(r=i,e=sg(t,i))),e===1)throw n=Wl,co(t,0),ci(t,r),In(t,It()),n;if(e===6)ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!eN(i)&&(e=Bf(t,r),e===2&&(o=Nm(t),o!==0&&(r=o,e=sg(t,o))),e===1))throw n=Wl,co(t,0),ci(t,r),In(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Xi(t,Tn,$r);break;case 3:if(ci(t,r),(r&130023424)===r&&(e=ry+500-It(),10<e)){if(Rf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jm(Xi.bind(null,t,Tn,$r),e);break}Xi(t,Tn,$r);break;case 4:if(ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ur(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zk(r/1960))-r,10<r){t.timeoutHandle=jm(Xi.bind(null,t,Tn,$r),r);break}Xi(t,Tn,$r);break;case 5:Xi(t,Tn,$r);break;default:throw Error(J(329))}}}return In(t,It()),t.callbackNode===n?aR.bind(null,t):null}function sg(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(co(t,e).flags|=256),t=Bf(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&ag(e)),t}function ag(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function eN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!dr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ci(t,e){for(e&=~ny,e&=~Ud,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function _w(t){if(ze&6)throw Error(J(327));Ts();var e=Rf(t,0);if(!(e&1))return In(t,It()),null;var n=Bf(t,e);if(t.tag!==0&&n===2){var r=Nm(t);r!==0&&(e=r,n=sg(t,r))}if(n===1)throw n=Wl,co(t,0),ci(t,e),In(t,It()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xi(t,Tn,$r),In(t,It()),null}function iy(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&($s=It()+500,Md&&ji())}}function So(t){gi!==null&&gi.tag===0&&!(ze&6)&&Ts();var e=ze;ze|=1;var n=Yn.transition,r=Ye;try{if(Yn.transition=null,Ye=1,t)return t()}finally{Ye=r,Yn.transition=n,ze=e,!(ze&6)&&ji()}}function oy(){Dn=ps.current,ft(ps)}function co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pk(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cf();break;case 3:Os(),ft(xn),ft(dn),Kv();break;case 5:Gv(r);break;case 4:Os();break;case 13:ft(_t);break;case 19:ft(_t);break;case 10:zv(r.type._context);break;case 22:case 23:oy()}n=n.return}if(Bt=t,kt=t=Ii(t.current,null),Xt=Dn=e,Vt=0,Wl=null,ny=Ud=Eo=0,Tn=al=null,ro!==null){for(e=0;e<ro.length;e++)if(n=ro[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ro=null}return t}function lR(t,e){do{var n=kt;try{if(Bv(),Xc.current=$f,Mf){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mf=!1}if(wo=0,Ut=Dt=wt=null,ol=!1,Bl=0,ty.current=null,n===null||n.return===null){Vt=1,Wl=e,kt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=sw(s);if(h!==null){h.flags&=-257,aw(h,s,a,o,e),h.mode&1&&ow(o,u,e),e=h,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){ow(o,u,e),sy();break e}l=Error(J(426))}}else if(mt&&a.mode&1){var S=sw(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),aw(S,s,a,o,e),jv(Ms(l,a));break e}}o=l=Ms(l,a),Vt!==4&&(Vt=2),al===null?al=[o]:al.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=WT(o,l,e);J_(o,g);break e;case 1:a=l;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(xi===null||!xi.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=qT(o,a,e);J_(o,b);break e}}o=o.return}while(o!==null)}fR(n)}catch(C){e=C,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function uR(){var t=Ff.current;return Ff.current=$f,t===null?$f:t}function sy(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Bt===null||!(Eo&268435455)&&!(Ud&268435455)||ci(Bt,Xt)}function Bf(t,e){var n=ze;ze|=2;var r=uR();(Bt!==t||Xt!==e)&&($r=null,co(t,e));do try{tN();break}catch(i){lR(t,i)}while(!0);if(Bv(),ze=n,Ff.current=r,kt!==null)throw Error(J(261));return Bt=null,Xt=0,Vt}function tN(){for(;kt!==null;)cR(kt)}function nN(){for(;kt!==null&&!AP();)cR(kt)}function cR(t){var e=hR(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?fR(t):kt=e,ty.current=null}function fR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qk(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,kt=null;return}}else if(n=Kk(n,e,Dn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Vt===0&&(Vt=5)}function Xi(t,e,n){var r=Ye,i=Yn.transition;try{Yn.transition=null,Ye=1,rN(t,e,n,r)}finally{Yn.transition=i,Ye=r}return null}function rN(t,e,n,r){do Ts();while(gi!==null);if(ze&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(MP(t,o),t===Bt&&(kt=Bt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,pR(Tf,function(){return Ts(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yn.transition,Yn.transition=null;var s=Ye;Ye=1;var a=ze;ze|=4,ty.current=null,Xk(t,n),oR(n,t),Tk($m),bf=!!Mm,$m=Mm=null,t.current=n,Jk(n),IP(),ze=a,Ye=s,Yn.transition=o}else t.current=n;if(dc&&(dc=!1,gi=t,Uf=i),o=t.pendingLanes,o===0&&(xi=null),kP(n.stateNode),In(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jf)throw jf=!1,t=ig,ig=null,t;return Uf&1&&t.tag!==0&&Ts(),o=t.pendingLanes,o&1?t===og?ll++:(ll=0,og=t):ll=0,ji(),null}function Ts(){if(gi!==null){var t=HS(Uf),e=Yn.transition,n=Ye;try{if(Yn.transition=null,Ye=16>t?16:t,gi===null)var r=!1;else{if(t=gi,gi=null,Uf=0,ze&6)throw Error(J(331));var i=ze;for(ze|=4,he=t.current;he!==null;){var o=he,s=o.child;if(he.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(he=u;he!==null;){var c=he;switch(c.tag){case 0:case 11:case 15:sl(8,c,o)}var f=c.child;if(f!==null)f.return=c,he=f;else for(;he!==null;){c=he;var d=c.sibling,h=c.return;if(nR(c),c===u){he=null;break}if(d!==null){d.return=h,he=d;break}he=h}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}he=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,he=s;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sl(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,he=g;break e}he=o.return}}var p=t.current;for(he=p;he!==null;){s=he;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,he=v;else e:for(s=p;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jd(9,a)}}catch(C){Rt(a,a.return,C)}if(a===s){he=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,he=b;break e}he=a.return}}if(ze=i,ji(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(Nd,t)}catch{}r=!0}return r}finally{Ye=n,Yn.transition=e}}return!1}function ww(t,e,n){e=Ms(n,e),e=WT(t,e,1),t=bi(t,e,1),e=_n(),t!==null&&(mu(t,1,e),In(t,e))}function Rt(t,e,n){if(t.tag===3)ww(t,t,n);else for(;e!==null;){if(e.tag===3){ww(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Ms(n,t),t=qT(e,t,1),e=bi(e,t,1),t=_n(),e!==null&&(mu(e,1,t),In(e,t));break}}e=e.return}}function iN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,Bt===t&&(Xt&n)===n&&(Vt===4||Vt===3&&(Xt&130023424)===Xt&&500>It()-ry?co(t,0):ny|=n),In(t,e)}function dR(t,e){e===0&&(t.mode&1?(e=nc,nc<<=1,!(nc&130023424)&&(nc=4194304)):e=1);var n=_n();t=Qr(t,e),t!==null&&(mu(t,e,n),In(t,n))}function oN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dR(t,n)}function sN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),dR(t,n)}var hR;hR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,Gk(t,e,n);bn=!!(t.flags&131072)}else bn=!1,mt&&e.flags&1048576&&gT(e,Nf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zc(t,e),t=e.pendingProps;var i=Ds(e,dn.current);Ss(e,n),i=Yv(null,e,r,t,i,n);var o=Xv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(r)?(o=!0,Pf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wv(e),i.updater=$d,e.stateNode=i,i._reactInternals=e,Gm(e,r,t,n),e=Ym(null,e,r,!0,o,n)):(e.tag=0,mt&&o&&$v(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lN(r),t=nr(r,t),i){case 0:e=Qm(null,e,r,t,n);break e;case 1:e=cw(null,e,r,t,n);break e;case 11:e=lw(null,e,r,t,n);break e;case 14:e=uw(null,e,r,nr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Qm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),cw(t,e,r,i,n);case 3:e:{if(YT(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,wT(t,e),Lf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ms(Error(J(423)),e),e=fw(t,e,r,n,i);break e}else if(r!==i){i=Ms(Error(J(424)),e),e=fw(t,e,r,n,i);break e}else for(Vn=Ri(e.stateNode.containerInfo.firstChild),Mn=e,mt=!0,or=null,n=RT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vs(),r===i){e=Yr(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return bT(e),t===null&&Hm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Fm(r,i)?s=null:o!==null&&Fm(r,o)&&(e.flags|=32),QT(t,e),mn(t,e,s,n),e.child;case 6:return t===null&&Hm(e),null;case 13:return XT(t,e,n);case 4:return qv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ls(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),lw(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,nt(Df,r._currentValue),r._currentValue=s,o!==null)if(dr(o.value,s)){if(o.children===i.children&&!xn.current){e=Yr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Wr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wm(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(J(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Wm(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ss(e,n),i=Xn(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=nr(r,e.pendingProps),i=nr(r.type,i),uw(t,e,r,i,n);case 15:return GT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Zc(t,e),e.tag=1,An(r)?(t=!0,Pf(e)):t=!1,Ss(e,n),ST(e,r,i),Gm(e,r,i,n),Ym(null,e,r,!0,t,n);case 19:return JT(t,e,n);case 22:return KT(t,e,n)}throw Error(J(156,e.tag))};function pR(t,e){return jS(t,e)}function aN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new aN(t,e,n,r)}function ay(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lN(t){if(typeof t=="function")return ay(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xv)return 11;if(t===Av)return 14}return 2}function Ii(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ay(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case is:return fo(n.children,i,o,e);case bv:s=8,i|=8;break;case vm:return t=Qn(12,n,e,i|2),t.elementType=vm,t.lanes=o,t;case ym:return t=Qn(13,n,e,i),t.elementType=ym,t.lanes=o,t;case _m:return t=Qn(19,n,e,i),t.elementType=_m,t.lanes=o,t;case TS:return Bd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ES:s=10;break e;case SS:s=9;break e;case xv:s=11;break e;case Av:s=14;break e;case si:s=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Qn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function fo(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function Bd(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=TS,t.lanes=n,t.stateNode={isHidden:!1},t}function Ap(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function Ip(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lp(0),this.expirationTimes=lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ly(t,e,n,r,i,o,s,a,l){return t=new uN(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Qn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wv(o),t}function cN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mR(t){if(!t)return Vi;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(An(n))return pT(t,n,e)}return e}function gR(t,e,n,r,i,o,s,a,l){return t=ly(n,r,!0,t,i,o,s,a,l),t.context=mR(null),n=t.current,r=_n(),i=Ai(n),o=Wr(r,i),o.callback=e??null,bi(n,o,i),t.current.lanes=i,mu(t,i,r),In(t,r),t}function zd(t,e,n,r){var i=e.current,o=_n(),s=Ai(i);return n=mR(n),e.context===null?e.context=n:e.pendingContext=n,e=Wr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,s),t!==null&&(cr(t,i,s,o),Yc(t,i,s)),s}function zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ew(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uy(t,e){Ew(t,e),(t=t.alternate)&&Ew(t,e)}function fN(){return null}var vR=typeof reportError=="function"?reportError:function(t){console.error(t)};function cy(t){this._internalRoot=t}Hd.prototype.render=cy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));zd(t,e,null,null)};Hd.prototype.unmount=cy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;So(function(){zd(null,t,null,null)}),e[Kr]=null}};function Hd(t){this._internalRoot=t}Hd.prototype.unstable_scheduleHydration=function(t){if(t){var e=GS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&QS(t)}};function fy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function dN(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=zf(s);o.call(u)}}var s=gR(e,r,t,0,null,!1,!1,"",Sw);return t._reactRootContainer=s,t[Kr]=s.current,Ml(t.nodeType===8?t.parentNode:t),So(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=zf(l);a.call(u)}}var l=ly(t,0,!1,null,null,!1,!1,"",Sw);return t._reactRootContainer=l,t[Kr]=l.current,Ml(t.nodeType===8?t.parentNode:t),So(function(){zd(e,l,n,r)}),l}function qd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=zf(s);a.call(l)}}zd(e,s,t,i)}else s=dN(n,e,t,i,r);return zf(s)}WS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ba(e.pendingLanes);n!==0&&(Pv(e,n|1),In(e,It()),!(ze&6)&&($s=It()+500,ji()))}break;case 13:So(function(){var r=Qr(t,1);if(r!==null){var i=_n();cr(r,t,1,i)}}),uy(t,1)}};kv=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=_n();cr(e,t,134217728,n)}uy(t,134217728)}};qS=function(t){if(t.tag===13){var e=Ai(t),n=Qr(t,e);if(n!==null){var r=_n();cr(n,t,e,r)}uy(t,e)}};GS=function(){return Ye};KS=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};Cm=function(t,e,n){switch(e){case"input":if(Sm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Od(r);if(!i)throw Error(J(90));bS(r),Sm(r,i)}}}break;case"textarea":AS(t,n);break;case"select":e=n.value,e!=null&&ys(t,!!n.multiple,e,!1)}};VS=iy;LS=So;var hN={usingClientEntryPoint:!1,Events:[vu,ls,Od,NS,DS,iy]},ba={findFiberByHostInstance:no,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pN={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$S(t),t===null?null:t.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||fN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Nd=hc.inject(pN),xr=hc}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hN;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fy(e))throw Error(J(200));return cN(t,e,null,n)};Un.createRoot=function(t,e){if(!fy(t))throw Error(J(299));var n=!1,r="",i=vR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ly(t,1,!1,null,null,n,!1,r,i),t[Kr]=e.current,Ml(t.nodeType===8?t.parentNode:t),new cy(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=$S(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return So(t)};Un.hydrate=function(t,e,n){if(!Wd(e))throw Error(J(200));return qd(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!fy(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=vR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=gR(e,null,t,1,n??null,i,!1,o,s),t[Kr]=e.current,Ml(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hd(e)};Un.render=function(t,e,n){if(!Wd(e))throw Error(J(200));return qd(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!Wd(t))throw Error(J(40));return t._reactRootContainer?(So(function(){qd(null,null,t,!1,function(){t._reactRootContainer=null,t[Kr]=null})}),!0):!1};Un.unstable_batchedUpdates=iy;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wd(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return qd(t,e,n,!1,r)};Un.version="18.2.0-next-9e3b772b8-20220608";function yR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yR)}catch(t){console.error(t)}}yR(),gS.exports=Un;var dy=gS.exports;const mN=vv(dy);var Tw=dy;mm.createRoot=Tw.createRoot,mm.hydrateRoot=Tw.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}var vi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vi||(vi={}));const Rw="popstate";function gN(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Do(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),lg("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:_R(o))}function r(i,o){Gd(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return yN(e,n,r,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vN(){return Math.random().toString(36).substr(2,8)}function bw(t,e){return{usr:t.state,key:t.key,idx:e}}function lg(t,e,n,r){return n===void 0&&(n=null),ql({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Do(e):e,{state:n,key:e&&e.key||r||vN()})}function _R(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Do(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=vi.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(ql({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=vi.Pop;let S=c(),g=S==null?null:S-u;u=S,l&&l({action:a,location:y.location,delta:g})}function d(S,g){a=vi.Push;let p=lg(y.location,S,g);n&&n(p,S),u=c()+1;let v=bw(p,u),b=y.createHref(p);try{s.pushState(v,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(b)}o&&l&&l({action:a,location:y.location,delta:1})}function h(S,g){a=vi.Replace;let p=lg(y.location,S,g);n&&n(p,S),u=c();let v=bw(p,u),b=y.createHref(p);s.replaceState(v,"",b),o&&l&&l({action:a,location:y.location,delta:0})}function m(S){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof S=="string"?S:_R(S);return Lt(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Rw,f),l=S,()=>{i.removeEventListener(Rw,f),l=null}},createHref(S){return e(i,S)},createURL:m,encodeLocation(S){let g=m(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(S){return s.go(S)}};return y}var xw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xw||(xw={}));function _N(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Do(e):e,i=SR(r.pathname||"/",n);if(i==null)return null;let o=wR(t);wN(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=CN(o[a],NN(i));return s}function wR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ho([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wR(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:AN(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of ER(o.path))i(o,s,l)}),e}function ER(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=ER(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function wN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EN=/^:\w+$/,SN=3,TN=2,RN=1,bN=10,xN=-2,Aw=t=>t==="*";function AN(t,e){let n=t.split("/"),r=n.length;return n.some(Aw)&&(r+=xN),e&&(r+=TN),n.filter(i=>!Aw(i)).reduce((i,o)=>i+(EN.test(o)?SN:o===""?RN:bN),r)}function IN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CN(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=PN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:ho([i,c.pathname]),pathnameBase:FN(ho([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=ho([i,c.pathnameBase]))}return o}function PN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=DN(m||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function kN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NN(t){try{return decodeURI(t)}catch(e){return Gd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DN(t,e){try{return decodeURIComponent(t)}catch(n){return Gd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function SR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Do(t):t;return{pathname:n?n.startsWith("/")?n:LN(n,e):e,search:jN(r),hash:UN(i)}}function LN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ON(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function MN(t,e){let n=ON(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $N(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Do(t):(i=ql({},t),Lt(!i.pathname||!i.pathname.includes("?"),Cp("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),Cp("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),Cp("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=VN(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ho=t=>t.join("/").replace(/\/\/+/g,"/"),FN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TR=["post","put","patch","delete"];new Set(TR);const zN=["get",...TR];new Set(zN);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}const hy=x.createContext(null),HN=x.createContext(null),Kd=x.createContext(null),Qd=x.createContext(null),ia=x.createContext({outlet:null,matches:[],isDataRoute:!1}),RR=x.createContext(null);function Yd(){return x.useContext(Qd)!=null}function py(){return Yd()||Lt(!1),x.useContext(Qd).location}function bR(t){x.useContext(Kd).static||x.useLayoutEffect(t)}function my(){let{isDataRoute:t}=x.useContext(ia);return t?r2():WN()}function WN(){Yd()||Lt(!1);let t=x.useContext(hy),{basename:e,future:n,navigator:r}=x.useContext(Kd),{matches:i}=x.useContext(ia),{pathname:o}=py(),s=JSON.stringify(MN(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return bR(()=>{a.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=$N(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ho([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function qN(t,e){return GN(t,e)}function GN(t,e,n,r){Yd()||Lt(!1);let{navigator:i}=x.useContext(Kd),{matches:o}=x.useContext(ia),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=py(),c;if(e){var f;let S=typeof e=="string"?Do(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||Lt(!1),c=S}else c=u;let d=c.pathname||"/",h=l==="/"?d:d.slice(l.length)||"/",m=_N(t,{pathname:h}),y=JN(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:ho([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:ho([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return e&&y?x.createElement(Qd.Provider,{value:{location:Gl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:vi.Pop}},y):y}function KN(){let t=n2(),e=BN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const QN=x.createElement(KN,null);class YN extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(ia.Provider,{value:this.props.routeContext},x.createElement(RR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XN(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(hy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ia.Provider,{value:e},r)}function JN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Lt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let h,m=!1,y=null,S=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||QN,l&&(u<0&&d===0?(i2("route-fallback",!1),m=!0,S=null):u===d&&(m=!0,S=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,d+1)),p=()=>{let v;return h?v=y:m?v=S:f.route.Component?v=x.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=c,x.createElement(XN,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?x.createElement(YN,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var xR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xR||{}),Hf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hf||{});function ZN(t){let e=x.useContext(hy);return e||Lt(!1),e}function e2(t){let e=x.useContext(HN);return e||Lt(!1),e}function t2(t){let e=x.useContext(ia);return e||Lt(!1),e}function AR(t){let e=t2(),n=e.matches[e.matches.length-1];return n.route.id||Lt(!1),n.route.id}function n2(){var t;let e=x.useContext(RR),n=e2(Hf.UseRouteError),r=AR(Hf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function r2(){let{router:t}=ZN(xR.UseNavigateStable),e=AR(Hf.UseNavigateStable),n=x.useRef(!1);return bR(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gl({fromRouteId:e},o)))},[t,e])}const Iw={};function i2(t,e,n){!e&&!Iw[t]&&(Iw[t]=!0)}function Jo(t){Lt(!1)}function o2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vi.Pop,navigator:o,static:s=!1,future:a}=t;Yd()&&Lt(!1);let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:o,static:s,future:Gl({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Do(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:m="default"}=r,y=x.useMemo(()=>{let S=SR(c,l);return S==null?null:{location:{pathname:S,search:f,hash:d,state:h,key:m},navigationType:i}},[l,c,f,d,h,m,i]);return y==null?null:x.createElement(Kd.Provider,{value:u},x.createElement(Qd.Provider,{children:n,value:y}))}function s2(t){let{children:e,location:n}=t;return qN(ug(e),n)}new Promise(()=>{});function ug(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){n.push.apply(n,ug(r.props.children,o));return}r.type!==Jo&&Lt(!1),!r.props.index||!r.props.children||Lt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ug(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const a2="startTransition",Cw=oP[a2];function l2(t){let{basename:e,children:n,future:r,window:i}=t,o=x.useRef();o.current==null&&(o.current=gN({window:i,v5Compat:!0}));let s=o.current,[a,l]=x.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=x.useCallback(f=>{u&&Cw?Cw(()=>l(f)):l(f)},[l,u]);return x.useLayoutEffect(()=>s.listen(c),[s,c]),x.createElement(o2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Pw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pw||(Pw={}));var kw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kw||(kw={}));var IR={};function u2(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var c2=u2,Ne=c2;function f2(t){return!!t&&typeof t.then=="function"}var ct=f2;function d2(t,e){if(t!=null)return t;throw Ne(e??"Got unexpected null or undefined")}var gt=d2;function Ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Xd{getValue(){throw Ne("BaseLoadable")}toPromise(){throw Ne("BaseLoadable")}valueMaybe(){throw Ne("BaseLoadable")}valueOrThrow(){throw Ne(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Ne("BaseLoadable")}promiseOrThrow(){throw Ne(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Ne("BaseLoadable")}errorOrThrow(){throw Ne(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Ne("BaseLoadable")}}class h2 extends Xd{constructor(e){super(),Ie(this,"state","hasValue"),Ie(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return ct(n)?To(n):Fs(n)?n:_u(n)}catch(n){return ct(n)?To(n.next(()=>this.map(e))):Jd(n)}}}class p2 extends Xd{constructor(e){super(),Ie(this,"state","hasError"),Ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class CR extends Xd{constructor(e){super(),Ie(this,"state","loading"),Ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return To(this.contents.then(n=>{const r=e(n);if(Fs(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(ct(n))return n.then(()=>this.map(e).contents);throw n}))}}function _u(t){return Object.freeze(new h2(t))}function Jd(t){return Object.freeze(new p2(t))}function To(t){return Object.freeze(new CR(t))}function PR(){return Object.freeze(new CR(new Promise(()=>{})))}function m2(t){return t.every(e=>e.state==="hasValue")?_u(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Jd(gt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):To(Promise.all(t.map(e=>e.contents)))}function kR(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Fs(i)?i:ct(i)?To(i):_u(i)),r=m2(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:i[a]}),{}))}function Fs(t){return t instanceof Xd}const g2={of:t=>ct(t)?To(t):Fs(t)?t:_u(t),error:t=>Jd(t),loading:()=>PR(),all:kR,isLoadable:Fs};var Vo={loadableWithValue:_u,loadableWithError:Jd,loadableWithPromise:To,loadableLoading:PR,loadableAll:kR,isLoadable:Fs,RecoilLoadable:g2},v2=Vo.loadableWithValue,y2=Vo.loadableWithError,_2=Vo.loadableWithPromise,w2=Vo.loadableLoading,E2=Vo.loadableAll,S2=Vo.isLoadable,T2=Vo.RecoilLoadable,wu=Object.freeze({__proto__:null,loadableWithValue:v2,loadableWithError:y2,loadableWithPromise:_2,loadableLoading:w2,loadableAll:E2,isLoadable:S2,RecoilLoadable:T2});const cg={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function R2(t,e){var n,r;const i=(n=IR[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Ne(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function b2(t,e){var n;const r=(n=IR[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function x2(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(R2("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{cg.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),b2("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{cg.RECOIL_GKS_ENABLED.add(n)})}))}x2();var oa=cg;function Zd(t){return oa.RECOIL_GKS_ENABLED.has(t)}Zd.setPass=t=>{oa.RECOIL_GKS_ENABLED.add(t)};Zd.setFail=t=>{oa.RECOIL_GKS_ENABLED.delete(t)};Zd.clear=()=>{oa.RECOIL_GKS_ENABLED.clear()};var tt=Zd;function A2(t,e,{error:n}={}){return null}var I2=A2,gy=I2,Pp,kp,Np;const C2=(Pp=ve.createMutableSource)!==null&&Pp!==void 0?Pp:ve.unstable_createMutableSource,NR=(kp=ve.useMutableSource)!==null&&kp!==void 0?kp:ve.unstable_useMutableSource,DR=(Np=ve.useSyncExternalStore)!==null&&Np!==void 0?Np:ve.unstable_useSyncExternalStore;function P2(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function k2(){return tt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:tt("recoil_sync_external_store")&&DR!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:tt("recoil_mutable_source")&&NR!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?tt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:tt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function N2(){return!1}var Eu={createMutableSource:C2,useMutableSource:NR,useSyncExternalStore:DR,currentRendererSupportsUseSyncExternalStore:P2,reactMode:k2,isFastRefreshEnabled:N2};class vy{constructor(e){Ie(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class VR extends vy{}class LR extends vy{}function D2(t){return t instanceof VR||t instanceof LR}var eh={AbstractRecoilValue:vy,RecoilState:VR,RecoilValueReadOnly:LR,isRecoilValue:D2},V2=eh.AbstractRecoilValue,L2=eh.RecoilState,O2=eh.RecoilValueReadOnly,M2=eh.isRecoilValue,js=Object.freeze({__proto__:null,AbstractRecoilValue:V2,RecoilState:L2,RecoilValueReadOnly:O2,isRecoilValue:M2});function $2(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var th=$2;class OR{}const F2=new OR,Ro=new Map,yy=new Map;function j2(t){return th(t,e=>gt(yy.get(e)))}function U2(t){if(Ro.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function B2(t){oa.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&U2(t.key),Ro.set(t.key,t);const e=t.set==null?new js.RecoilValueReadOnly(t.key):new js.RecoilState(t.key);return yy.set(t.key,e),e}class MR extends Error{}function z2(t){const e=Ro.get(t);if(e==null)throw new MR(`Missing definition for RecoilValue: "${t}""`);return e}function H2(t){return Ro.get(t)}const Wf=new Map;function W2(t){var e;if(!tt("recoil_memory_managament_2020"))return;const n=Ro.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Ro.delete(t),(r=$R(t))===null||r===void 0||r(),Wf.delete(t)}}function q2(t,e){tt("recoil_memory_managament_2020")&&(e===void 0?Wf.delete(t):Wf.set(t,e))}function $R(t){return Wf.get(t)}var kn={nodes:Ro,recoilValues:yy,registerNode:B2,getNode:z2,getNodeMaybe:H2,deleteNodeConfigIfPossible:W2,setConfigDeletionHandler:q2,getConfigDeletionHandler:$R,recoilValuesForKeys:j2,NodeMissingError:MR,DefaultValue:OR,DEFAULT_VALUE:F2};function G2(t,e){e()}var K2={enqueueExecution:G2};function Q2(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Y2=Q2(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,l={},u=function(T){return function(){return T}},c=n.hash=function(_){var T=typeof _>"u"?"undefined":e(_);if(T==="number")return _;T!=="string"&&(_+="");for(var D=0,q=0,Y=_.length;q<Y;++q){var X=_.charCodeAt(q);D=(D<<5)-D+X|0}return D},f=function(T){return T-=T>>1&1431655765,T=(T&858993459)+(T>>2&858993459),T=T+(T>>4)&252645135,T+=T>>8,T+=T>>16,T&127},d=function(T,D){return D>>>T&o},h=function(T){return 1<<T},m=function(T,D){return f(T&D-1)},y=function(T,D,q,Y){var X=Y;if(!T){var le=Y.length;X=new Array(le);for(var ue=0;ue<le;++ue)X[ue]=Y[ue]}return X[D]=q,X},S=function(T,D,q){var Y=q.length-1,X=0,le=0,ue=q;if(T)X=le=D;else for(ue=new Array(Y);X<D;)ue[le++]=q[X++];for(++X;X<=Y;)ue[le++]=q[X++];return T&&(ue.length=Y),ue},g=function(T,D,q,Y){var X=Y.length;if(T){for(var le=X;le>=D;)Y[le--]=Y[le];return Y[D]=q,Y}for(var ue=0,ce=0,oe=new Array(X+1);ue<D;)oe[ce++]=Y[ue++];for(oe[D]=q;ue<X;)oe[++ce]=Y[ue++];return oe},p=1,v=2,b=3,C=4,R={__hamt_isEmpty:!0},w=function(T){return T===R||T&&T.__hamt_isEmpty},P=function(T,D,q,Y){return{type:p,edit:T,hash:D,key:q,value:Y,_modify:B}},O=function(T,D,q){return{type:v,edit:T,hash:D,children:q,_modify:V}},$=function(T,D,q){return{type:b,edit:T,mask:D,children:q,_modify:I}},z=function(T,D,q){return{type:C,edit:T,size:D,children:q,_modify:H}},N=function(T){return T===R||T.type===p||T.type===v},M=function(T,D,q,Y,X){for(var le=[],ue=Y,ce=0,oe=0;ue;++oe)ue&1&&(le[oe]=X[ce++]),ue>>>=1;return le[D]=q,z(T,ce+1,le)},Q=function(T,D,q,Y){for(var X=new Array(D-1),le=0,ue=0,ce=0,oe=Y.length;ce<oe;++ce)if(ce!==q){var ye=Y[ce];ye&&!w(ye)&&(X[le++]=ye,ue|=1<<ce)}return $(T,ue,X)},te=function _(T,D,q,Y,X,le){if(q===X)return O(T,q,[le,Y]);var ue=d(D,q),ce=d(D,X);return $(T,h(ue)|h(ce),ue===ce?[_(T,D+r,q,Y,X,le)]:ue<ce?[Y,le]:[le,Y])},Ee=function(T,D,q,Y,X,le,ue,ce){for(var oe=X.length,ye=0;ye<oe;++ye){var et=X[ye];if(q(ue,et.key)){var ot=et.value,ht=le(ot);return ht===ot?X:ht===l?(--ce.value,S(T,ye,X)):y(T,ye,P(D,Y,ue,ht),X)}}var Qe=le();return Qe===l?X:(++ce.value,y(T,oe,P(D,Y,ue,Qe),X))},we=function(T,D){return T===D.edit},B=function(T,D,q,Y,X,le,ue){if(D(le,this.key)){var ce=Y(this.value);return ce===this.value?this:ce===l?(--ue.value,R):we(T,this)?(this.value=ce,this):P(T,X,le,ce)}var oe=Y();return oe===l?this:(++ue.value,te(T,q,this.hash,this,X,P(T,X,le,oe)))},V=function(T,D,q,Y,X,le,ue){if(X===this.hash){var ce=we(T,this),oe=Ee(ce,T,D,this.hash,this.children,Y,le,ue);return oe===this.children?this:oe.length>1?O(T,this.hash,oe):oe[0]}var ye=Y();return ye===l?this:(++ue.value,te(T,q,this.hash,this,X,P(T,X,le,ye)))},I=function(T,D,q,Y,X,le,ue){var ce=this.mask,oe=this.children,ye=d(q,X),et=h(ye),ot=m(ce,et),ht=ce&et,Qe=ht?oe[ot]:R,$t=Qe._modify(T,D,q+r,Y,X,le,ue);if(Qe===$t)return this;var Sn=we(T,this),xt=ce,Nn=void 0;if(ht&&w($t)){if(xt&=~et,!xt)return R;if(oe.length<=2&&N(oe[ot^1]))return oe[ot^1];Nn=S(Sn,ot,oe)}else if(!ht&&!w($t)){if(oe.length>=s)return M(T,ye,$t,ce,oe);xt|=et,Nn=g(Sn,ot,$t,oe)}else Nn=y(Sn,ot,$t,oe);return Sn?(this.mask=xt,this.children=Nn,this):$(T,xt,Nn)},H=function(T,D,q,Y,X,le,ue){var ce=this.size,oe=this.children,ye=d(q,X),et=oe[ye],ot=(et||R)._modify(T,D,q+r,Y,X,le,ue);if(et===ot)return this;var ht=we(T,this),Qe=void 0;if(w(et)&&!w(ot))++ce,Qe=y(ht,ye,ot,oe);else if(!w(et)&&w(ot)){if(--ce,ce<=a)return Q(T,ce,ye,oe);Qe=y(ht,ye,R,oe)}else Qe=y(ht,ye,ot,oe);return ht?(this.size=ce,this.children=Qe,this):z(T,ce,Qe)};R._modify=function(_,T,D,q,Y,X,le){var ue=q();return ue===l?R:(++le.value,P(_,Y,X,ue))};function E(_,T,D,q,Y){this._editable=_,this._edit=T,this._config=D,this._root=q,this._size=Y}E.prototype.setTree=function(_,T){return this._editable?(this._root=_,this._size=T,this):_===this._root?this:new E(this._editable,this._edit,this._config,_,T)};var F=n.tryGetHash=function(_,T,D,q){for(var Y=q._root,X=0,le=q._config.keyEq;;)switch(Y.type){case p:return le(D,Y.key)?Y.value:_;case v:{if(T===Y.hash)for(var ue=Y.children,ce=0,oe=ue.length;ce<oe;++ce){var ye=ue[ce];if(le(D,ye.key))return ye.value}return _}case b:{var et=d(X,T),ot=h(et);if(Y.mask&ot){Y=Y.children[m(Y.mask,ot)],X+=r;break}return _}case C:{if(Y=Y.children[d(X,T)],Y){X+=r;break}return _}default:return _}};E.prototype.tryGetHash=function(_,T,D){return F(_,T,D,this)};var U=n.tryGet=function(_,T,D){return F(_,D._config.hash(T),T,D)};E.prototype.tryGet=function(_,T){return U(_,T,this)};var ne=n.getHash=function(_,T,D){return F(void 0,_,T,D)};E.prototype.getHash=function(_,T){return ne(_,T,this)},n.get=function(_,T){return F(void 0,T._config.hash(_),_,T)},E.prototype.get=function(_,T){return U(T,_,this)};var Z=n.has=function(_,T,D){return F(l,_,T,D)!==l};E.prototype.hasHash=function(_,T){return Z(_,T,this)};var me=n.has=function(_,T){return Z(T._config.hash(_),_,T)};E.prototype.has=function(_){return me(_,this)};var Se=function(T,D){return T===D};n.make=function(_){return new E(0,0,{keyEq:_&&_.keyEq||Se,hash:_&&_.hash||c},R,0)},n.empty=n.make();var pe=n.isEmpty=function(_){return _&&!!w(_._root)};E.prototype.isEmpty=function(){return pe(this)};var De=n.modifyHash=function(_,T,D,q){var Y={value:q._size},X=q._root._modify(q._editable?q._edit:NaN,q._config.keyEq,0,_,T,D,Y);return q.setTree(X,Y.value)};E.prototype.modifyHash=function(_,T,D){return De(D,_,T,this)};var Ve=n.modify=function(_,T,D){return De(_,D._config.hash(T),T,D)};E.prototype.modify=function(_,T){return Ve(T,_,this)};var Te=n.setHash=function(_,T,D,q){return De(u(D),_,T,q)};E.prototype.setHash=function(_,T,D){return Te(_,T,D,this)};var Pe=n.set=function(_,T,D){return Te(D._config.hash(_),_,T,D)};E.prototype.set=function(_,T){return Pe(_,T,this)};var Ze=u(l),ke=n.removeHash=function(_,T,D){return De(Ze,_,T,D)};E.prototype.removeHash=E.prototype.deleteHash=function(_,T){return ke(_,T,this)};var Ue=n.remove=function(_,T){return ke(T._config.hash(_),_,T)};E.prototype.remove=E.prototype.delete=function(_){return Ue(_,this)};var $e=n.beginMutation=function(_){return new E(_._editable+1,_._edit+1,_._config,_._root,_._size)};E.prototype.beginMutation=function(){return $e(this)};var Ge=n.endMutation=function(_){return _._editable=_._editable&&_._editable-1,_};E.prototype.endMutation=function(){return Ge(this)};var A=n.mutate=function(_,T){var D=$e(T);return _(D),Ge(D)};E.prototype.mutate=function(_){return A(_,this)};var L=function(T){return T&&j(T[0],T[1],T[2],T[3],T[4])},j=function(T,D,q,Y,X){for(;q<T;){var le=D[q++];if(le&&!w(le))return re(le,Y,[T,D,q,Y,X])}return L(X)},re=function(T,D,q){switch(T.type){case p:return{value:D(T),rest:q};case v:case C:case b:var Y=T.children;return j(Y.length,Y,0,D,q);default:return L(q)}},ee={done:!0};function K(_){this.v=_}K.prototype.next=function(){if(!this.v)return ee;var _=this.v;return this.v=L(_.rest),_},K.prototype[Symbol.iterator]=function(){return this};var de=function(T,D){return new K(re(T._root,D))},Re=function(T){return[T.key,T.value]},it=n.entries=function(_){return de(_,Re)};E.prototype.entries=E.prototype[Symbol.iterator]=function(){return it(this)};var vt=function(T){return T.key},dt=n.keys=function(_){return de(_,vt)};E.prototype.keys=function(){return dt(this)};var jo=function(T){return T.value},Ki=n.values=E.prototype.values=function(_){return de(_,jo)};E.prototype.values=function(){return Ki(this)};var pn=n.fold=function(_,T,D){var q=D._root;if(q.type===p)return _(T,q.value,q.key);for(var Y=[q.children],X=void 0;X=Y.pop();)for(var le=0,ue=X.length;le<ue;){var ce=X[le++];ce&&ce.type&&(ce.type===p?T=_(T,ce.value,ce.key):Y.push(ce.children))}return T};E.prototype.fold=function(_,T){return pn(_,T,this)};var ii=n.forEach=function(_,T){return pn(function(D,q,Y){return _(q,Y,T)},null,T)};E.prototype.forEach=function(_){return ii(_,this)};var Uo=n.count=function(_){return _._size};E.prototype.count=function(){return Uo(this)},Object.defineProperty(E.prototype,"size",{get:E.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class X2{constructor(e){Ie(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return wy(this)}toMap(){return new Map(this._map)}}class _y{constructor(e){if(Ie(this,"_hamt",Y2.empty.beginMutation()),e instanceof _y){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return wy(this)}toMap(){return new Map(this._hamt)}}function wy(t){return tt("recoil_hamt_2020")?new _y(t):new X2(t)}var J2={persistentMap:wy},Z2=J2.persistentMap,eD=Object.freeze({__proto__:null,persistentMap:Z2});function tD(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var ul=tD;function nD(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var qf=nD;function rD(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function iD(t){return{nodeDeps:qf(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:qf(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Dp(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;i.set(t,e);const a=s==null?e:ul(e,s);for(const l of a)o.has(l)||o.set(l,new Set),gt(o.get(l)).add(t);if(s){const l=ul(s,e);for(const u of l){if(!o.has(u))return;const c=gt(o.get(u));c.delete(t),c.size===0&&o.delete(u)}}}function oD(t,e,n,r){var i,o,s,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((o=l.previousTree)===null||o===void 0||o.version);const u=n.getGraph(r);if(Dp(t,e,u),r===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const f=n.getGraph(l.currentTree.version);Dp(t,e,f,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const f=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(f!==void 0){const d=n.getGraph(f);Dp(t,e,d,u)}}}var Su={cloneGraph:iD,graph:rD,saveDepsToStore:oD};let sD=0;const aD=()=>sD++;let lD=0;const uD=()=>lD++;let cD=0;const fD=()=>cD++;var nh={getNextTreeStateVersion:aD,getNextStoreID:uD,getNextComponentID:fD};const{persistentMap:Nw}=eD,{graph:dD}=Su,{getNextTreeStateVersion:FR}=nh;function jR(){const t=FR();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Nw(),nonvalidatedAtoms:Nw()}}function hD(){const t=jR();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,dD()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var UR={makeEmptyTreeState:jR,makeEmptyStoreState:hD,getNextTreeStateVersion:FR};class BR{}function pD(){return new BR}var rh={RetentionZone:BR,retentionZone:pD};function mD(t,e){const n=new Set(t);return n.add(e),n}function gD(t,e){const n=new Set(t);return n.delete(e),n}function vD(t,e,n){const r=new Map(t);return r.set(e,n),r}function yD(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function _D(t,e){const n=new Map(t);return n.delete(e),n}function wD(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var zR={setByAddingToSet:mD,setByDeletingFromSet:gD,mapBySettingInMap:vD,mapByUpdatingInMap:yD,mapByDeletingFromMap:_D,mapByDeletingMultipleFromMap:wD};function*ED(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Ey=ED;function SD(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var HR=SD;const{getNode:Tu,getNodeMaybe:TD,recoilValuesForKeys:Dw}=kn,{RetentionZone:Vw}=rh,{setByAddingToSet:RD}=zR,bD=Object.freeze(new Set);class xD extends Error{}function AD(t,e,n){if(!tt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof Vw)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!tt("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof Vw)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function Sy(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Tu(n),s=AD(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function ID(t,e,n){Sy(t,t.getState().currentTree,e,n)}function CD(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function PD(t,e,n){return Sy(t,e,n,"get"),Tu(n).get(t,e)}function WR(t,e,n){return Tu(n).peek(t,e)}function kD(t,e,n){var r;const i=TD(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:RD(t.dirtyAtoms,e)}}function ND(t,e,n,r){const i=Tu(n);if(i.set==null)throw new xD(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return Sy(t,e,n,"set"),o(t,e,r)}function DD(t,e,n){const r=t.getState(),i=t.getGraph(e.version),o=Tu(n).nodeType;return HR({type:o},{loadable:()=>WR(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return Dw((s=i.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:Dw(Ey(qR(t,e,new Set([n])),l=>l!==n)),components:th((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function qR(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:bD;for(const u of l)r.has(u)||i.push(u)}return r}var Ui={getNodeLoadable:PD,peekNodeLoadable:WR,setNodeValue:ND,initializeNode:ID,cleanUpNode:CD,setUnvalidatedAtomValue_DEPRECATED:kD,peekNodeInfo:DD,getDownstreamNodes:qR};let GR=null;function VD(t){GR=t}function LD(){var t;(t=GR)===null||t===void 0||t()}var KR={setInvalidateMemoizedSnapshot:VD,invalidateMemoizedSnapshot:LD};const{getDownstreamNodes:OD,getNodeLoadable:QR,setNodeValue:MD}=Ui,{getNextComponentID:$D}=nh,{getNode:FD,getNodeMaybe:YR}=kn,{DefaultValue:Ty}=kn,{reactMode:jD}=Eu,{AbstractRecoilValue:UD,RecoilState:BD,RecoilValueReadOnly:zD,isRecoilValue:HD}=js,{invalidateMemoizedSnapshot:WD}=KR;function qD(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=o.previousTree)===null||i===void 0||i.version);const s=QR(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function GD(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Ty?n.delete(i):n.set(i,r)}),n}function KD(t,e,{key:n},r){if(typeof r=="function"){const i=QR(t,e,n);if(i.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Ne(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function QD(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=KD(t,e,i,o),a=MD(t,e,i.key,s);for(const[l,u]of a.entries())fg(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;fg(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=YR(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else gy(`Unknown action ${n.type}`)}function fg(t,e,n){n.state==="hasValue"&&n.contents instanceof Ty?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function XR(t,e){t.replaceState(n=>{const r=JR(n);for(const i of e)QD(t,r,i);return ZR(t,r),WD(),r})}function ih(t,e){if(cl.length){const n=cl[cl.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else XR(t,[e])}const cl=[];function YD(){const t=new Map;return cl.push(t),()=>{for(const[e,n]of t)XR(e,n);cl.pop()}}function JR(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function ZR(t,e){const n=OD(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=YR(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function eb(t,e,n){ih(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function XD(t,e,n){if(n instanceof Ty)return eb(t,e,n);ih(t,{type:"setLoadable",recoilValue:e,loadable:n})}function JD(t,e){ih(t,{type:"markModified",recoilValue:e})}function ZD(t,e,n){ih(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function eV(t,{key:e},n,r=null){const i=$D(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),gt(o.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const s=jD();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function tV(t,e){var n;const{currentTree:r}=t.getState(),i=FD(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Vr={RecoilValueReadOnly:zD,AbstractRecoilValue:UD,RecoilState:BD,getRecoilValueAsLoadable:qD,setRecoilValue:eb,setRecoilValueLoadable:XD,markRecoilValueModified:JD,setUnvalidatedRecoilValue:ZD,subscribeToRecoilValue:eV,isRecoilValue:HD,applyAtomValueWrites:GD,batchStart:YD,writeLoadableToTreeState:fg,invalidateDownstreams:ZR,copyTreeState:JR,refreshRecoilValue:tV};function nV(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var rV=nV;const{cleanUpNode:iV}=Ui,{deleteNodeConfigIfPossible:oV,getNode:tb}=kn,{RetentionZone:nb}=rh,sV=12e4,rb=new Set;function ib(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const s of e)if(s instanceof nb)for(const a of cV(n,s))i.add(a);else i.add(s);const o=aV(t,i);for(const s of o)uV(t,r,s)}function aV(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(l){const u=new Set,c=lV(t,r,l,o,s);for(const m of c){var f;if(tb(m).retainedBy==="recoilRoot"){s.add(m);continue}if(((f=n.retention.referenceCounts.get(m))!==null&&f!==void 0?f:0)>0){s.add(m);continue}if(ob(m).some(S=>n.retention.referenceCounts.get(S))){s.add(m);continue}const y=i.nodeToNodeSubscriptions.get(m);if(y&&rV(y,S=>s.has(S))){s.add(m);continue}o.add(m),u.add(m)}const d=new Set;for(const m of u)for(const y of(h=i.nodeDeps.get(m))!==null&&h!==void 0?h:rb){var h;o.has(y)||d.add(y)}d.size&&a(d)}}function lV(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(gt(n.values().next().value));return s;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=o.nodeToNodeSubscriptions.get(u);if(c)for(const f of c)l(f);a.add(u),n.delete(u),s.push(u)}}function uV(t,e,n){if(!tt("recoil_memory_managament_2020"))return;iV(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=ob(n);for(const l of i){var o;(o=r.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const u of l){var a;(a=s.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}oV(n)}function cV(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:rb}function ob(t){const e=tb(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof nb?[e]:e}function fV(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):ib(t,new Set([e]))}function dV(t,e,n){var r;if(!tt("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?sb(t,e):i.set(e,o)}function sb(t,e){if(!tt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),fV(t,e)}function hV(t){if(!tt("recoil_memory_managament_2020"))return;const e=t.getState();ib(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function pV(t){return t===void 0?"recoilRoot":t}var Lo={SUSPENSE_TIMEOUT_MS:sV,updateRetainCount:dV,updateRetainCountToZero:sb,releaseScheduledRetainablesNow:hV,retainedByOptionWithDefault:pV};const{unstable_batchedUpdates:mV}=mN;var gV={unstable_batchedUpdates:mV};const{unstable_batchedUpdates:vV}=gV;var yV={unstable_batchedUpdates:vV};const{batchStart:_V}=Vr,{unstable_batchedUpdates:wV}=yV;let Ry=wV||(t=>t());const EV=t=>{Ry=t},SV=()=>Ry,TV=t=>{Ry(()=>{let e=()=>{};try{e=_V(),t()}finally{e()}})};var oh={getBatcher:SV,setBatcher:EV,batchUpdates:TV};function*RV(t){for(const e of t)for(const n of e)yield n}var ab=RV;const lb=typeof Window>"u"||typeof window>"u",bV=t=>!lb&&(t===window||t instanceof Window),xV=typeof navigator<"u"&&navigator.product==="ReactNative";var sh={isSSR:lb,isReactNative:xV,isWindow:bV};function AV(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function IV(t,e){let n,r;return(...i)=>{const o=e(...i);return n===o||(n=o,r=t(...i)),r}}function CV(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var PV={memoizeWithArgsHash:AV,memoizeOneWithArgsHash:IV,memoizeOneWithArgsHashAndInvalidation:CV};const{batchUpdates:dg}=oh,{initializeNode:kV,peekNodeInfo:NV}=Ui,{graph:DV}=Su,{getNextStoreID:VV}=nh,{DEFAULT_VALUE:LV,recoilValues:Lw,recoilValuesForKeys:Ow}=kn,{AbstractRecoilValue:OV,getRecoilValueAsLoadable:MV,setRecoilValue:Mw,setUnvalidatedRecoilValue:$V}=Vr,{updateRetainCount:rf}=Lo,{setInvalidateMemoizedSnapshot:FV}=KR,{getNextTreeStateVersion:jV,makeEmptyStoreState:UV}=UR,{isSSR:BV}=sh,{memoizeOneWithArgsHashAndInvalidation:zV}=PV;class ah{constructor(e,n){Ie(this,"_store",void 0),Ie(this,"_refCount",1),Ie(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),MV(this._store,r))),Ie(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Ie(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return Ow(s.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?Lw.values():r.isInitialized===!0?Ow(ab([i,o])):Ey(Lw.values(),({key:s})=>!i.has(s)&&!o.has(s))}),Ie(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),NV(this._store,this._store.getState().currentTree,r))),Ie(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new hg(this,dg);return r(i),i}),Ie(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new hg(this,dg);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:VV(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return gt(i.get(r));const o=DV();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Ne("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)kV(this._store,r,"get"),rf(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){BV||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!tt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){tt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function ub(t,e,n=!1){const r=t.getState(),i=n?jV():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(th(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function HV(t){const e=new ah(UV());return t!=null?e.map(t):e}const[$w,cb]=zV((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:gt(r.previousTree);return new ah(ub(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});FV(cb);function WV(t,e="latest"){const n=$w(t,e);return n.isRetained()?n:(cb(),$w(t,e))}class hg extends ah{constructor(e,n){super(ub(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ie(this,"_batch",void 0),Ie(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{rf(o,r.key,1),Mw(this.getStore_INTERNAL(),r,i)})}),Ie(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{rf(i,r.key,1),Mw(this.getStore_INTERNAL(),r,LV)})}),Ie(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();dg(()=>{for(const[o,s]of r.entries())rf(i,o,1),$V(i,new OV(o),s)})}),this._batch=n}}var lh={Snapshot:ah,MutableSnapshot:hg,freshSnapshot:HV,cloneSnapshot:WV},qV=lh.Snapshot,GV=lh.MutableSnapshot,KV=lh.freshSnapshot,QV=lh.cloneSnapshot,uh=Object.freeze({__proto__:null,Snapshot:qV,MutableSnapshot:GV,freshSnapshot:KV,cloneSnapshot:QV});function YV(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var XV=YV;const{useRef:JV}=ve;function ZV(t){const e=JV(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var Fw=ZV;const{getNextTreeStateVersion:eL,makeEmptyStoreState:fb}=UR,{cleanUpNode:tL,getDownstreamNodes:nL,initializeNode:rL,setNodeValue:iL,setUnvalidatedAtomValue_DEPRECATED:oL}=Ui,{graph:sL}=Su,{cloneGraph:aL}=Su,{getNextStoreID:db}=nh,{createMutableSource:Vp,reactMode:hb}=Eu,{applyAtomValueWrites:lL}=Vr,{releaseScheduledRetainablesNow:pb}=Lo,{freshSnapshot:uL}=uh,{useCallback:cL,useContext:mb,useEffect:pg,useMemo:fL,useRef:dL,useState:hL}=ve;function xa(){throw Ne("This component must be used inside a <RecoilRoot> component.")}const gb=Object.freeze({storeID:db(),getState:xa,replaceState:xa,getGraph:xa,subscribeToTransactions:xa,addTransactionMetadata:xa});let mg=!1;function jw(t){if(mg)throw Ne("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){tt("recoil_memory_managament_2020")&&tt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&pb(t);const n=e.currentTree.version,r=eL();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,aL(gt(e.graphsByVersion.get(n))))}}const vb=ve.createContext({current:gb}),ch=()=>mb(vb),yb=ve.createContext(null);function pL(){return mb(yb)}function by(t,e,n){const r=nL(t,n,n.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[s,[a,l]]of o)l(n)}}function _b(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[s,a]of o)a(t);for(const[i,o]of e.transactionSubscriptions)o(t);(!hb().early||e.suspendedComponentResolvers.size>0)&&(by(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function mL(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,_b(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):gy("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,tt("recoil_memory_managament_2020")&&n==null&&pb(t)}finally{e.commitDepth--}}function gL({setNotifyBatcherOfChange:t}){const e=ch(),[,n]=hL([]);return t(()=>n({})),pg(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),pg(()=>{K2.enqueueExecution("Batcher",()=>{mL(e.current)})}),null}function vL(t,e){const n=fb();return e({set:(r,i)=>{const o=n.currentTree,s=iL(t,o,r.key,i),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...o,dirtyAtoms:XV(o.dirtyAtoms,a),atomValues:lL(o.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=oL(n.currentTree,o,i)})}}),n}function yL(t){const e=uL(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let Uw=0;function _L({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const o=h=>{const m=i.current.graphsByVersion;if(m.has(h))return gt(m.get(h));const y=sL();return m.set(h,y),y},s=(h,m)=>{if(m==null){const{transactionSubscriptions:y}=f.current.getState(),S=Uw++;return y.set(S,h),{release:()=>{y.delete(S)}}}else{const{nodeTransactionSubscriptions:y}=f.current.getState();y.has(m)||y.set(m,new Map);const S=Uw++;return gt(y.get(m)).set(S,h),{release:()=>{const g=y.get(m);g&&(g.delete(S),g.size===0&&y.delete(m))}}}},a=h=>{jw(f.current);for(const m of Object.keys(h))gt(f.current.getState().nextTree).transactionMetadata[m]=h[m]},l=h=>{jw(f.current);const m=gt(i.current.nextTree);let y;try{mg=!0,y=h(m)}finally{mg=!1}y!==m&&(i.current.nextTree=y,hb().early&&by(f.current,i.current,y),gt(u.current)())},u=dL(null),c=cL(h=>{u.current=h},[u]),f=Fw(()=>n??{storeID:db(),getState:()=>i.current,replaceState:l,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(f.current=n),i=Fw(()=>t!=null?vL(f.current,t):e!=null?yL(e):fb());const d=fL(()=>Vp==null?void 0:Vp(i,()=>i.current.currentTree.version),[i]);return pg(()=>{const h=f.current;for(const m of new Set(h.getState().knownAtoms))rL(h,m,"get");return()=>{for(const m of h.getState().knownAtoms)tL(h,m)}},[f]),ve.createElement(vb.Provider,{value:f},ve.createElement(yb.Provider,{value:d},ve.createElement(gL,{setNotifyBatcherOfChange:c}),r))}function wL(t){const{override:e,...n}=t,r=ch();return e===!1&&r.current!==gb?t.children:ve.createElement(_L,n)}function EL(){return ch().current.storeID}var ti={RecoilRoot:wL,useStoreRef:ch,useRecoilMutableSource:pL,useRecoilStoreID:EL,notifyComponents_FOR_TESTING:by,sendEndOfBatchNotifications_FOR_TESTING:_b};function SL(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var TL=SL;const{useEffect:RL,useRef:bL}=ve;function xL(t){const e=bL();return RL(()=>{e.current=t}),e.current}var wb=xL;const{useStoreRef:AL}=ti,{SUSPENSE_TIMEOUT_MS:IL}=Lo,{updateRetainCount:Aa}=Lo,{RetentionZone:CL}=rh,{useEffect:PL,useRef:kL}=ve,{isSSR:Bw}=sh;function NL(t){if(tt("recoil_memory_managament_2020"))return DL(t)}function DL(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof CL?s:s.key),r=AL();PL(()=>{if(!tt("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!Bw)window.clearTimeout(i.current),i.current=null;else for(const a of n)Aa(s,a,1);return()=>{for(const a of n)Aa(s,a,-1)}},[r,...n]);const i=kL(),o=wb(n);if(!Bw&&(o===void 0||!TL(o,n))){const s=r.current;for(const a of n)Aa(s,a,1);if(o)for(const a of o)Aa(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Aa(s,a,-1)},IL)}}var xy=NL;function VL(){return"<component name not available>"}var Ru=VL;const{batchUpdates:LL}=oh,{DEFAULT_VALUE:Eb}=kn,{currentRendererSupportsUseSyncExternalStore:OL,reactMode:sa,useMutableSource:ML,useSyncExternalStore:$L}=Eu,{useRecoilMutableSource:FL,useStoreRef:Lr}=ti,{AbstractRecoilValue:gg,getRecoilValueAsLoadable:bu,setRecoilValue:Gf,setUnvalidatedRecoilValue:jL,subscribeToRecoilValue:Us}=Vr,{useCallback:Cn,useEffect:Bs,useMemo:Sb,useRef:fl,useState:Ay}=ve,{setByAddingToSet:UL}=zR,{isSSR:BL}=sh;function Iy(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const o=n.current.getState().suspendedComponentResolvers;o.add(i),BL&&ct(t.contents)&&t.contents.finally(()=>{o.delete(i)})}):t.state==="hasError"?t.contents:Ne(`Invalid value of loadable atom "${e.key}"`)}function zL(){const t=Ru(),e=Lr(),[,n]=Ay([]),r=fl(new Set);r.current=new Set;const i=fl(new Set),o=fl(new Map),s=Cn(l=>{const u=o.current.get(l);u&&(u.release(),o.current.delete(l))},[o]),a=Cn((l,u)=>{o.current.has(u)&&n([])},[]);return Bs(()=>{const l=e.current;ul(r.current,i.current).forEach(u=>{if(o.current.has(u))return;const c=Us(l,new gg(u),d=>a(d,u),t);o.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),ul(i.current,r.current).forEach(u=>{s(u)}),i.current=r.current}),Bs(()=>{const l=o.current;return ul(r.current,new Set(l.keys())).forEach(u=>{const c=Us(e.current,new gg(u),f=>a(f,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>s(c))},[t,e,s,a]),Sb(()=>{function l(m){return y=>{Gf(e.current,m,y)}}function u(m){return()=>Gf(e.current,m,Eb)}function c(m){var y;r.current.has(m.key)||(r.current=UL(r.current,m.key));const S=e.current.getState();return bu(e.current,m,sa().early&&(y=S.nextTree)!==null&&y!==void 0?y:S.currentTree)}function f(m){const y=c(m);return Iy(y,m,e)}function d(m){return[f(m),l(m)]}function h(m){return[c(m),l(m)]}return{getRecoilValue:f,getRecoilValueLoadable:c,getRecoilState:d,getRecoilStateLoadable:h,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const HL={current:0};function WL(t){const e=Lr(),n=Ru(),r=Cn(()=>{var a;const l=e.current,u=l.getState(),c=sa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:bu(l,t,c),key:t.key}},[e,t]),i=Cn(a=>{let l;return()=>{var u,c;const f=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(f.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===f.key?l:(l=f,f)}},[]),o=Sb(()=>i(r),[r,i]),s=Cn(a=>{const l=e.current;return Us(l,t,a,n).release},[e,t,n]);return $L(s,o,o).loadable}function qL(t){const e=Lr(),n=Cn(()=>{var u;const c=e.current,f=c.getState(),d=sa().early&&(u=f.nextTree)!==null&&u!==void 0?u:f.currentTree;return bu(c,t,d)},[e,t]),r=Cn(()=>n(),[n]),i=Ru(),o=Cn((u,c)=>{const f=e.current;return Us(f,t,()=>{if(!tt("recoil_suppress_rerender_in_callback"))return c();const h=n();l.current.is(h)||c(),l.current=h},i).release},[e,t,i,n]),s=FL();if(s==null)throw Ne("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=ML(s,r,o),l=fl(a);return Bs(()=>{l.current=a}),a}function vg(t){const e=Lr(),n=Ru(),r=Cn(()=>{var l;const u=e.current,c=u.getState(),f=sa().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return bu(u,t,f)},[e,t]),i=Cn(()=>({loadable:r(),key:t.key}),[r,t.key]),o=Cn(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);Bs(()=>{const l=Us(e.current,t,u=>{a(o)},n);return a(o),l.release},[n,t,e,o]);const[s,a]=Ay(i);return s.key!==t.key?i().loadable:s.loadable}function GL(t){const e=Lr(),[,n]=Ay([]),r=Ru(),i=Cn(()=>{var a;const l=e.current,u=l.getState(),c=sa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return bu(l,t,c)},[e,t]),o=i(),s=fl(o);return Bs(()=>{s.current=o}),Bs(()=>{const a=e.current,l=a.getState(),u=Us(a,t,f=>{var d;if(!tt("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(d=s.current)!==null&&d!==void 0&&d.is(h)||n(h),s.current=h},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var c;if(!tt("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(c=s.current)!==null&&c!==void 0&&c.is(f)||n(f),s.current=f}return u.release},[r,i,t,e]),o}function Cy(t){return tt("recoil_memory_managament_2020")&&xy(t),{TRANSITION_SUPPORT:vg,SYNC_EXTERNAL_STORE:OL()?WL:vg,MUTABLE_SOURCE:qL,LEGACY:GL}[sa().mode](t)}function Tb(t){const e=Lr(),n=Cy(t);return Iy(n,t,e)}function fh(t){const e=Lr();return Cn(n=>{Gf(e.current,t,n)},[e,t])}function KL(t){const e=Lr();return Cn(()=>{Gf(e.current,t,Eb)},[e,t])}function QL(t){return[Tb(t),fh(t)]}function YL(t){return[Cy(t),fh(t)]}function XL(){const t=Lr();return(e,n={})=>{LL(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>jL(t.current,new gg(i),r))})}}function Rb(t){return tt("recoil_memory_managament_2020")&&xy(t),vg(t)}function bb(t){const e=Lr(),n=Rb(t);return Iy(n,t,e)}function JL(t){return[bb(t),fh(t)]}var ZL={recoilComponentGetRecoilValueCount_FOR_TESTING:HL,useRecoilInterface:zL,useRecoilState:QL,useRecoilStateLoadable:YL,useRecoilValue:Tb,useRecoilValueLoadable:Cy,useResetRecoilState:KL,useSetRecoilState:fh,useSetUnvalidatedAtomValues:XL,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Rb,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:bb,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:JL};function eO(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var tO=eO;function nO(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var rO=nO;function iO(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var oO=iO;const{batchUpdates:sO}=oh,{DEFAULT_VALUE:aO,getNode:xb,nodes:lO}=kn,{useStoreRef:Py}=ti,{AbstractRecoilValue:uO,setRecoilValueLoadable:cO}=Vr,{SUSPENSE_TIMEOUT_MS:fO}=Lo,{cloneSnapshot:Kf}=uh,{useCallback:dh,useEffect:Ab,useRef:zw,useState:dO}=ve,{isSSR:Hw}=sh;function hh(t){const e=Py();Ab(()=>e.current.subscribeToTransactions(t).release,[t,e])}function Ww(t){const e=t.atomValues.toMap(),n=qf(tO(e,(r,i)=>{const s=xb(i).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return oO(t.nonvalidatedAtoms.toMap(),n)}function hO(t){hh(dh(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=Ww(r),o=Ww(n),s=qf(lO,l=>{var u,c,f,d;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(f=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.backButton)!==null&&f!==void 0?f:!1}}}),a=rO(r.dirtyAtoms,l=>i.has(l)||o.has(l));t({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function pO(t){hh(dh(e=>{const n=Kf(e,"latest"),r=Kf(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function mO(){const t=Py(),[e,n]=dO(()=>Kf(t.current)),r=wb(e),i=zw(),o=zw();if(hh(dh(a=>n(Kf(a)),[])),Ab(()=>{const a=e.retain();if(i.current&&!Hw){var l;window.clearTimeout(i.current),i.current=null,(l=o.current)===null||l===void 0||l.call(o),o.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!Hw){if(i.current){var s;window.clearTimeout(i.current),i.current=null,(s=o.current)===null||s===void 0||s.call(o),o.current=null}o.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=o.current)===null||a===void 0||a.call(o),o.current=null},fO)}return e}function Ib(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;sO(()=>{const s=new Set;for(const u of[i.atomValues.keys(),o.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&xb(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(u=>{cO(t,new uO(u),o.atomValues.has(u)?gt(o.atomValues.get(u)):aO)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function gO(){const t=Py();return dh(e=>Ib(t.current,e),[t])}var Cb={useRecoilSnapshot:mO,gotoSnapshot:Ib,useGotoRecoilSnapshot:gO,useRecoilTransactionObserver:pO,useTransactionObservation_DEPRECATED:hO,useTransactionSubscription_DEPRECATED:hh};const{peekNodeInfo:vO}=Ui,{useStoreRef:yO}=ti;function _O(){const t=yO();return({key:e})=>vO(t.current,t.current.getState().currentTree,e)}var wO=_O;const{reactMode:EO}=Eu,{RecoilRoot:SO,useStoreRef:TO}=ti,{useMemo:RO}=ve;function bO(){EO().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=TO().current;return RO(()=>{function e({children:n}){return ve.createElement(SO,{store_INTERNAL:t},n)}return e},[t])}var xO=bO;const{loadableWithValue:AO}=wu,{initializeNode:IO}=Ui,{DEFAULT_VALUE:CO,getNode:PO}=kn,{copyTreeState:kO,getRecoilValueAsLoadable:NO,invalidateDownstreams:DO,writeLoadableToTreeState:VO}=Vr;function qw(t){return PO(t.key).nodeType==="atom"}class LO{constructor(e,n){Ie(this,"_store",void 0),Ie(this,"_treeState",void 0),Ie(this,"_changes",void 0),Ie(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!qw(r))throw Ne("Reading selectors within atomicUpdate is not supported");const i=NO(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Ne(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Ie(this,"set",(r,i)=>{if(!qw(r))throw Ne("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else IO(this._store,r.key,"set"),this._changes.set(r.key,i)}),Ie(this,"reset",r=>{this.set(r,CO)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=kO(this._treeState);for(const[n,r]of this._changes)VO(e,n,AO(r));return DO(this._store,e),e}}function OO(t){return e=>{t.replaceState(n=>{const r=new LO(t,n);return e(r),r.newTreeState_INTERNAL()})}}var MO={atomicUpdater:OO},$O=MO.atomicUpdater,Pb=Object.freeze({__proto__:null,atomicUpdater:$O});function FO(t,e){if(!t)throw new Error(e)}var jO=FO,Ha=jO;const{atomicUpdater:UO}=Pb,{batchUpdates:BO}=oh,{DEFAULT_VALUE:zO}=kn,{useStoreRef:HO}=ti,{refreshRecoilValue:WO,setRecoilValue:Gw}=Vr,{cloneSnapshot:qO}=uh,{gotoSnapshot:GO}=Cb,{useCallback:KO}=ve;class kb{}const QO=new kb;function Nb(t,e,n,r){let i=QO,o;if(BO(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Ne(a);const l=HR({...r??{},set:(c,f)=>Gw(t,c,f),reset:c=>Gw(t,c,zO),refresh:c=>WO(t,c),gotoSnapshot:c=>GO(t,c),transact_UNSTABLE:c=>UO(t)(c)},{snapshot:()=>{const c=qO(t);return o=c.retain(),c}}),u=e(l);if(typeof u!="function")throw Ne(a);i=u(...n)}),i instanceof kb&&Ha(!1),ct(i))i=i.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return i}function YO(t,e){const n=HO();return KO((...r)=>Nb(n.current,t,r),e!=null?[...e,n]:void 0)}var Db={recoilCallback:Nb,useRecoilCallback:YO};const{useStoreRef:XO}=ti,{refreshRecoilValue:JO}=Vr,{useCallback:ZO}=ve;function eM(t){const e=XO();return ZO(()=>{const n=e.current;JO(n,t)},[t,e])}var tM=eM;const{atomicUpdater:nM}=Pb,{useStoreRef:rM}=ti,{useMemo:iM}=ve;function oM(t,e){const n=rM();return iM(()=>(...r)=>{nM(n.current)(o=>{t(o)(...r)})},e!=null?[...e,n]:void 0)}var sM=oM;class aM{constructor(e){Ie(this,"value",void 0),this.value=e}}var lM={WrappedValue:aM},uM=lM.WrappedValue,Vb=Object.freeze({__proto__:null,WrappedValue:uM});const{isFastRefreshEnabled:cM}=Eu;class Kw extends Error{}class fM{constructor(e){var n,r,i;Ie(this,"_name",void 0),Ie(this,"_numLeafs",void 0),Ie(this,"_root",void 0),Ie(this,"_onHit",void 0),Ie(this,"_onSet",void 0),Ie(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var o,s,a,l;let u,c;for(const[S,g]of e){var f,d,h;const p=this._root;if((p==null?void 0:p.type)==="leaf")throw this.invalidCacheError();const v=u;if(u=v?v.branches.get(c):p,u=(f=u)!==null&&f!==void 0?f:{type:"branch",nodeKey:S,parent:v,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==S)throw this.invalidCacheError();v==null||v.branches.set(c,u),r==null||(d=r.onNodeVisit)===null||d===void 0||d.call(r,u),c=this._mapNodeValue(g),this._root=(h=this._root)!==null&&h!==void 0?h:u}const m=u?(o=u)===null||o===void 0?void 0:o.branches.get(c):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==c))throw this.invalidCacheError();const y={type:"leaf",value:n,parent:u,branchKey:c};(s=u)===null||s===void 0||s.branches.set(c,y),this._root=(a=this._root)!==null&&a!==void 0?a:y,this._numLeafs++,this._onSet(y),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,y)};try{i()}catch(o){if(o instanceof Kw)this.clear(),i();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=cM()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw gy(e+(this._name!=null?` - ${this._name}`:"")),new Kw}}var dM={TreeCache:fM},hM=dM.TreeCache,Lb=Object.freeze({__proto__:null,TreeCache:hM});class pM{constructor(e){var n;Ie(this,"_maxSize",void 0),Ie(this,"_size",void 0),Ie(this,"_head",void 0),Ie(this,"_tail",void 0),Ie(this,"_map",void 0),Ie(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=gt(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var mM={LRUCache:pM},gM=mM.LRUCache,Ob=Object.freeze({__proto__:null,LRUCache:gM});const{LRUCache:vM}=Ob,{TreeCache:yM}=Lb;function _M({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new vM({maxSize:e}),i=new yM({name:t,mapNodeValue:n,onHit:o=>{r.set(o,!0)},onSet:o=>{const s=r.tail();r.set(o,!0),s&&i.size()>e&&i.delete(s.key)}});return i}var Qw=_M;function tr(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Ne("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(ct(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>tr(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return tr(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:tr(o,e)]=s;return tr(i,e,n)}return t instanceof Set?tr(Array.from(t).sort((i,o)=>tr(i,e).localeCompare(tr(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?tr(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${tr(i,e)}:${tr(t[i],e,i)}`).join(",")}}`}function wM(t,e={allowFunctions:!1}){return tr(t,e)}var ph=wM;const{TreeCache:EM}=Lb,pc={equality:"reference",eviction:"keep-all",maxSize:1/0};function SM({equality:t=pc.equality,eviction:e=pc.eviction,maxSize:n=pc.maxSize}=pc,r){const i=TM(t);return RM(e,n,i,r)}function TM(t){switch(t){case"reference":return e=>e;case"value":return e=>ph(e)}throw Ne(`Unrecognized equality policy ${t}`)}function RM(t,e,n,r){switch(t){case"keep-all":return new EM({name:r,mapNodeValue:n});case"lru":return Qw({name:r,maxSize:gt(e),mapNodeValue:n});case"most-recent":return Qw({name:r,maxSize:1,mapNodeValue:n})}throw Ne(`Unrecognized eviction policy ${t}`)}var bM=SM;function xM(t){return()=>null}var AM={startPerfBlock:xM};const{isLoadable:IM,loadableWithError:mc,loadableWithPromise:CM,loadableWithValue:Lp}=wu,{WrappedValue:Mb}=Vb,{getNodeLoadable:gc,peekNodeLoadable:PM,setNodeValue:kM}=Ui,{saveDepsToStore:NM}=Su,{DEFAULT_VALUE:DM,getConfigDeletionHandler:VM,getNode:LM,registerNode:Yw}=kn,{isRecoilValue:OM}=js,{markRecoilValueModified:Xw}=Vr,{retainedByOptionWithDefault:MM}=Lo,{recoilCallback:$M}=Db,{startPerfBlock:FM}=AM;class $b{}const Ia=new $b,Ca=[],vc=new Map,jM=(()=>{let t=0;return()=>t++})();function Fb(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,o=t.set!=null?t.set:void 0,s=new Set,a=bM(i??{equality:"reference",eviction:"keep-all"},n),l=MM(t.retainedBy_UNSTABLE),u=new Map;let c=0;function f(){return!tt("recoil_memory_managament_2020")||c>0}function d(E){return E.getState().knownSelectors.add(n),c++,()=>{c--}}function h(){return VM(n)!==void 0&&!f()}function m(E,F,U,ne,Z){Ee(F,ne,Z),y(E,U)}function y(E,F){Q(E,F)&&M(E),g(F,!0)}function S(E,F){Q(E,F)&&(gt($(E)).stateVersions.clear(),g(F,!1))}function g(E,F){const U=vc.get(E);if(U!=null){for(const ne of U)Xw(ne,gt(e));F&&vc.delete(E)}}function p(E,F){let U=vc.get(F);U==null&&vc.set(F,U=new Set),U.add(E)}function v(E,F,U,ne,Z,me){return F.then(Se=>{if(!f())throw M(E),Ia;const pe=Lp(Se);return m(E,U,Z,pe,ne),Se}).catch(Se=>{if(!f())throw M(E),Ia;if(ct(Se))return b(E,Se,U,ne,Z,me);const pe=mc(Se);throw m(E,U,Z,pe,ne),Se})}function b(E,F,U,ne,Z,me){return F.then(Se=>{if(!f())throw M(E),Ia;me.loadingDepKey!=null&&me.loadingDepPromise===F?U.atomValues.set(me.loadingDepKey,Lp(Se)):E.getState().knownSelectors.forEach(Te=>{U.atomValues.delete(Te)});const pe=w(E,U);if(pe&&pe.state!=="loading"){if((Q(E,Z)||$(E)==null)&&y(E,Z),pe.state==="hasValue")return pe.contents;throw pe.contents}if(!Q(E,Z)){const Te=O(E,U);if(Te!=null)return Te.loadingLoadable.contents}const[De,Ve]=R(E,U,Z);if(De.state!=="loading"&&m(E,U,Z,De,Ve),De.state==="hasError")throw De.contents;return De.contents}).catch(Se=>{if(Se instanceof $b)throw Ia;if(!f())throw M(E),Ia;const pe=mc(Se);throw m(E,U,Z,pe,ne),Se})}function C(E,F,U,ne){var Z,me,Se,pe;if(Q(E,ne)||F.version===((Z=E.getState())===null||Z===void 0||(me=Z.currentTree)===null||me===void 0?void 0:me.version)||F.version===((Se=E.getState())===null||Se===void 0||(pe=Se.nextTree)===null||pe===void 0?void 0:pe.version)){var De,Ve,Te;NM(n,U,E,(De=(Ve=E.getState())===null||Ve===void 0||(Te=Ve.nextTree)===null||Te===void 0?void 0:Te.version)!==null&&De!==void 0?De:E.getState().currentTree.version)}for(const Pe of U)s.add(Pe)}function R(E,F,U){const ne=FM(n);let Z=!0,me=!0;const Se=()=>{ne(),me=!1};let pe,De=!1,Ve;const Te={loadingDepKey:null,loadingDepPromise:null},Pe=new Map;function Ze({key:Ue}){const $e=gc(E,F,Ue);switch(Pe.set(Ue,$e),Z||(C(E,F,new Set(Pe.keys()),U),S(E,U)),$e.state){case"hasValue":return $e.contents;case"hasError":throw $e.contents;case"loading":throw Te.loadingDepKey=Ue,Te.loadingDepPromise=$e.contents,$e.contents}throw Ne("Invalid Loadable state")}const ke=Ue=>(...$e)=>{if(me)throw Ne("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Ha(!1),$M(E,Ue,$e,{node:e})};try{pe=r({get:Ze,getCallback:ke}),pe=OM(pe)?Ze(pe):pe,IM(pe)&&(pe.state==="hasError"&&(De=!0),pe=pe.contents),ct(pe)?pe=v(E,pe,F,Pe,U,Te).finally(Se):Se(),pe=pe instanceof Mb?pe.value:pe}catch(Ue){pe=Ue,ct(pe)?pe=b(E,pe,F,Pe,U,Te).finally(Se):(De=!0,Se())}return De?Ve=mc(pe):ct(pe)?Ve=CM(pe):Ve=Lp(pe),Z=!1,N(E,U,Pe),C(E,F,new Set(Pe.keys()),U),[Ve,Pe]}function w(E,F){let U=F.atomValues.get(n);if(U!=null)return U;const ne=new Set;try{U=a.get(me=>(typeof me!="string"&&Ha(!1),gc(E,F,me).contents),{onNodeVisit:me=>{me.type==="branch"&&me.nodeKey!==n&&ne.add(me.nodeKey)}})}catch(me){throw Ne(`Problem with cache lookup for selector "${n}": ${me.message}`)}if(U){var Z;F.atomValues.set(n,U),C(E,F,ne,(Z=$(E))===null||Z===void 0?void 0:Z.executionID)}return U}function P(E,F){const U=w(E,F);if(U!=null)return M(E),U;const ne=O(E,F);if(ne!=null){var Z;return((Z=ne.loadingLoadable)===null||Z===void 0?void 0:Z.state)==="loading"&&p(E,ne.executionID),ne.loadingLoadable}const me=jM(),[Se,pe]=R(E,F,me);return Se.state==="loading"?(z(E,me,Se,pe,F),p(E,me)):(M(E),Ee(F,Se,pe)),Se}function O(E,F){const U=ab([u.has(E)?[gt(u.get(E))]:[],th(Ey(u,([Z])=>Z!==E),([,Z])=>Z)]);function ne(Z){for(const[me,Se]of Z)if(!gc(E,F,me).is(Se))return!0;return!1}for(const Z of U){if(Z.stateVersions.get(F.version)||!ne(Z.depValuesDiscoveredSoFarDuringAsyncWork))return Z.stateVersions.set(F.version,!0),Z;Z.stateVersions.set(F.version,!1)}}function $(E){return u.get(E)}function z(E,F,U,ne,Z){u.set(E,{depValuesDiscoveredSoFarDuringAsyncWork:ne,executionID:F,loadingLoadable:U,stateVersions:new Map([[Z.version,!0]])})}function N(E,F,U){if(Q(E,F)){const ne=$(E);ne!=null&&(ne.depValuesDiscoveredSoFarDuringAsyncWork=U)}}function M(E){u.delete(E)}function Q(E,F){var U;return F===((U=$(E))===null||U===void 0?void 0:U.executionID)}function te(E){return Array.from(E.entries()).map(([F,U])=>[F,U.contents])}function Ee(E,F,U){E.atomValues.set(n,F);try{a.set(te(U),F)}catch(ne){throw Ne(`Problem with setting cache for selector "${n}": ${ne.message}`)}}function we(E){if(Ca.includes(n)){const F=`Recoil selector has circular dependencies: ${Ca.slice(Ca.indexOf(n)).join("  ")}`;return mc(Ne(F))}Ca.push(n);try{return E()}finally{Ca.pop()}}function B(E,F){const U=F.atomValues.get(n);return U??a.get(ne=>{var Z;return typeof ne!="string"&&Ha(!1),(Z=PM(E,F,ne))===null||Z===void 0?void 0:Z.contents})}function V(E,F){return we(()=>P(E,F))}function I(E){E.atomValues.delete(n)}function H(E,F){e==null&&Ha(!1);for(const ne of s){var U;const Z=LM(ne);(U=Z.clearCache)===null||U===void 0||U.call(Z,E,F)}s.clear(),I(F),a.clear(),Xw(E,e)}return o!=null?e=Yw({key:n,nodeType:"selector",peek:B,get:V,set:(F,U,ne)=>{let Z=!1;const me=new Map;function Se({key:Te}){if(Z)throw Ne("Recoil: Async selector sets are not currently supported.");const Pe=gc(F,U,Te);if(Pe.state==="hasValue")return Pe.contents;if(Pe.state==="loading"){const Ze=`Getting value of asynchronous atom or selector "${Te}" in a pending state while setting selector "${n}" is not yet supported.`;throw Ne(Ze)}else throw Pe.contents}function pe(Te,Pe){if(Z)throw Ne("Recoil: Async selector sets are not currently supported.");const Ze=typeof Pe=="function"?Pe(Se(Te)):Pe;kM(F,U,Te.key,Ze).forEach((Ue,$e)=>me.set($e,Ue))}function De(Te){pe(Te,DM)}const Ve=o({set:pe,get:Se,reset:De},ne);if(Ve!==void 0)throw ct(Ve)?Ne("Recoil: Async selector sets are not currently supported."):Ne("Recoil: selector set should be a void function.");return Z=!0,me},init:d,invalidate:I,clearCache:H,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=Yw({key:n,nodeType:"selector",peek:B,get:V,init:d,invalidate:I,clearCache:H,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}Fb.value=t=>new Mb(t);var zs=Fb;const{isLoadable:UM,loadableWithError:Op,loadableWithPromise:Mp,loadableWithValue:Ho}=wu,{WrappedValue:jb}=Vb,{peekNodeInfo:BM}=Ui,{DEFAULT_VALUE:eo,DefaultValue:li,getConfigDeletionHandler:Ub,registerNode:zM,setConfigDeletionHandler:HM}=kn,{isRecoilValue:WM}=js,{getRecoilValueAsLoadable:qM,markRecoilValueModified:GM,setRecoilValue:Jw,setRecoilValueLoadable:KM}=Vr,{retainedByOptionWithDefault:QM}=Lo,Pa=t=>t instanceof jb?t.value:t;function YM(t){const{key:e,persistence_UNSTABLE:n}=t,r=QM(t.retainedBy_UNSTABLE);let i=0;function o(p){return Mp(p.then(v=>(s=Ho(v),v)).catch(v=>{throw s=Op(v),v}))}let s=ct(t.default)?o(t.default):UM(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:Ho(Pa(t.default));s.contents;let a;const l=new Map;function u(p){return p}function c(p,v){const b=v.then(C=>{var R,w;return((w=((R=p.getState().nextTree)!==null&&R!==void 0?R:p.getState().currentTree).atomValues.get(e))===null||w===void 0?void 0:w.contents)===b&&Jw(p,g,C),C}).catch(C=>{var R,w;throw((w=((R=p.getState().nextTree)!==null&&R!==void 0?R:p.getState().currentTree).atomValues.get(e))===null||w===void 0?void 0:w.contents)===b&&KM(p,g,Op(C)),C});return b}function f(p,v,b){var C;i++;const R=()=>{var $;i--,($=l.get(p))===null||$===void 0||$.forEach(z=>z()),l.delete(p)};if(p.getState().knownAtoms.add(e),s.state==="loading"){const $=()=>{var z;((z=p.getState().nextTree)!==null&&z!==void 0?z:p.getState().currentTree).atomValues.has(e)||GM(p,g)};s.contents.finally($)}const w=(C=t.effects)!==null&&C!==void 0?C:t.effects_UNSTABLE;if(w!=null){let $=function(I){if(Q&&I.key===e){const H=M;return H instanceof li?d(p,v):ct(H)?Mp(H.then(E=>E instanceof li?s.toPromise():E)):Ho(H)}return qM(p,I)},z=function(I){return $(I).toPromise()},N=function(I){var H;const E=BM(p,(H=p.getState().nextTree)!==null&&H!==void 0?H:p.getState().currentTree,I.key);return Q&&I.key===e&&!(M instanceof li)?{...E,isSet:!0,loadable:$(I)}:E},M=eo,Q=!0,te=!1,Ee=null;const we=I=>H=>{if(Q){const E=$(g),F=E.state==="hasValue"?E.contents:eo;M=typeof H=="function"?H(F):H,ct(M)&&(M=M.then(U=>(Ee={effect:I,value:U},U)))}else{if(ct(H))throw Ne("Setting atoms to async values is not implemented.");typeof H!="function"&&(Ee={effect:I,value:Pa(H)}),Jw(p,g,typeof H=="function"?E=>{const F=Pa(H(E));return Ee={effect:I,value:F},F}:Pa(H))}},B=I=>()=>we(I)(eo),V=I=>H=>{var E;const{release:F}=p.subscribeToTransactions(U=>{var ne;let{currentTree:Z,previousTree:me}=U.getState();me||(me=Z);const Se=(ne=Z.atomValues.get(e))!==null&&ne!==void 0?ne:s;if(Se.state==="hasValue"){var pe,De,Ve,Te;const Pe=Se.contents,Ze=(pe=me.atomValues.get(e))!==null&&pe!==void 0?pe:s,ke=Ze.state==="hasValue"?Ze.contents:eo;((De=Ee)===null||De===void 0?void 0:De.effect)!==I||((Ve=Ee)===null||Ve===void 0?void 0:Ve.value)!==Pe?H(Pe,ke,!Z.atomValues.has(e)):((Te=Ee)===null||Te===void 0?void 0:Te.effect)===I&&(Ee=null)}},e);l.set(p,[...(E=l.get(p))!==null&&E!==void 0?E:[],F])};for(const I of w)try{const H=I({node:g,storeID:p.storeID,parentStoreID_UNSTABLE:p.parentStoreID,trigger:b,setSelf:we(I),resetSelf:B(I),onSet:V(I),getPromise:z,getLoadable:$,getInfo_UNSTABLE:N});if(H!=null){var P;l.set(p,[...(P=l.get(p))!==null&&P!==void 0?P:[],H])}}catch(H){M=H,te=!0}if(Q=!1,!(M instanceof li)){var O;const I=te?Op(M):ct(M)?Mp(c(p,M)):Ho(Pa(M));I.contents,v.atomValues.set(e,I),(O=p.getState().nextTree)===null||O===void 0||O.atomValues.set(e,I)}}return R}function d(p,v){var b,C;return(b=(C=v.atomValues.get(e))!==null&&C!==void 0?C:a)!==null&&b!==void 0?b:s}function h(p,v){if(v.atomValues.has(e))return gt(v.atomValues.get(e));if(v.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const b=v.nonvalidatedAtoms.get(e),C=n.validator(b,eo);return a=C instanceof li?s:Ho(C),a}else return s}function m(){a=void 0}function y(p,v,b){if(v.atomValues.has(e)){const C=gt(v.atomValues.get(e));if(C.state==="hasValue"&&b===C.contents)return new Map}else if(!v.nonvalidatedAtoms.has(e)&&b instanceof li)return new Map;return a=void 0,new Map().set(e,Ho(b))}function S(){return Ub(e)!==void 0&&i<=0}const g=zM({key:e,nodeType:"atom",peek:d,get:h,set:y,init:f,invalidate:m,shouldDeleteConfigOnRelease:S,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return g}function ky(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return WM(n)?XM({...e,default:n}):YM({...e,default:n})}function XM(t){const e=ky({...t,default:eo,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof li?r:gt(t.persistence_UNSTABLE).validator(r,eo)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=zs({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof li?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return HM(n.key,Ub(t.key)),n}ky.value=t=>new jb(t);var Bb=ky;class JM{constructor(e){var n;Ie(this,"_map",void 0),Ie(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var ZM={MapCache:JM},e4=ZM.MapCache,t4=Object.freeze({__proto__:null,MapCache:e4});const{LRUCache:Zw}=Ob,{MapCache:n4}=t4,yc={equality:"reference",eviction:"none",maxSize:1/0};function r4({equality:t=yc.equality,eviction:e=yc.eviction,maxSize:n=yc.maxSize}=yc){const r=i4(t);return o4(e,n,r)}function i4(t){switch(t){case"reference":return e=>e;case"value":return e=>ph(e)}throw Ne(`Unrecognized equality policy ${t}`)}function o4(t,e,n){switch(t){case"keep-all":return new n4({mapKey:n});case"lru":return new Zw({mapKey:n,maxSize:gt(e)});case"most-recent":return new Zw({mapKey:n,maxSize:1})}throw Ne(`Unrecognized eviction policy ${t}`)}var zb=r4;const{setConfigDeletionHandler:s4}=kn;function a4(t){var e,n;const r=zb({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,s;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),f=Bb({...u,key:`${t.key}__${(o=ph(i))!==null&&o!==void 0?o:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(i,f),s4(f.key,()=>{r.delete(i)}),f}}var l4=a4;const{setConfigDeletionHandler:u4}=kn;let c4=0;function f4(t){var e,n;const r=zb({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let s;try{s=r.get(i)}catch(d){throw Ne(`Problem with cache lookup for selector ${t.key}: ${d.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=ph(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${c4++}`,l=d=>t.get(i)(d),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let f;if(t.set!=null){const d=t.set;f=zs({key:a,get:l,set:(m,y)=>d(i)(m,y),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else f=zs({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,f),u4(f.key,()=>{r.delete(i)}),f}}var Bi=f4;const d4=Bi({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function h4(t){return d4(t)}var p4=h4;const m4=Bi({key:"__error",get:t=>()=>{throw Ne(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function g4(t){return m4(t)}var v4=g4;function y4(t){return t}var _4=y4;const{loadableWithError:Hb,loadableWithPromise:Wb,loadableWithValue:qb}=wu;function mh(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function w4(t){return t!=null&&!ct(t)}function gh(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function yg(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function Rs(t,e,n){const r=n.map((i,o)=>i==null?qb(e[o]):ct(i)?Wb(i):Hb(i));return yg(t,r)}function E4(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const S4=Bi({key:"__waitForNone",get:t=>({get:e})=>{const n=gh(t),[r,i]=mh(e,n);return Rs(t,r,i)},dangerouslyAllowMutability:!0}),T4=Bi({key:"__waitForAny",get:t=>({get:e})=>{const n=gh(t),[r,i]=mh(e,n);return i.some(o=>!ct(o))?Rs(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())ct(a)&&a.then(l=>{r[s]=l,i[s]=void 0,o(Rs(t,r,i))}).catch(l=>{i[s]=l,o(Rs(t,r,i))})})},dangerouslyAllowMutability:!0}),R4=Bi({key:"__waitForAll",get:t=>({get:e})=>{const n=gh(t),[r,i]=mh(e,n);if(i.every(s=>s==null))return yg(t,r);const o=i.find(w4);if(o!=null)throw o;return Promise.all(i).then(s=>yg(t,E4(r,s)))},dangerouslyAllowMutability:!0}),b4=Bi({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=gh(t),[r,i]=mh(e,n);return i.every(o=>!ct(o))?Rs(t,r,i):Promise.all(i.map((o,s)=>ct(o)?o.then(a=>{r[s]=a,i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>Rs(t,r,i))},dangerouslyAllowMutability:!0}),x4=Bi({key:"__noWait",get:t=>({get:e})=>{try{return zs.value(qb(e(t)))}catch(n){return zs.value(ct(n)?Wb(n):Hb(n))}},dangerouslyAllowMutability:!0});var A4={waitForNone:S4,waitForAny:T4,waitForAll:R4,waitForAllSettled:b4,noWait:x4};const{RecoilLoadable:I4}=wu,{DefaultValue:C4}=kn,{RecoilRoot:P4,useRecoilStoreID:k4}=ti,{isRecoilValue:N4}=js,{retentionZone:D4}=rh,{freshSnapshot:V4}=uh,{useRecoilState:L4,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:O4,useRecoilStateLoadable:M4,useRecoilValue:$4,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:F4,useRecoilValueLoadable:j4,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:U4,useResetRecoilState:B4,useSetRecoilState:z4}=ZL,{useGotoRecoilSnapshot:H4,useRecoilSnapshot:W4,useRecoilTransactionObserver:q4}=Cb,{useRecoilCallback:G4}=Db,{noWait:K4,waitForAll:Q4,waitForAllSettled:Y4,waitForAny:X4,waitForNone:J4}=A4;var aa={DefaultValue:C4,isRecoilValue:N4,RecoilLoadable:I4,RecoilEnv:oa,RecoilRoot:P4,useRecoilStoreID:k4,useRecoilBridgeAcrossReactRoots_UNSTABLE:xO,atom:Bb,selector:zs,atomFamily:l4,selectorFamily:Bi,constSelector:p4,errorSelector:v4,readOnlySelector:_4,noWait:K4,waitForNone:J4,waitForAny:X4,waitForAll:Q4,waitForAllSettled:Y4,useRecoilValue:$4,useRecoilValueLoadable:j4,useRecoilState:L4,useRecoilStateLoadable:M4,useSetRecoilState:z4,useResetRecoilState:B4,useGetRecoilValueInfo_UNSTABLE:wO,useRecoilRefresher_UNSTABLE:tM,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:U4,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:F4,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:O4,useRecoilCallback:G4,useRecoilTransaction_UNSTABLE:sM,useGotoRecoilSnapshot:H4,useRecoilSnapshot:W4,useRecoilTransactionObserver_UNSTABLE:q4,snapshot_UNSTABLE:V4,useRetain:xy,retentionZone:D4},Z4=aa.RecoilRoot,Gb=aa.atom,mr=aa.atomFamily,e$=aa.useRecoilValueLoadable,Ur=aa.useRecoilState,Ny=aa.useRecoilStateLoadable,Kb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e1=ve.createContext&&ve.createContext(Kb),Ci=function(){return Ci=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ci.apply(this,arguments)},t$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Qb(t){return t&&t.map(function(e,n){return ve.createElement(e.tag,Ci({key:n},e.attr),Qb(e.child))})}function zi(t){return function(e){return ve.createElement(n$,Ci({attr:Ci({},t.attr)},e),Qb(t.child))}}function n$(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=t$(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ve.createElement("svg",Ci({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Ci(Ci({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ve.createElement("title",null,o),t.children)};return e1!==void 0?ve.createElement(e1.Consumer,null,function(n){return e(n)}):e(Kb)}function r$(t){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.8 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM102 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM410 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38z"}}]})(t)}const i$=({onOpenModal:t})=>{const e=x.useRef(null);return x.useEffect(()=>{const n=r=>{e.current&&!e.current.contains(r.target)&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t]),k.jsx("div",{className:"h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-70 text-center z-50",children:k.jsxs("div",{ref:e,className:"bg-white rounded w-10/12 md:w-1/3",children:[k.jsx("div",{className:"border-b px-4 py-2",children:k.jsx("h3",{className:"text-center",children:""})}),k.jsx("div",{className:"border-b px-4 py-2",children:k.jsx("h3",{className:"text-red-600 text-center cursor-pointer",onClick:t,children:""})})]})})};function o$(t){return zi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2zM4 10h2v9H4v-9zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7v1.819z"}}]})(t)}function s$(t){return zi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21h1V8H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2zM20 8h-7l1.122-3.368A2 2 0 0 0 12.225 2H12L7 7.438V21h11l3.912-8.596L22 12v-2a2 2 0 0 0-2-2z"}}]})(t)}function a$(t){return zi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"}}]})(t)}function l$(t){return zi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"}}]})(t)}var t1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},u$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new c$;const d=o<<2|a>>4;if(r.push(d),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f$=function(t){const e=Yb(t);return Xb.encodeByteArray(e,!0)},Qf=function(t){return f$(t).replace(/\./g,"")},d$=function(t){try{return Xb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=()=>h$().__FIREBASE_DEFAULTS__,m$=()=>{if(typeof process>"u"||typeof t1>"u")return;const t=t1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},g$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d$(t[1]);return e&&JSON.parse(e)},Dy=()=>{try{return p$()||m$()||g$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v$=t=>{var e,n;return(n=(e=Dy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},y$=t=>{const e=v$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jb=()=>{var t;return(t=Dy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qf(JSON.stringify(n)),Qf(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E$(){var t;const e=(t=Dy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S$(){return!E$()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function T$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="FirebaseError";class la extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R$,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ex.prototype.create)}}class ex{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?b$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new la(i,a,r)}}function b$(t,e){return t.replace(x$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const x$=/\{\$([^}]+)}/g;function _g(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(n1(o)&&n1(s)){if(!_g(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function n1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t){return t&&t._delegate?t._delegate:t}class Kl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C$(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I$(t){return t===Ji?void 0:t}function C$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const k$={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},N$=Be.INFO,D$={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},V$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=D$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tx{constructor(e){this.name=e,this._logLevel=N$,this._logHandler=V$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const L$=(t,e)=>e.some(n=>t instanceof n);let r1,i1;function O$(){return r1||(r1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M$(){return i1||(i1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nx=new WeakMap,wg=new WeakMap,rx=new WeakMap,$p=new WeakMap,Vy=new WeakMap;function $$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Pi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&nx.set(n,t)}).catch(()=>{}),Vy.set(e,t),e}function F$(t){if(wg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});wg.set(t,e)}let Eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j$(t){Eg=t(Eg)}function U$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fp(this),e,...n);return rx.set(r,e.sort?e.sort():[e]),Pi(r)}:M$().includes(t)?function(...e){return t.apply(Fp(this),e),Pi(nx.get(this))}:function(...e){return Pi(t.apply(Fp(this),e))}}function B$(t){return typeof t=="function"?U$(t):(t instanceof IDBTransaction&&F$(t),L$(t,O$())?new Proxy(t,Eg):t)}function Pi(t){if(t instanceof IDBRequest)return $$(t);if($p.has(t))return $p.get(t);const e=B$(t);return e!==t&&($p.set(t,e),Vy.set(e,t)),e}const Fp=t=>Vy.get(t);function z$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Pi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Pi(s.result),l.oldVersion,l.newVersion,Pi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const H$=["get","getKey","getAll","getAllKeys","count"],W$=["put","add","delete","clear"],jp=new Map;function o1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=W$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||H$.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return jp.set(e,o),o}j$(t=>({...t,get:(e,n,r)=>o1(e,n)||t.get(e,n,r),has:(e,n)=>!!o1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function G$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sg="@firebase/app",s1="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new tx("@firebase/app"),K$="@firebase/app-compat",Q$="@firebase/analytics-compat",Y$="@firebase/analytics",X$="@firebase/app-check-compat",J$="@firebase/app-check",Z$="@firebase/auth",eF="@firebase/auth-compat",tF="@firebase/database",nF="@firebase/database-compat",rF="@firebase/functions",iF="@firebase/functions-compat",oF="@firebase/installations",sF="@firebase/installations-compat",aF="@firebase/messaging",lF="@firebase/messaging-compat",uF="@firebase/performance",cF="@firebase/performance-compat",fF="@firebase/remote-config",dF="@firebase/remote-config-compat",hF="@firebase/storage",pF="@firebase/storage-compat",mF="@firebase/firestore",gF="@firebase/firestore-compat",vF="firebase",yF="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",_F={[Sg]:"fire-core",[K$]:"fire-core-compat",[Y$]:"fire-analytics",[Q$]:"fire-analytics-compat",[J$]:"fire-app-check",[X$]:"fire-app-check-compat",[Z$]:"fire-auth",[eF]:"fire-auth-compat",[tF]:"fire-rtdb",[nF]:"fire-rtdb-compat",[rF]:"fire-fn",[iF]:"fire-fn-compat",[oF]:"fire-iid",[sF]:"fire-iid-compat",[aF]:"fire-fcm",[lF]:"fire-fcm-compat",[uF]:"fire-perf",[cF]:"fire-perf-compat",[fF]:"fire-rc",[dF]:"fire-rc-compat",[hF]:"fire-gcs",[pF]:"fire-gcs-compat",[mF]:"fire-fst",[gF]:"fire-fst-compat","fire-js":"fire-js",[vF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=new Map,Rg=new Map;function wF(t,e){try{t.container.addComponent(e)}catch(n){bo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jf(t){const e=t.name;if(Rg.has(e))return bo.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(const n of Xf.values())wF(n,t);return!0}function EF(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ki=new ex("app","Firebase",SF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=yF;function ix(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ki.create("bad-app-name",{appName:String(i)});if(n||(n=Jb()),!n)throw ki.create("no-options");const o=Xf.get(i);if(o){if(_g(n,o.options)&&_g(r,o.config))return o;throw ki.create("duplicate-app",{appName:i})}const s=new P$(i);for(const l of Rg.values())s.addComponent(l);const a=new TF(n,r,s);return Xf.set(i,a),a}function bF(t=Tg){const e=Xf.get(t);if(!e&&t===Tg&&Jb())return ix();if(!e)throw ki.create("no-app",{appName:t});return e}function bs(t,e,n){var r;let i=(r=_F[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bo.warn(a.join(" "));return}Jf(new Kl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF="firebase-heartbeat-database",AF=1,Ql="firebase-heartbeat-store";let Up=null;function ox(){return Up||(Up=z$(xF,AF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),Up}async function IF(t){try{return await(await ox()).transaction(Ql).objectStore(Ql).get(sx(t))}catch(e){if(e instanceof la)bo.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bo.warn(n.message)}}}async function a1(t,e){try{const r=(await ox()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,sx(t)),await r.done}catch(n){if(n instanceof la)bo.warn(n.message);else{const r=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bo.warn(r.message)}}}function sx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=1024,PF=30*24*60*60*1e3;class kF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=l1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=PF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l1(),{heartbeatsToSend:r,unsentEntries:i}=NF(this._heartbeatsCache.heartbeats),o=Qf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function l1(){return new Date().toISOString().substring(0,10)}function NF(t,e=CF){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),u1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),u1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?T$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return a1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return a1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function u1(t){return Qf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t){Jf(new Kl("platform-logger",e=>new q$(e),"PRIVATE")),Jf(new Kl("heartbeat",e=>new kF(e),"PRIVATE")),bs(Sg,s1,t),bs(Sg,s1,"esm2017"),bs("fire-js","")}VF("");var LF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae,Ly=Ly||{},xe=LF||self;function vh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function OF(t){return Object.prototype.hasOwnProperty.call(t,Bp)&&t[Bp]||(t[Bp]=++MF)}var Bp="closure_uid_"+(1e9*Math.random()>>>0),MF=0;function $F(t,e,n){return t.call.apply(t.bind,arguments)}function FF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function cn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?cn=$F:cn=FF,cn.apply(null,arguments)}function _c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ht(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Hi(){this.s=this.s,this.o=this.o}var jF=0;Hi.prototype.s=!1;Hi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),jF!=0)&&OF(this)};Hi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ax=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Oy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function c1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vh(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function fn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var UF=function(){if(!xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};xe.addEventListener("test",n,e),xe.removeEventListener("test",n,e)}catch{}return t}();function Yl(t){return/^[\s\xa0]*$/.test(t)}function yh(){var t=xe.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return yh().indexOf(t)!=-1}function My(t){return My[" "](t),t}My[" "]=function(){};function BF(t,e){var n=V3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var zF=Sr("Opera"),Hs=Sr("Trident")||Sr("MSIE"),lx=Sr("Edge"),bg=lx||Hs,ux=Sr("Gecko")&&!(yh().toLowerCase().indexOf("webkit")!=-1&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),HF=yh().toLowerCase().indexOf("webkit")!=-1&&!Sr("Edge");function cx(){var t=xe.document;return t?t.documentMode:void 0}var xg;e:{var zp="",Hp=function(){var t=yh();if(ux)return/rv:([^\);]+)(\)|;)/.exec(t);if(lx)return/Edge\/([\d\.]+)/.exec(t);if(Hs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(HF)return/WebKit\/(\S+)/.exec(t);if(zF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Hp&&(zp=Hp?Hp[1]:""),Hs){var Wp=cx();if(Wp!=null&&Wp>parseFloat(zp)){xg=String(Wp);break e}}xg=zp}var Ag;if(xe.document&&Hs){var f1=cx();Ag=f1||parseInt(xg,10)||void 0}else Ag=void 0;var WF=Ag;function Xl(t,e){if(fn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ux){e:{try{My(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:qF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xl.$.h.call(this)}}Ht(Xl,fn);var qF={2:"touch",3:"pen",4:"mouse"};Xl.prototype.h=function(){Xl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Au="closure_listenable_"+(1e6*Math.random()|0),GF=0;function KF(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++GF,this.fa=this.ia=!1}function _h(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $y(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function QF(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function fx(t){const e={};for(const n in t)e[n]=t[n];return e}const d1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<d1.length;o++)n=d1[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wh(t){this.src=t,this.g={},this.h=0}wh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Cg(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new KF(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Ig(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ax(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(_h(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cg(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Fy="closure_lm_"+(1e6*Math.random()|0),qp={};function hx(t,e,n,r,i){if(r&&r.once)return mx(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)hx(t,e[o],n,r,i);return null}return n=By(n),t&&t[Au]?t.O(e,n,xu(r)?!!r.capture:!!r,i):px(t,e,n,!1,r,i)}function px(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=xu(i)?!!i.capture:!!i,a=Uy(t);if(a||(t[Fy]=a=new wh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=YF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)UF||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function YF(){function t(n){return e.call(t.src,t.listener,n)}const e=XF;return t}function mx(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)mx(t,e[o],n,r,i);return null}return n=By(n),t&&t[Au]?t.P(e,n,xu(r)?!!r.capture:!!r,i):px(t,e,n,!0,r,i)}function gx(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gx(t,e[o],n,r,i);else r=xu(r)?!!r.capture:!!r,n=By(n),t&&t[Au]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Cg(o,n,r,i),-1<n&&(_h(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Uy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cg(e,n,r,i)),(n=-1<t?e[t]:null)&&jy(n))}function jy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Au])Ig(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uy(e))?(Ig(n,t),n.h==0&&(n.src=null,e[Fy]=null)):_h(t)}}}function vx(t){return t in qp?qp[t]:qp[t]="on"+t}function XF(t,e){if(t.fa)t=!0;else{e=new Xl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&jy(t),t=n.call(r,e)}return t}function Uy(t){return t=t[Fy],t instanceof wh?t:null}var Gp="__closure_events_fn_"+(1e9*Math.random()>>>0);function By(t){return typeof t=="function"?t:(t[Gp]||(t[Gp]=function(e){return t.handleEvent(e)}),t[Gp])}function zt(){Hi.call(this),this.i=new wh(this),this.S=this,this.J=null}Ht(zt,Hi);zt.prototype[Au]=!0;zt.prototype.removeEventListener=function(t,e,n,r){gx(this,t,e,n,r)};function Jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new fn(e,t);else if(e instanceof fn)e.target=e.target||t;else{var i=e;e=new fn(r,t),dx(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=wc(s,r,!0,e)&&i}if(s=e.g=t,i=wc(s,r,!0,e)&&i,i=wc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=wc(s,r,!1,e)&&i}zt.prototype.N=function(){if(zt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_h(n[r]);delete t.g[e],t.h--}}this.J=null};zt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};zt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function wc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Ig(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var zy=xe.JSON.stringify;class JF{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ZF(){var t=Hy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class e3{constructor(){this.h=this.g=null}add(e,n){const r=yx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yx=new JF(()=>new t3,t=>t.reset());class t3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function n3(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function r3(t){xe.setTimeout(()=>{throw t},0)}let Jl,Zl=!1,Hy=new e3,_x=()=>{const t=xe.Promise.resolve(void 0);Jl=()=>{t.then(i3)}};var i3=()=>{for(var t;t=ZF();){try{t.h.call(t.g)}catch(n){r3(n)}var e=yx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Zl=!1};function Eh(t,e){zt.call(this),this.h=t||1,this.g=e||xe,this.j=cn(this.qb,this),this.l=Date.now()}Ht(Eh,zt);ae=Eh.prototype;ae.ga=!1;ae.T=null;ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jt(this,"tick"),this.ga&&(Wy(this),this.start()))}};ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Wy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ae.N=function(){Eh.$.N.call(this),Wy(this),delete this.g};function qy(t,e,n){if(typeof t=="function")n&&(t=cn(t,n));else if(t&&typeof t.handleEvent=="function")t=cn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:xe.setTimeout(t,e||0)}function wx(t){t.g=qy(()=>{t.g=null,t.i&&(t.i=!1,wx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class o3 extends Hi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wx(this)}N(){super.N(),this.g&&(xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eu(t){Hi.call(this),this.h=t,this.g={}}Ht(eu,Hi);var h1=[];function Ex(t,e,n,r){Array.isArray(n)||(n&&(h1[0]=n.toString()),n=h1);for(var i=0;i<n.length;i++){var o=hx(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Sx(t){$y(t.g,function(e,n){this.g.hasOwnProperty(n)&&jy(e)},t),t.g={}}eu.prototype.N=function(){eu.$.N.call(this),Sx(this)};eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sh(){this.g=!0}Sh.prototype.Ea=function(){this.g=!1};function s3(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function a3(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ms(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+u3(t,n)+(r?" "+r:"")})}function l3(t,e){t.info(function(){return"TIMEOUT: "+e})}Sh.prototype.info=function(){};function u3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return zy(n)}catch{return e}}var Oo={},p1=null;function Th(){return p1=p1||new zt}Oo.Ta="serverreachability";function Tx(t){fn.call(this,Oo.Ta,t)}Ht(Tx,fn);function tu(t){const e=Th();Jt(e,new Tx(e))}Oo.STAT_EVENT="statevent";function Rx(t,e){fn.call(this,Oo.STAT_EVENT,t),this.stat=e}Ht(Rx,fn);function vn(t){const e=Th();Jt(e,new Rx(e,t))}Oo.Ua="timingevent";function bx(t,e){fn.call(this,Oo.Ua,t),this.size=e}Ht(bx,fn);function Iu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return xe.setTimeout(function(){t()},e)}var Rh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gy(){}Gy.prototype.h=null;function m1(t){return t.h||(t.h=t.i())}function Ax(){}var Cu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ky(){fn.call(this,"d")}Ht(Ky,fn);function Qy(){fn.call(this,"c")}Ht(Qy,fn);var Pg;function bh(){}Ht(bh,Gy);bh.prototype.g=function(){return new XMLHttpRequest};bh.prototype.i=function(){return{}};Pg=new bh;function Pu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new eu(this),this.P=c3,t=bg?125:void 0,this.V=new Eh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ix}function Ix(){this.i=null,this.g="",this.h=!1}var c3=45e3,Cx={},kg={};ae=Pu.prototype;ae.setTimeout=function(t){this.P=t};function Ng(t,e,n){t.L=1,t.A=Ah(Xr(e)),t.u=n,t.S=!0,Px(t,null)}function Px(t,e){t.G=Date.now(),ku(t),t.B=Xr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),$x(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Ix,t.g=oA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new o3(cn(t.Pa,t,t.g),t.O)),Ex(t.U,t.g,"readystatechange",t.nb),e=t.I?fx(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),tu(),s3(t.j,t.v,t.B,t.m,t.W,t.u)}ae.nb=function(t){t=t.target;const e=this.M;e&&Tr(t)==3?e.l():this.Pa(t)};ae.Pa=function(t){try{if(t==this.g)e:{const c=Tr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||bg||this.g&&(this.h.h||this.g.ja()||_1(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?tu(3):tu(2)),xh(this);var n=this.g.da();this.ca=n;t:if(kx(this)){var r=_1(this.g);t="";var i=r.length,o=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),dl(this);var s="";break t}this.h.i=new xe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,a3(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yl(a)){var u=a;break t}}u=null}if(n=u)ms(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dg(this,n);else{this.i=!1,this.s=3,vn(12),oo(this),dl(this);break e}}this.S?(Nx(this,c,s),bg&&this.i&&c==3&&(Ex(this.U,this.V,"tick",this.mb),this.V.start())):(ms(this.j,this.m,s,null),Dg(this,s)),c==4&&oo(this),this.i&&!this.J&&(c==4?tA(this.l,this):(this.i=!1,ku(this)))}else k3(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),oo(this),dl(this)}}}catch{}finally{}};function kx(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Nx(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=f3(t,n),i==kg){e==4&&(t.s=4,vn(14),r=!1),ms(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Cx){t.s=4,vn(15),ms(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ms(t.j,t.m,i,null),Dg(t,i);kx(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,vn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),t0(e),e.M=!0,vn(11))):(ms(t.j,t.m,n,"[Invalid Chunked Response]"),oo(t),dl(t))}ae.mb=function(){if(this.g){var t=Tr(this.g),e=this.g.ja();this.o<e.length&&(xh(this),Nx(this,t,e),this.i&&t!=4&&ku(this))}};function f3(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?kg:(n=Number(e.substring(n,r)),isNaN(n)?Cx:(r+=1,r+n>e.length?kg:(e=e.slice(r,r+n),t.o=r+n,e)))}ae.cancel=function(){this.J=!0,oo(this)};function ku(t){t.Y=Date.now()+t.P,Dx(t,t.P)}function Dx(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Iu(cn(t.lb,t),e)}function xh(t){t.C&&(xe.clearTimeout(t.C),t.C=null)}ae.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(l3(this.j,this.B),this.L!=2&&(tu(),vn(17)),oo(this),this.s=2,dl(this)):Dx(this,this.Y-t)};function dl(t){t.l.H==0||t.J||tA(t.l,t)}function oo(t){xh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Wy(t.V),Sx(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Dg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Vg(n.i,t))){if(!t.K&&Vg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)td(n),kh(n);else break e;e0(n),vn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Iu(cn(n.ib,n),6e3));if(1>=Ux(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else so(n,11)}else if((t.K||n.g==t)&&td(n),!Yl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const m=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Yy(o,o.h),o.h=null))}if(r.F){const y=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,lt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=iA(r,r.J?r.pa:null,r.Y),s.K){Bx(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(xh(a),ku(a)),r.g=s}else Zx(r);0<n.j.length&&Nh(n)}else u[0]!="stop"&&u[0]!="close"||so(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?so(n,7):Zy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}tu(4)}catch{}}function d3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(vh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function h3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Vx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(vh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=h3(t),r=d3(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var Lx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function p3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function po(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof po){this.h=t.h,Zf(this,t.j),this.s=t.s,this.g=t.g,ed(this,t.m),this.l=t.l;var e=t.i,n=new nu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),g1(this,n),this.o=t.o}else t&&(e=String(t).match(Lx))?(this.h=!1,Zf(this,e[1]||"",!0),this.s=Wa(e[2]||""),this.g=Wa(e[3]||"",!0),ed(this,e[4]),this.l=Wa(e[5]||"",!0),g1(this,e[6]||"",!0),this.o=Wa(e[7]||"")):(this.h=!1,this.i=new nu(null,this.h))}po.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qa(e,v1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(qa(e,v1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(qa(n,n.charAt(0)=="/"?v3:g3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qa(n,_3)),t.join("")};function Xr(t){return new po(t)}function Zf(t,e,n){t.j=n?Wa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ed(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function g1(t,e,n){e instanceof nu?(t.i=e,w3(t.i,t.h)):(n||(e=qa(e,y3)),t.i=new nu(e,t.h))}function lt(t,e,n){t.i.set(e,n)}function Ah(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,m3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function m3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var v1=/[#\/\?@]/g,g3=/[#\?:]/g,v3=/[#\?]/g,y3=/[#\?@]/g,_3=/#/g;function nu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Wi(t){t.g||(t.g=new Map,t.h=0,t.i&&p3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ae=nu.prototype;ae.add=function(t,e){Wi(this),this.i=null,t=ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ox(t,e){Wi(t),e=ua(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Mx(t,e){return Wi(t),e=ua(t,e),t.g.has(e)}ae.forEach=function(t,e){Wi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ae.ta=function(){Wi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ae.Z=function(t){Wi(this);let e=[];if(typeof t=="string")Mx(this,t)&&(e=e.concat(this.g.get(ua(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ae.set=function(t,e){return Wi(this),this.i=null,t=ua(this,t),Mx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $x(t,e,n){Ox(t,e),0<n.length&&(t.i=null,t.g.set(ua(t,e),Oy(n)),t.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function w3(t,e){e&&!t.j&&(Wi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Ox(this,r),$x(this,i,n))},t)),t.j=e}var E3=class{constructor(t,e){this.g=t,this.map=e}};function Fx(t){this.l=t||S3,xe.PerformanceNavigationTiming?(t=xe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(xe.g&&xe.g.Ka&&xe.g.Ka()&&xe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var S3=10;function jx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ux(t){return t.h?1:t.g?t.g.size:0}function Vg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yy(t,e){t.g?t.g.add(e):t.h=e}function Bx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Fx.prototype.cancel=function(){if(this.i=zx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function zx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Oy(t.i)}var T3=class{stringify(t){return xe.JSON.stringify(t,void 0)}parse(t){return xe.JSON.parse(t,void 0)}};function R3(){this.g=new T3}function b3(t,e,n){const r=n||"";try{Vx(t,function(i,o){let s=i;xu(i)&&(s=zy(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function x3(t,e){const n=new Sh;if(xe.Image){const r=new Image;r.onload=_c(Ec,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_c(Ec,n,r,"TestLoadImage: error",!1,e),r.onabort=_c(Ec,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_c(Ec,n,r,"TestLoadImage: timeout",!1,e),xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ec(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ih(t){this.l=t.ec||null,this.j=t.ob||!1}Ht(Ih,Gy);Ih.prototype.g=function(){return new Ch(this.l,this.j)};Ih.prototype.i=function(t){return function(){return t}}({});function Ch(t,e){zt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ht(Ch,zt);var Xy=0;ae=Ch.prototype;ae.open=function(t,e){if(this.readyState!=Xy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ru(this)};ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||xe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nu(this)),this.readyState=Xy};ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof xe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Hx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nu(this):ru(this),this.readyState==3&&Hx(this)}};ae.Za=function(t){this.g&&(this.response=this.responseText=t,Nu(this))};ae.Ya=function(t){this.g&&(this.response=t,Nu(this))};ae.ka=function(){this.g&&Nu(this)};function Nu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ru(t)}ae.setRequestHeader=function(t,e){this.v.append(t,e)};ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ru(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var A3=xe.JSON.parse;function bt(t){zt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wx,this.L=this.M=!1}Ht(bt,zt);var Wx="",I3=/^https?$/i,C3=["POST","PUT"];ae=bt.prototype;ae.Oa=function(t){this.M=t};ae.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pg.g(),this.C=this.u?m1(this.u):m1(Pg),this.g.onreadystatechange=cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){y1(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=xe.FormData&&t instanceof xe.FormData,!(0<=ax(C3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Kx(this),0<this.B&&((this.L=P3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.ua,this)):this.A=qy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){y1(this,o)}};function P3(t){return Hs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ae.ua=function(){typeof Ly<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))};function y1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qx(t),Ph(t)}function qx(t){t.F||(t.F=!0,Jt(t,"complete"),Jt(t,"error"))}ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jt(this,"complete"),Jt(this,"abort"),Ph(this))};ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ph(this,!0)),bt.$.N.call(this)};ae.La=function(){this.s||(this.G||this.v||this.l?Gx(this):this.kb())};ae.kb=function(){Gx(this)};function Gx(t){if(t.h&&typeof Ly<"u"&&(!t.C[1]||Tr(t)!=4||t.da()!=2)){if(t.v&&Tr(t)==4)qy(t.La,0,t);else if(Jt(t,"readystatechange"),Tr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(Lx)[1]||null;!i&&xe.self&&xe.self.location&&(i=xe.self.location.protocol.slice(0,-1)),r=!I3.test(i?i.toLowerCase():"")}n=r}if(n)Jt(t,"complete"),Jt(t,"success");else{t.m=6;try{var o=2<Tr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",qx(t)}}finally{Ph(t)}}}}function Ph(t,e){if(t.g){Kx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Kx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(xe.clearTimeout(t.A),t.A=null)}ae.isActive=function(){return!!this.g};function Tr(t){return t.g?t.g.readyState:0}ae.da=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}};ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),A3(e)}};function _1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Wx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function k3(t){const e={};t=(t.g&&2<=Tr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Yl(t[r]))continue;var n=n3(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}QF(e,function(r){return r.join(", ")})}ae.Ia=function(){return this.m};ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Qx(t){let e="";return $y(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Jy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Qx(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):lt(t,e,n))}function ka(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Yx(t){this.Ga=0,this.j=[],this.l=new Sh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ka("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ka("baseRetryDelayMs",5e3,t),this.hb=ka("retryDelaySeedMs",1e4,t),this.eb=ka("forwardChannelMaxRetries",2,t),this.xa=ka("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Fx(t&&t.concurrentRequestLimit),this.Ja=new R3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ae=Yx.prototype;ae.ra=8;ae.H=1;function Zy(t){if(Xx(t),t.H==3){var e=t.W++,n=Xr(t.I);if(lt(n,"SID",t.K),lt(n,"RID",e),lt(n,"TYPE","terminate"),Du(t,n),e=new Pu(t,t.l,e),e.L=2,e.A=Ah(Xr(n)),n=!1,xe.navigator&&xe.navigator.sendBeacon)try{n=xe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&xe.Image&&(new Image().src=e.A,n=!0),n||(e.g=oA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ku(e)}rA(t)}function kh(t){t.g&&(t0(t),t.g.cancel(),t.g=null)}function Xx(t){kh(t),t.u&&(xe.clearTimeout(t.u),t.u=null),td(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&xe.clearTimeout(t.m),t.m=null)}function Nh(t){if(!jx(t.i)&&!t.m){t.m=!0;var e=t.Na;Jl||_x(),Zl||(Jl(),Zl=!0),Hy.add(e,t),t.C=0}}function N3(t,e){return Ux(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Iu(cn(t.Na,t,e),nA(t,t.C)),t.C++,!0)}ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pu(this,this.l,t);let o=this.s;if(this.U&&(o?(o=fx(o),dx(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Jx(this,i,e),n=Xr(this.I),lt(n,"RID",t),lt(n,"CVER",22),this.F&&lt(n,"X-HTTP-Session-Id",this.F),Du(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Qx(o)))+"&"+e:this.o&&Jy(n,this.o,o)),Yy(this.i,i),this.bb&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",e),lt(n,"SID","null"),i.aa=!0,Ng(i,n,null)):Ng(i,n,e),this.H=2}}else this.H==3&&(t?w1(this,t):this.j.length==0||jx(this.i)||w1(this))};function w1(t,e){var n;e?n=e.m:n=t.W++;const r=Xr(t.I);lt(r,"SID",t.K),lt(r,"RID",n),lt(r,"AID",t.V),Du(t,r),t.o&&t.s&&Jy(r,t.o,t.s),n=new Pu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Jx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yy(t.i,n),Ng(n,r,e)}function Du(t,e){t.na&&$y(t.na,function(n,r){lt(e,r,n)}),t.h&&Vx({},function(n,r){lt(e,r,n)})}function Jx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?cn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{b3(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Zx(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Jl||_x(),Zl||(Jl(),Zl=!0),Hy.add(e,t),t.A=0}}function e0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Iu(cn(t.Ma,t),nA(t,t.A)),t.A++,!0)}ae.Ma=function(){if(this.u=null,eA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Iu(cn(this.jb,this),t)}};ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vn(10),kh(this),eA(this))};function t0(t){t.B!=null&&(xe.clearTimeout(t.B),t.B=null)}function eA(t){t.g=new Pu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Xr(t.wa);lt(e,"RID","rpc"),lt(e,"SID",t.K),lt(e,"AID",t.V),lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&lt(e,"TO",t.qa),lt(e,"TYPE","xmlhttp"),Du(t,e),t.o&&t.s&&Jy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ah(Xr(e)),n.u=null,n.S=!0,Px(n,t)}ae.ib=function(){this.v!=null&&(this.v=null,kh(this),e0(this),vn(19))};function td(t){t.v!=null&&(xe.clearTimeout(t.v),t.v=null)}function tA(t,e){var n=null;if(t.g==e){td(t),t0(t),t.g=null;var r=2}else if(Vg(t.i,e))n=e.F,Bx(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Th(),Jt(r,new bx(r,n)),Nh(t)}else Zx(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&N3(t,e)||r==2&&e0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:so(t,5);break;case 4:so(t,10);break;case 3:so(t,6);break;default:so(t,2)}}}function nA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function so(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=cn(t.pb,t);n||(n=new po("//www.google.com/images/cleardot.gif"),xe.location&&xe.location.protocol=="http"||Zf(n,"https"),Ah(n)),x3(n.toString(),r)}else vn(2);t.H=0,t.h&&t.h.za(e),rA(t),Xx(t)}ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),vn(2)):(this.l.info("Failed to ping google.com"),vn(1))};function rA(t){if(t.H=0,t.ma=[],t.h){const e=zx(t.i);(e.length!=0||t.j.length!=0)&&(c1(t.ma,e),c1(t.ma,t.j),t.i.i.length=0,Oy(t.j),t.j.length=0),t.h.ya()}}function iA(t,e,n){var r=n instanceof po?Xr(n):new po(n);if(r.g!="")e&&(r.g=e+"."+r.g),ed(r,r.m);else{var i=xe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new po(null);r&&Zf(o,r),e&&(o.g=e),i&&ed(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&lt(r,n,e),lt(r,"VER",t.ra),Du(t,r),r}function oA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new bt(new Ih({ob:n})):new bt(t.va),e.Oa(t.J),e}ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function sA(){}ae=sA.prototype;ae.Ba=function(){};ae.Aa=function(){};ae.za=function(){};ae.ya=function(){};ae.isActive=function(){return!0};ae.Va=function(){};function nd(){if(Hs&&!(10<=Number(WF)))throw Error("Environmental error: no available transport.")}nd.prototype.g=function(t,e){return new Fn(t,e)};function Fn(t,e){zt.call(this),this.g=new Yx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Yl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ca(this)}Ht(Fn,zt);Fn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;vn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iA(t,null,t.Y),Nh(t)};Fn.prototype.close=function(){Zy(this.g)};Fn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zy(t),t=n);e.j.push(new E3(e.fb++,t)),e.H==3&&Nh(e)};Fn.prototype.N=function(){this.g.h=null,delete this.j,Zy(this.g),delete this.g,Fn.$.N.call(this)};function aA(t){Ky.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ht(aA,Ky);function lA(){Qy.call(this),this.status=1}Ht(lA,Qy);function ca(t){this.g=t}Ht(ca,sA);ca.prototype.Ba=function(){Jt(this.g,"a")};ca.prototype.Aa=function(t){Jt(this.g,new aA(t))};ca.prototype.za=function(t){Jt(this.g,new lA)};ca.prototype.ya=function(){Jt(this.g,"b")};function D3(){this.blockSize=-1}function hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ht(hr,D3);hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Kp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}hr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Kp(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Kp(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Kp(this,r),i=0;break}}this.h=i,this.i+=e};hr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var V3={};function n0(t){return-128<=t&&128>t?BF(t,function(e){return new Xe([e|0],0>e?-1:0)}):new Xe([t|0],0>t?-1:0)}function Rr(t){if(isNaN(t)||!isFinite(t))return xs;if(0>t)return Qt(Rr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Lg;return new Xe(e,0)}function uA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Qt(uA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Rr(Math.pow(e,8)),r=xs,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Rr(Math.pow(e,o)),r=r.R(o).add(Rr(s))):(r=r.R(n),r=r.add(Rr(s)))}return r}var Lg=4294967296,xs=n0(0),Og=n0(1),E1=n0(16777216);ae=Xe.prototype;ae.ea=function(){if(Kn(this))return-Qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Lg+r)*e,e*=Lg}return t};ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hr(this))return"0";if(Kn(this))return"-"+Qt(this).toString(t);for(var e=Rr(Math.pow(t,6)),n=this,r="";;){var i=id(n,e).g;n=rd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Hr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Kn(t){return t.h==-1}ae.X=function(t){return t=rd(this,t),Kn(t)?-1:Hr(t)?0:1};function Qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Xe(n,~t.h).add(Og)}ae.abs=function(){return Kn(this)?Qt(this):this};ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Xe(n,n[n.length-1]&-2147483648?-1:0)};function rd(t,e){return t.add(Qt(e))}ae.R=function(t){if(Hr(this)||Hr(t))return xs;if(Kn(this))return Kn(t)?Qt(this).R(Qt(t)):Qt(Qt(this).R(t));if(Kn(t))return Qt(this.R(Qt(t)));if(0>this.X(E1)&&0>t.X(E1))return Rr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Sc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Sc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Sc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Sc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Xe(n,0)};function Sc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Na(t,e){this.g=t,this.h=e}function id(t,e){if(Hr(e))throw Error("division by zero");if(Hr(t))return new Na(xs,xs);if(Kn(t))return e=id(Qt(t),e),new Na(Qt(e.g),Qt(e.h));if(Kn(e))return e=id(t,Qt(e)),new Na(Qt(e.g),e.h);if(30<t.g.length){if(Kn(t)||Kn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Og,r=e;0>=r.X(t);)n=S1(n),r=S1(r);var i=Wo(n,1),o=Wo(r,1);for(r=Wo(r,2),n=Wo(n,2);!Hr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Wo(r,1),n=Wo(n,1)}return e=rd(t,i.R(e)),new Na(i,e)}for(i=xs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Rr(n),s=o.R(e);Kn(s)||0<s.X(t);)n-=r,o=Rr(n),s=o.R(e);Hr(o)&&(o=Og),i=i.add(o),t=rd(t,s)}return new Na(i,t)}ae.gb=function(t){return id(this,t).h};ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Xe(n,this.h&t.h)};ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Xe(n,this.h|t.h)};ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Xe(n,this.h^t.h)};function S1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Xe(n,t.h)}function Wo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Xe(i,t.h)}nd.prototype.createWebChannel=nd.prototype.g;Fn.prototype.send=Fn.prototype.u;Fn.prototype.open=Fn.prototype.m;Fn.prototype.close=Fn.prototype.close;Rh.NO_ERROR=0;Rh.TIMEOUT=8;Rh.HTTP_ERROR=6;xx.COMPLETE="complete";Ax.EventType=Cu;Cu.OPEN="a";Cu.CLOSE="b";Cu.ERROR="c";Cu.MESSAGE="d";zt.prototype.listen=zt.prototype.O;bt.prototype.listenOnce=bt.prototype.P;bt.prototype.getLastError=bt.prototype.Sa;bt.prototype.getLastErrorCode=bt.prototype.Ia;bt.prototype.getStatus=bt.prototype.da;bt.prototype.getResponseJson=bt.prototype.Wa;bt.prototype.getResponseText=bt.prototype.ja;bt.prototype.send=bt.prototype.ha;bt.prototype.setWithCredentials=bt.prototype.Oa;hr.prototype.digest=hr.prototype.l;hr.prototype.reset=hr.prototype.reset;hr.prototype.update=hr.prototype.j;Xe.prototype.add=Xe.prototype.add;Xe.prototype.multiply=Xe.prototype.R;Xe.prototype.modulo=Xe.prototype.gb;Xe.prototype.compare=Xe.prototype.X;Xe.prototype.toNumber=Xe.prototype.ea;Xe.prototype.toString=Xe.prototype.toString;Xe.prototype.getBits=Xe.prototype.D;Xe.fromNumber=Rr;Xe.fromString=uA;var L3=function(){return new nd},O3=function(){return Th()},Qp=Rh,M3=xx,$3=Oo,T1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tc=Ax,F3=bt,j3=hr,As=Xe;const R1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new tx("@firebase/firestore");function Da(){return xo.logLevel}function se(t,...e){if(xo.logLevel<=Be.DEBUG){const n=e.map(r0);xo.debug(`Firestore (${fa}): ${t}`,...n)}}function Nr(t,...e){if(xo.logLevel<=Be.ERROR){const n=e.map(r0);xo.error(`Firestore (${fa}): ${t}`,...n)}}function Ws(t,...e){if(xo.logLevel<=Be.WARN){const n=e.map(r0);xo.warn(`Firestore (${fa}): ${t}`,...n)}}function r0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+t;throw Nr(e),new Error(e)}function rt(t,e){t||be()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class B3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class z3{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new cA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new an(e)}}class H3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class W3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new H3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new q3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=K3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ot(0,0))}static max(){return new Ae(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends iu{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const Q3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends iu{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return Q3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new fe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new fe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}function Y3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Li(i,_e.empty(),e)}function X3(t){return new Li(t.readTime,t.key,-1)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(Ae.min(),_e.empty(),-1)}static max(){return new Li(Ae.max(),_e.empty(),-1)}}function J3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ej{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==Z3)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(i=>i?G.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new G((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new G((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new qr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new hl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=o0(r.target.error);this.V.reject(new hl(e,i))}}static open(e,n,r,i){try{return new i0(n,e.transaction(i,r))}catch(o){throw new hl(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new nj(n)}}class ao{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ao.S(Yf())===12.2&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),to(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Zb())return!1;if(ao.C())return!0;const e=Yf(),n=ao.S(e),r=0<n&&n<10,i=ao.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(se("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new hl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new fe(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new fe(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new hl(e,s))},i.onupgradeneeded=o=>{se("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{se("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=i0.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),G.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(se("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class tj{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return to(this.k.delete())}}class hl extends fe{constructor(e,n){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Lu(t){return t.name==="IndexedDbTransactionError"}class nj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(se("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),to(r)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),to(this.store.add(e))}get(e){return to(this.store.get(e)).next(n=>(n===void 0&&(n=null),se("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),to(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),to(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new G((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new G((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new G((r,i)=>{n.onerror=o=>{const s=o0(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new G((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new tj(a),u=n(a.primaryKey,a.value,l);if(u instanceof G){const c=u.catch(f=>(l.done(),G.reject(f)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>G.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function to(t){return new G((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=o0(r.target.error);n(i)}})}let b1=!1;function o0(t){const e=ao.S(Yf());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return b1||(b1=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}s0._e=-1;function Dh(t){return t==null}function od(t){return t===0&&1/t==-1/0}function rj(t){return typeof t=="number"&&Number.isInteger(t)&&!od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=o??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A1(this.data.getIterator())}getIteratorFrom(e){return new A1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class A1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Zt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hA("Invalid base64 string: "+o):o}}(e);return new hn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const ij=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(rt(!!t),typeof t=="string"){let e=0;const n=ij.exec(t);if(rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ao(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function l0(t){const e=t.mapValue.fields.__previous_value__;return a0(e)?l0(e):e}function ou(t){const e=Oi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class su{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new su("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a0(t)?4:sj(t)?9007199254740991:10:be()}function Dr(t,e){if(t===e)return!0;const n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ou(t).isEqual(ou(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Oi(i.timestampValue),a=Oi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ao(i.bytesValue).isEqual(Ao(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Pt(i.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pt(i.integerValue)===Pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Pt(i.doubleValue),a=Pt(o.doubleValue);return s===a?od(s)===od(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return qs(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(x1(s)!==x1(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Dr(s[l],a[l])))return!1;return!0}(t,e);default:return be()}}function au(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;const n=Io(t),r=Io(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Pt(o.integerValue||o.doubleValue),l=Pt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return I1(t.timestampValue,e.timestampValue);case 4:return I1(ou(t),ou(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ao(o),l=Ao(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=We(a[u],l[u]);if(c!==0)return c}return We(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=We(Pt(o.latitude),Pt(s.latitude));return a!==0?a:We(Pt(o.longitude),Pt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Gs(a[u],l[u]);if(c)return c}return We(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===bc.mapValue&&s===bc.mapValue)return 0;if(o===bc.mapValue)return 1;if(s===bc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=We(l[f],c[f]);if(d!==0)return d;const h=Gs(a[l[f]],u[c[f]]);if(h!==0)return h}return We(l.length,c.length)}(t.mapValue,e.mapValue);default:throw be()}}function I1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Oi(t),r=Oi(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function Ks(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Mg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Mg(n.fields[s])}`;return i+"}"}(t.mapValue):be()}function C1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $g(t){return!!t&&"integerValue"in t}function u0(t){return!!t&&"arrayValue"in t}function P1(t){return!!t&&"nullValue"in t}function k1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function of(t){return!!t&&"mapValue"in t}function pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!of(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=pl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];of(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rn(pl(this.value))}}function pA(t){const e=[];return Mo(t.fields,(n,r)=>{const i=new Yt([n]);if(of(r)){const o=pA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new un(e,0,Ae.min(),Ae.min(),Ae.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new un(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new un(e,2,n,Ae.min(),Ae.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ae.min(),Ae.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.position=e,this.inclusive=n}}function N1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(s.referenceValue),n.key):r=Gs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function D1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function aj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{}class Nt extends mA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uj(e,n,r):n==="array-contains"?new dj(e,r):n==="in"?new hj(e,r):n==="not-in"?new pj(e,r):n==="array-contains-any"?new mj(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cj(e,r):new fj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gs(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends mA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new pr(e,n)}matches(e){return gA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function gA(t){return t.op==="and"}function vA(t){return lj(t)&&gA(t)}function lj(t){for(const e of t.filters)if(e instanceof pr)return!1;return!0}function Fg(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Ks(t.value);if(vA(t))return t.filters.map(e=>Fg(e)).join(",");{const e=t.filters.map(n=>Fg(n)).join(",");return`${t.op}(${e})`}}function yA(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)}(t,e):t instanceof pr?function(r,i){return i instanceof pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&yA(s,i.filters[a]),!0):!1}(t,e):void be()}function _A(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ks(n.value)}`}(t):t instanceof pr?function(n){return n.op.toString()+" {"+n.getFilters().map(_A).join(" ,")+"}"}(t):"Filter"}class uj extends Nt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class cj extends Nt{constructor(e,n){super(e,"in",n),this.keys=wA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fj extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=wA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class dj extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u0(n)&&au(n.arrayValue,this.value)}}class hj extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class pj extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!au(this.value.arrayValue,n)}}class mj extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>au(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function V1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new gj(t,e,n,r,i,o,s)}function c0(t){const e=Ce(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ks(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ks(r)).join(",")),e.ce=n}return e.ce}function f0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D1(t.startAt,e.startAt)&&D1(t.endAt,e.endAt)}function jg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function vj(t,e,n,r,i,o,s,a){return new da(t,e,n,r,i,o,s,a)}function d0(t){return new da(t)}function L1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EA(t){return t.collectionGroup!==null}function ml(t){const e=Ce(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new lu(o,r))}),n.has(Yt.keyField().canonicalString())||e.le.push(new lu(Yt.keyField(),r))}return e.le}function Ir(t){const e=Ce(t);return e.he||(e.he=yj(e,ml(t))),e.he}function yj(t,e){if(t.limitType==="F")return V1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new lu(i.field,o)});const n=t.endAt?new sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sd(t.startAt.position,t.startAt.inclusive):null;return V1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ug(t,e){const n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ad(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vh(t,e){return f0(Ir(t),Ir(e))&&t.limitType===e.limitType}function SA(t){return`${c0(Ir(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_A(i)).join(", ")}]`),Dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ks(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ks(i)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function Lh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ml(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=N1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ml(r),i)||r.endAt&&!function(s,a,l){const u=N1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ml(r),i))}(t,e)}function _j(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TA(t){return(e,n)=>{let r=!1;for(const i of ml(t)){const o=wj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wj(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Gs(l,u):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return dA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new St(_e.comparator);function Jr(){return Ej}const RA=new St(_e.comparator);function Ga(...t){let e=RA;for(const n of t)e=e.insert(n.key,n);return e}function bA(t){let e=RA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lo(){return gl()}function xA(){return gl()}function gl(){return new ha(t=>t.toString(),(t,e)=>t.isEqual(e))}const Sj=new St(_e.comparator),Tj=new Zt(_e.comparator);function Oe(...t){let e=Tj;for(const n of t)e=e.add(n);return e}const Rj=new Zt(We);function bj(){return Rj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function IA(t){return{integerValue:""+t}}function xj(t,e){return rj(e)?IA(e):AA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function Aj(t,e,n){return t instanceof ld?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&a0(o)&&(o=l0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof uu?PA(t,e):t instanceof cu?kA(t,e):function(i,o){const s=CA(i,o),a=O1(s)+O1(i.Ie);return $g(s)&&$g(i.Ie)?IA(a):AA(i.serializer,a)}(t,e)}function Ij(t,e,n){return t instanceof uu?PA(t,e):t instanceof cu?kA(t,e):n}function CA(t,e){return t instanceof ud?function(r){return $g(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ld extends Oh{}class uu extends Oh{constructor(e){super(),this.elements=e}}function PA(t,e){const n=NA(e);for(const r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cu extends Oh{constructor(e){super(),this.elements=e}}function kA(t,e){let n=NA(e);for(const r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}class ud extends Oh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function O1(t){return Pt(t.integerValue||t.doubleValue)}function NA(t){return u0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Cj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uu&&i instanceof uu||r instanceof cu&&i instanceof cu?qs(r.elements,i.elements,Dr):r instanceof ud&&i instanceof ud?Dr(r.Ie,i.Ie):r instanceof ld&&i instanceof ld}(t.transform,e.transform)}class Pj{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mh{}function DA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h0(t.key,fr.none()):new Ou(t.key,t.data,fr.none());{const n=t.data,r=Rn.empty();let i=new Zt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new qi(t.key,r,new Ln(i.toArray()),fr.none())}}function kj(t,e,n){t instanceof Ou?function(i,o,s){const a=i.value.clone(),l=$1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(i,o,s){if(!sf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=$1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(VA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function vl(t,e,n,r){return t instanceof Ou?function(o,s,a,l){if(!sf(o.precondition,s))return a;const u=o.value.clone(),c=F1(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qi?function(o,s,a,l){if(!sf(o.precondition,s))return a;const u=F1(o.fieldTransforms,l,s),c=s.data;return c.setAll(VA(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return sf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Nj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=CA(r.transform,i||null);o!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,o))}return n||null}function M1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qs(r,i,(o,s)=>Cj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends Mh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends Mh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $1(t,e,n){const r=new Map;rt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Ij(s,a,n[i]))}return r}function F1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Aj(o,s,e))}return r}class h0 extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dj extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&kj(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=DA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,r)=>M1(n,r))&&qs(this.baseMutations,e.baseMutations,(n,r)=>M1(n,r))}}class p0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length);let i=function(){return Sj}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new p0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,je;function Mj(t){switch(t){default:return be();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function LA(t){if(t===void 0)return Nr("GRPC error has no .code"),W.UNKNOWN;switch(t){case Ct.OK:return W.OK;case Ct.CANCELLED:return W.CANCELLED;case Ct.UNKNOWN:return W.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return W.INTERNAL;case Ct.UNAVAILABLE:return W.UNAVAILABLE;case Ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ct.NOT_FOUND:return W.NOT_FOUND;case Ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ct.ABORTED:return W.ABORTED;case Ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ct.DATA_LOSS:return W.DATA_LOSS;default:return be()}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new As([4294967295,4294967295],0);function j1(t){const e=$j().encode(t),n=new j3;return n.update(e),new Uint8Array(n.digest())}function U1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new As([n,r],0),new As([i,o],0)]}class m0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ka(`Invalid padding: ${n}`);if(r<0)throw new Ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=As.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(As.fromNumber(r)));return i.compare(Fj)===1&&(i=new As([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=j1(e),[r,i]=U1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new m0(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=j1(e),[r,i]=U1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $h(Ae.min(),i,new St(We),Jr(),Oe())}}class Mu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mu(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class OA{constructor(e,n){this.targetId=e,this.fe=n}}class MA{constructor(e,n,r=hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class B1{constructor(){this.ge=0,this.pe=H1(),this.ye=hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new Mu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=H1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,rt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class jj{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jr(),this.Qe=z1(),this.Ke=new St(We)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(jg(o))if(r===0){const s=new _e(o.path);this.We(n,s,un.newNoDocument(s,Ae.min()))}else rt(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ao(r).toUint8Array()}catch(l){if(l instanceof hA)return Ws("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new m0(s,i,o)}catch(l){return Ws(l instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&jg(a.target)){const l=new _e(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,un.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Oe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new $h(e,n,this.Ke,this.qe,r);return this.qe=Jr(),this.Qe=z1(),this.Ke=new St(We),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new B1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Zt(We),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new B1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function z1(){return new St(_e.comparator)}function H1(){return new St(_e.comparator)}const Uj={asc:"ASCENDING",desc:"DESCENDING"},Bj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zj={and:"AND",or:"OR"};class Hj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bg(t,e){return t.useProto3Json||Dh(e)?e:{value:e}}function cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $A(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wj(t,e){return cd(t,e.toTimestamp())}function Cr(t){return rt(!!t),Ae.fromTimestamp(function(n){const r=Oi(n);return new Ot(r.seconds,r.nanos)}(t))}function g0(t,e){return zg(t,e).canonicalString()}function zg(t,e){const n=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FA(t){const e=ut.fromString(t);return rt(HA(e)),e}function Hg(t,e){return g0(t.databaseId,e.path)}function Yp(t,e){const n=FA(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(UA(n))}function jA(t,e){return g0(t.databaseId,e)}function qj(t){const e=FA(t);return e.length===4?ut.emptyPath():UA(e)}function Wg(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UA(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function W1(t,e,n){return{name:Hg(t,e),fields:n.value.mapValue.fields}}function Gj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(rt(c===void 0||typeof c=="string"),hn.fromBase64String(c||"")):(rt(c===void 0||c instanceof Uint8Array),hn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?W.UNKNOWN:LA(u.code);return new fe(c,u.message||"")}(s);n=new MA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yp(t,r.document.name),o=Cr(r.document.updateTime),s=r.document.createTime?Cr(r.document.createTime):Ae.min(),a=new Rn({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new af(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yp(t,r.document),o=r.readTime?Cr(r.readTime):Ae.min(),s=un.newNoDocument(i,o),a=r.removedTargetIds||[];n=new af([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yp(t,r.document),o=r.removedTargetIds||[];n=new af([],o,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Oj(i,o),a=r.targetId;n=new OA(a,s)}}return n}function Kj(t,e){let n;if(e instanceof Ou)n={update:W1(t,e.key,e.value)};else if(e instanceof h0)n={delete:Hg(t,e.key)};else if(e instanceof qi)n={update:W1(t,e.key,e.data),updateMask:rU(e.fieldMask)};else{if(!(e instanceof Dj))return be();n={verify:Hg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ld)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ud)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Wj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(t,e.precondition)),n}function Qj(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Cr(i.updateTime):Cr(o);return s.isEqual(Ae.min())&&(s=Cr(o)),new Pj(s,i.transformResults||[])}(n,e))):[]}function Yj(t,e){return{documents:[jA(t,e.path)]}}function Xj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jA(t,i);const o=function(u){if(u.length!==0)return zA(pr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:es(d.field),direction:eU(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Bg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function Jj(t){let e=qj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=BA(f);return d instanceof pr&&vA(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(m){return new lu(ts(m.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Dh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new sd(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,h=f.values||[];return new sd(h,d)}(n.endAt)),vj(e,i,s,o,a,"F",l,u)}function Zj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ts(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ts(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ts(n.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ts(n.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(ts(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pr.create(n.compositeFilter.filters.map(r=>BA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function eU(t){return Uj[t]}function tU(t){return Bj[t]}function nU(t){return zj[t]}function es(t){return{fieldPath:t.canonicalString()}}function ts(t){return Yt.fromServerFormat(t.fieldPath)}function zA(t){return t instanceof Nt?function(n){if(n.op==="=="){if(k1(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NAN"}};if(P1(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k1(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NAN"}};if(P1(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:es(n.field),op:tU(n.op),value:n.value}}}(t):t instanceof pr?function(n){const r=n.getFilters().map(i=>zA(i));return r.length===1?r[0]:{compositeFilter:{op:nU(n.op),filters:r}}}(t):be()}function rU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r,i,o=Ae.min(),s=Ae.min(),a=hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.ct=e}}function oU(t){const e=Jj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(){this._n=new aU}addToCollectionParentIndex(e,n){return this._n.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Li.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class aU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(ut.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Qs(0)}static Bn(){return new Qs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(){this.changes=new ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vl(r.mutation,i,Ln.empty(),Ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=lo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ga();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Jr();const s=gl(),a=function(){return gl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof qi)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),vl(c.mutation,u,c.mutation.getFieldMask(),Ot.now())):s.set(u.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new uU(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gl();let i=new St((s,a)=>s-a),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ln.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=xA();c.forEach(d=>{if(!o.has(d)){const h=DA(n.get(d),r.get(d));h!==null&&f.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return G.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):G.resolve(lo());let a=-1,l=o;return s.next(u=>G.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?G.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:bA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Ga();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ga();return this.indexManager.getCollectionParents(e,o).next(a=>G.forEach(a,l=>{const u=function(f,d){return new da(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,un.newInvalidDocument(c)))});let a=Ga();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&vl(c.mutation,u,Ln.empty(),Ot.now()),Lh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return G.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cr(i.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:oU(i.bundledQuery),readTime:Cr(i.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.overlays=new St(_e.comparator),this.hr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lo();return G.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const i=lo(),o=n.length+1,s=new _e(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new St((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=lo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=lo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return G.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Lj(n,r));let o=this.hr.get(n);o===void 0&&(o=Oe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.Pr=new Zt(jt.Ir),this.Tr=new Zt(jt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new jt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new _e(new ut([])),r=new jt(n,e),i=new jt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new _e(new ut([])),r=new jt(n,e),i=new jt(n,e+1);let o=Oe();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new jt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return _e.comparator(e.key,n.key)||We(e.pr,n.pr)}static Er(e,n){return We(e.pr,n.pr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Zt(jt.Ir)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Vj(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new jt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(s)}lookupMutationBatch(e,n){return G.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(We);return n.forEach(i=>{const o=new jt(i,0),s=new jt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),G.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const s=new jt(new _e(o),0);let a=new Zt(We);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),G.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return G.forEach(n.mutations,i=>{const o=new jt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new jt(n,0),i=this.wr.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.vr=e,this.docs=function(){return new St(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Jr();const s=n.path,a=new _e(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||J3(X3(c),r)<=0||(i.has(c.key)||Lh(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,n,r,i){be()}Fr(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mU(this)}getSize(e){return G.resolve(this.size)}}class mU extends lU{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.persistence=e,this.Mr=new ha(n=>c0(n),f0),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Or=0,this.Nr=new v0,this.targetCount=0,this.Br=Qs.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),G.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Qs(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.qn(n),G.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),G.waitFor(o).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n){this.Lr={},this.overlays={},this.kr=new s0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new gU(this),this.indexManager=new sU,this.remoteDocumentCache=function(i){return new pU(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new iU(n),this.$r=new fU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new hU(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new yU(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return G.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class yU extends ej{constructor(e){super(),this.currentSequenceNumber=e}}class y0{constructor(e){this.persistence=e,this.zr=new v0,this.jr=null}static Hr(e){return new y0(e)}get Jr(){if(this.jr)return this.jr;throw be()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),G.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Jr,r=>{const i=_e.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Ae.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return G.or([()=>G.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Oe(),i=Oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return S$()?8:ao.v(Yf())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new _U;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Da()<=Be.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),G.resolve()):(Da()<=Be.DEBUG&&se("QueryEngine","Query:",Zo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Da()<=Be.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):G.resolve())}ji(e,n){if(L1(n))return G.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ad(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Oe(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,ad(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return L1(n)||i.isEqual(Ae.min())?G.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?G.resolve(null):(Da()<=Be.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zo(n)),this.es(e,s,n,Y3(i,-1)).next(a=>a))})}Zi(e,n){let r=new Zt(TA(e));return n.forEach((i,o)=>{Lh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Da()<=Be.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.zi.getDocumentsMatchingQuery(e,n,Li.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new St(We),this.rs=new ha(o=>c0(o),f0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cU(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function SU(t,e,n,r){return new EU(t,e,n,r)}async function WA(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Oe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function TU(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let h=G.resolve();return d.forEach(m=>{h=h.next(()=>c.getEntry(l,m)).next(y=>{const S=u.docVersions.get(m);rt(S!==null),y.version.compareTo(S)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qA(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function RU(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,f)));let h=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(hn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(y,S,g){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(o,h))});let l=Jr(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(bU(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Ae.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return G.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function bU(t,e,n){let r=Oe(),i=Oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Jr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function xU(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AU(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,G.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new yi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function qg(t,e,n){const r=Ce(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Lu(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function q1(t,e,n){const r=Ce(t);let i=Ae.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Ce(l),d=f.rs.get(c);return d!==void 0?G.resolve(f.ns.get(d)):f.Qr.getTargetData(u,c)}(r,s,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Ae.min(),n?o:Oe())).next(a=>(IU(r,_j(e),a),{documents:a,hs:o})))}function IU(t,e,n){let r=t.ss.get(e)||Ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class G1{constructor(){this.activeTargetIds=bj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CU{constructor(){this.no=new G1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new G1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function Xp(){return xc===null?xc=function(){return 268435456+Math.round(2147483648*Math.random())}():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class DU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=Xp(),l=this.bo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(se("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ws("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=kU[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=Xp();return new Promise((s,a)=>{const l=new F3;l.setWithCredentials(!0),l.listenOnce(M3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qp.NO_ERROR:const c=l.getResponseJson();se(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Qp.TIMEOUT:se(rn,`RPC '${e}' ${o} timed out`),a(new fe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Qp.HTTP_ERROR:const f=l.getStatus();if(se(rn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const m=function(S){const g=S.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(g)>=0?g:W.UNKNOWN}(h.status);a(new fe(m,h.message))}else a(new fe(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(W.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{se(rn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);se(rn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Xp(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=L3(),a=O3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");se(rn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let d=!1,h=!1;const m=new NU({lo:S=>{h?se(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(d||(se(rn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),se(rn,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},ho:()=>f.close()}),y=(S,g,p)=>{S.listen(g,v=>{try{p(v)}catch(b){setTimeout(()=>{throw b},0)}})};return y(f,Tc.EventType.OPEN,()=>{h||se(rn,`RPC '${e}' stream ${i} transport opened.`)}),y(f,Tc.EventType.CLOSE,()=>{h||(h=!0,se(rn,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),y(f,Tc.EventType.ERROR,S=>{h||(h=!0,Ws(rn,`RPC '${e}' stream ${i} transport errored:`,S),m.Vo(new fe(W.UNAVAILABLE,"The operation could not be completed")))}),y(f,Tc.EventType.MESSAGE,S=>{var g;if(!h){const p=S.data[0];rt(!!p);const v=p,b=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(b){se(rn,`RPC '${e}' stream ${i} received error:`,b);const C=b.status;let R=function(O){const $=Ct[O];if($!==void 0)return LA($)}(C),w=b.message;R===void 0&&(R=W.INTERNAL,w="Unknown error status: "+C+" with message "+b.message),h=!0,m.Vo(new fe(R,w)),f.close()}else se(rn,`RPC '${e}' stream ${i} received:`,p),m.mo(p)}}),y(a,$3.STAT_EVENT,S=>{S.stat===T1.PROXY?se(rn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===T1.NOPROXY&&se(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function Jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){return new Hj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new GA(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new fe(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VU extends KA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=Gj(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ae.min():s.readTime?Cr(s.readTime):Ae.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Wg(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=jg(l)?{documents:Yj(o,l)}:{query:Xj(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$A(o,s.resumeToken);const u=Bg(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ae.min())>0){a.readTime=cd(o,s.snapshotVersion.toTimestamp());const u=Bg(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Zj(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Wg(this.serializer),n.removeTarget=e,this.t_(n)}}class LU extends KA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=Qj(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.T_(r,n)}return rt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Wg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Kj(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,zg(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(W.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,zg(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(W.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class MU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Nr(n),this.g_=!1):se("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{$o(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.v_.add(4),await $u(u),u.x_.set("Unknown"),u.v_.delete(4),await jh(u)}(this))})}),this.x_=new MU(r,i)}}async function jh(t){if($o(t))for(const e of t.F_)await e(!0)}async function $u(t){for(const e of t.F_)await e(!1)}function QA(t,e){const n=Ce(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),S0(n)?E0(n):pa(n).Jo()&&w0(n,e))}function YA(t,e){const n=Ce(t),r=pa(n);n.C_.delete(e),r.Jo()&&XA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():$o(n)&&n.x_.set("Unknown"))}function w0(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pa(t).c_(e)}function XA(t,e){t.O_.Oe(e),pa(t).l_(e)}function E0(t){t.O_=new jj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.x_.p_()}function S0(t){return $o(t)&&!pa(t).Ho()&&t.C_.size>0}function $o(t){return Ce(t).v_.size===0}function JA(t){t.O_=void 0}async function FU(t){t.C_.forEach((e,n)=>{w0(t,e)})}async function jU(t,e){JA(t),S0(t)?(t.x_.S_(e),E0(t)):t.x_.set("Unknown")}async function UU(t,e,n){if(t.x_.set("Online"),e instanceof MA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fd(t,r)}else if(e instanceof af?t.O_.$e(e):e instanceof OA?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ae.min()))try{const r=await qA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(hn.EMPTY_BYTE_STRING,c.snapshotVersion)),XA(o,l);const f=new yi(c.target,l,u,c.sequenceNumber);w0(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await fd(t,r)}}async function fd(t,e,n){if(!Lu(e))throw e;t.v_.add(1),await $u(t),t.x_.set("Offline"),n||(n=()=>qA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await jh(t)})}function ZA(t,e){return e().catch(n=>fd(t,n,e))}async function Uh(t){const e=Ce(t),n=Mi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;BU(e);)try{const i=await xU(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,zU(e,i)}catch(i){await fd(e,i)}eI(e)&&tI(e)}function BU(t){return $o(t)&&t.D_.length<10}function zU(t,e){t.D_.push(e);const n=Mi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function eI(t){return $o(t)&&!Mi(t).Ho()&&t.D_.length>0}function tI(t){Mi(t).start()}async function HU(t){Mi(t).d_()}async function WU(t){const e=Mi(t);for(const n of t.D_)e.I_(n.mutations)}async function qU(t,e,n){const r=t.D_.shift(),i=p0.from(r,e,n);await ZA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Uh(t)}async function GU(t,e){e&&Mi(t).P_&&await async function(r,i){if(function(s){return Mj(s)&&s!==W.ABORTED}(i.code)){const o=r.D_.shift();Mi(r).Zo(),await ZA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Uh(r)}}(t,e),eI(t)&&tI(t)}async function Q1(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=$o(n);n.v_.add(3),await $u(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await jh(n)}async function KU(t,e){const n=Ce(t);e?(n.v_.delete(2),await jh(n)):e||(n.v_.add(2),await $u(n),n.x_.set("Unknown"))}function pa(t){return t.N_||(t.N_=function(n,r,i){const o=Ce(n);return o.R_(),new VU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:FU.bind(null,t),To:jU.bind(null,t),u_:UU.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),S0(t)?E0(t):t.x_.set("Unknown")):(await t.N_.stop(),JA(t))})),t.N_}function Mi(t){return t.B_||(t.B_=function(n,r,i){const o=Ce(n);return o.R_(),new LU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:HU.bind(null,t),To:GU.bind(null,t),E_:WU.bind(null,t),T_:qU.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Uh(t)):(await t.B_.stop(),t.D_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new T0(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R0(t,e){if(Nr("AsyncQueue",`${e}: ${t}`),Lu(t))return new fe(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Ga(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new Is(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Is;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.L_=new St(_e.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):be():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ys{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ys(e,n,Is.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.q_=void 0,this.Q_=[]}}class YU{constructor(){this.queries=new ha(e=>SA(e),Vh),this.onlineState="Unknown",this.K_=new Set}}async function nI(t,e){const n=Ce(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new QU),i)try{o.q_=await n.onListen(r)}catch(s){const a=R0(s,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&b0(n)}async function rI(t,e){const n=Ce(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function XU(t,e){const n=Ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&b0(n)}function JU(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function b0(t){t.K_.forEach(e=>{e.next()})}class iI{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.key=e}}class sI{constructor(e){this.key=e}}class ZU{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Oe(),this.mutatedKeys=Oe(),this.ua=TA(e),this.ca=new Is(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Y1,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),h=Lh(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let S=!1;d&&h?d.data.isEqual(h.data)?m!==y&&(r.track({type:3,doc:h}),S=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),S=!0,(l&&this.ua(h,l)>0||u&&this.ua(h,u)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),S=!0):d&&!h&&(r.track({type:1,doc:d}),S=!0,(l||u)&&(a=!0)),S&&(h?(s=s.add(h),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,f)=>function(h,m){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return y(h)-y(m)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new Ys(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Y1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Oe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new sI(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new oI(r))}),n}Ra(e){this.oa=e.hs,this.aa=Oe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ys.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class e9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t9{constructor(e){this.key=e,this.ma=!1}}class n9{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new ha(a=>SA(a),Vh),this.pa=new Map,this.ya=new Set,this.wa=new St(_e.comparator),this.Sa=new Map,this.ba=new v0,this.Da={},this.Ca=new Map,this.va=Qs.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function r9(t,e){const n=h9(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await AU(n.localStore,Ir(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await i9(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&QA(n.remoteStore,s)}return i}async function i9(t,e,n,r,i){t.Ma=(f,d,h)=>async function(y,S,g,p){let v=S.view.ha(g);v.Xi&&(v=await q1(y.localStore,S.query,!1).then(({documents:w})=>S.view.ha(w,v)));const b=p&&p.targetChanges.get(S.targetId),C=p&&p.targetMismatches.get(S.targetId)!=null,R=S.view.applyChanges(v,y.isPrimaryClient,b,C);return J1(y,S.targetId,R.da),R.snapshot}(t,f,d,h);const o=await q1(t.localStore,e,!0),s=new ZU(e,o.hs),a=s.ha(o.documents),l=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);J1(t,n,u.da);const c=new e9(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function o9(t,e){const n=Ce(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Vh(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),YA(n.remoteStore,r.targetId),Gg(n,r.targetId)}).catch(Vu)):(Gg(n,r.targetId),await qg(n.localStore,r.targetId,!0))}async function s9(t,e,n){const r=p9(t);try{const i=await function(s,a){const l=Ce(s),u=Ot.now(),c=a.reduce((h,m)=>h.add(m.key),Oe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=Jr(),y=Oe();return l.os.getEntries(h,c).next(S=>{m=S,m.forEach((g,p)=>{p.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,m)).next(S=>{f=S;const g=[];for(const p of a){const v=Nj(p,f.get(p.key).overlayedDocument);v!=null&&g.push(new qi(p.key,v,pA(v.value.mapValue),fr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,g,a)}).next(S=>{d=S;const g=S.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(h,S.batchId,g)})}).then(()=>({batchId:d.batchId,changes:bA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new St(We)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await Fu(r,i.changes),await Uh(r.remoteStore)}catch(i){const o=R0(i,"Failed to persist write");n.reject(o)}}async function aI(t,e){const n=Ce(t);try{const r=await RU(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?rt(s.ma):i.removedDocuments.size>0&&(rt(s.ma),s.ma=!1))}),await Fu(n,r,e)}catch(r){await Vu(r)}}function X1(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ce(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.Q_)d.U_(a)&&(u=!0)}),u&&b0(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function a9(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new St(_e.comparator);s=s.insert(o,un.newNoDocument(o,Ae.min()));const a=Oe().add(o),l=new $h(Ae.min(),new Map,new St(We),s,a);await aI(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),x0(r)}else await qg(r.localStore,e,!1).then(()=>Gg(r,e,n)).catch(Vu)}async function l9(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await TU(n.localStore,e);uI(n,r,null),lI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(n,i)}catch(i){await Vu(i)}}async function u9(t,e,n){const r=Ce(t);try{const i=await function(s,a){const l=Ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(rt(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);uI(r,e,n),lI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fu(r,i)}catch(i){await Vu(i)}}function lI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function uI(t,e,n){const r=Ce(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||cI(t,r)})}function cI(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(YA(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),x0(t))}function J1(t,e,n){for(const r of n)r instanceof oI?(t.ba.addReference(r.key,e),c9(t,r)):r instanceof sI?(se("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||cI(t,r.key)):be()}function c9(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(se("SyncEngine","New document in limbo: "+n),t.ya.add(r),x0(t))}function x0(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new _e(ut.fromString(e)),r=t.va.next();t.Sa.set(r,new t9(n)),t.wa=t.wa.insert(n,r),QA(t.remoteStore,new yi(Ir(d0(n.path)),r,"TargetPurposeLimboResolution",s0._e))}}async function Fu(t,e,n){const r=Ce(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=_0.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>G.forEach(u,d=>G.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>G.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Lu(f))throw f;se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),m=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(m);c.ns=c.ns.insert(d,y)}}}(r.localStore,o))}async function f9(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await WA(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new fe(W.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(n,r.us)}}function d9(t,e){const n=Ce(t),r=n.Sa.get(e);if(r&&r.ma)return Oe().add(r.key);{let i=Oe();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function h9(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a9.bind(null,e),e.fa.u_=XU.bind(null,e.eventManager),e.fa.xa=JU.bind(null,e.eventManager),e}function p9(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u9.bind(null,e),e}class Z1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return SU(this.persistence,new wU,e.initialUser,this.serializer)}createPersistence(e){return new vU(y0.Hr,this.serializer)}createSharedClientState(e){return new CU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class m9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f9.bind(null,this.syncEngine),await KU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YU}()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),r=function(o){return new DU(o)}(e.databaseInfo);return function(o,s,a,l){return new OU(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new $U(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>X1(this.syncEngine,n,0),function(){return K1.D()?new K1:new PU}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new n9(i,o,s,a,l,u);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ce(r);se("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await $u(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=fA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=R0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zp(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y9(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Q1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Q1(e.remoteStore,i)),t._onlineComponents=e}function v9(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function y9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!v9(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await Zp(t,new Z1)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Zp(t,new Z1);return t._offlineComponents}async function dI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await eE(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await eE(t,new m9))),t._onlineComponents}function _9(t){return dI(t).then(e=>e.syncEngine)}async function Kg(t){const e=await dI(t),n=e.eventManager;return n.onListen=r9.bind(null,e.syncEngine),n.onUnlisten=o9.bind(null,e.syncEngine),n}function w9(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new fI({next:d=>{s.enqueueAndForget(()=>rI(o,f)),d.fromCache&&l.source==="server"?u.reject(new fe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new iI(a,c,{includeMetadataChanges:!0,Z_:!0});return nI(o,f)}(await Kg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e,n){if(!n)throw new fe(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E9(t,e,n,r){if(e===!0&&r===!0)throw new fe(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nE(t){if(!_e.isDocumentKey(t))throw new fe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rE(t){if(_e.isDocumentKey(t))throw new fe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(t);throw new fe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function S9(t,e){if(e<=0)throw new fe(W.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new fe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U3;switch(r.type){case"firstParty":return new W3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tE.get(n);r&&(se("ComponentProvider","Removing Datastore"),tE.delete(n),r.terminate())}(this),Promise.resolve()}}function T9(t,e,n,r={}){var i;const o=(t=Pr(t,zh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=an.MOCK_USER;else{a=w$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new fe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(u)}t._authCredentials=new B3(new cA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ni(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Ni extends ni{constructor(e,n,r){super(e,n,d0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new _e(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function gr(t,e,...n){if(t=kr(t),pI("collection","path",e),t instanceof zh){const r=ut.fromString(e,...n);return rE(r),new Ni(t,null,r)}{if(!(t instanceof Pn||t instanceof Ni))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return rE(r),new Ni(t.firestore,null,r)}}function A0(t,e,...n){if(t=kr(t),arguments.length===1&&(e=fA.newId()),pI("doc","path",e),t instanceof zh){const r=ut.fromString(e,...n);return nE(r),new Pn(t,null,new _e(r))}{if(!(t instanceof Pn||t instanceof Ni))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return nE(r),new Pn(t.firestore,t instanceof Ni?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new GA(this,"async_queue_retry"),this._u=()=>{const n=Jp();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Jp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new qr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Lu(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=T0.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&be()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function oE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Co extends zh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new R9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mI(this),this._firestoreClient.terminate()}}function b9(t,e){const n=typeof t=="object"?t:bF(),r=typeof t=="string"?t:e||"(default)",i=EF(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=y$("firestore");o&&T9(i,...o)}return i}function I0(t){return t._firestoreClient||mI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mI(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new oj(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,hI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new g9(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(hn.fromBase64String(e))}catch(n){throw new fe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xs(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=/^__.*__$/;class A9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class gI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class k0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new k0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return dd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(vI(this.du)&&x9.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class I9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fh(e)}Su(e,n,r,i=!1){return new k0({du:e,methodName:n,wu:r,path:Yt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N0(t){const e=t._freezeSettings(),n=Fh(t._databaseId);return new I9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function C9(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);D0("Data must be an object, but it was:",s,r);const a=yI(r,s);let l,u;if(o.merge)l=new Ln(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=Qg(e,f,n);if(!s.contains(d))throw new fe(W.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);wI(c,d)||c.push(d)}l=new Ln(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new A9(new Rn(a),l,u)}class Wh extends C0{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function P9(t,e,n,r){const i=t.Su(1,e,n);D0("Data must be an object, but it was:",i,r);const o=[],s=Rn.empty();Mo(r,(l,u)=>{const c=V0(e,l,n);u=kr(u);const f=i.fu(c);if(u instanceof Wh)o.push(c);else{const d=ju(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new Ln(o);return new gI(s,a,i.fieldTransforms)}function k9(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[Qg(e,r,n)],l=[i];if(o.length%2!=0)throw new fe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Qg(e,o[d])),l.push(o[d+1]);const u=[],c=Rn.empty();for(let d=a.length-1;d>=0;--d)if(!wI(u,a[d])){const h=a[d];let m=l[d];m=kr(m);const y=s.fu(h);if(m instanceof Wh)u.push(h);else{const S=ju(m,y);S!=null&&(u.push(h),c.set(h,S))}}const f=new Ln(u);return new gI(c,f,s.fieldTransforms)}function N9(t,e,n,r=!1){return ju(n,t.Su(r?4:3,e))}function ju(t,e){if(_I(t=kr(t)))return D0("Unsupported field value:",e,t),yI(t,e);if(t instanceof C0)return function(r,i){if(!vI(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ju(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=kr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ot.fromDate(r);return{timestampValue:cd(i.serializer,o)}}if(r instanceof Ot){const o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(i.serializer,o)}}if(r instanceof P0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xs)return{bytesValue:$A(i.serializer,r._byteString)};if(r instanceof Pn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:g0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Bh(r)}`)}(t,e)}function yI(t,e){const n={};return dA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,(r,i)=>{const o=ju(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof P0||t instanceof Xs||t instanceof Pn||t instanceof C0)}function D0(t,e,n){if(!_I(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Bh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Qg(t,e,n){if((e=kr(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return V0(t,e);throw dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const D9=new RegExp("[~\\*/\\[\\]]");function V0(t,e,n){if(e.search(D9)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hh(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new fe(W.INVALID_ARGUMENT,a+t+l)}function wI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V9 extends EI{data(){return super.data()}}function qh(t,e){return typeof e=="string"?V0(t,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L0{}class O0 extends L0{}function ri(t,e,...n){let r=[];e instanceof L0&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof M0).length,a=o.filter(l=>l instanceof Gh).length;if(s>1||s>0&&a>0)throw new fe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Gh extends O0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gh(e,n,r)}_apply(e){const n=this._parse(e);return TI(e._query,n),new ni(e.firestore,e.converter,Ug(e._query,n))}_parse(e){const n=N0(e.firestore);return function(o,s,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new fe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){aE(f,c);const h=[];for(const m of f)h.push(sE(l,o,m));d={arrayValue:{values:h}}}else d=sE(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||aE(f,c),d=N9(a,s,f,c==="in"||c==="not-in");return Nt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jn(t,e,n){const r=e,i=qh("where",t);return Gh._create(i,r,n)}class M0 extends L0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new M0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)TI(s,l),s=Ug(s,l)}(e._query,n),new ni(e.firestore,e.converter,Ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $0 extends O0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $0(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new fe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(o,s)}(e._query,this._field,this._direction);return new ni(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new da(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function L9(t,e="asc"){const n=e,r=qh("orderBy",t);return $0._create(r,n)}class F0 extends O0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new F0(e,n,r)}_apply(e){return new ni(e.firestore,e.converter,ad(e._query,this._limit,this._limitType))}}function O9(t){return S9("limit",t),F0._create("limit",t,"F")}function sE(t,e,n){if(typeof(n=kr(n))=="string"){if(n==="")throw new fe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EA(e)&&n.indexOf("/")!==-1)throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!_e.isDocumentKey(r))throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return C1(t,new _e(r))}if(n instanceof Pn)return C1(t,n._key);throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function aE(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TI(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class M9{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new P0(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=l0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Oi(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);rt(HA(r));const i=new su(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||Nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RI extends EI{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class lf extends RI{data(e={}){return super.data(e)}}class bI{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lf(this._firestore,this._userDataWriter,r.key,r,new Qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new lf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new lf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:F9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class j0 extends M9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function Uu(t){t=Pr(t,ni);const e=Pr(t.firestore,Co),n=I0(e),r=new j0(e);return SI(t._query),w9(n,t._query).then(i=>new bI(e,r,t,i))}function xI(t,e,n,...r){t=Pr(t,Pn);const i=Pr(t.firestore,Co),o=N0(i);let s;return s=typeof(e=kr(e))=="string"||e instanceof Hh?k9(o,"updateDoc",t._key,e,n,r):P9(o,"updateDoc",t._key,e),B0(i,[s.toMutation(t._key,fr.exists(!0))])}function AI(t){return B0(Pr(t.firestore,Co),[new h0(t._key,fr.none())])}function U0(t,e){const n=Pr(t.firestore,Co),r=A0(t),i=$9(t.converter,e);return B0(n,[C9(N0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function Kh(t,...e){var n,r,i;t=kr(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||oE(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(oE(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof Pn)u=Pr(t.firestore,Co),c=d0(t._key.path),l={next:f=>{e[s]&&e[s](j9(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Pr(t,ni);u=Pr(f.firestore,Co),c=f._query;const d=new j0(u);l={next:h=>{e[s]&&e[s](new bI(u,d,f,h))},error:e[s+1],complete:e[s+2]},SI(t._query)}return function(d,h,m,y){const S=new fI(y),g=new iI(h,S,m);return d.asyncQueue.enqueueAndForget(async()=>nI(await Kg(d),g)),()=>{S.La(),d.asyncQueue.enqueueAndForget(async()=>rI(await Kg(d),g))}}(I0(u),c,a,l)}function B0(t,e){return function(r,i){const o=new qr;return r.asyncQueue.enqueueAndForget(async()=>s9(await _9(r),i,o)),o.promise}(I0(t),e)}function j9(t,e,n){const r=n.docs.get(e._key),i=new j0(t);return new RI(t,i,e._key,r,new Qa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){fa=i})(RF),Jf(new Kl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Co(new z3(r.getProvider("auth-internal")),new G3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),bs(R1,"4.4.1",e),bs(R1,"4.4.1","esm2017")})();var U9="firebase",B9="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(U9,B9,"app");var em={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const z9={apiKey:em.REACT_APP_Firebase_apiKey,authDomain:"overdog-577c3.firebaseapp.com",projectId:"overdog-577c3",storageBucket:"overdog-577c3.appspot.com",messagingSenderId:em.REACT_APP_Firebase_messagingSenderId,appId:em.REACT_APP_Firebase_appId},H9=ix(z9),vr=b9(H9),W9=async t=>{const e=gr(vr,"likes"),n=ri(e,jn("postId","==",t));return new Promise((r,i)=>{Kh(n,o=>{const s=o.docs.map(a=>({...a.data()}));s==null&&r(0),localStorage.setItem("like",JSON.stringify(s)),r(s)},o=>{i(o)})})},q9=async t=>{const e=gr(vr,"likes"),n=ri(e,jn("postId","==",t.postId),jn("userId","==",t.userId));return new Promise((r,i)=>{Kh(n,o=>{const s=o.docs.map(a=>({...a.data()}));s==null&&r(0),localStorage.setItem("userLike",JSON.stringify(s)),r(s)},o=>{i(o)})})},G9=async t=>{try{const e=gr(vr,"likes"),n=ri(e,jn("postId","==",t.postId),jn("userId","==",t.userId));(await Uu(n)).forEach(i=>{const o=i.ref;AI(o).then(()=>{}).catch(s=>{console.error("Error : ",s)})})}catch(e){console.log(e)}},K9=async t=>{try{const e=gr(vr,"likes");await U0(e,{userId:t.userId,postId:t.postId}).then(()=>{})}catch(e){console.log(e)}},Q9=mr({key:"likebyUserIdState",default:async t=>await q9(t)}),Y9=mr({key:"deleteLikeState",default:async t=>await G9(t)}),X9=mr({key:"setLikeState",default:async t=>await K9(t)}),J9=mr({key:"likebyPostIdState",default:async t=>await W9(t),effects:[({setSelf:t,onSet:e})=>{const n="like",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]});let Z9={data:""},e6=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Z9,t6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,n6=/\/\*[^]*?\*\/|  +/g,lE=/\n+/g,fi=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?fi(s,o):o+"{"+fi(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=fi(s,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=fi.p?fi.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Or={},II=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+II(t[n]);return e}return t},r6=(t,e,n,r,i)=>{let o=II(t),s=Or[o]||(Or[o]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(o));if(!Or[s]){let l=o!==t?t:(u=>{let c,f,d=[{}];for(;c=t6.exec(u.replace(n6,""));)c[4]?d.shift():c[3]?(f=c[3].replace(lE," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][c[1]]=c[2].replace(lE," ").trim();return d[0]})(t);Or[s]=fi(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Or.g?Or.g:null;return n&&(Or.g=Or[s]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Or[s],e,r,a),s},i6=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":fi(a,""):a===!1?"":a}return r+i+(s??"")},"");function Qh(t){let e=this||{},n=t.call?t(e.p):t;return r6(n.unshift?n.raw?i6(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,e6(e.target),e.g,e.o,e.k)}let CI,Yg,Xg;Qh.bind({g:1});let Zr=Qh.bind({k:1});function o6(t,e,n,r){fi.p=e,CI=t,Yg=n,Xg=r}function Gi(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:Yg&&Yg()},a),n.o=/ *go\d+/.test(l),a.className=Qh.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let u=t;return t[0]&&(u=a.as||t,delete a.as),Xg&&u[0]&&Xg(a),CI(u,a)}return e?e(i):i}}var s6=t=>typeof t=="function",hd=(t,e)=>s6(t)?t(e):t,a6=(()=>{let t=0;return()=>(++t).toString()})(),PI=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),l6=20,uf=new Map,u6=1e3,uE=t=>{if(uf.has(t))return;let e=setTimeout(()=>{uf.delete(t),Fo({type:4,toastId:t})},u6);uf.set(t,e)},c6=t=>{let e=uf.get(t);e&&clearTimeout(e)},Jg=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,l6)};case 1:return e.toast.id&&c6(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?Jg(t,{type:1,toast:n}):Jg(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?uE(r):t.toasts.forEach(o=>{uE(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},cf=[],ff={toasts:[],pausedAt:void 0},Fo=t=>{ff=Jg(ff,t),cf.forEach(e=>{e(ff)})},f6={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},d6=(t={})=>{let[e,n]=x.useState(ff);x.useEffect(()=>(cf.push(n),()=>{let i=cf.indexOf(n);i>-1&&cf.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,s;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||f6[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},h6=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||a6()}),Bu=t=>(e,n)=>{let r=h6(e,t,n);return Fo({type:2,toast:r}),r.id},On=(t,e)=>Bu("blank")(t,e);On.error=Bu("error");On.success=Bu("success");On.loading=Bu("loading");On.custom=Bu("custom");On.dismiss=t=>{Fo({type:3,toastId:t})};On.remove=t=>Fo({type:4,toastId:t});On.promise=(t,e,n)=>{let r=On.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(On.success(hd(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{On.error(hd(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var p6=(t,e)=>{Fo({type:1,toast:{id:t,height:e}})},m6=()=>{Fo({type:5,time:Date.now()})},g6=t=>{let{toasts:e,pausedAt:n}=d6(t);x.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&On.dismiss(a.id);return}return setTimeout(()=>On.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=x.useCallback(()=>{n&&Fo({type:6,time:Date.now()})},[n]),i=x.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=s||{},c=e.filter(h=>(h.position||u)===(o.position||u)&&h.height),f=c.findIndex(h=>h.id===o.id),d=c.filter((h,m)=>m<f&&h.visible).length;return c.filter(h=>h.visible).slice(...a?[d+1]:[0,d]).reduce((h,m)=>h+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:p6,startPause:m6,endPause:r,calculateOffset:i}}},v6=Zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,y6=Zr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_6=Zr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,w6=Gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${v6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${y6} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_6} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,E6=Zr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,S6=Gi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${E6} 1s linear infinite;
`,T6=Zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,R6=Zr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,b6=Gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${T6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${R6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,x6=Gi("div")`
  position: absolute;
`,A6=Gi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,I6=Zr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,C6=Gi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${I6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,P6=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?x.createElement(C6,null,e):e:n==="blank"?null:x.createElement(A6,null,x.createElement(S6,{...r}),n!=="loading"&&x.createElement(x6,null,n==="error"?x.createElement(w6,{...r}):x.createElement(b6,{...r})))},k6=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,N6=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,D6="0%{opacity:0;} 100%{opacity:1;}",V6="0%{opacity:1;} 100%{opacity:0;}",L6=Gi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,O6=Gi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,M6=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=PI()?[D6,V6]:[k6(n),N6(n)];return{animation:e?`${Zr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Zr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$6=x.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?M6(t.position||e||"top-center",t.visible):{opacity:0},o=x.createElement(P6,{toast:t}),s=x.createElement(O6,{...t.ariaProps},hd(t.message,t));return x.createElement(L6,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):x.createElement(x.Fragment,null,o,s))});o6(x.createElement);var F6=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=x.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return x.createElement("div",{ref:o,className:e,style:n},i)},j6=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:PI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},U6=Qh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ac=16,kI=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=g6(n);return x.createElement("div",{style:{position:"fixed",zIndex:9999,top:Ac,left:Ac,right:Ac,bottom:Ac,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,f=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),d=j6(c,f);return x.createElement(F6,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?U6:"",style:d},u.type==="custom"?hd(u.message,u):i?i(u):x.createElement($6,{toast:u,position:c}))}))},Zg=On;const B6=t=>{const e=gr(vr,"follows"),n=ri(e,jn("followerId","==",t.followerId),jn("followingId","==",t.followingId));return new Promise((r,i)=>{Kh(n,o=>{const s=o.docs.map(a=>({...a.data()}));localStorage.setItem("following",JSON.stringify(s)),r(s)},o=>{i(o)})})},z6=async t=>{try{const e=gr(vr,"follows"),n=ri(e,jn("followerId","==",t.followerId),jn("followingId","==",t.followingId));(await Uu(n)).forEach(i=>{const o=i.ref;AI(o).then(()=>{}).catch(s=>{console.error("Error : ",s)})})}catch(e){console.log(e)}},H6=async t=>{try{const e=gr(vr,"follows"),n=ri(e,jn("followerId","==",t.followerId));if((await Uu(n)).docs.find(o=>o.data().followingId===t.followingId))console.log("  followerId  followingId   ");else{const s=(await U0(e,{followerId:t.followerId,followingId:t.followingId})).id;await xI(A0(e,s),{followId:s})}}catch(e){console.error(e)}},W6=mr({key:"setFollowState",default:async t=>await H6(t)}),q6=mr({key:"deleteFollowState",default:async t=>await z6(t)}),G6=mr({key:"followState",default:async t=>await B6(t),effects:[({setSelf:t,onSet:e})=>{const n="following",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]});var z0={};Object.defineProperty(z0,"__esModule",{value:!0});var H0=z0.recoilPersist=void 0;const K6=(t={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:n=localStorage,converter:r=JSON}=t,i=({onSet:u,node:c,trigger:f,setSelf:d})=>{if(f==="get"){const h=s();typeof h.then=="function"&&h.then(m=>{m.hasOwnProperty(c.key)&&d(m[c.key])}),h.hasOwnProperty(c.key)&&d(h[c.key])}u(async(h,m,y)=>{const S=s();typeof S.then=="function"?S.then(g=>o(h,g,c.key,y)):o(h,S,c.key,y)})},o=(u,c,f,d)=>{d?delete c[f]:c[f]=u,l(c)},s=()=>{const u=n.getItem(e);return u==null?{}:typeof u=="string"?a(u):typeof u.then=="function"?u.then(a):{}},a=u=>{if(u===void 0)return{};try{return r.parse(u)}catch(c){return console.error(c),{}}},l=u=>{try{typeof n.mergeItem=="function"?n.mergeItem(e,r.stringify(u)):n.setItem(e,r.stringify(u))}catch(c){console.error(c)}};return{persistAtom:i}};H0=z0.recoilPersist=K6;const{persistAtom:Q6}=H0(),NI=Gb({key:"userIdState",default:"test",effects_UNSTABLE:[Q6]});var Y6=X6()?x.useLayoutEffect:x.useEffect;function X6(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function J6(){var t=x.useState(Object.create(null)),e=t[1];return x.useCallback(function(){e(Object.create(null))},[])}var Z6=function(e){var n=e.children,r=e.type,i=r===void 0?"reach-portal":r,o=x.useRef(null),s=x.useRef(null),a=J6();return Y6(function(){if(o.current){var l=o.current.ownerDocument;return s.current=l==null?void 0:l.createElement(i),l.body.appendChild(s.current),a(),function(){s.current&&s.current.ownerDocument&&s.current.ownerDocument.body.removeChild(s.current)}}},[i,a]),s.current?dy.createPortal(n,s.current):x.createElement("span",{ref:o})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ie=function(){return ie=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ie.apply(this,arguments)};function W0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fe(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function at(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Je;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(Je||(Je={}));var Js;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(Js||(Js={}));var ev=Je.Start,q0=Je.Stop,zu=Je.Raise,Yh=Je.Send,DI=Je.Cancel,eB=Je.NullEvent,G0=Je.Assign;Je.After;Je.DoneState;var VI=Je.Log,tB=Je.Init,tv=Je.Invoke;Je.ErrorExecution;var cE=Je.ErrorPlatform,nB=Je.ErrorCustom,LI=Je.Update,rB=Je.Choose,iB=Je.Pure,OI=".",fE={},nv="xstate.guard",oB="",Ic;function K0(t,e,n){n===void 0&&(n=OI);var r=yl(t,n),i=yl(e,n);return Ke(i)?Ke(r)?i===r:!1:Ke(r)?r in i:Object.keys(r).every(function(o){return o in i?K0(r[o],i[o]):!1})}function MI(t){try{return Ke(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function rv(t,e){try{return ma(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function sB(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function yl(t,e){if(sB(t))return t.value;if(ma(t))return pd(t);if(typeof t!="string")return t;var n=rv(t,e);return pd(n)}function pd(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function Ya(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];n[o]=e(t[o],o,t,i)}return n}function dE(t,e,n){var r,i,o={};try{for(var s=Fe(Object.keys(t)),a=s.next();!a.done;a=s.next()){var l=a.value,u=t[l];n(u)&&(o[l]=e(u,l,t))}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}var aB=function(t){return function(e){var n,r,i=e;try{for(var o=Fe(t),s=o.next();!s.done;s=o.next()){var a=s.value;i=i[a]}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function lB(t,e){return function(n){var r,i,o=n;try{for(var s=Fe(t),a=s.next();!a.done;a=s.next()){var l=a.value;o=o[e][l]}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}}function df(t){if(!t)return[[]];if(Ke(t))return[[t]];var e=yt(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:df(t[n]).map(function(i){return[n].concat(i)})}));return e}function yt(t){var e;return(e=[]).concat.apply(e,at([],He(t),!1))}function $I(t){return ma(t)?t:[t]}function rr(t){return t===void 0?[]:$I(t)}function md(t,e,n){var r,i;if(qe(t))return t(e,n.data);var o={};try{for(var s=Fe(Object.keys(t)),a=s.next();!a.done;a=s.next()){var l=a.value,u=t[l];qe(u)?o[l]=u(e,n.data):o[l]=u}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function uB(t){return/^(done|error)\./.test(t)}function hE(t){return!!(t instanceof Promise||t!==null&&(qe(t)||typeof t=="object")&&qe(t.then))}function cB(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function fB(t,e){var n,r,i=He([[],[]],2),o=i[0],s=i[1];try{for(var a=Fe(t),l=a.next();!l.done;l=a.next()){var u=l.value;e(u)?o.push(u):s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[o,s]}function FI(t,e){return Ya(t.states,function(n,r){if(n){var i=(Ke(e)?void 0:e[r])||(n?n.current:void 0);if(i)return{current:i,states:FI(n,i)}}})}function dB(t,e){return{current:e,states:FI(t,e)}}function pE(t,e,n,r){var i=t&&n.reduce(function(o,s){var a,l,u=s.assignment,c={state:r,action:s,_event:e},f={};if(qe(u))f=u(o,e.data,c);else try{for(var d=Fe(Object.keys(u)),h=d.next();!h.done;h=d.next()){var m=h.value,y=u[m];f[m]=qe(y)?y(o,e.data,c):y}}catch(S){a={error:S}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}return Object.assign({},o,f)},t);return i}var hB=function(){};function ma(t){return Array.isArray(t)}function qe(t){return typeof t=="function"}function Ke(t){return typeof t=="string"}function jI(t,e){if(t)return Ke(t)?{type:nv,name:t,predicate:e?e[t]:void 0}:qe(t)?{type:nv,name:t.name,predicate:t}:t}function pB(t){try{return"subscribe"in t&&qe(t.subscribe)}catch{return!1}}var di=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Ic={},Ic[di]=function(){return this},Ic[Symbol.observable]=function(){return this};function Zs(t){return!!t&&"__xstatenode"in t}function mB(t){return!!t&&typeof t.send=="function"}function Xh(t,e){return Ke(t)||typeof t=="number"?ie({type:t},e):t}function Gt(t,e){if(!Ke(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=Xh(t);return ie({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function qo(t,e){var n=$I(e).map(function(r){return typeof r>"u"||typeof r=="string"||Zs(r)?{target:r,event:t}:ie(ie({},r),{event:t})});return n}function gB(t){if(!(t===void 0||t===oB))return rr(t)}function UI(t,e,n,r,i){var o=t.options.guards,s={state:i,cond:e,_event:r};if(e.type===nv)return((o==null?void 0:o[e.name])||e.predicate)(n,r.data,s);var a=o==null?void 0:o[e.type];if(!a)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return a(n,r.data,s)}function BI(t){return typeof t=="string"?{type:t}:t}function hf(t,e,n){var r=function(){},i=typeof t=="object",o=i?t:null;return{next:((i?t.next:t)||r).bind(o),error:((i?t.error:e)||r).bind(o),complete:((i?t.complete:n)||r).bind(o)}}function Cc(t,e){return"".concat(t,":invocation[").concat(e,"]")}function iv(t){return(t.type===zu||t.type===Yh&&t.to===Js.Internal)&&typeof t.delay!="number"}var Cs=Gt({type:tB});function ov(t,e){return e&&e[t]||void 0}function fu(t,e){var n;if(Ke(t)||typeof t=="number"){var r=ov(t,e);qe(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(qe(t))n={type:t.name||t.toString(),exec:t};else{var r=ov(t.type,e);if(qe(r))n=ie(ie({},t),{exec:r});else if(r){var i=r.type||t.type;n=ie(ie(ie({},r),t),{type:i})}else n=t}return n}var hi=function(t,e){if(!t)return[];var n=ma(t)?t:[t];return n.map(function(r){return fu(r,e)})};function Q0(t){var e=fu(t);return ie(ie({id:Ke(t)?t:e.id},e),{type:e.type})}function vB(t,e){return{type:zu,event:typeof t=="function"?t:Xh(t),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function yB(t,e,n,r){var i={_event:n},o=Gt(qe(t.event)?t.event(e,n.data,i):t.event),s;if(Ke(t.delay)){var a=r&&r[t.delay];s=qe(a)?a(e,n.data,i):a}else s=qe(t.delay)?t.delay(e,n.data,i):t.delay;return ie(ie({},t),{type:zu,_event:o,delay:s})}function _B(t,e){return{to:e?e.to:void 0,type:Yh,event:qe(t)?t:Xh(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:qe(t)?t.name:MI(t)}}function wB(t,e,n,r){var i={_event:n},o=Gt(qe(t.event)?t.event(e,n.data,i):t.event),s;if(Ke(t.delay)){var a=r&&r[t.delay];s=qe(a)?a(e,n.data,i):a}else s=qe(t.delay)?t.delay(e,n.data,i):t.delay;var l=qe(t.to)?t.to(e,n.data,i):t.to;return ie(ie({},t),{to:l,_event:o,event:o.data,delay:s})}var EB=function(t,e,n){return ie(ie({},t),{value:Ke(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},SB=function(t){return{type:DI,sendId:t}};function TB(t){var e=Q0(t);return{type:Je.Start,activity:e,exec:void 0}}function RB(t){var e=qe(t)?t:Q0(t);return{type:Je.Stop,activity:e,exec:void 0}}function bB(t,e,n){var r=qe(t.activity)?t.activity(e,n.data):t.activity,i=typeof r=="string"?{id:r}:r,o={type:Je.Stop,activity:i};return o}var xB=function(t){return{type:G0,assignment:t}};function AB(t,e){var n=e?"#".concat(e):"";return"".concat(Je.After,"(").concat(t,")").concat(n)}function Pc(t,e){var n="".concat(Je.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function pf(t,e){var n="".concat(Je.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function Xa(t,e){var n="".concat(Je.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var IB=function(t){var e,n,r=[];try{for(var i=Fe(t),o=i.next();!o.done;o=i.next())for(var s=o.value,a=0;a<s.actions.length;){if(s.actions[a].type===G0){r.push(s.actions[a]),s.actions.splice(a,1);continue}a++}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r};function gd(t,e,n,r,i,o,s){s===void 0&&(s=!1);var a=s?[]:IB(i),l=a.length?pE(n,r,a,e):n,u=s?[n]:void 0,c=[];function f(m,y){var S;switch(y.type){case zu:{var g=yB(y,l,r,t.options.delays);return o&&typeof g.delay=="number"&&o(g,l,r),g}case Yh:var p=wB(y,l,r,t.options.delays);return o&&p.to!==Js.Internal&&(m==="entry"?c.push(p):o(p,l,r)),p;case VI:{var v=EB(y,l,r);return o==null||o(v,l,r),v}case rB:{var b=y,C=(S=b.conds.find(function(Ee){var we=jI(Ee.cond,t.options.guards);return!we||UI(t,we,l,r,o?void 0:e)}))===null||S===void 0?void 0:S.actions;if(!C)return[];var R=He(gd(t,e,l,r,[{type:m,actions:hi(rr(C),t.options.actions)}],o,s),2),w=R[0],P=R[1];return l=P,u==null||u.push(l),w}case iB:{var C=y.get(l,r.data);if(!C)return[];var O=He(gd(t,e,l,r,[{type:m,actions:hi(rr(C),t.options.actions)}],o,s),2),$=O[0],z=O[1];return l=z,u==null||u.push(l),$}case q0:{var v=bB(y,l,r);return o==null||o(v,n,r),v}case G0:{l=pE(l,r,[y],o?void 0:e),u==null||u.push(l);break}default:var N=fu(y,t.options.actions),M=N.exec;if(o)o(N,l,r);else if(M&&u){var Q=u.length-1,te=ie(ie({},N),{exec:function(Ee){for(var we=[],B=1;B<arguments.length;B++)we[B-1]=arguments[B];M.apply(void 0,at([u[Q]],He(we),!1))}});N=te}return N}}function d(m){var y,S,g=[];try{for(var p=Fe(m.actions),v=p.next();!v.done;v=p.next()){var b=v.value,C=f(m.type,b);C&&(g=g.concat(C))}}catch(R){y={error:R}}finally{try{v&&!v.done&&(S=p.return)&&S.call(p)}finally{if(y)throw y.error}}return c.forEach(function(R){o(R,l,r)}),c.length=0,g}var h=yt(i.map(d));return[h,l]}var ns=function(t,e){var n=e(t);return n};function zI(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[di]=function(){return this},e}function CB(t,e,n,r){var i,o=BI(t.src),s=(i=e==null?void 0:e.options.services)===null||i===void 0?void 0:i[o.type],a=t.data?md(t.data,n,r):void 0,l=s?HI(s,t.id,a):zI(t.id);return l.meta=t,l}function HI(t,e,n){var r=zI(e);if(r.deferred=!0,Zs(t)){var i=r.state=ns(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return i}}return r}function PB(t){try{return typeof t.send=="function"}catch{return!1}}function kB(t){return PB(t)&&"id"in t}function NB(t){var e;return ie((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[di]=function(){return this},e),t)}var vd=function(t){return t.type==="atomic"||t.type==="final"};function WI(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function du(t){return WI(t).filter(function(e){return e.type!=="history"})}function qI(t){var e=[t];return vd(t)?e:e.concat(yt(du(t).map(qI)))}function Ja(t,e){var n,r,i,o,s,a,l,u,c=new Set(t),f=sv(c),d=new Set(e);try{for(var h=Fe(d),m=h.next();!m.done;m=h.next())for(var y=m.value,S=y.parent;S&&!d.has(S);)d.add(S),S=S.parent}catch(O){n={error:O}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var g=sv(d);try{for(var p=Fe(d),v=p.next();!v.done;v=p.next()){var y=v.value;if(y.type==="compound"&&(!g.get(y)||!g.get(y).length))f.get(y)?f.get(y).forEach(function($){return d.add($)}):y.initialStateNodes.forEach(function($){return d.add($)});else if(y.type==="parallel")try{for(var b=(s=void 0,Fe(du(y))),C=b.next();!C.done;C=b.next()){var R=C.value;d.has(R)||(d.add(R),f.get(R)?f.get(R).forEach(function($){return d.add($)}):R.initialStateNodes.forEach(function($){return d.add($)}))}}catch($){s={error:$}}finally{try{C&&!C.done&&(a=b.return)&&a.call(b)}finally{if(s)throw s.error}}}}catch(O){i={error:O}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}try{for(var w=Fe(d),P=w.next();!P.done;P=w.next())for(var y=P.value,S=y.parent;S&&!d.has(S);)d.add(S),S=S.parent}catch(O){l={error:O}}finally{try{P&&!P.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}return d}function GI(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(vd(r))return r.key}else return{}}var i={};return n.forEach(function(o){i[o.key]=GI(o,e)}),i}function sv(t){var e,n,r=new Map;try{for(var i=Fe(t),o=i.next();!o.done;o=i.next()){var s=o.value;r.has(s)||r.set(s,[]),s.parent&&(r.has(s.parent)||r.set(s.parent,[]),r.get(s.parent).push(s))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function DB(t,e){var n=Ja([t],e);return GI(t,sv(n))}function Za(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function VB(t){return at([],He(new Set(yt(at([],He(t.map(function(e){return e.ownEvents})),!1)))),!1)}function mf(t,e){return e.type==="compound"?du(e).some(function(n){return n.type==="final"&&Za(t,n)}):e.type==="parallel"?du(e).every(function(n){return mf(t,n)}):!1}function LB(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function mE(t){return new Set(yt(t.map(function(e){return e.tags})))}function KI(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(Ke(t)||Ke(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(i){return KI(t[i],e[i])})}function OB(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function MB(t,e){var n=t.exec,r=ie(ie({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var Hn=function(){function t(e){var n=this,r;this.actions=[],this.activities=fE,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||fE,this.meta=LB(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return VB(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var r=Cs;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=Cs;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),Ke(e))return[e];var i=Object.keys(e);return i.concat.apply(i,at([],He(i.map(function(o){return r.toStrings(e[o],n).map(function(s){return o+n+s})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=W0(e,["configuration","transitions","tags","machine"]);return ie(ie({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return K0(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n;hB(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},t}(),$B={deferEvents:!1},gE=function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=ie(ie({},$B),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t}(),tm=new Map,FB=0,Va={bookId:function(){return"x:".concat(FB++)},register:function(t,e){return tm.set(t,e),t},get:function(t){return tm.get(t)},free:function(t){tm.delete(t)}};function Y0(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function jB(){var t=Y0();if(t&&"__xstate__"in t)return t.__xstate__}function UB(t){if(Y0()){var e=jB();e&&e.register(t)}}function BB(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,i=[],o=!1,s=function(){if(!o){for(o=!0;i.length>0;){var u=i.shift();n=t.transition(n,u,l),r.forEach(function(c){return c.next(n)})}o=!1}},a=NB({id:e.id,send:function(u){i.push(u),s()},getSnapshot:function(){return n},subscribe:function(u,c,f){var d=hf(u,c,f);return r.add(d),d.next(n),{unsubscribe:function(){r.delete(d)}}}}),l={parent:e.parent,self:a,id:e.id||"anonymous",observers:r};return n=t.start?t.start(l):n,a}var zB={sync:!1,autoForward:!1},Ft;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(Ft||(Ft={}));var HB=function(){function t(e,n){n===void 0&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Ft.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(c,f){if(ma(c))return r.batch(c),r.state;var d=Gt(Xh(c,f));if(r.status===Ft.Stopped)return r.state;if(r.status!==Ft.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(d.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(d.data)));return r.scheduler.schedule(function(){r.forward(d);var h=r._nextState(d);r.update(h,d)}),r._state},this.sendTo=function(c,f,d){var h=r.parent&&(f===Js.Parent||r.parent.id===f),m=h?r.parent:Ke(f)?f===Js.Internal?r:r.children.get(f)||Va.get(f):mB(f)?f:void 0;if(!m){if(!h)throw new Error("Unable to send event to child '".concat(f,"' from service '").concat(r.id,"'."));return}if("machine"in m){if(r.status!==Ft.Stopped||r.parent!==m||r.state.done){var y=ie(ie({},c),{name:c.name===nB?"".concat(Xa(r.id)):c.name,origin:r.sessionId});!d&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([m,y]):m.send(y)}}else!d&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([m,c.data]):m.send(c.data)},this._exec=function(c,f,d,h){h===void 0&&(h=r.machine.options.actions);var m=c.exec||ov(c.type,h),y=qe(m)?m:m?m.exec:c.exec;if(y)try{return y(f,d.data,r.machine.config.predictableActionArguments?{action:c,_event:d}:{action:c,state:r.state,_event:d})}catch(Q){throw r.parent&&r.parent.send({type:"xstate.error",data:Q}),Q}switch(c.type){case zu:{var S=c;r.defer(S);break}case Yh:var g=c;if(typeof g.delay=="number"){r.defer(g);return}else g.to?r.sendTo(g._event,g.to,d===Cs):r.send(g._event);break;case DI:r.cancel(c.sendId);break;case ev:{if(r.status!==Ft.Running)return;var p=c.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[p.id||p.type])break;if(p.type===Je.Invoke){var v=BI(p.src),b=r.machine.options.services?r.machine.options.services[v.type]:void 0,C=p.id,R=p.data,w="autoForward"in p?p.autoForward:!!p.forward;if(!b)return;var P=R?md(R,f,d):void 0;if(typeof b=="string")return;var O=qe(b)?b(f,d.data,{data:P,src:v,meta:p.meta}):b;if(!O)return;var $=void 0;Zs(O)&&(O=P?O.withContext(P):O,$={autoForward:w}),r.spawn(O,C,$)}else r.spawnActivity(p);break}case q0:{r.stopChild(c.activity.id);break}case VI:var z=c,N=z.label,M=z.value;N?r.logger(N,M):r.logger(M);break}};var i=ie(ie({},t.defaultOptions),n),o=i.clock,s=i.logger,a=i.parent,l=i.id,u=l!==void 0?l:e.id;this.id=u,this.logger=s,this.clock=o,this.parent=a,this.options=i,this.scheduler=new gE({deferEvents:this.options.deferEvents}),this.sessionId=Va.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:ns(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,i;try{for(var o=Fe(e.actions),s=o.next();!s.done;s=o.next()){var a=s.value;this.exec(a,e,n)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,i,o,s,a,l,u,c,f=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||n===Cs)&&this.options.execute)this.execute(this.state);else for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);if(this.children.forEach(function(O){f.state.children[O.id]=O}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var h=Fe(this.eventListeners),m=h.next();!m.done;m=h.next()){var y=m.value;y(e.event)}}catch(O){r={error:O}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}try{for(var S=Fe(this.listeners),g=S.next();!g.done;g=S.next()){var y=g.value;y(e,e.event)}}catch(O){o={error:O}}finally{try{g&&!g.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}try{for(var p=Fe(this.contextListeners),v=p.next();!v.done;v=p.next()){var b=v.value;b(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(O){a={error:O}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}if(this.state.done){var C=e.configuration.find(function(O){return O.type==="final"&&O.parent===f.machine}),R=C&&C.doneData?md(C.doneData,e.context,n):void 0;this._doneEvent=pf(this.id,R);try{for(var w=Fe(this.doneListeners),P=w.next();!P.done;P=w.next()){var y=P.value;y(this._doneEvent)}}catch(O){u={error:O}}finally{try{P&&!P.done&&(c=w.return)&&c.call(w)}finally{if(u)throw u.error}}this._stop(),this._stopChildren(),Va.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Ft.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var i=this,o=hf(e,n,r);this.listeners.add(o.next),this.status!==Ft.NotStarted&&o.next(this.state);var s=function(){i.doneListeners.delete(s),i.stopListeners.delete(s),o.complete()};return this.status===Ft.Stopped?o.complete():(this.onDone(s),this.onStop(s)),{unsubscribe:function(){i.listeners.delete(o.next),i.doneListeners.delete(s),i.stopListeners.delete(s)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===Ft.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===Ft.Running)return this;this.machine._init(),Va.register(this.sessionId,this),this.initialized=!0,this.status=Ft.Running;var r=e===void 0?this.initialState:ns(this,function(){return OB(e)?n.machine.resolveState(e):n.machine.resolveState(Hn.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Cs)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){qe(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,n,r,i,o,s,a,l,u,c;try{for(var f=Fe(this.listeners),d=f.next();!d.done;d=f.next()){var h=d.value;this.listeners.delete(h)}}catch(w){e={error:w}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}try{for(var m=Fe(this.stopListeners),y=m.next();!y.done;y=m.next()){var h=y.value;h(),this.stopListeners.delete(h)}}catch(w){r={error:w}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}try{for(var S=Fe(this.contextListeners),g=S.next();!g.done;g=S.next()){var h=g.value;this.contextListeners.delete(h)}}catch(w){o={error:w}}finally{try{g&&!g.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}try{for(var p=Fe(this.doneListeners),v=p.next();!v.done;v=p.next()){var h=v.value;this.doneListeners.delete(h)}}catch(w){a={error:w}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Ft.Stopped,this._initialState=void 0;try{for(var b=Fe(Object.keys(this.delayedEventsMap)),C=b.next();!C.done;C=b.next()){var R=C.value;this.clock.clearTimeout(this.delayedEventsMap[R])}}catch(w){u={error:w}}finally{try{C&&!C.done&&(c=b.return)&&c.call(b)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new gE({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r;if(!(!((r=e._state)===null||r===void 0)&&r.done)){var i=Gt({type:"xstate.stop"}),o=ns(e,function(){var s=yt(at([],He(e.state.configuration),!1).sort(function(f,d){return d.order-f.order}).map(function(f){return hi(f.onExit,e.machine.options.actions)})),a=He(gd(e.machine,e.state,e.state.context,i,[{type:"exit",actions:s}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),l=a[0],u=a[1],c=new Hn({value:e.state.value,context:u,_event:i,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:l.filter(function(f){return!iv(f)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return c.changed=!0,c});e.update(o,i),e._stopChildren(),Va.free(e.sessionId)}}),this},t.prototype.batch=function(e){var n=this;if(!(this.status===Ft.NotStarted&&this.options.deferEvents)){if(this.status!==Ft.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,o,s=n.state,a=!1,l=[],u=function(h){var m=Gt(h);n.forward(m),s=ns(n,function(){return n.machine.transition(s,m,void 0,r||void 0)}),l.push.apply(l,at([],He(n.machine.config.predictableActionArguments?s.actions:s.actions.map(function(y){return MB(y,s)})),!1)),a=a||!!s.changed};try{for(var c=Fe(e),f=c.next();!f.done;f=c.next()){var d=f.value;u(d)}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}s.changed=a,s.actions=l,n.update(s,Gt(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var i=Gt(e);if(i.name.indexOf(cE)===0&&!this.state.nextEvents.some(function(s){return s.indexOf(cE)===0}))throw i.data.data;var o=ns(this,function(){return r.machine.transition(r.state,i,void 0,n||void 0)});return o},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var n,r;try{for(var i=Fe(this.forwardTo),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.children.get(s);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(s,"'."));a.send(e)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this,r=this.clock.setTimeout(function(){"to"in e&&e.to?n.sendTo(e._event,e.to,!0):n.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(e,n.context,n._event,r)},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);n&&(this.removeChild(e),qe(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(this.status!==Ft.Running)return HI(e,n);if(hE(e))return this.spawnPromise(Promise.resolve(e),n);if(qe(e))return this.spawnCallback(e,n);if(kB(e))return this.spawnActor(e,n);if(pB(e))return this.spawnObservable(e,n);if(Zs(e))return this.spawnMachine(e,ie(ie({},r),{id:n}));if(cB(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var i=new t(e,ie(ie({},this.options),{parent:this,id:n.id||e.id})),o=ie(ie({},zB),n);o.sync&&i.onTransition(function(a){r.send(LI,{state:a,id:i.id})});var s=i;return this.children.set(i.id,s),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(a){r.removeChild(i.id),r.send(Gt(a,{origin:i.id}))}).start(),s},t.prototype.spawnBehavior=function(e,n){var r=BB(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,i=this,o=!1,s;e.then(function(l){o||(s=l,i.removeChild(n),i.send(Gt(pf(n,l),{origin:n})))},function(l){if(!o){i.removeChild(n);var u=Xa(n,l);try{i.send(Gt(u,{origin:n}))}catch{i.devTools&&i.devTools.send(u,i.state),i.machine.strict&&i.stop()}}});var a=(r={id:n,send:function(){},subscribe:function(l,u,c){var f=hf(l,u,c),d=!1;return e.then(function(h){d||(f.next(h),!d&&f.complete())},function(h){d||f.error(h)}),{unsubscribe:function(){return d=!0}}},stop:function(){o=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return s}},r[di]=function(){return this},r);return this.children.set(n,a),a},t.prototype.spawnCallback=function(e,n){var r,i=this,o=!1,s=new Set,a=new Set,l,u=function(d){l=d,a.forEach(function(h){return h(d)}),!o&&i.send(Gt(d,{origin:n}))},c;try{c=e(u,function(d){s.add(d)})}catch(d){this.send(Xa(n,d))}if(hE(c))return this.spawnPromise(c,n);var f=(r={id:n,send:function(d){return s.forEach(function(h){return h(d)})},subscribe:function(d){var h=hf(d);return a.add(h.next),{unsubscribe:function(){a.delete(h.next)}}},stop:function(){o=!0,qe(c)&&c()},toJSON:function(){return{id:n}},getSnapshot:function(){return l}},r[di]=function(){return this},r);return this.children.set(n,f),f},t.prototype.spawnObservable=function(e,n){var r,i=this,o,s=e.subscribe(function(l){o=l,i.send(Gt(l,{origin:n}))},function(l){i.removeChild(n),i.send(Gt(Xa(n,l),{origin:n}))},function(){i.removeChild(n),i.send(Gt(pf(n),{origin:n}))}),a=(r={id:n,send:function(){},subscribe:function(l,u,c){return e.subscribe(l,u,c)},stop:function(){return s.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:n}}},r[di]=function(){return this},r);return this.children.set(n,a),a},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(n){var r=n(this.state.context,e);this.spawnEffect(e.id,r)}},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[di]=function(){return this},r))},t.prototype.attachDev=function(){var e=Y0();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(ie(ie({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:ie({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}UB(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[di]=function(){return this},t.prototype.getSnapshot=function(){return this.status===Ft.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=QI,t}();function QI(t,e){var n=new HB(t,e);return n}function WB(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function kc(t){return ie(ie({type:tv},t),{toJSON:function(){t.onDone,t.onError;var e=W0(t,["onDone","onError"]);return ie(ie({},e),{type:tv,src:WB(t.src)})}})}var Nc="",av="#",nm="*",Go={},Ko=function(t){return t[0]===av},qB=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},GB=function(){function t(e,n,r,i){r===void 0&&(r="context"in e?e.context:void 0);var o=this,s;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(qB(),n),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:OI),this.id=this.config.id||at([this.machine.key],He(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(s=this.config.schema)!==null&&s!==void 0?s:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Ya(this.config.states,function(u,c){var f,d=new t(u,{},void 0,{parent:o,key:c});return Object.assign(o.idMap,ie((f={},f[d.id]=d,f),d.idMap)),d}):Go;var a=0;function l(u){var c,f;u.order=a++;try{for(var d=Fe(WI(u)),h=d.next();!h.done;h=d.next()){var m=h.value;l(m)}}catch(y){c={error:y}}finally{try{h&&!h.done&&(f=d.return)&&f.call(d)}finally{if(c)throw c.error}}}l(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(u){var c=u.event;return c===Nc}):Nc in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=rr(this.config.entry||this.config.onEntry).map(function(u){return fu(u)}),this.onExit=rr(this.config.exit||this.config.onExit).map(function(u){return fu(u)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=rr(this.config.invoke).map(function(u,c){var f,d;if(Zs(u)){var h=Cc(o.id,c);return o.machine.options.services=ie((f={},f[h]=u,f),o.machine.options.services),kc({src:h,id:h})}else if(Ke(u.src)){var h=u.id||Cc(o.id,c);return kc(ie(ie({},u),{id:h,src:u.src}))}else if(Zs(u.src)||qe(u.src)){var h=u.id||Cc(o.id,c);return o.machine.options.services=ie((d={},d[h]=u.src,d),o.machine.options.services),kc(ie(ie({id:h},u),{src:h}))}else{var m=u.src;return kc(ie(ie({id:Cc(o.id,c)},u),{src:m}))}}),this.activities=rr(this.config.activities).concat(this.invoke).map(function(u){return Q0(u)}),this.transition=this.transition.bind(this),this.tags=rr(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||qI(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,i=r.actions,o=r.activities,s=r.guards,a=r.services,l=r.delays;return new t(this.config,{actions:ie(ie({},i),e.actions),activities:ie(ie({},o),e.activities),guards:ie(ie({},s),e.guards),services:ie(ie({},a),e.services),delays:ie(ie({},l),e.delays)},n??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return qe(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Ya(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===Nc,r=this.transitions.filter(function(i){var o=i.eventType===e;return n?o:o||i.eventType===nm});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(o,s){var a=qe(o)?"".concat(e.id,":delay[").concat(s,"]"):o,l=AB(a,e.id);return e.onEntry.push(_B(l,{delay:o})),e.onExit.push(SB(l)),l},i=ma(n)?n.map(function(o,s){var a=r(o.delay,s);return ie(ie({},o),{event:a})}):yt(Object.keys(n).map(function(o,s){var a=n[o],l=Ke(a)?{target:a}:a,u=isNaN(+o)?o:+o,c=r(u,s);return rr(l).map(function(f){return ie(ie({},f),{event:c,delay:u})})}));return i.map(function(o){var s=o.delay;return ie(ie({},e.formatTransition(o)),{delay:s})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var i=e instanceof Hn?e.value:yl(e,this.delimiter);if(Ke(i)){var o=this.getStateNode(i).initial;return o!==void 0?this.getStateNodes((n={},n[i]=o,n)):[this,this.states[i]]}var s=Object.keys(i),a=[this];return a.push.apply(a,at([],He(yt(s.map(function(l){return r.getStateNode(l).getStateNodes(i[l])}))),!1)),a},t.prototype.handles=function(e){var n=MI(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof Hn?e:Hn.create(e),r=Array.from(Ja([],this.getStateNodes(n.value)));return new Hn(ie(ie({},n),{value:this.resolve(n.value),configuration:r,done:mf(r,this),tags:mE(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var i=this.getStateNode(e),o=i.next(n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionCompoundNode=function(e,n,r){var i=Object.keys(e),o=this.getStateNode(i[0]),s=o._transition(e[i[0]],n,r);return!s||!s.transitions.length?this.next(n,r):s},t.prototype.transitionParallelNode=function(e,n,r){var i,o,s={};try{for(var a=Fe(Object.keys(e)),l=a.next();!l.done;l=a.next()){var u=l.value,c=e[u];if(c){var f=this.getStateNode(u),d=f._transition(c,n,r);d&&(s[u]=d)}}}catch(g){i={error:g}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}var h=Object.keys(s).map(function(g){return s[g]}),m=yt(h.map(function(g){return g.transitions})),y=h.some(function(g){return g.transitions.length>0});if(!y)return this.next(n,r);var S=yt(Object.keys(s).map(function(g){return s[g].configuration}));return{transitions:m,exitSet:yt(h.map(function(g){return g.exitSet})),configuration:S,source:n,actions:yt(Object.keys(s).map(function(g){return s[g].actions}))}},t.prototype._transition=function(e,n,r){return Ke(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,Gt(n))},t.prototype.next=function(e,n){var r,i,o=this,s=n.name,a=[],l=[],u;try{for(var c=Fe(this.getCandidates(s)),f=c.next();!f.done;f=c.next()){var d=f.value,h=d.cond,m=d.in,y=e.context,S=m?Ke(m)&&Ko(m)?e.matches(yl(this.getStateNodeById(m).path,this.delimiter)):K0(yl(m,this.delimiter),aB(this.path.slice(0,-2))(e.value)):!0,g=!1;try{g=!h||UI(this.machine,h,y,n,e)}catch(b){throw new Error("Unable to evaluate guard '".concat(h.name||h.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,`':
`).concat(b.message))}if(g&&S){d.target!==void 0&&(l=d.target),a.push.apply(a,at([],He(d.actions),!1)),u=d;break}}}catch(b){r={error:b}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}if(u){if(!l.length)return{transitions:[u],exitSet:[],configuration:e.value?[this]:[],source:e,actions:a};var p=yt(l.map(function(b){return o.getRelativeStateNodes(b,e.historyValue)})),v=!!u.internal;return{transitions:[u],exitSet:v?[]:yt(l.map(function(b){return o.getPotentiallyReenteringNodes(b)})),configuration:p,source:e,actions:a}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var n=[],r=this,i=e;r&&r!==i;)n.push(r),r=r.parent;return r!==i?[]:(n.push(i),n)},t.prototype.getActions=function(e,n,r,i,o,s,a){var l,u,c,f,d=this,h=s?Ja([],this.getStateNodes(s.value)):[],m=new Set;try{for(var y=Fe(Array.from(e).sort(function(z,N){return z.order-N.order})),S=y.next();!S.done;S=y.next()){var g=S.value;(!Za(h,g)||Za(r.exitSet,g)||g.parent&&m.has(g.parent))&&m.add(g)}}catch(z){l={error:z}}finally{try{S&&!S.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}try{for(var p=Fe(h),v=p.next();!v.done;v=p.next()){var g=v.value;(!Za(e,g)||Za(r.exitSet,g.parent))&&r.exitSet.push(g)}}catch(z){c={error:z}}finally{try{v&&!v.done&&(f=p.return)&&f.call(p)}finally{if(c)throw c.error}}r.exitSet.sort(function(z,N){return N.order-z.order});var b=Array.from(m).sort(function(z,N){return z.order-N.order}),C=new Set(r.exitSet),R=yt(b.map(function(z){var N=[];if(z.type!=="final")return N;var M=z.parent;if(!M.parent)return N;N.push(Pc(z.id,z.doneData),Pc(M.id,z.doneData?md(z.doneData,i,o):void 0));var Q=M.parent;return Q.type==="parallel"&&du(Q).every(function(te){return mf(r.configuration,te)})&&N.push(Pc(Q.id)),N})),w=b.map(function(z){var N=z.onEntry,M=z.activities.map(function(Q){return TB(Q)});return{type:"entry",actions:hi(a?at(at([],He(N),!1),He(M),!1):at(at([],He(M),!1),He(N),!1),d.machine.options.actions)}}).concat({type:"state_done",actions:R.map(function(z){return vB(z)})}),P=Array.from(C).map(function(z){return{type:"exit",actions:hi(at(at([],He(z.onExit),!1),He(z.activities.map(function(N){return RB(N)})),!1),d.machine.options.actions)}}),O=P.concat({type:"transition",actions:hi(r.actions,this.machine.options.actions)}).concat(w);if(n){var $=hi(yt(at([],He(e),!1).sort(function(z,N){return N.order-z.order}).map(function(z){return z.onExit})),this.machine.options.actions).filter(function(z){return!iv(z)});return O.concat({type:"stop",actions:$})}return O},t.prototype.transition=function(e,n,r,i){e===void 0&&(e=this.initialState);var o=Gt(n),s;if(e instanceof Hn)s=r===void 0?e:this.resolveState(Hn.from(e,r));else{var a=Ke(e)?this.resolve(pd(this.getResolvedPath(e))):this.resolve(e),l=r??this.machine.context;s=this.resolveState(Hn.from(a,l))}if(this.strict&&!this.events.includes(o.name)&&!uB(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var u=this._transition(s.value,s,o)||{transitions:[],configuration:[],exitSet:[],source:s,actions:[]},c=Ja([],this.getStateNodes(s.value)),f=u.configuration.length?Ja(c,u.configuration):c;return u.configuration=at([],He(f),!1),this.resolveTransition(u,s,s.context,i,o)},t.prototype.resolveRaisedTransition=function(e,n,r,i){var o,s=e.actions;return e=this.transition(e,n,void 0,i),e._event=r,e.event=r.data,(o=e.actions).unshift.apply(o,at([],He(s),!1)),e},t.prototype.resolveTransition=function(e,n,r,i,o){var s,a,l,u,c=this;o===void 0&&(o=Cs);var f=e.configuration,d=!n||e.transitions.length>0,h=d?e.configuration:n?n.configuration:[],m=mf(h,this),y=d?DB(this.machine,f):void 0,S=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,g=this.getActions(new Set(h),m,e,r,o,n,i),p=n?ie({},n.activities):{};try{for(var v=Fe(g),b=v.next();!b.done;b=v.next()){var C=b.value;try{for(var R=(l=void 0,Fe(C.actions)),w=R.next();!w.done;w=R.next()){var P=w.value;P.type===ev?p[P.activity.id||P.activity.type]=P:P.type===q0&&(p[P.activity.id||P.activity.type]=!1)}}catch(U){l={error:U}}finally{try{w&&!w.done&&(u=R.return)&&u.call(R)}finally{if(l)throw l.error}}}}catch(U){s={error:U}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}var O=He(gd(this,n,r,o,g,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),$=O[0],z=O[1],N=He(fB($,iv),2),M=N[0],Q=N[1],te=$.filter(function(U){var ne;return U.type===ev&&((ne=U.activity)===null||ne===void 0?void 0:ne.type)===tv}),Ee=te.reduce(function(U,ne){return U[ne.activity.id]=CB(ne.activity,c.machine,z,o),U},n?ie({},n.children):{}),we=new Hn({value:y||n.value,context:z,_event:o,_sessionid:n?n._sessionid:null,historyValue:y?S?dB(S,y):void 0:n?n.historyValue:void 0,history:!y||e.source?n:void 0,actions:y?Q:[],activities:y?p:n?n.activities:{},events:[],configuration:h,transitions:e.transitions,children:Ee,done:m,tags:mE(h),machine:this}),B=r!==z;we.changed=o.name===LI||B;var V=we.history;V&&delete V.history;var I=!m&&(this._transient||f.some(function(U){return U._transient}));if(!d&&(!I||o.name===Nc))return we;var H=we;if(!m)for(I&&(H=this.resolveRaisedTransition(H,{type:eB},o,i));M.length;){var E=M.shift();H=this.resolveRaisedTransition(H,E._event,o,i)}var F=H.changed||(V?!!H.actions.length||B||typeof V.value!=typeof H.value||!KI(H.value,V.value):void 0);return H.changed=F,H.history=V,H},t.prototype.getStateNode=function(e){if(Ko(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=Ko(e)?e.slice(av.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&Ko(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=rv(e,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||Go;switch(this.type){case"parallel":return Ya(this.initialStateValue,function(o,s){return o?r.getStateNode(s).resolve(e[s]||o):Go});case"compound":if(Ke(e)){var i=this.getStateNode(e);return i.type==="parallel"||i.type==="compound"?(n={},n[e]=i.initialStateValue,n):e}return Object.keys(e).length?Ya(e,function(o,s){return o?r.getStateNode(s).resolve(o):Go}):this.initialStateValue||{};default:return e||Go}},t.prototype.getResolvedPath=function(e){if(Ko(e)){var n=this.machine.idMap[e.slice(av.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return rv(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=dE(this.states,function(r){return r.initialStateValue||Go},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=vd(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;Ke(n.target)?e=Ko(n.target)?pd(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(vd(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=df(this.initialStateValue);return yt(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=He(e),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var o=this.getStateNode(r);if(o.type==="history")return o.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:dE(this.states,function(n,r){if(!e)return n.historyValue();var i=Ke(e)?void 0:e[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var i=this.target;return i?yt(df(i).map(function(s){return r.getFromRelativePath(s)})):r.initialStateNodes}var o=lB(r.path,"states")(e).current;return Ke(o)?[r.getStateNode(o)]:yt(df(o).map(function(s){return n.history==="deep"?r.getFromRelativePath(s):[r.states[s[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=yt(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,i;if(this.__cache.events)return this.__cache.events;var o=this.states,s=new Set(this.ownEvents);if(o)try{for(var a=Fe(Object.keys(o)),l=a.next();!l.done;l=a.next()){var u=l.value,c=o[u];if(c.states)try{for(var f=(r=void 0,Fe(c.events)),d=f.next();!d.done;d=f.next()){var h=d.value;s.add("".concat(h))}}catch(m){r={error:m}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!Ke(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var o=i?n.key+r:r;if(n.parent)try{var s=n.parent.getStateNodeByPath(o);return s}catch(a){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(a.message))}else return n.getStateNodeByPath(o)})},t.prototype.formatTransition=function(e){var n=this,r=gB(e.target),i="internal"in e?e.internal:r?r.some(function(l){return Ke(l)&&l[0]===n.delimiter}):!0,o=this.machine.options.guards,s=this.resolveTarget(r),a=ie(ie({},e),{actions:hi(rr(e.actions)),cond:jI(e.cond,o),target:s,source:this,internal:i,eventType:e.event,toJSON:function(){return ie(ie({},a),{target:a.target?a.target.map(function(l){return"#".concat(l.id)}):void 0,source:"#".concat(n.id)})}});return a},t.prototype.formatTransitions=function(){var e,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var o=this.config.on,s=nm,a=o[s],l=a===void 0?[]:a,u=W0(o,[typeof s=="symbol"?s:s+""]);i=yt(Object.keys(u).map(function(p){var v=qo(p,u[p]);return v}).concat(qo(nm,l)))}var c=this.config.always?qo("",this.config.always):[],f=this.config.onDone?qo(String(Pc(this.id)),this.config.onDone):[],d=yt(this.invoke.map(function(p){var v=[];return p.onDone&&v.push.apply(v,at([],He(qo(String(pf(p.id)),p.onDone)),!1)),p.onError&&v.push.apply(v,at([],He(qo(String(Xa(p.id)),p.onError)),!1)),v})),h=this.after,m=yt(at(at(at(at([],He(f),!1),He(d),!1),He(i),!1),He(c),!1).map(function(p){return rr(p).map(function(v){return r.formatTransition(v)})}));try{for(var y=Fe(h),S=y.next();!S.done;S=y.next()){var g=S.value;m.push(g)}}catch(p){e={error:p}}finally{try{S&&!S.done&&(n=y.return)&&n.call(y)}finally{if(e)throw e.error}}return m},t}();function KB(t,e,n){return n===void 0&&(n=t.context),new GB(t,e,n)}var QB=xB,lv;(function(t){t[t.Effect=1]="Effect",t[t.LayoutEffect=2]="LayoutEffect"})(lv||(lv={}));var _l=x.useLayoutEffect;function vE(t){var e=x.useRef();return e.current||(e.current={v:t()}),e.current.v}var YB=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},XB=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function JB(t,e){var n,r,i=YB([[],[]],2),o=i[0],s=i[1];try{for(var a=XB(t),l=a.next();!l.done;l=a.next()){var u=l.value;e(u)?o.push(u):s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[o,s]}var La=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},yE=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function _E(t,e){var n=t.exec,r=n(e.context,e._event.data,{action:t,state:e,_event:e._event});r()}function ZB(t){var e=x.useRef([]),n=x.useRef([]);_l(function(){var r=t.subscribe(function(i){var o,s;if(i.actions.length){var a=i.actions.filter(function(f){return typeof f.exec=="function"&&"__effect"in f.exec}),l=La(JB(a,function(f){return f.exec.__effect===lv.Effect}),2),u=l[0],c=l[1];(o=e.current).push.apply(o,yE([],La(u.map(function(f){return[f,i]})),!1)),(s=n.current).push.apply(s,yE([],La(c.map(function(f){return[f,i]})),!1))}});return function(){r.unsubscribe()}},[]),_l(function(){for(;n.current.length;){var r=La(n.current.shift(),2),i=r[0],o=r[1];_E(i,o)}}),x.useEffect(function(){for(;e.current.length;){var r=La(e.current.shift(),2),i=r[0],o=r[1];_E(i,o)}})}var wl=function(){return wl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wl.apply(this,arguments)},e5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function t5(t,e,n){if(typeof t=="object")return t;var r=function(){};return{next:t,error:e||r,complete:n||r}}function n5(t,e,n){e===void 0&&(e={});var r=vE(function(){return typeof t=="function"?t():t}),i=e.context,o=e.guards,s=e.actions,a=e.activities,l=e.services,u=e.delays,c=e.state,f=e5(e,["context","guards","actions","activities","services","delays","state"]),d=vE(function(){var h={context:i,guards:o,actions:s,activities:a,services:l,delays:u},m=r.withConfig(h,function(){return wl(wl({},r.context),i)});return QI(m,wl({deferEvents:!0},f))});return _l(function(){var h;return n&&(h=d.subscribe(t5(n))),function(){h==null||h.unsubscribe()}},[n]),_l(function(){return d.start(c?Hn.create(c):void 0),function(){d.stop()}},[]),_l(function(){Object.assign(d.machine.options.actions,s),Object.assign(d.machine.options.guards,o),Object.assign(d.machine.options.activities,a),Object.assign(d.machine.options.services,l),Object.assign(d.machine.options.delays,u)},[s,o,a,l,u]),ZB(d),d}var r5=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o};function i5(t,e){e===void 0&&(e={});var n=x.useCallback(function(a){var l=a.changed===void 0&&Object.keys(a.children).length;(a.changed||l)&&s(a)},[]),r=n5(t,e,n),i=r5(x.useState(function(){var a=r.machine.initialState;return e.state?Hn.create(e.state):a}),2),o=i[0],s=i[1];return[o,r.send,r]}function Tt(){return Tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tt.apply(this,arguments)}function Ps(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Le={arr:Array.isArray,obj:t=>Object.prototype.toString.call(t)==="[object Object]",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,nul:t=>t===null,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,e){if(typeof t!=typeof e)return!1;if(Le.str(t)||Le.num(t))return t===e;if(Le.obj(t)&&Le.obj(e)&&Object.keys(t).length+Object.keys(e).length===0)return!0;let n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return Le.und(n)?t===e:!0}};function o5(t,e){return e===void 0&&(e=!0),n=>(Le.arr(n)?n:Object.keys(n)).reduce((r,i)=>{const o=e?i[0].toLowerCase()+i.substring(1):i;return r[o]=t(o),r},t)}function s5(){const t=x.useState(!1),e=t[1];return x.useCallback(()=>e(r=>!r),[])}function Qi(t,e){return Le.und(t)||Le.nul(t)?e:t}function Dc(t){return Le.und(t)?[]:Le.arr(t)?t:[t]}function gs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Le.fun(t)?t(...n):t}function a5(t){return t.to,t.from,t.config,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.delay,t.attach,t.destroyed,t.interpolateTo,t.ref,t.lazy,Ps(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}function rm(t){const e=a5(t);if(Le.und(e))return Tt({to:e},t);const n=Object.keys(t).reduce((r,i)=>Le.und(e[i])?Tt({},r,{[i]:t[i]}):r,{});return Tt({to:e},n)}function l5(t,e){return e&&(Le.fun(e)?e(t):Le.obj(e)&&(e.current=t)),t}class sr{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){this.children.length===0&&this.attach(),this.children.push(e)}removeChild(e){const n=this.children.indexOf(e);this.children.splice(n,1),this.children.length===0&&this.detach()}}class uv extends sr{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof sr&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof sr&&e.removeChild(this))}}class YI extends sr{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof sr&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof sr&&e.removeChild(this))}getValue(e){e===void 0&&(e=!1);const n={};for(const r in this.payload){const i=this.payload[r];e&&!(i instanceof sr)||(n[r]=i instanceof sr?i[e?"getAnimatedValue":"getValue"]():i)}return n}getAnimatedValue(){return this.getValue(!0)}}let X0;function u5(t,e){X0={fn:t,transform:e}}let XI;function c5(t){XI=t}let JI=t=>typeof window<"u"?window.requestAnimationFrame(t):-1,yd;function f5(t){yd=t}let ZI=()=>Date.now(),d5=t=>t.current,eC;function h5(t){eC=t}class p5 extends YI{constructor(e,n){super(),this.update=void 0,this.payload=e.style?Tt({},e,{style:eC(e.style)}):e,this.update=n,this.attach()}}const m5=t=>Le.fun(t)&&!(t.prototype instanceof ve.Component),g5=t=>x.forwardRef((n,r)=>{const i=s5(),o=x.useRef(!0),s=x.useRef(null),a=x.useRef(null),l=x.useCallback(d=>{const h=s.current,m=()=>{let y=!1;a.current&&(y=X0.fn(a.current,s.current.getAnimatedValue())),(!a.current||y===!1)&&i()};s.current=new p5(d,m),h&&h.detach()},[]);x.useEffect(()=>()=>{o.current=!1,s.current&&s.current.detach()},[]),x.useImperativeHandle(r,()=>d5(a)),l(n);const u=s.current.getValue();u.scrollTop,u.scrollLeft;const c=Ps(u,["scrollTop","scrollLeft"]),f=m5(t)?void 0:d=>a.current=l5(d,r);return ve.createElement(t,Tt({},c,{ref:f}))});let El=!1;const mo=new Set,tC=()=>{if(!El)return!1;let t=ZI();for(let e of mo){let n=!1;for(let r=0;r<e.configs.length;r++){let i=e.configs[r],o,s;for(let a=0;a<i.animatedValues.length;a++){let l=i.animatedValues[a];if(l.done)continue;let u=i.fromValues[a],c=i.toValues[a],f=l.lastPosition,d=c instanceof sr,h=Array.isArray(i.initialVelocity)?i.initialVelocity[a]:i.initialVelocity;if(d&&(c=c.getValue()),i.immediate){l.setValue(c),l.done=!0;continue}if(typeof u=="string"||typeof c=="string"){l.setValue(c),l.done=!0;continue}if(i.duration!==void 0)f=u+i.easing((t-l.startTime)/i.duration)*(c-u),o=t>=l.startTime+i.duration;else if(i.decay)f=u+h/(1-.998)*(1-Math.exp(-(1-.998)*(t-l.startTime))),o=Math.abs(l.lastPosition-f)<.1,o&&(c=f);else{s=l.lastTime!==void 0?l.lastTime:t,h=l.lastVelocity!==void 0?l.lastVelocity:i.initialVelocity,t>s+64&&(s=t);let m=Math.floor(t-s);for(let p=0;p<m;++p){let v=-i.tension*(f-c),b=-i.friction*h,C=(v+b)/i.mass;h=h+C*1/1e3,f=f+h*1/1e3}let y=i.clamp&&i.tension!==0?u<c?f>c:f<c:!1,S=Math.abs(h)<=i.precision,g=i.tension!==0?Math.abs(c-f)<=i.precision:!0;o=y||S&&g,l.lastVelocity=h,l.lastTime=t}d&&!i.toValues[a].done&&(o=!1),o?(l.value!==c&&(f=c),l.done=!0):n=!0,l.setValue(f),l.lastPosition=f}e.props.onFrame&&(e.values[i.name]=i.interpolation.getValue())}e.props.onFrame&&e.props.onFrame(e.values),n||(mo.delete(e),e.stop(!0))}return mo.size?JI(tC):El=!1,El},v5=t=>{mo.has(t)||mo.add(t),El||(El=!0,JI(tC))},y5=t=>{mo.has(t)&&mo.delete(t)};function _d(t,e,n){if(typeof t=="function")return t;if(Array.isArray(t))return _d({range:t,output:e,extrapolate:n});if(yd&&typeof t.output[0]=="string")return yd(t);const r=t,i=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=w5(u,o);return _5(u,o[c],o[c+1],i[c],i[c+1],l,s,a,r.map)}}function _5(t,e,n,r,i,o,s,a,l){let u=l?l(t):t;if(u<e){if(s==="identity")return u;s==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=o(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function w5(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}class ea extends uv{constructor(e,n,r,i){super(),this.calc=void 0,this.payload=e instanceof uv&&!(e instanceof ea)?e.getPayload():Array.isArray(e)?e:[e],this.calc=_d(n,r,i)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,n,r){this.calc=_d(e,n,r)}interpolate(e,n,r){return new ea(this,e,n,r)}}const Qo=(t,e,n)=>t&&new ea(t,e,n),E5={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};function nC(t,e){"update"in t?e.add(t):t.getChildren().forEach(n=>nC(n,e))}class cv extends sr{constructor(e){var n;super(),n=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(r,i){i===void 0&&(i=!0),n.value=r,i&&n.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){this.animatedStyles.size===0&&nC(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,n,r){return new ea(this,e,n,r)}}class S5 extends uv{constructor(e){super(),this.payload=e.map(n=>new cv(n))}setValue(e,n){n===void 0&&(n=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((r,i)=>this.payload[i].setValue(r,n)):this.payload.forEach(r=>r.setValue(e,n))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,n){return new ea(this,e,n)}}let T5=0,R5=class{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=T5++}update(e){if(!e)return this;const n=rm(e),r=n.delay,i=r===void 0?0:r,o=n.to,s=Ps(n,["delay","to"]);if(Le.arr(o)||Le.fun(o))this.queue.push(Tt({},s,{delay:i,to:o}));else if(o){let a={};Object.entries(o).forEach(l=>{let u=l[0],c=l[1];const f=Tt({to:{[u]:c},delay:gs(i,u)},s),d=a[f.delay]&&a[f.delay].to;a[f.delay]=Tt({},a[f.delay],f,{to:Tt({},d,f.to)})}),this.queue=Object.values(a)}return this.queue=this.queue.sort((a,l)=>a.delay-l.delay),this.diff(s),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(i=>{let o=i.from,s=o===void 0?{}:o,a=i.to,l=a===void 0?{}:a;Le.obj(s)&&(this.merged=Tt({},s,this.merged)),Le.obj(l)&&(this.merged=Tt({},this.merged,l))});const n=this.local=++this.guid,r=this.localQueue=this.queue;this.queue=[],r.forEach((i,o)=>{let s=i.delay,a=Ps(i,["delay"]);const l=c=>{o===r.length-1&&n===this.guid&&c&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let u=Le.arr(a.to)||Le.fun(a.to);s?setTimeout(()=>{n===this.guid&&(u?this.runAsync(a,l):this.diff(a).start(l))},s):u?this.runAsync(a,l):this.diff(a).start(l)})}else Le.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),v5(this);return this}stop(e){return this.listeners.forEach(n=>n(e)),this.listeners=[],this}pause(e){return this.stop(!0),e&&y5(this),this}runAsync(e,n){var r=this;e.delay;let i=Ps(e,["delay"]);const o=this.local;let s=Promise.resolve(void 0);if(Le.arr(i.to))for(let a=0;a<i.to.length;a++){const l=a,u=Tt({},i,rm(i.to[l]));Le.arr(u.config)&&(u.config=u.config[l]),s=s.then(()=>{if(o===this.guid)return new Promise(c=>this.diff(u).start(c))})}else if(Le.fun(i.to)){let a=0,l;s=s.then(()=>i.to(u=>{const c=Tt({},i,rm(u));if(Le.arr(c.config)&&(c.config=c.config[a]),a++,o===this.guid)return l=new Promise(f=>this.diff(c).start(f))},function(u){return u===void 0&&(u=!0),r.stop(u)}).then(()=>l))}s.then(n)}diff(e){this.props=Tt({},this.props,e);let n=this.props,r=n.from,i=r===void 0?{}:r,o=n.to,s=o===void 0?{}:o,a=n.config,l=a===void 0?{}:a,u=n.reverse,c=n.attach,f=n.reset,d=n.immediate;if(u){var h=[s,i];i=h[0],s=h[1]}this.merged=Tt({},i,this.merged,s),this.hasChanged=!1;let m=c&&c(this);if(this.animations=Object.entries(this.merged).reduce((y,S)=>{let g=S[0],p=S[1],v=y[g]||{};const b=Le.num(p),C=Le.str(p)&&!p.startsWith("#")&&!/\d/.test(p)&&!XI[p],R=Le.arr(p),w=!b&&!R&&!C;let P=Le.und(i[g])?p:i[g],O=b||R||C?p:1,$=gs(l,g);m&&(O=m.animations[g].parent);let z=v.parent,N=v.interpolation,M=Dc(m?O.getPayload():O),Q,te=p;w&&(te=yd({range:[0,1],output:[p,p]})(1));let Ee=N&&N.getValue();const B=!Le.und(z)&&v.animatedValues.some(E=>!E.done),V=!Le.equ(te,Ee),I=!Le.equ(te,v.previous),H=!Le.equ($,v.config);if(f||I&&V||H){if(b||C)z=N=v.parent||new cv(P);else if(R)z=N=v.parent||new S5(P);else if(w){let E=v.interpolation&&v.interpolation.calc(v.parent.value);E=E!==void 0&&!f?E:P,v.parent?(z=v.parent,z.setValue(0,!1)):z=new cv(0);const F={output:[E,p]};v.interpolation?(N=v.interpolation,v.interpolation.updateConfig(F)):N=z.interpolate(F)}return M=Dc(m?O.getPayload():O),Q=Dc(z.getPayload()),f&&!w&&z.setValue(P,!1),this.hasChanged=!0,Q.forEach(E=>{E.startPosition=E.value,E.lastPosition=E.value,E.lastVelocity=B?E.lastVelocity:void 0,E.lastTime=B?E.lastTime:void 0,E.startTime=ZI(),E.done=!1,E.animatedStyles.clear()}),gs(d,g)&&z.setValue(w?O:p,!1),Tt({},y,{[g]:Tt({},v,{name:g,parent:z,interpolation:N,animatedValues:Q,toValues:M,previous:te,config:$,fromValues:Dc(z.getValue()),immediate:gs(d,g),initialVelocity:Qi($.velocity,0),clamp:Qi($.clamp,!1),precision:Qi($.precision,.01),tension:Qi($.tension,170),friction:Qi($.friction,26),mass:Qi($.mass,1),duration:$.duration,easing:Qi($.easing,E=>E),decay:$.decay})})}else return V?y:(w&&(z.setValue(1,!1),N.updateConfig({output:[te,te]})),z.done=!0,this.hasChanged=!0,Tt({},y,{[g]:Tt({},y[g],{previous:te})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let y in this.animations)this.interpolations[y]=this.animations[y].interpolation,this.values[y]=this.animations[y].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}};const b5=(t,e)=>{const n=x.useRef(!1),r=x.useRef(),i=Le.fun(e),o=x.useMemo(()=>{r.current&&(r.current.map(f=>f.destroy()),r.current=void 0);let c;return[new Array(t).fill().map((f,d)=>{const h=new R5,m=i?gs(e,d,h):e[d];return d===0&&(c=m.ref),h.update(m),c||h.start(),h}),c]},[t]),s=o[0],a=o[1];r.current=s,x.useImperativeHandle(a,()=>({start:()=>Promise.all(r.current.map(c=>new Promise(f=>c.start(f)))),stop:c=>r.current.forEach(f=>f.stop(c)),get controllers(){return r.current}}));const l=x.useMemo(()=>c=>r.current.map((f,d)=>{f.update(i?gs(c,d,f):c[d]),a||f.start()}),[t]);x.useEffect(()=>{n.current?i||l(e):a||r.current.forEach(c=>c.start())}),x.useEffect(()=>(n.current=!0,()=>r.current.forEach(c=>c.destroy())),[]);const u=r.current.map(c=>c.getValues());return i?[u,l,c=>r.current.forEach(f=>f.pause(c))]:u},x5=t=>{const e=Le.fun(t),n=b5(1,e?t:[t]),r=n[0],i=n[1],o=n[2];return e?[r[0],i,o]:r};class A5 extends YI{constructor(e){e===void 0&&(e={}),super(),e.transform&&!(e.transform instanceof sr)&&(e=X0.transform(e)),this.payload=e}}const wd={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},lr="[-+]?\\d*\\.?\\d+",Ed=lr+"%";function Jh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const I5=new RegExp("rgb"+Jh(lr,lr,lr)),C5=new RegExp("rgba"+Jh(lr,lr,lr,lr)),P5=new RegExp("hsl"+Jh(lr,Ed,Ed)),k5=new RegExp("hsla"+Jh(lr,Ed,Ed,lr)),N5=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,D5=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,V5=/^#([0-9a-fA-F]{6})$/,L5=/^#([0-9a-fA-F]{8})$/;function O5(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=V5.exec(t))?parseInt(e[1]+"ff",16)>>>0:wd.hasOwnProperty(t)?wd[t]:(e=I5.exec(t))?(Yo(e[1])<<24|Yo(e[2])<<16|Yo(e[3])<<8|255)>>>0:(e=C5.exec(t))?(Yo(e[1])<<24|Yo(e[2])<<16|Yo(e[3])<<8|SE(e[4]))>>>0:(e=N5.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=L5.exec(t))?parseInt(e[1],16)>>>0:(e=D5.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=P5.exec(t))?(wE(EE(e[1]),Vc(e[2]),Vc(e[3]))|255)>>>0:(e=k5.exec(t))?(wE(EE(e[1]),Vc(e[2]),Vc(e[3]))|SE(e[4]))>>>0:null}function im(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wE(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=im(i,r,t+1/3),s=im(i,r,t),a=im(i,r,t-1/3);return Math.round(o*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function Yo(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function EE(t){return(parseFloat(t)%360+360)%360/360}function SE(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Vc(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function TE(t){let e=O5(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,o=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${o})`}const Lc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,M5=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,$5=new RegExp(`(${Object.keys(wd).join("|")})`,"g"),F5=t=>{const e=t.output.map(i=>i.replace(M5,TE)).map(i=>i.replace($5,TE)),n=e[0].match(Lc).map(()=>[]);e.forEach(i=>{i.match(Lc).forEach((o,s)=>n[s].push(+o))});const r=e[0].match(Lc).map((i,o)=>_d(Tt({},t,{output:n[o]})));return i=>{let o=0;return e[0].replace(Lc,()=>r[o++](i)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(s,a,l,u,c)=>`rgba(${Math.round(a)}, ${Math.round(l)}, ${Math.round(u)}, ${c})`)}};let Sl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const j5=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),U5=["Webkit","Ms","Moz","O"];Sl=Object.keys(Sl).reduce((t,e)=>(U5.forEach(n=>t[j5(n,e)]=t[e]),t),Sl);function B5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":!n&&typeof e=="number"&&e!==0&&!(Sl.hasOwnProperty(t)&&Sl[t])?e+"px":(""+e).trim()}const RE={};h5(t=>new A5(t));f5(F5);c5(wd);u5((t,e)=>{if(t.nodeType&&t.setAttribute!==void 0){const i=e.style,o=e.children,s=e.scrollTop,a=e.scrollLeft,l=Ps(e,["style","children","scrollTop","scrollLeft"]),u=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter";s!==void 0&&(t.scrollTop=s),a!==void 0&&(t.scrollLeft=a),o!==void 0&&(t.textContent=o);for(let c in i)if(i.hasOwnProperty(c)){var n=c.indexOf("--")===0,r=B5(c,i[c],n);c==="float"&&(c="cssFloat"),n?t.style.setProperty(c,r):t.style[c]=r}for(let c in l){const f=u?c:RE[c]||(RE[c]=c.replace(/([A-Z])/g,d=>"-"+d.toLowerCase()));typeof t.getAttribute(f)<"u"&&t.setAttribute(f,l[c])}return}else return!1},t=>t);const z5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],H5=o5(g5,!1),W5=H5(z5);function bE(t,e){return t.map(function(n,r){return n+e[r]})}function rC(t,e){return t.map(function(n,r){return n-e[r]})}function fv(t){return Math.hypot.apply(Math,t)}function q5(t,e,n){var r=fv(e),i=r===0?0:1/r,o=n===0?0:1/n,s=o*r,a=e.map(function(c){return o*c}),l=e.map(function(c){return i*c}),u=fv(t);return{velocities:a,velocity:s,distance:u,direction:l}}function dv(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function G5(t,e,n){return Math.max(e,Math.min(t,n))}function K5(t,e){return Math.pow(t,e*5)}function xE(t,e,n){return e===0||Math.abs(e)===1/0?K5(t,n):t*e*n/(e+n*t)}function Tl(t,e,n,r){return r===void 0&&(r=.15),r===0?G5(t,e,n):t<e?-xE(e-t,n-e,r)+e:t>n?+xE(t-n,n-e,r)+n:t}function AE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q5(t,e,n){return e&&AE(t.prototype,e),n&&AE(t,n),t}function yn(){return yn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yn.apply(this,arguments)}function iC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Y5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Oc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X5(t,e){if(t){if(typeof t=="string")return IE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(t,e)}}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zh(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=X5(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=t[Symbol.iterator](),n.next.bind(n)}function oC(){}function sC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?oC:e.length===1?e[0]:function(){for(var r,i=Zh(e),o;!(o=i()).done;){var s=o.value;r=s.apply(this,arguments)||r}return r}}function pi(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function Mc(t){if(typeof t=="function"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}else return t}function J0(t,e){t===void 0&&(t={});for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];switch(typeof a){case"function":n[s]=a.call(n,t[s],s,t);break;case"object":n[s]=J0(t[s],a);break;case"boolean":a&&(n[s]=t[s]);break}}return n}var J5=180,Z5=.15,ez=.5,tz=60,nz={threshold:function(e){return e===void 0&&(e=0),pi(e)},rubberband:function(e){switch(e===void 0&&(e=0),e){case!0:return pi(Z5);case!1:return pi(0);default:return pi(e)}},enabled:function(e){return e===void 0&&(e=!0),e},triggerAllEvents:function(e){return e===void 0&&(e=!1),e},initial:function(e){return e===void 0&&(e=0),typeof e=="function"?e:pi(e)}},aC=yn({},nz,{axis:!0,lockDirection:function(e){return e===void 0&&(e=!1),e},bounds:function(e){if(e===void 0&&(e={}),typeof e=="function")return function(f){return aC.bounds(e(f))};var n=e,r=n.left,i=r===void 0?-1/0:r,o=n.right,s=o===void 0?1/0:o,a=n.top,l=a===void 0?-1/0:a,u=n.bottom,c=u===void 0?1/0:u;return[[i,s],[l,c]]}}),rz=typeof window<"u"&&window.document&&window.document.createElement,iz={enabled:function(e){return e===void 0&&(e=!0),e},domTarget:!0,window:function(t){function e(n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return t===void 0&&(t=rz?window:void 0),t}),eventOptions:function(e){var n=e===void 0?{}:e,r=n.passive,i=r===void 0?!0:r,o=n.capture,s=o===void 0?!1:o;return{passive:i,capture:s}}},oz=yn({},aC,{threshold:function(e,n,r){var i=r.filterTaps,o=i===void 0?!1:i,s=r.lockDirection,a=s===void 0?!1:s,l=r.axis,u=l===void 0?void 0:l,c=pi(e,o?3:a||u?1:0);return this.filterTaps=o||c[0]+c[1]>0,c},swipeVelocity:function(e){return e===void 0&&(e=ez),pi(e)},swipeDistance:function(e){return e===void 0&&(e=tz),pi(e)},delay:function(e){switch(e===void 0&&(e=0),e){case!0:return J5;case!1:return 0;default:return e}}});function sz(t){return t===void 0&&(t={}),J0(t,iz)}function az(t){return t===void 0&&(t={}),J0(t,oz)}function lz(t){var e=t.domTarget,n=t.eventOptions,r=t.window,i=t.enabled,o=Y5(t,["domTarget","eventOptions","window","enabled"]),s=sz({domTarget:e,eventOptions:n,window:r,enabled:i});return s.drag=az(o),s}function Oa(t){return yn({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:oC,canceled:!1,memo:void 0,args:void 0},t)}function lC(){var t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},e=Oa({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),n=Oa({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),r=Oa({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=Oa({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),o=Oa({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:n,wheel:r,move:i,scroll:o}}var Zi=new Map,uz=function(){function t(n,r){var i=this;r===void 0&&(r=[]),this.controller=n,this.args=r,this.debounced=!0,this.setTimeout=function(o,s){var a;s===void 0&&(s=140),clearTimeout(i.controller.timeouts[i.stateKey]);for(var l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];i.controller.timeouts[i.stateKey]=(a=window).setTimeout.apply(a,[o,s].concat(u))},this.clearTimeout=function(){clearTimeout(i.controller.timeouts[i.stateKey])},this.fireGestureHandler=function(o){if(o===void 0&&(o=!1),i.state._blocked)return i.debounced||(i.state._active=!1,i.clean()),null;if(!o&&!i.state.intentional&&!i.config.triggerAllEvents)return null;if(i.state.intentional){var s=i.state.active,a=i.state._active;i.state.active=a,i.state.first=a&&!s,i.state.last=s&&!a,i.controller.state.shared[i.ingKey]=a}var l=yn({},i.controller.state.shared,i.state,i.mapStateValues(i.state)),u=i.handler(l);return i.state.memo=u!==void 0?u:i.state.memo,i.state._active||i.clean(),l}}var e=t.prototype;return e.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},e.updateGestureState=function(r){Object.assign(this.state,r)},e.checkIntentionality=function(r,i){return{_intentional:r,_blocked:!1}},e.getMovement=function(r){var i=this.config,o=i.initial,s=i.bounds,a=i.rubberband,l=i.threshold,u=this.state,c=u._bounds,f=u._initial,d=u._active,h=u._intentional,m=u.lastOffset,y=u.movement,S=this.getInternalMovement(r,this.state),g=h[0]===!1?CE(S[0],l[0]):h[0],p=h[1]===!1?CE(S[1],l[1]):h[1],v=this.checkIntentionality([g,p],S);if(v._blocked)return yn({},v,{_movement:S,delta:[0,0]});var b=v._intentional,C=S,R,w;if(b[0]!==!1&&h[0]===!1&&(w=Mc(o,this.state),R=Mc(s,this.state),f[0]=w[0],c[0]=R[0]),b[1]!==!1&&h[1]===!1){var P,O;w=(P=w)!=null?P:Mc(o,this.state),R=(O=R)!=null?O:Mc(s,this.state),f[1]=w[1],c[1]=R[1]}var $=[b[0]!==!1?S[0]-b[0]:f[0],b[1]!==!1?S[1]-b[1]:f[1]],z=bE($,m),N=d?a:[0,0];return $=PE(c,bE($,f),N),yn({},v,{intentional:b[0]!==!1||b[1]!==!1,_initial:f,_movement:C,movement:$,values:r,offset:PE(c,z,N),delta:rC($,y)})},e.clean=function(){this.clearTimeout()},Q5(t,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}]),t}();function CE(t,e){return Math.abs(t)>=e?dv(t)*e:!1}function PE(t,e,n){var r=e[0],i=e[1],o=n[0],s=n[1],a=t[0],l=a[0],u=a[1],c=t[1],f=c[0],d=c[1];return[Tl(r,l,u,o),Tl(i,f,d,s)]}function om(t,e,n){var r=t.state,i=t.args,o=e.timeStamp,s=e.type,a=r.values,l=n?0:o-r.startTime;return{_lastEventType:s,event:e,timeStamp:o,elapsedTime:l,args:i,previous:a}}function cz(t,e,n){var r=t.state.offset,i=n.timeStamp;return yn({},lC()[t.stateKey],{_active:!0,values:e,initial:e,offset:r,lastOffset:r,startTime:i})}function fz(t,e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.call.apply(t,[this,yn({},e,{event:n})].concat(i))}}var dz=function(e){var n=this;this.classes=e,this.bind=function(){for(var r={},i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];for(var a=Zh(n.classes),l;!(l=a()).done;){var u=l.value;new u(n,o).addBindings(r)}for(var c=0,f=Object.entries(n.nativeRefs);c<f.length;c++){var d=f[c],h=d[0],m=d[1];hv(r,h,fz(m,yn({},n.state.shared,{args:o})))}return n.config.domTarget?gz(n,r):vz(n,r)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var r=cC(n.config),i=n.config.eventOptions;r&&Hu(r,uC(n.domListeners),i),Object.values(n.timeouts).forEach(clearTimeout),hz(n)},this.state=lC(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function hz(t){var e=t.config,n=e.window,r=e.eventOptions,i=t.windowListeners;if(n){for(var o in i){var s=i[o];Hu(n,s,r)}t.windowListeners={}}}function pz(t,e){var n=t.config,r=t.windowListeners;n.window&&(Hu(n.window,r[e],n.eventOptions),delete r[e])}function mz(t,e,n){var r=t.config,i=t.windowListeners;n===void 0&&(n=[]),r.window&&(Hu(r.window,i[e],r.eventOptions),fC(r.window,i[e]=n,r.eventOptions))}function gz(t,e){var n=t.config,r=t.domListeners,i=cC(n);if(!i)throw new Error("domTarget must be defined");var o=n.eventOptions;Hu(i,uC(r),o);for(var s=0,a=Object.entries(e);s<a.length;s++){var l=a[s],u=l[0],c=l[1],f=u.slice(2).toLowerCase();r.push([f,sC.apply(void 0,c)])}fC(i,r,o)}function vz(t,e){for(var n=t.config,r={},i=n.eventOptions.capture?"Capture":"",o=0,s=Object.entries(e);o<s.length;o++){var a=s[o],l=a[0],u=a[1],c=Array.isArray(u)?u:[u],f=l+i;r[f]=sC.apply(void 0,c)}return r}function uC(t){return t===void 0&&(t=[]),t.splice(0,t.length)}function cC(t){var e=t.domTarget;return e&&"current"in e?e.current:e}function hv(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function fC(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=Zh(e),i;!(i=r()).done;){var o=i.value,s=o[0],a=o[1];t.addEventListener(s,a,n)}}function Hu(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=Zh(e),i;!(i=r()).done;){var o=i.value,s=o[0],a=o[1];t.removeEventListener(s,a,n)}}function yz(t,e,n){n===void 0&&(n={});var r=wz(t),i=ve.useMemo(function(){return new dz(r)},[]);return i.config=e,i.handlers=t,i.nativeRefs=n,ve.useEffect(i.effect,[]),i.config.domTarget?_z:i.bind}function _z(){}function wz(t){var e=new Set;return t.drag&&e.add(Zi.get("drag")),t.wheel&&e.add(Zi.get("wheel")),t.scroll&&e.add(Zi.get("scroll")),t.move&&e.add(Zi.get("move")),t.pinch&&e.add(Zi.get("pinch")),t.hover&&e.add(Zi.get("hover")),e}var Ez=function(t){iC(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getInternalMovement=function(i,o){return rC(i,o.initial)},n.checkIntentionality=function(i,o){if(i[0]===!1&&i[1]===!1)return{_intentional:i,axis:this.state.axis};var s=o.map(Math.abs),a=s[0],l=s[1],u=this.state.axis||(a>l?"x":a<l?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:i,_blocked:!1,axis:u}:u?this.config.axis&&u!==this.config.axis?{_intentional:i,_blocked:!0,axis:u}:(i[u==="x"?1:0]=!1,{_intentional:i,_blocked:!1,axis:u}):{_intentional:[!1,!1],_blocked:!1,axis:u}},n.getKinematics=function(i,o){var s=this.getMovement(i);if(!s._blocked){var a=o.timeStamp-this.state.timeStamp;Object.assign(s,q5(s.movement,s.delta,a))}return s},n.mapStateValues=function(i){return{xy:i.values,vxvy:i.velocities}},e}(uz);function dC(t){if("touches"in t){var e=t.targetTouches,n=t.changedTouches;return e.length>0?e:n}return null}function kE(t){var e="buttons"in t?t.buttons:0,n=dC(t),r=n&&n.length||0,i=r>0||e>0,o=t.shiftKey,s=t.altKey,a=t.metaKey,l=t.ctrlKey;return{touches:r,down:i,buttons:e,shiftKey:o,altKey:s,metaKey:a,ctrlKey:l}}function NE(t){var e=dC(t),n=e?e[0]:t,r=n.clientX,i=n.clientY;return[r,i]}var Sz=3,Tz=220,Rz=function(t){iC(e,t);function e(){var r;return r=t.apply(this,arguments)||this,r.ingKey="dragging",r.stateKey="drag",r.onDragStart=function(i){!r.enabled||r.state._active||(mz(r.controller,r.stateKey,[["pointermove",r.onDragChange],["pointerup",r.onDragEnd],["pointercancel",r.onDragEnd]]),r.updateGestureState({_pointerId:i.pointerId}),r.config.delay>0?(r.state._delayedEvent=!0,"persist"in i&&typeof i.persist=="function"&&i.persist(),r.setTimeout(r.startDrag.bind(Oc(r)),r.config.delay,i)):r.startDrag(i))},r.onDragChange=function(i){if(!r.state.canceled&&i.pointerId===r.state._pointerId){if(!r.state._active){r.state._delayedEvent&&(r.clearTimeout(),r.startDrag(i));return}var o=kE(i);if(!o.down){r.onDragEnd(i);return}r.updateSharedState(o);var s=NE(i),a=r.getKinematics(s,i),l=om(Oc(r),i),u=r.state._isTap,c=fv(a._movement);u&&c>=Sz&&(u=!1),r.updateGestureState(yn({},l,a,{_isTap:u})),r.fireGestureHandler()}},r.onDragEnd=function(i){if(i.pointerId===r.state._pointerId){r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0});var o=r.state._isTap,s=r.state.velocities,a=s[0],l=s[1],u=r.state.movement,c=u[0],f=u[1],d=r.state._intentional,h=d[0],m=d[1],y=r.config.swipeVelocity,S=y[0],g=y[1],p=r.config.swipeDistance,v=p[0],b=p[1],C=yn({},om(Oc(r),i),r.getMovement(r.state.values)),R=[0,0];C.elapsedTime<Tz&&(h!==!1&&Math.abs(a)>S&&Math.abs(c)>v&&(R[0]=dv(a)),m!==!1&&Math.abs(l)>g&&Math.abs(f)>b&&(R[1]=dv(l))),r.updateGestureState(yn({},C,{tap:o,swipe:R})),r.fireGestureHandler(o===!0)}},r.clean=function(){t.prototype.clean.call(Oc(r)),r.state._delayedEvent=!1,pz(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0}),r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return r.fireGestureHandler()}))},r.onClick=function(i){r.state._isTap||i.stopPropagation()},r}var n=e.prototype;return n.startDrag=function(i){var o=NE(i);this.updateSharedState(kE(i)),this.updateGestureState(yn({},cz(this,o,i),om(this,i,!0),{_pointerId:i.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(o)),this.fireGestureHandler()},n.addBindings=function(i){if(hv(i,"onPointerDown",this.onDragStart),this.config.filterTaps){var o=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";hv(i,o,this.onClick)}},e}(Ez);function bz(t,e){var n,r=[],i,o=!1;function s(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return o&&n===this&&e(l,r)||(i=t.apply(this,l),o=!0,n=this,r=l),i}return s}function gf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!gf(t[r],e[r]))return!1;return!0}var o;if(typeof Map=="function"&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!gf(r.value[1],e.get(r.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(typeof Element<"u"&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!(i[r]==="_owner"&&t.$$typeof)&&!gf(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}function xz(t,e){try{return gf(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function Az(t,e){e===void 0&&(e={}),Zi.set("drag",Rz);var n=x.useRef();return n.current||(n.current=bz(lz,xz)),yz({drag:t},n.current(e))}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var hC=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Sd=hC.join(","),pC=typeof Element>"u",Po=pC?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,pv=!pC&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},mC=function(e,n,r){var i=Array.prototype.slice.apply(e.querySelectorAll(Sd));return n&&Po.call(e,Sd)&&i.unshift(e),i=i.filter(r),i},gC=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,u=t(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scope:s,candidates:u})}else{var c=Po.call(s,Sd);c&&r.filter(s)&&(n||!e.includes(s))&&i.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),d=!r.shadowRootFilter||r.shadowRootFilter(s);if(f&&d){var h=t(f===!0?s.children:f.children,!0,r);r.flatten?i.push.apply(i,h):i.push({scope:s,candidates:h})}else o.unshift.apply(o,s.children)}}return i},vC=function(e,n){return e.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},Iz=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},yC=function(e){return e.tagName==="INPUT"},Cz=function(e){return yC(e)&&e.type==="hidden"},Pz=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},kz=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Nz=function(e){if(!e.name)return!0;var n=e.form||pv(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=kz(i,e.form);return!o||o===e},Dz=function(e){return yC(e)&&e.type==="radio"},Vz=function(e){return Dz(e)&&!Nz(e)},DE=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Lz=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Po.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(Po.call(s,"details:not([open]) *"))return!0;var a=pv(e).host,l=(a==null?void 0:a.ownerDocument.contains(a))||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof i=="function"){for(var u=e;e;){var c=e.parentElement,f=pv(e);if(c&&!c.shadowRoot&&i(c)===!0)return DE(e);e.assignedSlot?e=e.assignedSlot:!c&&f!==e.ownerDocument?e=f.host:e=c}e=u}if(l)return!e.getClientRects().length}else if(r==="non-zero-area")return DE(e);return!1},Oz=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Po.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Td=function(e,n){return!(n.disabled||Cz(n)||Lz(n,e)||Pz(n)||Oz(n))},mv=function(e,n){return!(Vz(n)||vC(n)<0||!Td(e,n))},Mz=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},$z=function t(e){var n=[],r=[];return e.forEach(function(i,o){var s=!!i.scope,a=s?i.scope:i,l=vC(a,s),u=s?t(i.candidates):a;l===0?s?n.push.apply(n,u):n.push(a):r.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:u})}),r.sort(Iz).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Fz=function(e,n){n=n||{};var r;return n.getShadowRoot?r=gC([e],n.includeContainer,{filter:mv.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Mz}):r=mC(e,n.includeContainer,mv.bind(null,n)),$z(r)},jz=function(e,n){n=n||{};var r;return n.getShadowRoot?r=gC([e],n.includeContainer,{filter:Td.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=mC(e,n.includeContainer,Td.bind(null,n)),r},$c=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Po.call(e,Sd)===!1?!1:mv(n,e)},Uz=hC.concat("iframe").join(","),sm=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Po.call(e,Uz)===!1?!1:Td(n,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){Bz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var OE=function(){var t=[];return{activateTrap:function(n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var i=t.indexOf(n);i===-1||t.splice(i,1),t.push(n)},deactivateTrap:function(n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}}}(),zz=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Hz=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},Wz=function(e){return e.key==="Tab"||e.keyCode===9},ME=function(e){return setTimeout(e,0)},$E=function(e,n){var r=-1;return e.every(function(i,o){return n(i)?(r=o,!1):!0}),r},Ma=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},Fc=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},qz=function(e,n){var r=(n==null?void 0:n.document)||document,i=LE({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,a=function(R,w,P){return R&&R[w]!==void 0?R[w]:i[P||w]},l=function(R){return o.containerGroups.findIndex(function(w){var P=w.container,O=w.tabbableNodes;return P.contains(R)||O.find(function($){return $===R})})},u=function(R){var w=i[R];if(typeof w=="function"){for(var P=arguments.length,O=new Array(P>1?P-1:0),$=1;$<P;$++)O[$-1]=arguments[$];w=w.apply(void 0,O)}if(w===!0&&(w=void 0),!w){if(w===void 0||w===!1)return w;throw new Error("`".concat(R,"` was specified but was not a node, or did not return a node"))}var z=w;if(typeof w=="string"&&(z=r.querySelector(w),!z))throw new Error("`".concat(R,"` as selector refers to no known node"));return z},c=function(){var R=u("initialFocus");if(R===!1)return!1;if(R===void 0)if(l(r.activeElement)>=0)R=r.activeElement;else{var w=o.tabbableGroups[0],P=w&&w.firstTabbableNode;R=P||u("fallbackFocus")}if(!R)throw new Error("Your focus-trap needs to have at least one focusable element");return R},f=function(){if(o.containerGroups=o.containers.map(function(R){var w=Fz(R,i.tabbableOptions),P=jz(R,i.tabbableOptions);return{container:R,tabbableNodes:w,focusableNodes:P,firstTabbableNode:w.length>0?w[0]:null,lastTabbableNode:w.length>0?w[w.length-1]:null,nextTabbableNode:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=P.findIndex(function(M){return M===$});if(!(N<0))return z?P.slice(N+1).find(function(M){return $c(M,i.tabbableOptions)}):P.slice(0,N).reverse().find(function(M){return $c(M,i.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(R){return R.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function C(R){if(R!==!1&&R!==r.activeElement){if(!R||!R.focus){C(c());return}R.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=R,zz(R)&&R.select()}},h=function(R){var w=u("setReturnFocus",R);return w||(w===!1?!1:R)},m=function(R){var w=Fc(R);if(!(l(w)>=0)){if(Ma(i.clickOutsideDeactivates,R)){s.deactivate({returnFocus:i.returnFocusOnDeactivate&&!sm(w,i.tabbableOptions)});return}Ma(i.allowOutsideClick,R)||R.preventDefault()}},y=function(R){var w=Fc(R),P=l(w)>=0;P||w instanceof Document?P&&(o.mostRecentlyFocusedNode=w):(R.stopImmediatePropagation(),d(o.mostRecentlyFocusedNode||c()))},S=function(R){var w=Fc(R);f();var P=null;if(o.tabbableGroups.length>0){var O=l(w),$=O>=0?o.containerGroups[O]:void 0;if(O<0)R.shiftKey?P=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:P=o.tabbableGroups[0].firstTabbableNode;else if(R.shiftKey){var z=$E(o.tabbableGroups,function(we){var B=we.firstTabbableNode;return w===B});if(z<0&&($.container===w||sm(w,i.tabbableOptions)&&!$c(w,i.tabbableOptions)&&!$.nextTabbableNode(w,!1))&&(z=O),z>=0){var N=z===0?o.tabbableGroups.length-1:z-1,M=o.tabbableGroups[N];P=M.lastTabbableNode}}else{var Q=$E(o.tabbableGroups,function(we){var B=we.lastTabbableNode;return w===B});if(Q<0&&($.container===w||sm(w,i.tabbableOptions)&&!$c(w,i.tabbableOptions)&&!$.nextTabbableNode(w))&&(Q=O),Q>=0){var te=Q===o.tabbableGroups.length-1?0:Q+1,Ee=o.tabbableGroups[te];P=Ee.firstTabbableNode}}}else P=u("fallbackFocus");P&&(R.preventDefault(),d(P))},g=function(R){if(Hz(R)&&Ma(i.escapeDeactivates,R)!==!1){R.preventDefault(),s.deactivate();return}if(Wz(R)){S(R);return}},p=function(R){var w=Fc(R);l(w)>=0||Ma(i.clickOutsideDeactivates,R)||Ma(i.allowOutsideClick,R)||(R.preventDefault(),R.stopImmediatePropagation())},v=function(){if(o.active)return OE.activateTrap(s),o.delayInitialFocusTimer=i.delayInitialFocus?ME(function(){d(c())}):d(c()),r.addEventListener("focusin",y,!0),r.addEventListener("mousedown",m,{capture:!0,passive:!1}),r.addEventListener("touchstart",m,{capture:!0,passive:!1}),r.addEventListener("click",p,{capture:!0,passive:!1}),r.addEventListener("keydown",g,{capture:!0,passive:!1}),s},b=function(){if(o.active)return r.removeEventListener("focusin",y,!0),r.removeEventListener("mousedown",m,!0),r.removeEventListener("touchstart",m,!0),r.removeEventListener("click",p,!0),r.removeEventListener("keydown",g,!0),s};return s={get active(){return o.active},get paused(){return o.paused},activate:function(R){if(o.active)return this;var w=a(R,"onActivate"),P=a(R,"onPostActivate"),O=a(R,"checkCanFocusTrap");O||f(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,w&&w();var $=function(){O&&f(),v(),P&&P()};return O?(O(o.containers.concat()).then($,$),this):($(),this)},deactivate:function(R){if(!o.active)return this;var w=LE({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},R);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,b(),o.active=!1,o.paused=!1,OE.deactivateTrap(s);var P=a(w,"onDeactivate"),O=a(w,"onPostDeactivate"),$=a(w,"checkCanReturnFocus"),z=a(w,"returnFocus","returnFocusOnDeactivate");P&&P();var N=function(){ME(function(){z&&d(h(o.nodeFocusedBeforeActivation)),O&&O()})};return z&&$?($(h(o.nodeFocusedBeforeActivation)).then(N,N),this):(N(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,b(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,f(),v(),this)},updateContainerElements:function(R){var w=[].concat(R).filter(Boolean);return o.containers=w.map(function(P){return typeof P=="string"?r.querySelector(P):P}),o.active&&f(),this}},s.updateContainerElements(e),s};function Gz(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var Z0=!1;if(typeof window<"u"){var FE={get passive(){Z0=!0}};window.addEventListener("testPassive",null,FE),window.removeEventListener("testPassive",null,FE)}var _C=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),_i=[],Rd=!1,wC=-1,Rl=void 0,bl=void 0,EC=function(e){return _i.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},bd=function(e){var n=e||window.event;return EC(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},Kz=function(e){if(bl===void 0){var n=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;n&&r>0&&(bl=document.body.style.paddingRight,document.body.style.paddingRight=r+"px")}Rl===void 0&&(Rl=document.body.style.overflow,document.body.style.overflow="hidden")},Qz=function(){bl!==void 0&&(document.body.style.paddingRight=bl,bl=void 0),Rl!==void 0&&(document.body.style.overflow=Rl,Rl=void 0)},Yz=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},Xz=function(e,n){var r=e.targetTouches[0].clientY-wC;return EC(e.target)?!1:n&&n.scrollTop===0&&r>0||Yz(n)&&r<0?bd(e):(e.stopPropagation(),!0)},Jz=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!_i.some(function(i){return i.targetElement===e})){var r={targetElement:e,options:n||{}};_i=[].concat(Gz(_i),[r]),_C?(e.ontouchstart=function(i){i.targetTouches.length===1&&(wC=i.targetTouches[0].clientY)},e.ontouchmove=function(i){i.targetTouches.length===1&&Xz(i,e)},Rd||(document.addEventListener("touchmove",bd,Z0?{passive:!1}:void 0),Rd=!0)):Kz(n)}},Zz=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}_i=_i.filter(function(n){return n.targetElement!==e}),_C?(e.ontouchstart=null,e.ontouchmove=null,Rd&&_i.length===0&&(document.removeEventListener("touchmove",bd,Z0?{passive:!1}:void 0),Rd=!1)):_i.length||Qz()},go=[],e8=function(){return go.some(function(t){return t.activeTargets.length>0})},t8=function(){return go.some(function(t){return t.skippedTargets.length>0})},jE="ResizeObserver loop completed with undelivered notifications.",n8=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:jE}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=jE),window.dispatchEvent(t)},hu;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(hu||(hu={}));var vo=function(t){return Object.freeze(t)},r8=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,vo(this)}return t}(),SC=function(){function t(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,vo(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,i=e.top,o=e.right,s=e.bottom,a=e.left,l=e.width,u=e.height;return{x:n,y:r,top:i,right:o,bottom:s,left:a,width:l,height:u}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),e_=function(t){return t instanceof SVGElement&&"getBBox"in t},TC=function(t){if(e_(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,o=i.offsetWidth,s=i.offsetHeight;return!(o||s||t.getClientRects().length)},UE=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},i8=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},xl=typeof window<"u"?window:{},jc=new WeakMap,BE=/auto|scroll/,o8=/^tb|vertical/,s8=/msie|trident/i.test(xl.navigator&&xl.navigator.userAgent),_r=function(t){return parseFloat(t||"0")},ks=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new r8((n?e:t)||0,(n?t:e)||0)},zE=vo({devicePixelContentBoxSize:ks(),borderBoxSize:ks(),contentBoxSize:ks(),contentRect:new SC(0,0,0,0)}),RC=function(t,e){if(e===void 0&&(e=!1),jc.has(t)&&!e)return jc.get(t);if(TC(t))return jc.set(t,zE),zE;var n=getComputedStyle(t),r=e_(t)&&t.ownerSVGElement&&t.getBBox(),i=!s8&&n.boxSizing==="border-box",o=o8.test(n.writingMode||""),s=!r&&BE.test(n.overflowY||""),a=!r&&BE.test(n.overflowX||""),l=r?0:_r(n.paddingTop),u=r?0:_r(n.paddingRight),c=r?0:_r(n.paddingBottom),f=r?0:_r(n.paddingLeft),d=r?0:_r(n.borderTopWidth),h=r?0:_r(n.borderRightWidth),m=r?0:_r(n.borderBottomWidth),y=r?0:_r(n.borderLeftWidth),S=f+u,g=l+c,p=y+h,v=d+m,b=a?t.offsetHeight-v-t.clientHeight:0,C=s?t.offsetWidth-p-t.clientWidth:0,R=i?S+p:0,w=i?g+v:0,P=r?r.width:_r(n.width)-R-C,O=r?r.height:_r(n.height)-w-b,$=P+S+C+p,z=O+g+b+v,N=vo({devicePixelContentBoxSize:ks(Math.round(P*devicePixelRatio),Math.round(O*devicePixelRatio),o),borderBoxSize:ks($,z,o),contentBoxSize:ks(P,O,o),contentRect:new SC(f,l,P,O)});return jc.set(t,N),N},bC=function(t,e,n){var r=RC(t,n),i=r.borderBoxSize,o=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(e){case hu.DEVICE_PIXEL_CONTENT_BOX:return s;case hu.BORDER_BOX:return i;default:return o}},a8=function(){function t(e){var n=RC(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=vo([n.borderBoxSize]),this.contentBoxSize=vo([n.contentBoxSize]),this.devicePixelContentBoxSize=vo([n.devicePixelContentBoxSize])}return t}(),xC=function(t){if(TC(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},l8=function(){var t=1/0,e=[];go.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var c=new a8(u.target),f=xC(u.target);a.push(c),u.lastReportedSize=bC(u.target,u.observedBox),f<t&&(t=f)}),e.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var i=r[n];i()}return t},HE=function(t){go.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(xC(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},u8=function(){var t=0;for(HE(t);e8();)t=l8(),HE(t);return t8()&&n8(),t>0},am,AC=[],c8=function(){return AC.splice(0).forEach(function(t){return t()})},f8=function(t){if(!am){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return c8()}).observe(n,r),am=function(){n.textContent="".concat(e?e--:e++)}}AC.push(t),am()},d8=function(t){f8(function(){requestAnimationFrame(t)})},vf=0,h8=function(){return!!vf},p8=250,m8={attributes:!0,characterData:!0,childList:!0,subtree:!0},WE=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],qE=function(t){return t===void 0&&(t=0),Date.now()+t},lm=!1,g8=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=p8),!lm){lm=!0;var r=qE(e);d8(function(){var i=!1;try{i=u8()}finally{if(lm=!1,e=r-qE(),!h8())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,m8)};document.body?n():xl.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),WE.forEach(function(n){return xl.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),WE.forEach(function(n){return xl.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),gv=new g8,GE=function(t){!vf&&t>0&&gv.start(),vf+=t,!vf&&gv.stop()},v8=function(t){return!e_(t)&&!i8(t)&&getComputedStyle(t).display==="inline"},y8=function(){function t(e,n){this.target=e,this.observedBox=n||hu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=bC(this.target,this.observedBox,!0);return v8(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),_8=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),Uc=new WeakMap,KE=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Bc=function(){function t(){}return t.connect=function(e,n){var r=new _8(e,n);Uc.set(e,r)},t.observe=function(e,n,r){var i=Uc.get(e),o=i.observationTargets.length===0;KE(i.observationTargets,n)<0&&(o&&go.push(i),i.observationTargets.push(new y8(n,r&&r.box)),GE(1),gv.schedule())},t.unobserve=function(e,n){var r=Uc.get(e),i=KE(r.observationTargets,n),o=r.observationTargets.length===1;i>=0&&(o&&go.splice(go.indexOf(r),1),r.observationTargets.splice(i,1),GE(-1))},t.disconnect=function(e){var n=this,r=Uc.get(e);r.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),w8=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Bc.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!UE(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Bc.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!UE(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Bc.unobserve(this,e)},t.prototype.disconnect=function(){Bc.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function sn(){return sn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sn.apply(this,arguments)}function yf(t,e){if(t==null)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}var Al=typeof window<"u"?x.useLayoutEffect:x.useEffect;function $a(t,e,n){return e=(e=+e)==e?e:0,n=(n=+n)==n?n:0,(t=+t)==t&&(t=(t=t<=n?t:n)>=e?t:e),t}function zc(t){var e=Math.round(t);if(Number.isNaN(t))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return e}var E8={box:"border-box"};function um(t,e){var n=e.label,r=e.enabled,i=e.resizeSourceRef,o=x.useState(0),s=o[0],a=o[1];x.useDebugValue(n+": "+s);var l=x.useCallback(function(u){a(u[0].borderBoxSize[0].blockSize),i.current="element"},[i]);return Al(function(){if(t.current&&r){var u=new w8(l);return u.observe(t.current,E8),function(){u.disconnect()}}},[t,l,r]),r?s:0}function on(t){return t===void 0&&(t=1e3),new Promise(function(e){return setTimeout(e,t)})}var QE={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},YE={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},S8=KB({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:sn({},QE,YE)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:sn({},QE,YE)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:sn({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[QB({y:function(t,e){return e.payload.y},velocity:function(t,e){return e.payload.velocity},snapSource:function(t,e){var n=e.payload.source;return n===void 0?"custom":n}})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(t,e){},onSnapCancel:function(t,e){},onResizeCancel:function(t,e){},onCloseCancel:function(t,e){},onOpenEnd:function(t,e){},onSnapEnd:function(t,e){},onRezizeEnd:function(t,e){}},services:{onSnapStart:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenStart:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseStart:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeStart:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onSnapEnd:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenEnd:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseEnd:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeEnd:function(){try{return Promise.resolve(on()).then(function(){})}catch(t){return Promise.reject(t)}},renderVisuallyHidden:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},activate:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},deactivate:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},openSmoothly:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},openImmediately:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},snapSmoothly:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},resizeSmoothly:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}},closeSmoothly:function(t,e){try{return Promise.resolve(on()).then(function(){})}catch(n){return Promise.reject(n)}}},guards:{initiallyClosed:function(t){return t.initialState==="CLOSED"},initiallyOpen:function(t){return t.initialState==="OPEN"}}}),T8=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],R8=["velocity"],b8=["onRest","config"],IC=E5.default,x8=IC.tension,Hc=IC.friction,A8=ve.forwardRef(function(t,e){var n=t.children,r=t.sibling,i=t.className,o=t.footer,s=t.header,a=t.open,l=t.initialState,u=t.lastSnapRef,c=t.initialFocusRef,f=t.onDismiss,d=t.maxHeight,h=t.defaultSnap,m=h===void 0?C8:h,y=t.snapPoints,S=y===void 0?P8:y,g=t.blocking,p=g===void 0||g,v=t.scrollLocking,b=v===void 0||v,C=t.style,R=t.onSpringStart,w=t.onSpringCancel,P=t.onSpringEnd,O=t.reserveScrollBarGap,$=O===void 0?p:O,z=t.expandOnContentDrag,N=z!==void 0&&z,M=yf(t,T8),Q=function(){var _=x.useState(!1),T=_[0],D=_[1],q=x.useState({}),Y=q[0],X=q[1],le=x.useCallback(function(ue){return X(function(ce){var oe;return sn({},ce,((oe={})[ue]=!1,oe))}),function(){X(function(ce){var oe;return sn({},ce,((oe={})[ue]=!0,oe))})}},[]);return x.useEffect(function(){var ue=Object.values(Y);ue.length!==0&&ue.every(Boolean)&&D(!0)},[Y]),{ready:T,registerReady:le}}(),te=Q.ready,Ee=Q.registerReady,we=x.useRef(!1),B=x.useRef(R),V=x.useRef(w),I=x.useRef(P);x.useEffect(function(){B.current=R,V.current=w,I.current=P},[w,R,P]);var H,E,F=x5(function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}}),U=F[0],ne=F[1],Z=x.useRef(null),me=x.useRef(null),Se=x.useRef(null),pe=x.useRef(null),De=x.useRef(null),Ve=x.useRef(null),Te=x.useRef(0),Pe=x.useRef(),Ze=x.useRef(!1),ke=(H=x.useMemo(function(){return typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)"):null},[]),E=x.useRef(H==null?void 0:H.matches),x.useDebugValue(E.current?"reduce":"no-preference"),x.useEffect(function(){var _=function(T){E.current=T.matches};return H==null||H.addListener(_),function(){return H==null?void 0:H.removeListener(_)}},[H]),E),Ue=function(_){var T=_.targetRef,D=_.enabled,q=_.reserveScrollBarGap,Y=x.useRef({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return x.useDebugValue(D?"Enabled":"Disabled"),x.useEffect(function(){if(!D)return Y.current.deactivate(),void(Y.current={activate:function(){},deactivate:function(){}});var X=T.current,le=!1;Y.current={activate:function(){le||(le=!0,Jz(X,{allowTouchMove:function(ue){return ue.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:q}))},deactivate:function(){le&&(le=!1,Zz(X))}}},[D,T,q]),Y}({targetRef:me,enabled:te&&b,reserveScrollBarGap:$}),$e=function(_){var T=_.targetRef,D=_.enabled,q=x.useRef({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return x.useDebugValue(D?"Enabled":"Disabled"),x.useEffect(function(){if(!D)return q.current.deactivate(),void(q.current={activate:function(){},deactivate:function(){}});var Y=T.current,X=!1,le=[],ue=[];q.current={activate:function(){if(!X){X=!0;var ce=Y.parentNode;document.querySelectorAll("body > *").forEach(function(oe){if(oe!==ce){var ye=oe.getAttribute("aria-hidden");ye!==null&&ye!=="false"||(le.push(ye),ue.push(oe),oe.setAttribute("aria-hidden","true"))}})}},deactivate:function(){X&&(X=!1,ue.forEach(function(ce,oe){var ye=le[oe];ye===null?ce.removeAttribute("aria-hidden"):ce.setAttribute("aria-hidden",ye)}),le=[],ue=[])}}},[T,D]),q}({targetRef:Z,enabled:te&&p}),Ge=function(_){var T=_.targetRef,D=_.fallbackRef,q=_.initialFocusRef,Y=_.enabled,X=x.useRef({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return x.useDebugValue(Y?"Enabled":"Disabled"),x.useEffect(function(){if(!Y)return X.current.deactivate(),void(X.current={activate:function(){},deactivate:function(){}});var le=D.current,ue=qz(T.current,{onActivate:void 0,initialFocus:q?function(){return(q==null?void 0:q.current)||le}:void 0,fallbackFocus:le,escapeDeactivates:!1,clickOutsideDeactivates:!1}),ce=!1;X.current={activate:function(){try{return ce?Promise.resolve():(ce=!0,Promise.resolve(ue.activate()).then(function(){return Promise.resolve(new Promise(function(oe){return setTimeout(function(){return oe(void 0)},0)})).then(function(){})}))}catch(oe){return Promise.reject(oe)}},deactivate:function(){ce&&(ce=!1,ue.deactivate())}}},[Y,D,q,T]),X}({targetRef:Z,fallbackRef:Ve,initialFocusRef:c||void 0,enabled:te&&p&&c!==!1}),A=function(_){var T=_.getSnapPoints,D=_.heightRef,q=_.lastSnapRef,Y=_.ready,X=function(Qe){var $t=Qe.contentRef,Sn=Qe.controlledMaxHeight,xt=Qe.footerEnabled,Nn=Qe.footerRef,Bo=Qe.headerEnabled,Zn=Qe.headerRef,ga=Qe.registerReady,Gu=Qe.resizeSourceRef,o_=x.useMemo(function(){return ga("contentHeight")},[ga]),s_=function(va,c_,Ku){var Qu=x.useMemo(function(){return c_("maxHeight")},[c_]),f_=x.useState(function(){return zc(va)||typeof window<"u"?window.innerHeight:0}),d_=f_[0],np=f_[1],h_=d_>0,Yu=x.useRef(0);return x.useDebugValue(va?"controlled":"auto"),x.useEffect(function(){h_&&Qu()},[h_,Qu]),Al(function(){if(va)return np(zc(va)),void(Ku.current="maxheightprop");var p_=function(){Yu.current||(Yu.current=requestAnimationFrame(function(){np(window.innerHeight),Ku.current="window",Yu.current=0}))};return window.addEventListener("resize",p_),np(window.innerHeight),Ku.current="window",Qu(),function(){window.removeEventListener("resize",p_),cancelAnimationFrame(Yu.current)}},[va,Qu,Ku]),d_}(Sn,ga,Gu),ep=um(Zn,{label:"headerHeight",enabled:Bo,resizeSourceRef:Gu}),a_=um($t,{label:"contentHeight",enabled:!0,resizeSourceRef:Gu}),tp=um(Nn,{label:"footerHeight",enabled:xt,resizeSourceRef:Gu}),l_=Math.min(s_-ep-tp,a_)+ep+tp;x.useDebugValue("minHeight: "+l_);var u_=a_>0;return x.useEffect(function(){u_&&o_()},[u_,o_]),{maxHeight:s_,minHeight:l_,headerHeight:ep,footerHeight:tp}}({contentRef:_.contentRef,controlledMaxHeight:_.controlledMaxHeight,footerEnabled:_.footerEnabled,footerRef:_.footerRef,headerEnabled:_.headerEnabled,headerRef:_.headerRef,registerReady:_.registerReady,resizeSourceRef:_.resizeSourceRef}),le=X.maxHeight,ue=X.minHeight,ce=X.headerHeight,oe=X.footerHeight,ye=function(Qe,$t){var Sn=[].concat(Qe).map(zc).reduce(function(Zn,ga){return Zn.add($a(ga,0,$t)),Zn},new Set),xt=Array.from(Sn),Nn=Math.min.apply(Math,xt);if(Number.isNaN(Nn))throw new TypeError("minSnap is NaN");var Bo=Math.max.apply(Math,xt);if(Number.isNaN(Bo))throw new TypeError("maxSnap is NaN");return{snapPoints:xt,minSnap:Nn,maxSnap:Bo}}(Y?T({height:D.current,footerHeight:oe,headerHeight:ce,minHeight:ue,maxHeight:le}):[0],le),et=ye.snapPoints,ot=ye.minSnap,ht=ye.maxSnap;return x.useDebugValue("minSnap: "+ot+", maxSnap:"+ht),{minSnap:ot,maxSnap:ht,findSnap:function(Qe){var $t=zc(typeof Qe=="function"?Qe({footerHeight:oe,headerHeight:ce,height:D.current,minHeight:ue,maxHeight:le,snapPoints:et,lastSnap:q.current}):Qe);return et.reduce(function(Sn,xt){return Math.abs(xt-$t)<Math.abs(Sn-$t)?xt:Sn},ot)},maxHeight:le}}({contentRef:Se,controlledMaxHeight:d,footerEnabled:!!o,footerRef:De,getSnapPoints:S,headerEnabled:s!==!1,headerRef:pe,heightRef:Te,lastSnapRef:u,ready:te,registerReady:Ee,resizeSourceRef:Pe}),L=A.minSnap,j=A.maxSnap,re=A.maxHeight,ee=A.findSnap,K=x.useRef(re),de=x.useRef(L),Re=x.useRef(j),it=x.useRef(ee),vt=x.useRef(0);Al(function(){K.current=re,Re.current=j,de.current=L,it.current=ee,vt.current=ee(m)},[ee,m,re,j,L]);var dt=x.useCallback(function(_){var T=_.onRest,D=_.config,q=(D=D===void 0?{}:D).velocity,Y=q===void 0?1:q,X=yf(D,R8),le=yf(_,b8);return new Promise(function(ue){return ne(sn({},le,{config:sn({velocity:Y},X,{mass:1,tension:x8,friction:Math.max(Hc,Hc+(Hc-Hc*Y))}),onRest:function(){var ce=[].slice.call(arguments);ue.apply(void 0,ce),T==null||T.apply(void 0,ce)}}))})},[ne]),jo=i5(S8,{devTools:!1,actions:{onOpenCancel:x.useCallback(function(){return V.current==null?void 0:V.current({type:"OPEN"})},[]),onSnapCancel:x.useCallback(function(_){return V.current==null?void 0:V.current({type:"SNAP",source:_.snapSource})},[]),onCloseCancel:x.useCallback(function(){return V.current==null?void 0:V.current({type:"CLOSE"})},[]),onResizeCancel:x.useCallback(function(){return V.current==null?void 0:V.current({type:"RESIZE",source:Pe.current})},[]),onOpenEnd:x.useCallback(function(){return I.current==null?void 0:I.current({type:"OPEN"})},[]),onSnapEnd:x.useCallback(function(_,T){return I.current==null?void 0:I.current({type:"SNAP",source:_.snapSource})},[]),onResizeEnd:x.useCallback(function(){return I.current==null?void 0:I.current({type:"RESIZE",source:Pe.current})},[])},context:{initialState:l},services:{onSnapStart:x.useCallback(function(_,T){try{return Promise.resolve(B.current==null?void 0:B.current({type:"SNAP",source:T.payload.source||"custom"}))}catch(D){return Promise.reject(D)}},[]),onOpenStart:x.useCallback(function(){try{return Promise.resolve(B.current==null?void 0:B.current({type:"OPEN"}))}catch(_){return Promise.reject(_)}},[]),onCloseStart:x.useCallback(function(){try{return Promise.resolve(B.current==null?void 0:B.current({type:"CLOSE"}))}catch(_){return Promise.reject(_)}},[]),onResizeStart:x.useCallback(function(){try{return Promise.resolve(B.current==null?void 0:B.current({type:"RESIZE",source:Pe.current}))}catch(_){return Promise.reject(_)}},[]),onSnapEnd:x.useCallback(function(_,T){try{return Promise.resolve(I.current==null?void 0:I.current({type:"SNAP",source:_.snapSource}))}catch(D){return Promise.reject(D)}},[]),onOpenEnd:x.useCallback(function(){try{return Promise.resolve(I.current==null?void 0:I.current({type:"OPEN"}))}catch(_){return Promise.reject(_)}},[]),onCloseEnd:x.useCallback(function(){try{return Promise.resolve(I.current==null?void 0:I.current({type:"CLOSE"}))}catch(_){return Promise.reject(_)}},[]),onResizeEnd:x.useCallback(function(){try{return Promise.resolve(I.current==null?void 0:I.current({type:"RESIZE",source:Pe.current}))}catch(_){return Promise.reject(_)}},[]),renderVisuallyHidden:x.useCallback(function(_,T){try{return Promise.resolve(dt({y:vt.current,ready:0,maxHeight:K.current,maxSnap:Re.current,minSnap:vt.current,immediate:!0})).then(function(){})}catch(D){return Promise.reject(D)}},[dt]),activate:x.useCallback(function(_,T){try{return we.current=!0,Promise.resolve(Promise.all([Ue.current.activate(),Ge.current.activate(),$e.current.activate()])).then(function(){})}catch(D){return Promise.reject(D)}},[$e,Ge,Ue]),deactivate:x.useCallback(function(){try{return Ue.current.deactivate(),Ge.current.deactivate(),$e.current.deactivate(),we.current=!1,Promise.resolve()}catch(_){return Promise.reject(_)}},[$e,Ge,Ue]),openImmediately:x.useCallback(function(){try{return Te.current=vt.current,Promise.resolve(dt({y:vt.current,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:vt.current,immediate:!0})).then(function(){})}catch(_){return Promise.reject(_)}},[dt]),openSmoothly:x.useCallback(function(){try{return Promise.resolve(dt({y:0,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:vt.current,immediate:!0})).then(function(){return Te.current=vt.current,Promise.resolve(dt({y:vt.current,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:vt.current,immediate:ke.current})).then(function(){})})}catch(_){return Promise.reject(_)}},[dt,ke]),snapSmoothly:x.useCallback(function(_,T){try{var D=it.current(_.y);return Te.current=D,u.current=D,Promise.resolve(dt({y:D,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:de.current,immediate:ke.current,config:{velocity:_.velocity}})).then(function(){})}catch(q){return Promise.reject(q)}},[dt,u,ke]),resizeSmoothly:x.useCallback(function(){try{var _=it.current(Te.current);return Te.current=_,u.current=_,Promise.resolve(dt({y:_,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:de.current,immediate:Pe.current!=="element"||ke.current})).then(function(){})}catch(T){return Promise.reject(T)}},[dt,u,ke]),closeSmoothly:x.useCallback(function(_,T){try{return dt({minSnap:Te.current,immediate:!0}),Te.current=0,Promise.resolve(dt({y:0,maxHeight:K.current,maxSnap:Re.current,immediate:ke.current})).then(function(){return Promise.resolve(dt({ready:0,immediate:!0})).then(function(){})})}catch(D){return Promise.reject(D)}},[dt,ke])}}),Ki=jo[0],pn=jo[1];x.useEffect(function(){te&&pn(a?"OPEN":"CLOSE")},[a,pn,te]),Al(function(){(re||j||L)&&pn("RESIZE")},[re,j,L,pn]),x.useEffect(function(){return function(){Ue.current.deactivate(),Ge.current.deactivate(),$e.current.deactivate()}},[$e,Ge,Ue]),x.useImperativeHandle(e,function(){return{snapTo:function(_,T){var D=T===void 0?{}:T,q=D.velocity,Y=q===void 0?1:q,X=D.source,le=X===void 0?"custom":X;pn("SNAP",{payload:{y:it.current(_),velocity:Y,source:le}})},get height(){return Te.current}}},[pn]),x.useEffect(function(){var _=me.current,T=function(q){Ze.current&&q.preventDefault()},D=function(q){_.scrollTop<0&&(requestAnimationFrame(function(){_.style.overflow="hidden",_.scrollTop=0,_.style.removeProperty("overflow")}),q.preventDefault())};return N&&(_.addEventListener("scroll",T),_.addEventListener("touchmove",T),_.addEventListener("touchstart",D)),function(){_.removeEventListener("scroll",T),_.removeEventListener("touchmove",T),_.removeEventListener("touchstart",D)}},[N,me]);var ii=Az(function(_){var T=_.args,D=(T=T===void 0?[]:T)[0],q=(D=D===void 0?{}:D).closeOnTap,Y=q!==void 0&&q,X=D.isContentDragging,le=X!==void 0&&X,ue=_.cancel,ce=_.direction[1],oe=_.down,ye=_.first,et=_.last,ot=_.memo,ht=ot===void 0?U.y.getValue():ot,Qe=_.tap,$t=_.velocity,Sn=-1*_.movement[1];if(!we.current)return ue(),ht;if(f&&Y&&Qe)return ue(),setTimeout(function(){return f()},0),ht;if(Qe)return ht;var xt=ht+Sn,Nn=Sn*$t,Bo=Math.max(de.current,Math.min(Re.current,xt+2*Nn));if(!oe&&f&&ce>0&&xt+Nn<de.current/2)return ue(),f(),ht;var Zn=oe?f||de.current!==Re.current?Tl(xt,f?0:de.current,Re.current,.55):xt<de.current?Tl(xt,de.current,2*Re.current,.55):Tl(xt,de.current/2,Re.current,.55):Bo;return N&&le?(Zn>=Re.current&&(Zn=Re.current),ht===Re.current&&me.current.scrollTop>0&&(Zn=Re.current),Ze.current=Zn<Re.current):Ze.current=!1,ye&&pn("DRAG"),et?(pn("SNAP",{payload:{y:Zn,velocity:$t>.05?$t:1,source:"dragging"}}),ht):(ne({y:Zn,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:de.current,immediate:!0,config:{velocity:$t}}),ht)},{filterTaps:!0});if(Number.isNaN(Re.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(de.current))throw new TypeError("minSnapRef is NaN!!");var Uo=function(_){var T,D=_.spring,q=Qo([D.y,D.maxHeight],function(oe,ye){return Math.round($a(ye-oe,0,16))+"px"}),Y=Qo([D.y,D.minSnap,D.maxSnap],function(oe,ye,et){return $a(oe,ye,et)+"px"}),X=Qo([D.y,D.minSnap,D.maxSnap],function(oe,ye,et){return oe<ye?ye-oe+"px":oe>et?et-oe+"px":"0px"}),le=Qo([D.y,D.maxSnap],function(oe,ye){return oe>=ye?Math.ceil(oe-ye):0}),ue=Qo([D.y,D.minSnap],function(oe,ye){if(!ye)return 0;var et=Math.max(ye/2-45,0);return $a((oe-et)*(1/(Math.min(ye/2+45,ye)-et)+0),0,1)}),ce=Qo([D.y,D.minSnap],function(oe,ye){return ye?$a(oe/ye,0,1):0});return(T={})["--rsbs-content-opacity"]=ue,T["--rsbs-backdrop-opacity"]=ce,T["--rsbs-antigap-scale-y"]=le,T["--rsbs-overlay-translate-y"]=X,T["--rsbs-overlay-rounded"]=q,T["--rsbs-overlay-h"]=Y,T}({spring:U});return ve.createElement(W5.div,sn({},M,{"data-rsbs-root":!0,"data-rsbs-state":I8.find(Ki.matches),"data-rsbs-is-blocking":p,"data-rsbs-is-dismissable":!!f,"data-rsbs-has-header":!!s,"data-rsbs-has-footer":!!o,className:i,ref:Z,style:sn({},Uo,C,{opacity:U.ready})}),r,p&&ve.createElement("div",sn({key:"backdrop","data-rsbs-backdrop":!0},ii({closeOnTap:!0}))),ve.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:Ve,onKeyDown:function(_){_.key==="Escape"&&(_.stopPropagation(),f&&f())}},s!==!1&&ve.createElement("div",sn({key:"header","data-rsbs-header":!0,ref:pe},ii()),s),ve.createElement("div",sn({key:"scroll","data-rsbs-scroll":!0,ref:me},N?ii({isContentDragging:!0}):{}),ve.createElement("div",{"data-rsbs-content":!0,ref:Se},n)),o&&ve.createElement("div",sn({key:"footer",ref:De,"data-rsbs-footer":!0},ii()),o)))}),I8=["closed","opening","open","closing","dragging","snapping","resizing"];function C8(t){var e=t.lastSnap;return e??Math.min.apply(Math,t.snapPoints)}function P8(t){return t.minHeight}var k8=["onSpringStart","onSpringEnd","skipInitialTransition"],N8=x.forwardRef(function(t,e){var n=t.onSpringStart,r=t.onSpringEnd,i=t.skipInitialTransition,o=yf(t,k8),s=x.useState(!1),a=s[0],l=s[1],u=x.useRef(),c=x.useRef(null),f=x.useRef(i&&o.open?"OPEN":"CLOSED");Al(function(){if(o.open)return cancelAnimationFrame(u.current),l(!0),function(){f.current="CLOSED"}},[o.open]);var d=x.useCallback(function(m){return Promise.resolve(n==null?void 0:n(m)).then(function(){m.type==="OPEN"&&cancelAnimationFrame(u.current)})},[n]),h=x.useCallback(function(m){return Promise.resolve(r==null?void 0:r(m)).then(function(){m.type==="CLOSE"&&(u.current=requestAnimationFrame(function(){return l(!1)}))})},[r]);return a?ve.createElement(Z6,{"data-rsbs-portal":!0},ve.createElement(A8,sn({},o,{lastSnapRef:c,ref:e,initialState:f.current,onSpringStart:d,onSpringEnd:h}))):null});const CC=t=>{const n=new Date(t.createdAt.seconds*1e3+t.createdAt.nanoseconds/1e6),i=new Date-n,o=Math.floor(i/(1e3*60));let s;return o/60>=24?s=`${Math.floor(o/60/24)} `:o>=60?s=`${Math.floor(o/60)} `:s=`${o} `,s},D8=t=>k.jsx("div",{children:t.data.map((e,n)=>k.jsxs("div",{className:"flex items-center my-3 mx-2",children:[k.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:e.userId}),k.jsx("div",{className:"ml-2 text-[14px]",children:e.commentContent})]}),k.jsx("div",{className:"flex",children:k.jsx("div",{className:"ml-2 text-[11px]",children:CC(e)})})]})]},n))});var Wu=t=>t.type==="checkbox",vs=t=>t instanceof Date,gn=t=>t==null;const PC=t=>typeof t=="object";var Mt=t=>!gn(t)&&!Array.isArray(t)&&PC(t)&&!vs(t),V8=t=>Mt(t)&&t.target?Wu(t.target)?t.target.checked:t.target.value:t,L8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,O8=(t,e)=>t.has(L8(e)),M8=t=>{const e=t.constructor&&t.constructor.prototype;return Mt(e)&&e.hasOwnProperty("isPrototypeOf")},t_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(t_&&(t instanceof Blob||t instanceof FileList))&&(n||Mt(t)))if(e=n?[]:{},!n&&!M8(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=zn(t[r]));else return t;return e}var qu=t=>Array.isArray(t)?t.filter(Boolean):[],At=t=>t===void 0,ge=(t,e,n)=>{if(!e||!Mt(t))return n;const r=qu(e.split(/[,[\].]+?/)).reduce((i,o)=>gn(i)?i:i[o],t);return At(r)||r===t?At(t[e])?n:t[e]:r},jr=t=>typeof t=="boolean";const XE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ar={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Mr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ve.createContext(null);var $8=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==ar.all&&(e._proxyFormState[s]=!r||ar.all),n&&(n[s]=!0),t[s]}});return i},Wn=t=>Mt(t)&&!Object.keys(t).length,F8=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return Wn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!r||ar.all))},cm=t=>Array.isArray(t)?t:[t];function j8(t){const e=ve.useRef(t);e.current=t,ve.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var br=t=>typeof t=="string",U8=(t,e,n,r,i)=>br(t)?(r&&e.watch.add(t),ge(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),ge(n,o))):(r&&(e.watchAll=!0),n),n_=t=>/^\w*$/.test(t),kC=t=>qu(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(t,e,n)=>{let r=-1;const i=n_(e)?[e]:kC(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=t[a];l=Mt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},B8=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},JE=t=>({isOnSubmit:!t||t===ar.onSubmit,isOnBlur:t===ar.onBlur,isOnChange:t===ar.onChange,isOnAll:t===ar.all,isOnTouch:t===ar.onTouched}),ZE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Il=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=ge(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)break;if(s.ref&&e(s.ref,s.name)&&!r)break;Il(a,e)}else Mt(a)&&Il(a,e)}}};var z8=(t,e,n)=>{const r=qu(ge(t,n));return pt(r,"root",e[n]),pt(t,n,r),t},r_=t=>t.type==="file",wi=t=>typeof t=="function",xd=t=>{if(!t_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_f=t=>br(t),i_=t=>t.type==="radio",Ad=t=>t instanceof RegExp;const eS={value:!1,isValid:!1},tS={value:!0,isValid:!0};var NC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!At(t[0].attributes.value)?At(t[0].value)||t[0].value===""?tS:{value:t[0].value,isValid:!0}:tS:eS}return eS};const nS={isValid:!1,value:null};var DC=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,nS):nS;function rS(t,e,n="validate"){if(_f(t)||Array.isArray(t)&&t.every(_f)||jr(t)&&!t)return{type:n,message:_f(t)?t:"",ref:e}}var Xo=t=>Mt(t)&&!Ad(t)?t:{value:t,message:""},iS=async(t,e,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:f,pattern:d,validate:h,name:m,valueAsNumber:y,mount:S,disabled:g}=t._f,p=ge(e,m);if(!S||g)return{};const v=s?s[0]:o,b=N=>{r&&v.reportValidity&&(v.setCustomValidity(jr(N)?"":N||""),v.reportValidity())},C={},R=i_(o),w=Wu(o),P=R||w,O=(y||r_(o))&&At(o.value)&&At(p)||xd(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,$=B8.bind(null,m,n,C),z=(N,M,Q,te=Mr.maxLength,Ee=Mr.minLength)=>{const we=N?M:Q;C[m]={type:N?te:Ee,message:we,ref:o,...$(N?te:Ee,we)}};if(i?!Array.isArray(p)||!p.length:a&&(!P&&(O||gn(p))||jr(p)&&!p||w&&!NC(s).isValid||R&&!DC(s).isValid)){const{value:N,message:M}=_f(a)?{value:!!a,message:a}:Xo(a);if(N&&(C[m]={type:Mr.required,message:M,ref:v,...$(Mr.required,M)},!n))return b(M),C}if(!O&&(!gn(c)||!gn(f))){let N,M;const Q=Xo(f),te=Xo(c);if(!gn(p)&&!isNaN(p)){const Ee=o.valueAsNumber||p&&+p;gn(Q.value)||(N=Ee>Q.value),gn(te.value)||(M=Ee<te.value)}else{const Ee=o.valueAsDate||new Date(p),we=I=>new Date(new Date().toDateString()+" "+I),B=o.type=="time",V=o.type=="week";br(Q.value)&&p&&(N=B?we(p)>we(Q.value):V?p>Q.value:Ee>new Date(Q.value)),br(te.value)&&p&&(M=B?we(p)<we(te.value):V?p<te.value:Ee<new Date(te.value))}if((N||M)&&(z(!!N,Q.message,te.message,Mr.max,Mr.min),!n))return b(C[m].message),C}if((l||u)&&!O&&(br(p)||i&&Array.isArray(p))){const N=Xo(l),M=Xo(u),Q=!gn(N.value)&&p.length>+N.value,te=!gn(M.value)&&p.length<+M.value;if((Q||te)&&(z(Q,N.message,M.message),!n))return b(C[m].message),C}if(d&&!O&&br(p)){const{value:N,message:M}=Xo(d);if(Ad(N)&&!p.match(N)&&(C[m]={type:Mr.pattern,message:M,ref:o,...$(Mr.pattern,M)},!n))return b(M),C}if(h){if(wi(h)){const N=await h(p,e),M=rS(N,v);if(M&&(C[m]={...M,...$(Mr.validate,M.message)},!n))return b(M.message),C}else if(Mt(h)){let N={};for(const M in h){if(!Wn(N)&&!n)break;const Q=rS(await h[M](p,e),v,M);Q&&(N={...Q,...$(M,Q.message)},b(Q.message),n&&(C[m]=N))}if(!Wn(N)&&(C[m]={ref:v,...N},!n))return C}}return b(!0),C};function H8(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=At(t)?r++:t[e[r++]];return t}function W8(t){for(const e in t)if(t.hasOwnProperty(e)&&!At(t[e]))return!1;return!0}function Wt(t,e){const n=Array.isArray(e)?e:n_(e)?[e]:kC(e),r=n.length===1?t:H8(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Mt(r)&&Wn(r)||Array.isArray(r)&&W8(r))&&Wt(t,n.slice(0,-1)),t}var fm=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},Id=t=>gn(t)||!PC(t);function uo(t,e){if(Id(t)||Id(e))return t===e;if(vs(t)&&vs(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(vs(o)&&vs(s)||Mt(o)&&Mt(s)||Array.isArray(o)&&Array.isArray(s)?!uo(o,s):o!==s)return!1}}return!0}var VC=t=>t.type==="select-multiple",q8=t=>i_(t)||Wu(t),dm=t=>xd(t)&&t.isConnected,LC=t=>{for(const e in t)if(wi(t[e]))return!0;return!1};function Cd(t,e={}){const n=Array.isArray(t);if(Mt(t)||n)for(const r in t)Array.isArray(t[r])||Mt(t[r])&&!LC(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Cd(t[r],e[r])):gn(t[r])||(e[r]=!0);return e}function OC(t,e,n){const r=Array.isArray(t);if(Mt(t)||r)for(const i in t)Array.isArray(t[i])||Mt(t[i])&&!LC(t[i])?At(e)||Id(n[i])?n[i]=Array.isArray(t[i])?Cd(t[i],[]):{...Cd(t[i])}:OC(t[i],gn(e)?{}:e[i],n[i]):n[i]=!uo(t[i],e[i]);return n}var hm=(t,e)=>OC(t,e,Cd(e)),MC=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>At(t)?t:e?t===""?NaN:t&&+t:n&&br(t)?new Date(t):r?r(t):t;function pm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return r_(e)?e.files:i_(e)?DC(t.refs).value:VC(e)?[...e.selectedOptions].map(({value:n})=>n):Wu(e)?NC(t.refs).value:MC(At(e.value)?t.ref.value:e.value,t)}var G8=(t,e,n,r)=>{const i={};for(const o of t){const s=ge(e,o);s&&pt(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Fa=t=>At(t)?t:Ad(t)?t.source:Mt(t)?Ad(t.value)?t.value.source:t.value:t,K8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function oS(t,e,n){const r=ge(t,n);if(r||n_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=ge(e,o),a=ge(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var Q8=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Y8=(t,e)=>!qu(ge(t,e)).length&&Wt(t,e);const X8={mode:ar.onSubmit,reValidateMode:ar.onChange,shouldFocusError:!0};function J8(t={},e){let n={...X8,...t},r={submitCount:0,isDirty:!1,isLoading:wi(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=Mt(n.defaultValues)||Mt(n.values)?zn(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:zn(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:fm(),array:fm(),state:fm()},h=JE(n.mode),m=JE(n.reValidateMode),y=n.criteriaMode===ar.all,S=A=>L=>{clearTimeout(c),c=setTimeout(A,L)},g=async A=>{if(f.isValid||A){const L=n.resolver?Wn((await O()).errors):await z(i,!0);L!==r.isValid&&d.state.next({isValid:L})}},p=A=>f.isValidating&&d.state.next({isValidating:A}),v=(A,L=[],j,re,ee=!0,K=!0)=>{if(re&&j){if(a.action=!0,K&&Array.isArray(ge(i,A))){const de=j(ge(i,A),re.argA,re.argB);ee&&pt(i,A,de)}if(K&&Array.isArray(ge(r.errors,A))){const de=j(ge(r.errors,A),re.argA,re.argB);ee&&pt(r.errors,A,de),Y8(r.errors,A)}if(f.touchedFields&&K&&Array.isArray(ge(r.touchedFields,A))){const de=j(ge(r.touchedFields,A),re.argA,re.argB);ee&&pt(r.touchedFields,A,de)}f.dirtyFields&&(r.dirtyFields=hm(o,s)),d.state.next({name:A,isDirty:M(A,L),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pt(s,A,L)},b=(A,L)=>{pt(r.errors,A,L),d.state.next({errors:r.errors})},C=A=>{r.errors=A,d.state.next({errors:r.errors,isValid:!1})},R=(A,L,j,re)=>{const ee=ge(i,A);if(ee){const K=ge(s,A,At(j)?ge(o,A):j);At(K)||re&&re.defaultChecked||L?pt(s,A,L?K:pm(ee._f)):Ee(A,K),a.mount&&g()}},w=(A,L,j,re,ee)=>{let K=!1,de=!1;const Re={name:A},it=!!(ge(i,A)&&ge(i,A)._f.disabled);if(!j||re){f.isDirty&&(de=r.isDirty,r.isDirty=Re.isDirty=M(),K=de!==Re.isDirty);const vt=it||uo(ge(o,A),L);de=!!(!it&&ge(r.dirtyFields,A)),vt||it?Wt(r.dirtyFields,A):pt(r.dirtyFields,A,!0),Re.dirtyFields=r.dirtyFields,K=K||f.dirtyFields&&de!==!vt}if(j){const vt=ge(r.touchedFields,A);vt||(pt(r.touchedFields,A,j),Re.touchedFields=r.touchedFields,K=K||f.touchedFields&&vt!==j)}return K&&ee&&d.state.next(Re),K?Re:{}},P=(A,L,j,re)=>{const ee=ge(r.errors,A),K=f.isValid&&jr(L)&&r.isValid!==L;if(t.delayError&&j?(u=S(()=>b(A,j)),u(t.delayError)):(clearTimeout(c),u=null,j?pt(r.errors,A,j):Wt(r.errors,A)),(j?!uo(ee,j):ee)||!Wn(re)||K){const de={...re,...K&&jr(L)?{isValid:L}:{},errors:r.errors,name:A};r={...r,...de},d.state.next(de)}p(!1)},O=async A=>n.resolver(s,n.context,G8(A||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),$=async A=>{const{errors:L}=await O(A);if(A)for(const j of A){const re=ge(L,j);re?pt(r.errors,j,re):Wt(r.errors,j)}else r.errors=L;return L},z=async(A,L,j={valid:!0})=>{for(const re in A){const ee=A[re];if(ee){const{_f:K,...de}=ee;if(K){const Re=l.array.has(K.name),it=await iS(ee,s,y,n.shouldUseNativeValidation&&!L,Re);if(it[K.name]&&(j.valid=!1,L))break;!L&&(ge(it,K.name)?Re?z8(r.errors,it,K.name):pt(r.errors,K.name,it[K.name]):Wt(r.errors,K.name))}de&&await z(de,L,j)}}return j.valid},N=()=>{for(const A of l.unMount){const L=ge(i,A);L&&(L._f.refs?L._f.refs.every(j=>!dm(j)):!dm(L._f.ref))&&me(A)}l.unMount=new Set},M=(A,L)=>(A&&L&&pt(s,A,L),!uo(E(),o)),Q=(A,L,j)=>U8(A,l,{...a.mount?s:At(L)?o:br(A)?{[A]:L}:L},j,L),te=A=>qu(ge(a.mount?s:o,A,t.shouldUnregister?ge(o,A,[]):[])),Ee=(A,L,j={})=>{const re=ge(i,A);let ee=L;if(re){const K=re._f;K&&(!K.disabled&&pt(s,A,MC(L,K)),ee=xd(K.ref)&&gn(L)?"":L,VC(K.ref)?[...K.ref.options].forEach(de=>de.selected=ee.includes(de.value)):K.refs?Wu(K.ref)?K.refs.length>1?K.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(ee)?!!ee.find(Re=>Re===de.value):ee===de.value)):K.refs[0]&&(K.refs[0].checked=!!ee):K.refs.forEach(de=>de.checked=de.value===ee):r_(K.ref)?K.ref.value="":(K.ref.value=ee,K.ref.type||d.values.next({name:A,values:{...s}})))}(j.shouldDirty||j.shouldTouch)&&w(A,ee,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&H(A)},we=(A,L,j)=>{for(const re in L){const ee=L[re],K=`${A}.${re}`,de=ge(i,K);(l.array.has(A)||!Id(ee)||de&&!de._f)&&!vs(ee)?we(K,ee,j):Ee(K,ee,j)}},B=(A,L,j={})=>{const re=ge(i,A),ee=l.array.has(A),K=zn(L);pt(s,A,K),ee?(d.array.next({name:A,values:{...s}}),(f.isDirty||f.dirtyFields)&&j.shouldDirty&&d.state.next({name:A,dirtyFields:hm(o,s),isDirty:M(A,K)})):re&&!re._f&&!gn(K)?we(A,K,j):Ee(A,K,j),ZE(A,l)&&d.state.next({...r}),d.values.next({name:A,values:{...s}}),!a.mount&&e()},V=async A=>{const L=A.target;let j=L.name,re=!0;const ee=ge(i,j),K=()=>L.type?pm(ee._f):V8(A),de=Re=>{re=Number.isNaN(Re)||Re===ge(s,j,Re)};if(ee){let Re,it;const vt=K(),dt=A.type===XE.BLUR||A.type===XE.FOCUS_OUT,jo=!K8(ee._f)&&!n.resolver&&!ge(r.errors,j)&&!ee._f.deps||Q8(dt,ge(r.touchedFields,j),r.isSubmitted,m,h),Ki=ZE(j,l,dt);pt(s,j,vt),dt?(ee._f.onBlur&&ee._f.onBlur(A),u&&u(0)):ee._f.onChange&&ee._f.onChange(A);const pn=w(j,vt,dt,!1),ii=!Wn(pn)||Ki;if(!dt&&d.values.next({name:j,type:A.type,values:{...s}}),jo)return f.isValid&&g(),ii&&d.state.next({name:j,...Ki?{}:pn});if(!dt&&Ki&&d.state.next({...r}),p(!0),n.resolver){const{errors:Uo}=await O([j]);if(de(vt),re){const _=oS(r.errors,i,j),T=oS(Uo,i,_.name||j);Re=T.error,j=T.name,it=Wn(Uo)}}else Re=(await iS(ee,s,y,n.shouldUseNativeValidation))[j],de(vt),re&&(Re?it=!1:f.isValid&&(it=await z(i,!0)));re&&(ee._f.deps&&H(ee._f.deps),P(j,it,Re,pn))}},I=(A,L)=>{if(ge(r.errors,L)&&A.focus)return A.focus(),1},H=async(A,L={})=>{let j,re;const ee=cm(A);if(p(!0),n.resolver){const K=await $(At(A)?A:ee);j=Wn(K),re=A?!ee.some(de=>ge(K,de)):j}else A?(re=(await Promise.all(ee.map(async K=>{const de=ge(i,K);return await z(de&&de._f?{[K]:de}:de)}))).every(Boolean),!(!re&&!r.isValid)&&g()):re=j=await z(i);return d.state.next({...!br(A)||f.isValid&&j!==r.isValid?{}:{name:A},...n.resolver||!A?{isValid:j}:{},errors:r.errors,isValidating:!1}),L.shouldFocus&&!re&&Il(i,I,A?ee:l.mount),re},E=A=>{const L={...o,...a.mount?s:{}};return At(A)?L:br(A)?ge(L,A):A.map(j=>ge(L,j))},F=(A,L)=>({invalid:!!ge((L||r).errors,A),isDirty:!!ge((L||r).dirtyFields,A),isTouched:!!ge((L||r).touchedFields,A),error:ge((L||r).errors,A)}),U=A=>{A&&cm(A).forEach(L=>Wt(r.errors,L)),d.state.next({errors:A?r.errors:{}})},ne=(A,L,j)=>{const re=(ge(i,A,{_f:{}})._f||{}).ref;pt(r.errors,A,{...L,ref:re}),d.state.next({name:A,errors:r.errors,isValid:!1}),j&&j.shouldFocus&&re&&re.focus&&re.focus()},Z=(A,L)=>wi(A)?d.values.subscribe({next:j=>A(Q(void 0,L),j)}):Q(A,L,!0),me=(A,L={})=>{for(const j of A?cm(A):l.mount)l.mount.delete(j),l.array.delete(j),L.keepValue||(Wt(i,j),Wt(s,j)),!L.keepError&&Wt(r.errors,j),!L.keepDirty&&Wt(r.dirtyFields,j),!L.keepTouched&&Wt(r.touchedFields,j),!n.shouldUnregister&&!L.keepDefaultValue&&Wt(o,j);d.values.next({values:{...s}}),d.state.next({...r,...L.keepDirty?{isDirty:M()}:{}}),!L.keepIsValid&&g()},Se=({disabled:A,name:L,field:j,fields:re,value:ee})=>{if(jr(A)){const K=A?void 0:At(ee)?pm(j?j._f:ge(re,L)._f):ee;pt(s,L,K),w(L,K,!1,!1,!0)}},pe=(A,L={})=>{let j=ge(i,A);const re=jr(L.disabled);return pt(i,A,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:A}},name:A,mount:!0,...L}}),l.mount.add(A),j?Se({field:j,disabled:L.disabled,name:A,value:L.value}):R(A,!0,L.value),{...re?{disabled:L.disabled}:{},...n.progressive?{required:!!L.required,min:Fa(L.min),max:Fa(L.max),minLength:Fa(L.minLength),maxLength:Fa(L.maxLength),pattern:Fa(L.pattern)}:{},name:A,onChange:V,onBlur:V,ref:ee=>{if(ee){pe(A,L),j=ge(i,A);const K=At(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,de=q8(K),Re=j._f.refs||[];if(de?Re.find(it=>it===K):K===j._f.ref)return;pt(i,A,{_f:{...j._f,...de?{refs:[...Re.filter(dm),K,...Array.isArray(ge(o,A))?[{}]:[]],ref:{type:K.type,name:A}}:{ref:K}}}),R(A,!1,void 0,K)}else j=ge(i,A,{}),j._f&&(j._f.mount=!1),(n.shouldUnregister||L.shouldUnregister)&&!(O8(l.array,A)&&a.action)&&l.unMount.add(A)}}},De=()=>n.shouldFocusError&&Il(i,I,l.mount),Ve=A=>{jr(A)&&(d.state.next({disabled:A}),Il(i,(L,j)=>{let re=A;const ee=ge(i,j);ee&&jr(ee._f.disabled)&&(re||(re=ee._f.disabled)),L.disabled=re},0,!1))},Te=(A,L)=>async j=>{j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let re=zn(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:ee,values:K}=await O();r.errors=ee,re=K}else await z(i);Wt(r.errors,"root"),Wn(r.errors)?(d.state.next({errors:{}}),await A(re,j)):(L&&await L({...r.errors},j),De(),setTimeout(De)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Pe=(A,L={})=>{ge(i,A)&&(At(L.defaultValue)?B(A,zn(ge(o,A))):(B(A,L.defaultValue),pt(o,A,zn(L.defaultValue))),L.keepTouched||Wt(r.touchedFields,A),L.keepDirty||(Wt(r.dirtyFields,A),r.isDirty=L.defaultValue?M(A,zn(ge(o,A))):M()),L.keepError||(Wt(r.errors,A),f.isValid&&g()),d.state.next({...r}))},Ze=(A,L={})=>{const j=A?zn(A):o,re=zn(j),ee=A&&!Wn(A)?re:o;if(L.keepDefaultValues||(o=j),!L.keepValues){if(L.keepDirtyValues)for(const K of l.mount)ge(r.dirtyFields,K)?pt(ee,K,ge(s,K)):B(K,ge(ee,K));else{if(t_&&At(A))for(const K of l.mount){const de=ge(i,K);if(de&&de._f){const Re=Array.isArray(de._f.refs)?de._f.refs[0]:de._f.ref;if(xd(Re)){const it=Re.closest("form");if(it){it.reset();break}}}}i={}}s=t.shouldUnregister?L.keepDefaultValues?zn(o):{}:zn(ee),d.array.next({values:{...ee}}),d.values.next({values:{...ee}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!L.keepIsValid,a.watch=!!t.shouldUnregister,d.state.next({submitCount:L.keepSubmitCount?r.submitCount:0,isDirty:L.keepDirty?r.isDirty:!!(L.keepDefaultValues&&!uo(A,o)),isSubmitted:L.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:L.keepDirtyValues?r.dirtyFields:L.keepDefaultValues&&A?hm(o,A):{},touchedFields:L.keepTouched?r.touchedFields:{},errors:L.keepErrors?r.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ke=(A,L)=>Ze(wi(A)?A(s):A,L);return{control:{register:pe,unregister:me,getFieldState:F,handleSubmit:Te,setError:ne,_executeSchema:O,_getWatch:Q,_getDirty:M,_updateValid:g,_removeUnmounted:N,_updateFieldArray:v,_updateDisabledField:Se,_getFieldArray:te,_reset:Ze,_resetDefaultValues:()=>wi(n.defaultValues)&&n.defaultValues().then(A=>{ke(A,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:A=>{r={...r,...A}},_disableForm:Ve,_subjects:d,_proxyFormState:f,_setErrors:C,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(A){a=A},get _defaultValues(){return o},get _names(){return l},set _names(A){l=A},get _formState(){return r},set _formState(A){r=A},get _options(){return n},set _options(A){n={...n,...A}}},trigger:H,register:pe,handleSubmit:Te,watch:Z,setValue:B,getValues:E,reset:ke,resetField:Pe,clearErrors:U,unregister:me,setError:ne,setFocus:(A,L={})=>{const j=ge(i,A),re=j&&j._f;if(re){const ee=re.refs?re.refs[0]:re.ref;ee.focus&&(ee.focus(),L.shouldSelect&&ee.select())}},getFieldState:F}}function Z8(t={}){const e=ve.useRef(),n=ve.useRef(),[r,i]=ve.useState({isDirty:!1,isValidating:!1,isLoading:wi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:wi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...J8(t,()=>i(s=>({...s}))),formState:r});const o=e.current.control;return o._options=t,j8({subject:o._subjects.state,next:s=>{F8(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),ve.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),ve.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),ve.useEffect(()=>{t.values&&!uo(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),ve.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),ve.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=$8(r,o),e.current}function e7(t){return zi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm94-62H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-98,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm94-62H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,200,138Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Z"}}]})(t)}function t7(t){return zi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M169.64,134.33l44.77-19.46A16,16,0,0,0,213,85.07L52.92,32.8A16,16,0,0,0,32.8,52.92L85.07,213a15.83,15.83,0,0,0,14.41,11l.79,0a15.83,15.83,0,0,0,14.6-9.59h0l19.46-44.77L184,219.31a16,16,0,0,0,22.63,0l12.68-12.68a16,16,0,0,0,0-22.63Zm-69.48,73.76.06-.05Zm95.15-.09-49.66-49.67a16,16,0,0,0-26,4.94l-19.42,44.65L48,48l159.87,52.21-44.64,19.41a16,16,0,0,0-4.94,26L208,195.31ZM88,24V16a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0ZM8,96a8,8,0,0,1,8-8h8a8,8,0,0,1,0,16H16A8,8,0,0,1,8,96ZM120.85,28.42l8-16a8,8,0,0,1,14.31,7.16l-8,16a8,8,0,1,1-14.31-7.16Zm-81.69,96a8,8,0,0,1-3.58,10.74l-16,8a8,8,0,0,1-7.16-14.31l16-8A8,8,0,0,1,39.16,124.42Z"}}]})(t)}const{persistAtom:n7}=H0(),r7=async t=>{const e=gr(vr,"posts"),n=ri(e,jn("postId","==",t),O9(1));return(await Uu(n)).docs.map(o=>o.data())},i7=async t=>{const e=gr(vr,"posts"),n=ri(e,jn("userId","==",t));return(await Uu(n)).docs.map(o=>o.data())},o7=t=>{const e=gr(vr,"comments"),n=ri(e,jn("postId","==",t),L9("createdAt","desc"));return new Promise((r,i)=>{Kh(n,o=>{const s=o.docs.map(a=>({...a.data()}));localStorage.setItem("comment",JSON.stringify(s)),r(s)},o=>{i(o)})})},s7=async t=>{try{const e=gr(vr,"comments"),r=(await U0(e,{commentContent:t.commentContent,postId:t.postId,origin_commentId:t.originCommentId,userId:t.userId,createdAt:new Date})).id;await xI(A0(e,r),{commentId:r})}catch(e){console.log(e)}},a7=mr({key:"postState",default:async t=>await r7(t)}),l7=mr({key:"postByUserIdState",default:async t=>await i7(t)}),$C=mr({key:"commentState",default:async t=>await o7(t),effects:[({setSelf:t,onSet:e})=>{const n="comment",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),u7=mr({key:"setCommentState",default:async t=>await s7(t)}),Pd=Gb({key:"postIdState",default:"null",effects_UNSTABLE:[n7]}),FC=t=>{const[e]=Ur(Pd),[n,r]=x.useState(!1),[i,o]=x.useState(""),[s,a]=x.useState(""),[l,u]=x.useState(""),[c,f]=x.useState(Array(1e3).fill(!1)),{formState:{isSubmitting:d},handleSubmit:h,reset:m,register:y,setValue:S}=Z8(),g=(w,P)=>{a(w),u(P)},p=my(),v=w=>{p("/profile",{state:w})},b=()=>Zg(""),C=()=>{m();const P={userId:"test",commentContent:i.trim(),postId:e,originCommentId:l!=""?l:"null"};r(!0),u7(P),b(),setTimeout(()=>{r(!1),S("comment","")},200),a(""),u("")},[,R]=Ny($C(e));return x.useEffect(()=>{setTimeout(()=>{const w=localStorage.getItem("comment");R(JSON.parse(w))},5e3)}),k.jsxs("div",{className:"font-pretendard",children:[t.comments.map((w,P)=>k.jsx("div",{children:w.origin_commentId!="null"?"":k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center my-3 mx-2",children:[k.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8",onClick:()=>v(w.userId)}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"ml-2 text-[14px] font-semibold",onClick:()=>v(w.userId),children:w.userId}),k.jsx("div",{className:"ml-2 text-[14px]",children:w.commentContent})]}),k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"ml-2 text-[11px]",children:CC(w)}),k.jsx("div",{className:"ml-2 text-[11px]",onClick:()=>g(w.userId,w.commentId),children:" "})]})]})]}),k.jsxs("div",{className:"ml-12 text-[11px]  w-fit",onClick:()=>{const O=[...c];O[P]=!O[P],f(O)},children:[k.jsx("div",{className:"text-gray-500 cursor-pointer hover:text-black",children:t.comments.filter(O=>O.origin_commentId===w.commentId).length>0?c[P]?" ":` ${t.comments.filter(O=>O.origin_commentId===w.commentId).length}  `:""}),c[P]&&k.jsx(D8,{data:t.comments.filter(O=>O.origin_commentId===w.commentId)})]})]})},w.commentId)),s&&k.jsx("div",{className:"fixed bottom-12 left-0 right-0 p-4",children:k.jsxs("div",{className:"bg-white border w-fit p-1 rounded-3xl text-[14px] text-gray-500",onClick:()=>a(""),children:[s," X"]})}),k.jsx("form",{onSubmit:h(C),children:k.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 flex justify-center",children:[k.jsx("textarea",{...y("comment"),placeholder:" .",name:"",id:"comment",cols:30,rows:1,onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),h(C)())},onChange:w=>o(w.target.value),required:!0,className:"border border-solid border-gray-500 p-2 rounded-xl focus:outline-none mr-2 w-full"}),k.jsxs("button",{type:"submit",disabled:d,className:`bg-black text-white py-2 px-4 rounded-full ${n&&i.trim()!==""?"bg-slate-500":""}`,onClick:()=>i.trim()==""?r(!0):"",children:[k.jsx(t7,{}),k.jsx(kI,{position:"bottom-center",toastOptions:{style:{border:"2px solid #FFFFFF",padding:"10px",color:"#FFFFFF",height:"8px",width:"fit",fontSize:"12px",background:"black"}}})]})]})})]})},c7=t=>{const[e,n]=x.useState(!1),[r,i]=x.useState(!0),[o,s]=x.useState(0),a=o===0,l=o===t.data.imageUrlList.length-1,[u,c]=x.useState(!1),f=()=>{c(!u)},[d,h]=x.useState(!1),m=()=>{h(!d)},y=()=>{h(!1)},S=()=>Zg(""),g=()=>Zg(""),p=()=>{try{e?(Y9(P),g()):(X9(P),S()),n(!e)}catch(V){console.error("Error:",V)}},v=()=>{try{r?(q6(N),g()):(W6(N),S()),i(!r)}catch(V){console.error("Error:",V)}};x.useEffect(()=>{setTimeout(()=>{const V=localStorage.getItem("like"),I=localStorage.getItem("userLike");I==null?$(1):$(JSON.parse(I)),w(JSON.parse(V));const H=localStorage.getItem("following");M(H?JSON.parse(H):null)},5e3)});const b=()=>{const V=(o+1)%t.data.imageUrlList.length;s(V)},C=()=>{const V=(o-1+t.data.imageUrlList.length)%t.data.imageUrlList.length;s(V)},[R,w]=Ur(J9(t.data.postId)),P={postId:t.data&&t.data.postId,userId:t.data&&t.data.userId},[O,$]=Ur(Q9(P));O==null&&n(!e);const[z]=Ur(NI),N={followingId:z,followerId:t.data.userId},[,M]=Ur(G6(N)),[Q]=Ur(Pd),[te]=Ny($C(Q));if(te.state==="loading")return k.jsx("div",{children:" ..."});if(te.state==="hasError")return k.jsx("div",{children:" ."});const Ee=te.contents,B=Ee.filter(V=>V.origin_commentId==="null").length;return k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center my-3 mx-2",children:[k.jsx("div",{className:"rounded-full overflow-hidden size-10",children:k.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),k.jsx("div",{className:"ml-2 text-[14px] font-bold",children:t.data.userId}),r?k.jsx("div",{className:"ml-2 text-blue-400 text-[14px] ",onClick:v,children:""}):k.jsx("div",{className:"ml-2 text-black text-[14px] ",onClick:v,children:""}),k.jsxs("div",{className:"ml-auto",children:[k.jsx(r$,{onClick:f}),u&&k.jsx(i$,{onOpenModal:f})]})]}),k.jsxs("div",{className:"relative",children:[k.jsx("img",{src:t.data.imageUrlList[o],alt:" ",className:"w-full h-72"}),!a&&k.jsx("button",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 ml-1 text-4xl bg-white rounded-full opacity-70",onClick:C,children:k.jsx(l$,{})}),!l&&k.jsx("button",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 mr-1 text-4xl bg-white rounded-full opacity-70",onClick:b,children:k.jsx(a$,{})})]}),k.jsxs("div",{className:"flex-row ml-3 mt-3",children:[k.jsxs("div",{className:"flex justify-between",children:[k.jsxs("div",{className:"text-[14px] my-1 font-semibold",children:[" ",R==null?"0":R.length,""]}),k.jsxs("div",{className:"mx-2 text-[24px]",onClick:p,children:[k.jsx(kI,{position:"bottom-center",toastOptions:{style:{border:"2px solid #FFFFFF",padding:"10px",color:"#FFFFFF",height:"8px",width:"fit",fontSize:"12px",background:"black"}}}),e?k.jsx(s$,{}):k.jsx(o$,{})]})]}),k.jsxs("div",{className:"flex text-[14px]",children:[k.jsx("div",{className:"font-semibold",children:t.data.userId}),k.jsx("div",{className:"ml-1",children:t.data.postContent})]}),t.data.tagList.map((V,I)=>k.jsxs("span",{className:"text-[14px]",children:["#",V+" "]},I)),k.jsxs("div",{className:"text-[13px] text-gray-500 cursor-pointer hover:text-black w-fit ",onClick:m,children:[" ",B,"  "]}),k.jsx("div",{className:"text-[13px] text-gray-500",children:"1 "})]}),k.jsx(N8,{open:d,onDismiss:y,snapPoints:({minHeight:V,maxHeight:I})=>[V,I/2,I],children:k.jsx(FC,{comments:Ee})})]})},f7=()=>{const t=o=>{console.log(JSON.stringify(o));const s=o.postId,a=o.userId;if(s==""||s===null){console.error(" .");return}const[,l]=Ur(Pd),[,u]=Ur(NI);if(a!==null||a!=="")u(a);else{console.error(" .");return}if(s!==null||s!=="")l(s);else{console.error(" .");return}window.postMessage(JSON.stringify(o))};window.addEventListener("fromApptoWeb",()=>{window.callHandler("fromApptoWeb").then(t)});const[e,n]=Ur(Pd);if(n("NZPl4Cr1fxH54bzJm7Wy"),e==null)return k.jsx("div",{children:" ."});const r=e$(a7(e));if(r.state==="loading")return k.jsx("div",{children:" ..."});if(r.state==="hasError")return k.jsx("div",{children:" ."});const i=r.contents;return r.state==="hasValue"&&n(i[0].postId),k.jsx(x.Suspense,{fallback:"...loading",children:k.jsx("div",{className:"grid-rows-3",children:k.jsx(c7,{data:i[0]})})})};function jC(t){return zi({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"}}]})(t)}var UC={exports:{}};(function(t,e){(function(n,r){t.exports=r(x)})(zC,n=>(()=>{var r={703:(a,l,u)=>{var c=u(414);function f(){}function d(){}d.resetWarningCache=f,a.exports=function(){function h(S,g,p,v,b,C){if(C!==c){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}function m(){return h}h.isRequired=h;var y={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:m,element:h,elementType:h,instanceOf:m,node:h,objectOf:m,oneOf:m,oneOfType:m,shape:m,exact:m,checkPropTypes:d,resetWarningCache:f};return y.PropTypes=y,y}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,o),u.exports}o.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return o.d(l,{a:l}),l},o.d=(a,l)=>{for(var u in l)o.o(l,u)&&!o.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s={};return(()=>{o.r(s),o.d(s,{default:()=>z});var a=o(98),l=o.n(a),u=o(697),c=o.n(u);function f(){return f=Object.assign?Object.assign.bind():function(N){for(var M=1;M<arguments.length;M++){var Q=arguments[M];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(N[te]=Q[te])}return N},f.apply(this,arguments)}var d=function(N){var M=N.pageClassName,Q=N.pageLinkClassName,te=N.page,Ee=N.selected,we=N.activeClassName,B=N.activeLinkClassName,V=N.getEventListener,I=N.pageSelectedHandler,H=N.href,E=N.extraAriaContext,F=N.pageLabelBuilder,U=N.rel,ne=N.ariaLabel||"Page "+te+(E?" "+E:""),Z=null;return Ee&&(Z="page",ne=N.ariaLabel||"Page "+te+" is your current page",M=M!==void 0?M+" "+we:we,Q!==void 0?B!==void 0&&(Q=Q+" "+B):Q=B),l().createElement("li",{className:M},l().createElement("a",f({rel:U,role:H?void 0:"button",className:Q,href:H,tabIndex:Ee?"-1":"0","aria-label":ne,"aria-current":Z,onKeyPress:I},V(I)),F(te)))};d.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const h=d;function m(){return m=Object.assign?Object.assign.bind():function(N){for(var M=1;M<arguments.length;M++){var Q=arguments[M];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(N[te]=Q[te])}return N},m.apply(this,arguments)}var y=function(N){var M=N.breakLabel,Q=N.breakAriaLabel,te=N.breakClassName,Ee=N.breakLinkClassName,we=N.breakHandler,B=N.getEventListener,V=te||"break";return l().createElement("li",{className:V},l().createElement("a",m({className:Ee,role:"button",tabIndex:"0","aria-label":Q,onKeyPress:we},B(we)),M))};y.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabel:c().string,breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const S=y;function g(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return N??M}function p(N){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},p(N)}function v(){return v=Object.assign?Object.assign.bind():function(N){for(var M=1;M<arguments.length;M++){var Q=arguments[M];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(N[te]=Q[te])}return N},v.apply(this,arguments)}function b(N,M){for(var Q=0;Q<M.length;Q++){var te=M[Q];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(N,te.key,te)}}function C(N,M){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,te){return Q.__proto__=te,Q},C(N,M)}function R(N,M){if(M&&(p(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(N)}function w(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function P(N){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},P(N)}function O(N,M,Q){return M in N?Object.defineProperty(N,M,{value:Q,enumerable:!0,configurable:!0,writable:!0}):N[M]=Q,N}var $=function(N){(function(V,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(I&&I.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),I&&C(V,I)})(B,N);var M,Q,te,Ee,we=(te=B,Ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var V,I=P(te);if(Ee){var H=P(this).constructor;V=Reflect.construct(I,arguments,H)}else V=I.apply(this,arguments);return R(this,V)});function B(V){var I,H;return function(E,F){if(!(E instanceof F))throw new TypeError("Cannot call a class as a function")}(this,B),O(w(I=we.call(this,V)),"handlePreviousPage",function(E){var F=I.state.selected;I.handleClick(E,null,F>0?F-1:void 0,{isPrevious:!0})}),O(w(I),"handleNextPage",function(E){var F=I.state.selected,U=I.props.pageCount;I.handleClick(E,null,F<U-1?F+1:void 0,{isNext:!0})}),O(w(I),"handlePageSelected",function(E,F){if(I.state.selected===E)return I.callActiveCallback(E),void I.handleClick(F,null,void 0,{isActive:!0});I.handleClick(F,null,E)}),O(w(I),"handlePageChange",function(E){I.state.selected!==E&&(I.setState({selected:E}),I.callCallback(E))}),O(w(I),"getEventListener",function(E){return O({},I.props.eventListener,E)}),O(w(I),"handleClick",function(E,F,U){var ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Z=ne.isPrevious,me=Z!==void 0&&Z,Se=ne.isNext,pe=Se!==void 0&&Se,De=ne.isBreak,Ve=De!==void 0&&De,Te=ne.isActive,Pe=Te!==void 0&&Te;E.preventDefault?E.preventDefault():E.returnValue=!1;var Ze=I.state.selected,ke=I.props.onClick,Ue=U;if(ke){var $e=ke({index:F,selected:Ze,nextSelectedPage:U,event:E,isPrevious:me,isNext:pe,isBreak:Ve,isActive:Pe});if($e===!1)return;Number.isInteger($e)&&(Ue=$e)}Ue!==void 0&&I.handlePageChange(Ue)}),O(w(I),"handleBreakClick",function(E,F){var U=I.state.selected;I.handleClick(F,E,U<E?I.getForwardJump():I.getBackwardJump(),{isBreak:!0})}),O(w(I),"callCallback",function(E){I.props.onPageChange!==void 0&&typeof I.props.onPageChange=="function"&&I.props.onPageChange({selected:E})}),O(w(I),"callActiveCallback",function(E){I.props.onPageActive!==void 0&&typeof I.props.onPageActive=="function"&&I.props.onPageActive({selected:E})}),O(w(I),"getElementPageRel",function(E){var F=I.state.selected,U=I.props,ne=U.nextPageRel,Z=U.prevPageRel,me=U.selectedPageRel;return F-1===E?Z:F===E?me:F+1===E?ne:void 0}),O(w(I),"pagination",function(){var E=[],F=I.props,U=F.pageRangeDisplayed,ne=F.pageCount,Z=F.marginPagesDisplayed,me=F.breakLabel,Se=F.breakClassName,pe=F.breakLinkClassName,De=F.breakAriaLabels,Ve=I.state.selected;if(ne<=U)for(var Te=0;Te<ne;Te++)E.push(I.getPageElement(Te));else{var Pe=U/2,Ze=U-Pe;Ve>ne-U/2?Pe=U-(Ze=ne-Ve):Ve<U/2&&(Ze=U-(Pe=Ve));var ke,Ue,$e=function(j){return I.getPageElement(j)},Ge=[];for(ke=0;ke<ne;ke++){var A=ke+1;if(A<=Z)Ge.push({type:"page",index:ke,display:$e(ke)});else if(A>ne-Z)Ge.push({type:"page",index:ke,display:$e(ke)});else if(ke>=Ve-Pe&&ke<=Ve+(Ve===0&&U>1?Ze-1:Ze))Ge.push({type:"page",index:ke,display:$e(ke)});else if(me&&Ge.length>0&&Ge[Ge.length-1].display!==Ue&&(U>0||Z>0)){var L=ke<Ve?De.backward:De.forward;Ue=l().createElement(S,{key:ke,breakAriaLabel:L,breakLabel:me,breakClassName:Se,breakLinkClassName:pe,breakHandler:I.handleBreakClick.bind(null,ke),getEventListener:I.getEventListener}),Ge.push({type:"break",index:ke,display:Ue})}}Ge.forEach(function(j,re){var ee=j;j.type==="break"&&Ge[re-1]&&Ge[re-1].type==="page"&&Ge[re+1]&&Ge[re+1].type==="page"&&Ge[re+1].index-Ge[re-1].index<=2&&(ee={type:"page",index:j.index,display:$e(j.index)}),E.push(ee.display)})}return E}),V.initialPage!==void 0&&V.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(V.initialPage,") and forcePage (").concat(V.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),H=V.initialPage?V.initialPage:V.forcePage?V.forcePage:0,I.state={selected:H},I}return M=B,(Q=[{key:"componentDidMount",value:function(){var V=this.props,I=V.initialPage,H=V.disableInitialCallback,E=V.extraAriaContext,F=V.pageCount,U=V.forcePage;I===void 0||H||this.callCallback(I),E&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(F)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(F,"). Did you forget a Math.ceil()?")),I!==void 0&&I>F-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(I," > ").concat(F-1,").")),U!==void 0&&U>F-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(U," > ").concat(F-1,")."))}},{key:"componentDidUpdate",value:function(V){this.props.forcePage!==void 0&&this.props.forcePage!==V.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(V.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var V=this.state.selected,I=this.props,H=I.pageCount,E=V+I.pageRangeDisplayed;return E>=H?H-1:E}},{key:"getBackwardJump",value:function(){var V=this.state.selected-this.props.pageRangeDisplayed;return V<0?0:V}},{key:"getElementHref",value:function(V){var I=this.props,H=I.hrefBuilder,E=I.pageCount,F=I.hrefAllControls;if(H)return F||V>=0&&V<E?H(V+1,E,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(V){var I=V===this.state.selected;if(this.props.ariaLabelBuilder&&V>=0&&V<this.props.pageCount){var H=this.props.ariaLabelBuilder(V+1,I);return this.props.extraAriaContext&&!I&&(H=H+" "+this.props.extraAriaContext),H}}},{key:"getPageElement",value:function(V){var I=this.state.selected,H=this.props,E=H.pageClassName,F=H.pageLinkClassName,U=H.activeClassName,ne=H.activeLinkClassName,Z=H.extraAriaContext,me=H.pageLabelBuilder;return l().createElement(h,{key:V,pageSelectedHandler:this.handlePageSelected.bind(null,V),selected:I===V,rel:this.getElementPageRel(V),pageClassName:E,pageLinkClassName:F,activeClassName:U,activeLinkClassName:ne,extraAriaContext:Z,href:this.getElementHref(V),ariaLabel:this.ariaLabelBuilder(V),page:V+1,pageLabelBuilder:me,getEventListener:this.getEventListener})}},{key:"render",value:function(){var V=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&V!==void 0)return V&&V(this.props);var I=this.props,H=I.disabledClassName,E=I.disabledLinkClassName,F=I.pageCount,U=I.className,ne=I.containerClassName,Z=I.previousLabel,me=I.previousClassName,Se=I.previousLinkClassName,pe=I.previousAriaLabel,De=I.prevRel,Ve=I.nextLabel,Te=I.nextClassName,Pe=I.nextLinkClassName,Ze=I.nextAriaLabel,ke=I.nextRel,Ue=this.state.selected,$e=Ue===0,Ge=Ue===F-1,A="".concat(g(me)).concat($e?" ".concat(g(H)):""),L="".concat(g(Te)).concat(Ge?" ".concat(g(H)):""),j="".concat(g(Se)).concat($e?" ".concat(g(E)):""),re="".concat(g(Pe)).concat(Ge?" ".concat(g(E)):""),ee=$e?"true":"false",K=Ge?"true":"false";return l().createElement("ul",{className:U||ne,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:A},l().createElement("a",v({className:j,href:this.getElementHref(Ue-1),tabIndex:$e?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":ee,"aria-label":pe,rel:De},this.getEventListener(this.handlePreviousPage)),Z)),this.pagination(),l().createElement("li",{className:L},l().createElement("a",v({className:re,href:this.getElementHref(Ue+1),tabIndex:Ge?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":K,"aria-label":Ze,rel:ke},this.getEventListener(this.handleNextPage)),Ve)))}}])&&b(M.prototype,Q),Object.defineProperty(M,"prototype",{writable:!1}),B}(a.Component);O($,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabels:c().shape({forward:c().string,backward:c().string}),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),O($,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(N){return N},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const z=$})(),s})())})(UC);var d7=UC.exports;const h7=vv(d7),p7=()=>{const[e,n]=x.useState(0),r=[{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...1"},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...2"},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...3"}],i=Math.ceil(r.length/5),o=({selected:c})=>{n(c)},s=e*5,a=r.slice(s,s+5),l=my(),u=()=>{l("/notice_detail")};return k.jsxs("div",{children:[k.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:k.jsxs("div",{children:[k.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png",width:55}),k.jsx("span",{children:"overdog"})]})}),a.map(c=>k.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[k.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"text-[13px]",children:k.jsx(jC,{})}),k.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:c.title})]}),k.jsx("span",{className:"text-gray-500 text-[11px]",children:c.time})]}),k.jsx("div",{children:k.jsx("div",{className:"flex items-center",children:k.jsx("div",{className:"flex-1",onClick:u,children:k.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.contents})})})})]})),k.jsx(h7,{pageClassName:"inline-block mx-1 p-2 rounded-full cursor-pointer  ",pageLinkClassName:"block w-8 h-8 leading-8 text-center border border-gray-300 bg-white rounded-full transition duration-300 ease-in-out hover:bg-gray-300",containerClassName:"pagination flex justify-center my-2",activeClassName:"bg-gray-300",previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:o})]})},m7=()=>k.jsxs("div",{children:[k.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:k.jsxs("div",{children:[k.jsx("img",{src:"../../public/free-icon-cool-7298816.png",width:55}),k.jsx("span",{children:"overdog"})]})}),k.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[k.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"text-[13px]",children:k.jsx(jC,{})}),k.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:" "})]}),k.jsx("span",{className:"text-gray-500 text-[11px]",children:"1 "})]}),k.jsx("div",{children:k.jsx("div",{className:"flex items-center",children:k.jsx("div",{className:"flex-1",children:k.jsx("p",{className:"text-sm font-medium text-gray-900 w-full h-[30vh]",children:" "})})})})]})]}),g7=()=>{const t=my(),{state:e}=py(),[n]=Ny(l7(e));if(n.state==="loading")return k.jsx("div",{children:" ..."});if(n.state==="hasError")return k.jsx("div",{children:" ."});const r=n.contents;return k.jsxs("div",{children:[k.jsx("div",{className:"flex mx-2 my-2 justify-center ",children:k.jsx("div",{className:"mt-2",children:e})}),k.jsxs("div",{className:"top",children:[k.jsxs("div",{className:"flex mt-5 ml-3",children:[k.jsx("div",{className:"rounded-full overflow-hidden size-24",children:k.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),k.jsxs("div",{className:"flex flex-col ml-2 text-[15px]",children:[k.jsxs("div",{className:"font-semibold",children:[e,"  "]}),k.jsxs("div",{className:"flex mt-2",children:[k.jsxs("div",{className:"w-fit",children:[k.jsx("div",{className:"rounded-full overflow-hidden size-10",children:k.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),k.jsx("div",{className:"text-[11px] text-center",children:""})]}),k.jsxs("div",{className:"ml-2",children:[k.jsx("div",{className:"rounded-full overflow-hidden size-10",children:k.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),k.jsx("div",{className:"text-[11px] text-center",children:""})]}),k.jsxs("div",{className:"ml-2",children:[k.jsx("div",{className:"rounded-full overflow-hidden size-10",children:k.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),k.jsx("div",{className:"text-[11px] text-center",children:""})]})]})]})]}),k.jsxs("div",{className:"ml-3 my-2 ",children:[k.jsx("div",{className:"font-semibold",children:e}),k.jsx("div",{className:"text-[11px]",children:" ~ ~"})]})]}),k.jsx("hr",{className:"mx-1"}),k.jsxs("div",{className:"middle",children:[k.jsxs("div",{className:"flex justify-between w-2/4 mx-auto my-2 text-[13px]",children:[k.jsxs("div",{children:[k.jsx("div",{className:"font-semibold",children:""}),k.jsx("div",{className:"text-center",children:r.length})]}),k.jsxs("div",{children:[k.jsx("div",{className:"font-semibold",children:""}),k.jsx("div",{className:"text-center",children:"168"})]}),k.jsxs("div",{children:[k.jsx("div",{className:"font-semibold",children:""}),k.jsx("div",{className:"text-center",children:"214"})]})]}),k.jsx("div",{className:"flex justify-center text-[20px] mb-2",children:k.jsx(e7,{})})]}),k.jsx("hr",{className:"mx-1"}),k.jsx("div",{className:"bottom",children:k.jsx("div",{className:"grid grid-cols-3 mx-1 mt-1",children:r.map(i=>k.jsx("div",{className:"m-0 p-0",children:k.jsx("img",{src:i.imageUrlList[0],style:{marginTop:"1px",height:"110px",width:"99%",objectFit:"cover",objectPosition:"center"},onClick:()=>{t("/",{state:i})}})},i.postId))})})]})};var v7={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function y7(){return k.jsx(Z4,{children:k.jsx("div",{className:"font-pretendard",children:k.jsx(l2,{basename:v7.PUBLIC_URL,children:k.jsxs(s2,{children:[k.jsx(Jo,{path:"/",element:k.jsx(f7,{})}),k.jsx(Jo,{path:"/comment",element:k.jsx(FC,{})}),k.jsx(Jo,{path:"/notice",element:k.jsx(p7,{})}),k.jsx(Jo,{path:"/notice_detail",element:k.jsx(m7,{})}),k.jsx(Jo,{path:"/profile",element:k.jsx(g7,{})})]})})})})}mm.createRoot(document.getElementById("root")).render(k.jsx(y7,{}));
