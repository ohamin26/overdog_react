function XR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var JR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d0={exports:{}},Sc={},f0={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),ZR=Symbol.for("react.portal"),eA=Symbol.for("react.fragment"),tA=Symbol.for("react.strict_mode"),nA=Symbol.for("react.profiler"),rA=Symbol.for("react.provider"),iA=Symbol.for("react.context"),oA=Symbol.for("react.forward_ref"),sA=Symbol.for("react.suspense"),aA=Symbol.for("react.memo"),lA=Symbol.for("react.lazy"),ay=Symbol.iterator;function uA(t){return t===null||typeof t!="object"?null:(t=ay&&t[ay]||t["@@iterator"],typeof t=="function"?t:null)}var p0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m0=Object.assign,g0={};function ts(t,e,n){this.props=t,this.context=e,this.refs=g0,this.updater=n||p0}ts.prototype.isReactComponent={};ts.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ts.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y0(){}y0.prototype=ts.prototype;function Dp(t,e,n){this.props=t,this.context=e,this.refs=g0,this.updater=n||p0}var Lp=Dp.prototype=new y0;Lp.constructor=Dp;m0(Lp,ts.prototype);Lp.isPureReactComponent=!0;var ly=Array.isArray,v0=Object.prototype.hasOwnProperty,bp={current:null},_0={key:!0,ref:!0,__self:!0,__source:!0};function E0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)v0.call(e,r)&&!_0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ka,type:t,key:o,ref:s,props:i,_owner:bp.current}}function cA(t,e){return{$$typeof:Ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ka}function hA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uy=/\/+/g;function jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hA(""+t.key):e.toString(36)}function ru(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ka:case ZR:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+jh(s,0):r,ly(i)?(n="",t!=null&&(n=t.replace(uy,"$&/")+"/"),ru(i,e,n,"",function(u){return u})):i!=null&&(Mp(i)&&(i=cA(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(uy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ly(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+jh(o,a);s+=ru(o,e,n,l,i)}else if(l=uA(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+jh(o,a++),s+=ru(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Il(t,e,n){if(t==null)return t;var r=[],i=0;return ru(t,r,"","",function(o){return e.call(n,o,i++)}),r}function dA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},iu={transition:null},fA={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:iu,ReactCurrentOwner:bp};Pe.Children={map:Il,forEach:function(t,e,n){Il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Il(t,function(){e++}),e},toArray:function(t){return Il(t,function(e){return e})||[]},only:function(t){if(!Mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=ts;Pe.Fragment=eA;Pe.Profiler=nA;Pe.PureComponent=Dp;Pe.StrictMode=tA;Pe.Suspense=sA;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fA;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=bp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)v0.call(e,l)&&!_0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ka,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:iA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rA,_context:t},t.Consumer=t};Pe.createElement=E0;Pe.createFactory=function(t){var e=E0.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:oA,render:t}};Pe.isValidElement=Mp;Pe.lazy=function(t){return{$$typeof:lA,_payload:{_status:-1,_result:t},_init:dA}};Pe.memo=function(t,e){return{$$typeof:aA,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=iu.transition;iu.transition={};try{t()}finally{iu.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return Yt.current.useCallback(t,e)};Pe.useContext=function(t){return Yt.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return Yt.current.useEffect(t,e)};Pe.useId=function(){return Yt.current.useId()};Pe.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return Yt.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};Pe.useRef=function(t){return Yt.current.useRef(t)};Pe.useState=function(t){return Yt.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return Yt.current.useTransition()};Pe.version="18.2.0";f0.exports=Pe;var U=f0.exports;const _e=Vp(U),pA=XR({__proto__:null,default:_e},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA=U,gA=Symbol.for("react.element"),yA=Symbol.for("react.fragment"),vA=Object.prototype.hasOwnProperty,_A=mA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EA={key:!0,ref:!0,__self:!0,__source:!0};function w0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)vA.call(e,r)&&!EA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gA,type:t,key:o,ref:s,props:i,_owner:_A.current}}Sc.Fragment=yA;Sc.jsx=w0;Sc.jsxs=w0;d0.exports=Sc;var k=d0.exports,qd={},S0={exports:{}},gn={},T0={exports:{}},R0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,D){var S=j.length;j.push(D);e:for(;0<S;){var q=S-1>>>1,v=j[q];if(0<i(v,D))j[q]=D,j[S]=v,S=q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var D=j[0],S=j.pop();if(S!==D){j[0]=S;e:for(var q=0,v=j.length,x=v>>>1;q<x;){var L=2*(q+1)-1,te=j[L],H=L+1,le=j[H];if(0>i(te,S))H<v&&0>i(le,te)?(j[q]=le,j[H]=S,q=H):(j[q]=te,j[L]=S,q=L);else if(H<v&&0>i(le,S))j[q]=le,j[H]=S,q=H;else break e}}return D}function i(j,D){var S=j.sortIndex-D.sortIndex;return S!==0?S:j.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,y=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=j)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function A(j){if(E=!1,g(j),!y)if(n(l)!==null)y=!0,Ae(C);else{var D=n(u);D!==null&&be(A,D.startTime-j)}}function C(j,D){y=!1,E&&(E=!1,m(W),W=-1),p=!0;var S=d;try{for(g(D),h=n(l);h!==null&&(!(h.expirationTime>D)||j&&!Ie());){var q=h.callback;if(typeof q=="function"){h.callback=null,d=h.priorityLevel;var v=q(h.expirationTime<=D);D=t.unstable_now(),typeof v=="function"?h.callback=v:h===n(l)&&r(l),g(D)}else r(l);h=n(l)}if(h!==null)var x=!0;else{var L=n(u);L!==null&&be(A,L.startTime-D),x=!1}return x}finally{h=null,d=S,p=!1}}var P=!1,V=null,W=-1,ae=5,Z=-1;function Ie(){return!(t.unstable_now()-Z<ae)}function $(){if(V!==null){var j=t.unstable_now();Z=j;var D=!0;try{D=V(!0,j)}finally{D?b():(P=!1,V=null)}}else P=!1}var b;if(typeof f=="function")b=function(){f($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ue=ee.port2;ee.port1.onmessage=$,b=function(){ue.postMessage(null)}}else b=function(){T($,0)};function Ae(j){V=j,P||(P=!0,b())}function be(j,D){W=T(function(){j(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Ae(C))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var S=d;d=D;try{return j()}finally{d=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var S=d;d=j;try{return D()}finally{d=S}},t.unstable_scheduleCallback=function(j,D,S){var q=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?q+S:q):S=q,j){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=S+v,j={id:c++,callback:D,priorityLevel:j,startTime:S,expirationTime:v,sortIndex:-1},S>q?(j.sortIndex=S,e(u,j),n(l)===null&&j===n(u)&&(E?(m(W),W=-1):E=!0,be(A,S-q))):(j.sortIndex=v,e(l,j),y||p||(y=!0,Ae(C))),j},t.unstable_shouldYield=Ie,t.unstable_wrapCallback=function(j){var D=d;return function(){var S=d;d=D;try{return j.apply(this,arguments)}finally{d=S}}}})(R0);T0.exports=R0;var wA=T0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0=U,pn=wA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I0=new Set,ha={};function Bi(t,e){bo(t,e),bo(t+"Capture",e)}function bo(t,e){for(ha[t]=e,t=0;t<e.length;t++)I0.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hd=Object.prototype.hasOwnProperty,SA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cy={},hy={};function TA(t){return Hd.call(hy,t)?!0:Hd.call(cy,t)?!1:SA.test(t)?hy[t]=!0:(cy[t]=!0,!1)}function RA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AA(t,e,n,r){if(e===null||typeof e>"u"||RA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function $p(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Op,$p);bt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Op,$p);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Op,$p);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fp(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AA(e,n,i,r)&&(n=null),r||i===null?TA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=A0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cl=Symbol.for("react.element"),lo=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),Kd=Symbol.for("react.profiler"),C0=Symbol.for("react.provider"),P0=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),Gd=Symbol.for("react.suspense"),Qd=Symbol.for("react.suspense_list"),jp=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),k0=Symbol.for("react.offscreen"),dy=Symbol.iterator;function vs(t){return t===null||typeof t!="object"?null:(t=dy&&t[dy]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,zh;function bs(t){if(zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zh=e&&e[1]||""}return`
`+zh+t}var Wh=!1;function qh(t,e){if(!t||Wh)return"";Wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Wh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bs(t):""}function IA(t){switch(t.tag){case 5:return bs(t.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 2:case 15:return t=qh(t.type,!1),t;case 11:return t=qh(t.type.render,!1),t;case 1:return t=qh(t.type,!0),t;default:return""}}function Yd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uo:return"Fragment";case lo:return"Portal";case Kd:return"Profiler";case Up:return"StrictMode";case Gd:return"Suspense";case Qd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P0:return(t.displayName||"Context")+".Consumer";case C0:return(t._context.displayName||"Context")+".Provider";case Bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jp:return e=t.displayName||null,e!==null?e:Yd(t.type)||"Memo";case Cr:e=t._payload,t=t._init;try{return Yd(t(e))}catch{}}return null}function CA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yd(e);case 8:return e===Up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PA(t){var e=x0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pl(t){t._valueTracker||(t._valueTracker=PA(t))}function N0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=x0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ru(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xd(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V0(t,e){e=e.checked,e!=null&&Fp(t,"checked",e,!1)}function Jd(t,e){V0(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zd(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function py(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zd(t,e,n){(e!=="number"||Ru(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ms=Array.isArray;function To(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ef(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function my(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ms(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function D0(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kl,b0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kl=kl||document.createElement("div"),kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function da(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kA=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(t){kA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hs[e]=Hs[t]})});function M0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hs.hasOwnProperty(t)&&Hs[t]?(""+e).trim():e+"px"}function O0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=M0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xA=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nf(t,e){if(e){if(xA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function rf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=null;function zp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sf=null,Ro=null,Ao=null;function yy(t){if(t=Ya(t)){if(typeof sf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Cc(e),sf(t.stateNode,t.type,e))}}function $0(t){Ro?Ao?Ao.push(t):Ao=[t]:Ro=t}function F0(){if(Ro){var t=Ro,e=Ao;if(Ao=Ro=null,yy(t),e)for(t=0;t<e.length;t++)yy(e[t])}}function U0(t,e){return t(e)}function B0(){}var Hh=!1;function j0(t,e,n){if(Hh)return t(e,n);Hh=!0;try{return U0(t,e,n)}finally{Hh=!1,(Ro!==null||Ao!==null)&&(B0(),F0())}}function fa(t,e){var n=t.stateNode;if(n===null)return null;var r=Cc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var af=!1;if(mr)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){af=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{af=!1}function NA(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ks=!1,Au=null,Iu=!1,lf=null,VA={onError:function(t){Ks=!0,Au=t}};function DA(t,e,n,r,i,o,s,a,l){Ks=!1,Au=null,NA.apply(VA,arguments)}function LA(t,e,n,r,i,o,s,a,l){if(DA.apply(this,arguments),Ks){if(Ks){var u=Au;Ks=!1,Au=null}else throw Error(B(198));Iu||(Iu=!0,lf=u)}}function ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function z0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vy(t){if(ji(t)!==t)throw Error(B(188))}function bA(t){var e=t.alternate;if(!e){if(e=ji(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vy(i),t;if(o===r)return vy(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function W0(t){return t=bA(t),t!==null?q0(t):null}function q0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=q0(t);if(e!==null)return e;t=t.sibling}return null}var H0=pn.unstable_scheduleCallback,_y=pn.unstable_cancelCallback,MA=pn.unstable_shouldYield,OA=pn.unstable_requestPaint,ct=pn.unstable_now,$A=pn.unstable_getCurrentPriorityLevel,Wp=pn.unstable_ImmediatePriority,K0=pn.unstable_UserBlockingPriority,Cu=pn.unstable_NormalPriority,FA=pn.unstable_LowPriority,G0=pn.unstable_IdlePriority,Tc=null,Qn=null;function UA(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Tc,t,void 0,(t.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:zA,BA=Math.log,jA=Math.LN2;function zA(t){return t>>>=0,t===0?32:31-(BA(t)/jA|0)|0}var xl=64,Nl=4194304;function Os(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Os(a):(o&=s,o!==0&&(r=Os(o)))}else s=n&~i,s!==0?r=Os(s):o!==0&&(r=Os(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mn(e),i=1<<n,r|=t[n],e&=~i;return r}function WA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Mn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=WA(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function uf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Q0(){var t=xl;return xl<<=1,!(xl&4194240)&&(xl=64),t}function Kh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mn(e),t[e]=n}function HA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function Y0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var X0,Hp,J0,Z0,e1,cf=!1,Vl=[],$r=null,Fr=null,Ur=null,pa=new Map,ma=new Map,xr=[],KA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ey(t,e){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":pa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(e.pointerId)}}function Es(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ya(e),e!==null&&Hp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GA(t,e,n,r,i){switch(e){case"focusin":return $r=Es($r,t,e,n,r,i),!0;case"dragenter":return Fr=Es(Fr,t,e,n,r,i),!0;case"mouseover":return Ur=Es(Ur,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return pa.set(o,Es(pa.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ma.set(o,Es(ma.get(o)||null,t,e,n,r,i)),!0}return!1}function t1(t){var e=gi(t.target);if(e!==null){var n=ji(e);if(n!==null){if(e=n.tag,e===13){if(e=z0(n),e!==null){t.blockedOn=e,e1(t.priority,function(){J0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ou(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);of=r,n.target.dispatchEvent(r),of=null}else return e=Ya(n),e!==null&&Hp(e),t.blockedOn=n,!1;e.shift()}return!0}function wy(t,e,n){ou(t)&&n.delete(e)}function QA(){cf=!1,$r!==null&&ou($r)&&($r=null),Fr!==null&&ou(Fr)&&(Fr=null),Ur!==null&&ou(Ur)&&(Ur=null),pa.forEach(wy),ma.forEach(wy)}function ws(t,e){t.blockedOn===e&&(t.blockedOn=null,cf||(cf=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,QA)))}function ga(t){function e(i){return ws(i,t)}if(0<Vl.length){ws(Vl[0],t);for(var n=1;n<Vl.length;n++){var r=Vl[n];r.blockedOn===t&&(r.blockedOn=null)}}for($r!==null&&ws($r,t),Fr!==null&&ws(Fr,t),Ur!==null&&ws(Ur,t),pa.forEach(e),ma.forEach(e),n=0;n<xr.length;n++)r=xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xr.length&&(n=xr[0],n.blockedOn===null);)t1(n),n.blockedOn===null&&xr.shift()}var Io=Sr.ReactCurrentBatchConfig,ku=!0;function YA(t,e,n,r){var i=$e,o=Io.transition;Io.transition=null;try{$e=1,Kp(t,e,n,r)}finally{$e=i,Io.transition=o}}function XA(t,e,n,r){var i=$e,o=Io.transition;Io.transition=null;try{$e=4,Kp(t,e,n,r)}finally{$e=i,Io.transition=o}}function Kp(t,e,n,r){if(ku){var i=hf(t,e,n,r);if(i===null)rd(t,e,r,xu,n),Ey(t,r);else if(GA(i,t,e,n,r))r.stopPropagation();else if(Ey(t,r),e&4&&-1<KA.indexOf(t)){for(;i!==null;){var o=Ya(i);if(o!==null&&X0(o),o=hf(t,e,n,r),o===null&&rd(t,e,r,xu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else rd(t,e,r,null,n)}}var xu=null;function hf(t,e,n,r){if(xu=null,t=zp(r),t=gi(t),t!==null)if(e=ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=z0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xu=t,null}function n1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($A()){case Wp:return 1;case K0:return 4;case Cu:case FA:return 16;case G0:return 536870912;default:return 16}default:return 16}}var Dr=null,Gp=null,su=null;function r1(){if(su)return su;var t,e=Gp,n=e.length,r,i="value"in Dr?Dr.value:Dr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return su=i.slice(t,1<r?1-r:void 0)}function au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dl(){return!0}function Sy(){return!1}function yn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dl:Sy,this.isPropagationStopped=Sy,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),e}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qp=yn(ns),Qa=ot({},ns,{view:0,detail:0}),JA=yn(Qa),Gh,Qh,Ss,Rc=ot({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ss&&(Ss&&t.type==="mousemove"?(Gh=t.screenX-Ss.screenX,Qh=t.screenY-Ss.screenY):Qh=Gh=0,Ss=t),Gh)},movementY:function(t){return"movementY"in t?t.movementY:Qh}}),Ty=yn(Rc),ZA=ot({},Rc,{dataTransfer:0}),eI=yn(ZA),tI=ot({},Qa,{relatedTarget:0}),Yh=yn(tI),nI=ot({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),rI=yn(nI),iI=ot({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oI=yn(iI),sI=ot({},ns,{data:0}),Ry=yn(sI),aI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uI[t])?!!e[t]:!1}function Yp(){return cI}var hI=ot({},Qa,{key:function(t){if(t.key){var e=aI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yp,charCode:function(t){return t.type==="keypress"?au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dI=yn(hI),fI=ot({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ay=yn(fI),pI=ot({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yp}),mI=yn(pI),gI=ot({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),yI=yn(gI),vI=ot({},Rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_I=yn(vI),EI=[9,13,27,32],Xp=mr&&"CompositionEvent"in window,Gs=null;mr&&"documentMode"in document&&(Gs=document.documentMode);var wI=mr&&"TextEvent"in window&&!Gs,i1=mr&&(!Xp||Gs&&8<Gs&&11>=Gs),Iy=" ",Cy=!1;function o1(t,e){switch(t){case"keyup":return EI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var co=!1;function SI(t,e){switch(t){case"compositionend":return s1(e);case"keypress":return e.which!==32?null:(Cy=!0,Iy);case"textInput":return t=e.data,t===Iy&&Cy?null:t;default:return null}}function TI(t,e){if(co)return t==="compositionend"||!Xp&&o1(t,e)?(t=r1(),su=Gp=Dr=null,co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return i1&&e.locale!=="ko"?null:e.data;default:return null}}var RI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RI[t.type]:e==="textarea"}function a1(t,e,n,r){$0(r),e=Nu(e,"onChange"),0<e.length&&(n=new Qp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qs=null,ya=null;function AI(t){v1(t,0)}function Ac(t){var e=po(t);if(N0(e))return t}function II(t,e){if(t==="change")return e}var l1=!1;if(mr){var Xh;if(mr){var Jh="oninput"in document;if(!Jh){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),Jh=typeof ky.oninput=="function"}Xh=Jh}else Xh=!1;l1=Xh&&(!document.documentMode||9<document.documentMode)}function xy(){Qs&&(Qs.detachEvent("onpropertychange",u1),ya=Qs=null)}function u1(t){if(t.propertyName==="value"&&Ac(ya)){var e=[];a1(e,ya,t,zp(t)),j0(AI,e)}}function CI(t,e,n){t==="focusin"?(xy(),Qs=e,ya=n,Qs.attachEvent("onpropertychange",u1)):t==="focusout"&&xy()}function PI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ac(ya)}function kI(t,e){if(t==="click")return Ac(e)}function xI(t,e){if(t==="input"||t==="change")return Ac(e)}function NI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:NI;function va(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hd.call(e,i)||!Fn(t[i],e[i]))return!1}return!0}function Ny(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vy(t,e){var n=Ny(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ny(n)}}function c1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?c1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function h1(){for(var t=window,e=Ru();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ru(t.document)}return e}function Jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VI(t){var e=h1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&c1(n.ownerDocument.documentElement,n)){if(r!==null&&Jp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Vy(n,o);var s=Vy(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DI=mr&&"documentMode"in document&&11>=document.documentMode,ho=null,df=null,Ys=null,ff=!1;function Dy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ff||ho==null||ho!==Ru(r)||(r=ho,"selectionStart"in r&&Jp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ys&&va(Ys,r)||(Ys=r,r=Nu(df,"onSelect"),0<r.length&&(e=new Qp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ho)))}function Ll(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fo={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},Zh={},d1={};mr&&(d1=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Ic(t){if(Zh[t])return Zh[t];if(!fo[t])return t;var e=fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in d1)return Zh[t]=e[n];return t}var f1=Ic("animationend"),p1=Ic("animationiteration"),m1=Ic("animationstart"),g1=Ic("transitionend"),y1=new Map,Ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){y1.set(t,e),Bi(e,[t])}for(var ed=0;ed<Ly.length;ed++){var td=Ly[ed],LI=td.toLowerCase(),bI=td[0].toUpperCase()+td.slice(1);ti(LI,"on"+bI)}ti(f1,"onAnimationEnd");ti(p1,"onAnimationIteration");ti(m1,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(g1,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MI=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function by(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LA(r,e,void 0,t),t.currentTarget=null}function v1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;by(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;by(i,a,u),o=l}}}if(Iu)throw t=lf,Iu=!1,lf=null,t}function He(t,e){var n=e[vf];n===void 0&&(n=e[vf]=new Set);var r=t+"__bubble";n.has(r)||(_1(e,t,2,!1),n.add(r))}function nd(t,e,n){var r=0;e&&(r|=4),_1(n,t,r,e)}var bl="_reactListening"+Math.random().toString(36).slice(2);function _a(t){if(!t[bl]){t[bl]=!0,I0.forEach(function(n){n!=="selectionchange"&&(MI.has(n)||nd(n,!1,t),nd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bl]||(e[bl]=!0,nd("selectionchange",!1,e))}}function _1(t,e,n,r){switch(n1(e)){case 1:var i=YA;break;case 4:i=XA;break;default:i=Kp}n=i.bind(null,e,n,t),i=void 0,!af||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=gi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}j0(function(){var u=o,c=zp(n),h=[];e:{var d=y1.get(t);if(d!==void 0){var p=Qp,y=t;switch(t){case"keypress":if(au(n)===0)break e;case"keydown":case"keyup":p=dI;break;case"focusin":y="focus",p=Yh;break;case"focusout":y="blur",p=Yh;break;case"beforeblur":case"afterblur":p=Yh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ty;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mI;break;case f1:case p1:case m1:p=rI;break;case g1:p=yI;break;case"scroll":p=JA;break;case"wheel":p=_I;break;case"copy":case"cut":case"paste":p=oI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ay}var E=(e&4)!==0,T=!E&&t==="scroll",m=E?d!==null?d+"Capture":null:d;E=[];for(var f=u,g;f!==null;){g=f;var A=g.stateNode;if(g.tag===5&&A!==null&&(g=A,m!==null&&(A=fa(f,m),A!=null&&E.push(Ea(f,A,g)))),T)break;f=f.return}0<E.length&&(d=new p(d,y,null,n,c),h.push({event:d,listeners:E}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==of&&(y=n.relatedTarget||n.fromElement)&&(gi(y)||y[gr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?gi(y):null,y!==null&&(T=ji(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(E=Ty,A="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(E=Ay,A="onPointerLeave",m="onPointerEnter",f="pointer"),T=p==null?d:po(p),g=y==null?d:po(y),d=new E(A,f+"leave",p,n,c),d.target=T,d.relatedTarget=g,A=null,gi(c)===u&&(E=new E(m,f+"enter",y,n,c),E.target=g,E.relatedTarget=T,A=E),T=A,p&&y)t:{for(E=p,m=y,f=0,g=E;g;g=to(g))f++;for(g=0,A=m;A;A=to(A))g++;for(;0<f-g;)E=to(E),f--;for(;0<g-f;)m=to(m),g--;for(;f--;){if(E===m||m!==null&&E===m.alternate)break t;E=to(E),m=to(m)}E=null}else E=null;p!==null&&My(h,d,p,E,!1),y!==null&&T!==null&&My(h,T,y,E,!0)}}e:{if(d=u?po(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=II;else if(Py(d))if(l1)C=xI;else{C=PI;var P=CI}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=kI);if(C&&(C=C(t,u))){a1(h,C,n,c);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&Zd(d,"number",d.value)}switch(P=u?po(u):window,t){case"focusin":(Py(P)||P.contentEditable==="true")&&(ho=P,df=u,Ys=null);break;case"focusout":Ys=df=ho=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,Dy(h,n,c);break;case"selectionchange":if(DI)break;case"keydown":case"keyup":Dy(h,n,c)}var V;if(Xp)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else co?o1(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(i1&&n.locale!=="ko"&&(co||W!=="onCompositionStart"?W==="onCompositionEnd"&&co&&(V=r1()):(Dr=c,Gp="value"in Dr?Dr.value:Dr.textContent,co=!0)),P=Nu(u,W),0<P.length&&(W=new Ry(W,t,null,n,c),h.push({event:W,listeners:P}),V?W.data=V:(V=s1(n),V!==null&&(W.data=V)))),(V=wI?SI(t,n):TI(t,n))&&(u=Nu(u,"onBeforeInput"),0<u.length&&(c=new Ry("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=V))}v1(h,e)})}function Ea(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fa(t,n),o!=null&&r.unshift(Ea(t,o,i)),o=fa(t,e),o!=null&&r.push(Ea(t,o,i))),t=t.return}return r}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function My(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=fa(n,o),l!=null&&s.unshift(Ea(n,l,a))):i||(l=fa(n,o),l!=null&&s.push(Ea(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var OI=/\r\n?/g,$I=/\u0000|\uFFFD/g;function Oy(t){return(typeof t=="string"?t:""+t).replace(OI,`
`).replace($I,"")}function Ml(t,e,n){if(e=Oy(e),Oy(t)!==e&&n)throw Error(B(425))}function Vu(){}var pf=null,mf=null;function gf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yf=typeof setTimeout=="function"?setTimeout:void 0,FI=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,UI=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(t){return $y.resolve(null).then(t).catch(BI)}:yf;function BI(t){setTimeout(function(){throw t})}function id(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ga(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ga(e)}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rs=Math.random().toString(36).slice(2),Wn="__reactFiber$"+rs,wa="__reactProps$"+rs,gr="__reactContainer$"+rs,vf="__reactEvents$"+rs,jI="__reactListeners$"+rs,zI="__reactHandles$"+rs;function gi(t){var e=t[Wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[Wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fy(t);t!==null;){if(n=t[Wn])return n;t=Fy(t)}return e}t=n,n=t.parentNode}return null}function Ya(t){return t=t[Wn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Cc(t){return t[wa]||null}var _f=[],mo=-1;function ni(t){return{current:t}}function Ye(t){0>mo||(t.current=_f[mo],_f[mo]=null,mo--)}function We(t,e){mo++,_f[mo]=t.current,t.current=e}var Xr={},Wt=ni(Xr),nn=ni(!1),Pi=Xr;function Mo(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function Du(){Ye(nn),Ye(Wt)}function Uy(t,e,n){if(Wt.current!==Xr)throw Error(B(168));We(Wt,e),We(nn,n)}function E1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,CA(t)||"Unknown",i));return ot({},n,r)}function Lu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Pi=Wt.current,We(Wt,t),We(nn,nn.current),!0}function By(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=E1(t,e,Pi),r.__reactInternalMemoizedMergedChildContext=t,Ye(nn),Ye(Wt),We(Wt,t)):Ye(nn),We(nn,n)}var lr=null,Pc=!1,od=!1;function w1(t){lr===null?lr=[t]:lr.push(t)}function WI(t){Pc=!0,w1(t)}function ri(){if(!od&&lr!==null){od=!0;var t=0,e=$e;try{var n=lr;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,Pc=!1}catch(i){throw lr!==null&&(lr=lr.slice(t+1)),H0(Wp,ri),i}finally{$e=e,od=!1}}return null}var go=[],yo=0,bu=null,Mu=0,Sn=[],Tn=0,ki=null,cr=1,hr="";function hi(t,e){go[yo++]=Mu,go[yo++]=bu,bu=t,Mu=e}function S1(t,e,n){Sn[Tn++]=cr,Sn[Tn++]=hr,Sn[Tn++]=ki,ki=t;var r=cr;t=hr;var i=32-Mn(r)-1;r&=~(1<<i),n+=1;var o=32-Mn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,cr=1<<32-Mn(e)+i|n<<i|r,hr=o+t}else cr=1<<o|n<<i|r,hr=t}function Zp(t){t.return!==null&&(hi(t,1),S1(t,1,0))}function em(t){for(;t===bu;)bu=go[--yo],go[yo]=null,Mu=go[--yo],go[yo]=null;for(;t===ki;)ki=Sn[--Tn],Sn[Tn]=null,hr=Sn[--Tn],Sn[Tn]=null,cr=Sn[--Tn],Sn[Tn]=null}var fn=null,cn=null,Ze=!1,Ln=null;function T1(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,cn=Br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ki!==null?{id:cr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,cn=null,!0):!1;default:return!1}}function Ef(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wf(t){if(Ze){var e=cn;if(e){var n=e;if(!jy(t,e)){if(Ef(t))throw Error(B(418));e=Br(n.nextSibling);var r=fn;e&&jy(t,e)?T1(r,n):(t.flags=t.flags&-4097|2,Ze=!1,fn=t)}}else{if(Ef(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ze=!1,fn=t}}}function zy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Ol(t){if(t!==fn)return!1;if(!Ze)return zy(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gf(t.type,t.memoizedProps)),e&&(e=cn)){if(Ef(t))throw R1(),Error(B(418));for(;e;)T1(t,e),e=Br(e.nextSibling)}if(zy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=fn?Br(t.stateNode.nextSibling):null;return!0}function R1(){for(var t=cn;t;)t=Br(t.nextSibling)}function Oo(){cn=fn=null,Ze=!1}function tm(t){Ln===null?Ln=[t]:Ln.push(t)}var qI=Sr.ReactCurrentBatchConfig;function Vn(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ou=ni(null),$u=null,vo=null,nm=null;function rm(){nm=vo=$u=null}function im(t){var e=Ou.current;Ye(Ou),t._currentValue=e}function Sf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Co(t,e){$u=t,nm=vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(nm!==t)if(t={context:t,memoizedValue:e,next:null},vo===null){if($u===null)throw Error(B(308));vo=t,$u.dependencies={lanes:0,firstContext:t}}else vo=vo.next=t;return e}var yi=null;function om(t){yi===null?yi=[t]:yi.push(t)}function A1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,om(e)):(n.next=i.next,i.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function sm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yr(t,n)}return i=r.interleaved,i===null?(e.next=e,om(r)):(e.next=i.next,i.next=e),r.interleaved=e,yr(t,n)}function lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}function Wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fu(t,e,n,r){var i=t.updateQueue;Pr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,E=a;switch(d=e,p=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){h=y.call(p,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,d=typeof y=="function"?y.call(p,h,d):y,d==null)break e;h=ot({},h,d);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ni|=s,t.lanes=s,t.memoizedState=h}}function qy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var C1=new A0.Component().refs;function Tf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kc={isMounted:function(t){return(t=t._reactInternals)?ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Wr(t),o=fr(r,i);o.payload=e,n!=null&&(o.callback=n),e=jr(t,o,i),e!==null&&(On(e,t,i,r),lu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Wr(t),o=fr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=jr(t,o,i),e!==null&&(On(e,t,i,r),lu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=Wr(t),i=fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=jr(t,i,r),e!==null&&(On(e,t,r,n),lu(e,t,r))}};function Hy(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!va(n,r)||!va(i,o):!0}function P1(t,e,n){var r=!1,i=Xr,o=e.contextType;return typeof o=="object"&&o!==null?o=Cn(o):(i=rn(e)?Pi:Wt.current,r=e.contextTypes,o=(r=r!=null)?Mo(t,i):Xr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ky(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kc.enqueueReplaceState(e,e.state,null)}function Rf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=C1,sm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Cn(o):(o=rn(e)?Pi:Wt.current,i.context=Mo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Tf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kc.enqueueReplaceState(i,i.state,null),Fu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===C1&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function $l(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gy(t){var e=t._init;return e(t._payload)}function k1(t){function e(m,f){if(t){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=qr(m,f),m.index=0,m.sibling=null,m}function o(m,f,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,A){return f===null||f.tag!==6?(f=dd(g,m.mode,A),f.return=m,f):(f=i(f,g),f.return=m,f)}function l(m,f,g,A){var C=g.type;return C===uo?c(m,f,g.props.children,A,g.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Cr&&Gy(C)===f.type)?(A=i(f,g.props),A.ref=Ts(m,f,g),A.return=m,A):(A=pu(g.type,g.key,g.props,null,m.mode,A),A.ref=Ts(m,f,g),A.return=m,A)}function u(m,f,g,A){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=fd(g,m.mode,A),f.return=m,f):(f=i(f,g.children||[]),f.return=m,f)}function c(m,f,g,A,C){return f===null||f.tag!==7?(f=Ai(g,m.mode,A,C),f.return=m,f):(f=i(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=dd(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Cl:return g=pu(f.type,f.key,f.props,null,m.mode,g),g.ref=Ts(m,null,f),g.return=m,g;case lo:return f=fd(f,m.mode,g),f.return=m,f;case Cr:var A=f._init;return h(m,A(f._payload),g)}if(Ms(f)||vs(f))return f=Ai(f,m.mode,g,null),f.return=m,f;$l(m,f)}return null}function d(m,f,g,A){var C=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:a(m,f,""+g,A);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:return g.key===C?l(m,f,g,A):null;case lo:return g.key===C?u(m,f,g,A):null;case Cr:return C=g._init,d(m,f,C(g._payload),A)}if(Ms(g)||vs(g))return C!==null?null:c(m,f,g,A,null);$l(m,g)}return null}function p(m,f,g,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return m=m.get(g)||null,a(f,m,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Cl:return m=m.get(A.key===null?g:A.key)||null,l(f,m,A,C);case lo:return m=m.get(A.key===null?g:A.key)||null,u(f,m,A,C);case Cr:var P=A._init;return p(m,f,g,P(A._payload),C)}if(Ms(A)||vs(A))return m=m.get(g)||null,c(f,m,A,C,null);$l(f,A)}return null}function y(m,f,g,A){for(var C=null,P=null,V=f,W=f=0,ae=null;V!==null&&W<g.length;W++){V.index>W?(ae=V,V=null):ae=V.sibling;var Z=d(m,V,g[W],A);if(Z===null){V===null&&(V=ae);break}t&&V&&Z.alternate===null&&e(m,V),f=o(Z,f,W),P===null?C=Z:P.sibling=Z,P=Z,V=ae}if(W===g.length)return n(m,V),Ze&&hi(m,W),C;if(V===null){for(;W<g.length;W++)V=h(m,g[W],A),V!==null&&(f=o(V,f,W),P===null?C=V:P.sibling=V,P=V);return Ze&&hi(m,W),C}for(V=r(m,V);W<g.length;W++)ae=p(V,m,W,g[W],A),ae!==null&&(t&&ae.alternate!==null&&V.delete(ae.key===null?W:ae.key),f=o(ae,f,W),P===null?C=ae:P.sibling=ae,P=ae);return t&&V.forEach(function(Ie){return e(m,Ie)}),Ze&&hi(m,W),C}function E(m,f,g,A){var C=vs(g);if(typeof C!="function")throw Error(B(150));if(g=C.call(g),g==null)throw Error(B(151));for(var P=C=null,V=f,W=f=0,ae=null,Z=g.next();V!==null&&!Z.done;W++,Z=g.next()){V.index>W?(ae=V,V=null):ae=V.sibling;var Ie=d(m,V,Z.value,A);if(Ie===null){V===null&&(V=ae);break}t&&V&&Ie.alternate===null&&e(m,V),f=o(Ie,f,W),P===null?C=Ie:P.sibling=Ie,P=Ie,V=ae}if(Z.done)return n(m,V),Ze&&hi(m,W),C;if(V===null){for(;!Z.done;W++,Z=g.next())Z=h(m,Z.value,A),Z!==null&&(f=o(Z,f,W),P===null?C=Z:P.sibling=Z,P=Z);return Ze&&hi(m,W),C}for(V=r(m,V);!Z.done;W++,Z=g.next())Z=p(V,m,W,Z.value,A),Z!==null&&(t&&Z.alternate!==null&&V.delete(Z.key===null?W:Z.key),f=o(Z,f,W),P===null?C=Z:P.sibling=Z,P=Z);return t&&V.forEach(function($){return e(m,$)}),Ze&&hi(m,W),C}function T(m,f,g,A){if(typeof g=="object"&&g!==null&&g.type===uo&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:e:{for(var C=g.key,P=f;P!==null;){if(P.key===C){if(C=g.type,C===uo){if(P.tag===7){n(m,P.sibling),f=i(P,g.props.children),f.return=m,m=f;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Cr&&Gy(C)===P.type){n(m,P.sibling),f=i(P,g.props),f.ref=Ts(m,P,g),f.return=m,m=f;break e}n(m,P);break}else e(m,P);P=P.sibling}g.type===uo?(f=Ai(g.props.children,m.mode,A,g.key),f.return=m,m=f):(A=pu(g.type,g.key,g.props,null,m.mode,A),A.ref=Ts(m,f,g),A.return=m,m=A)}return s(m);case lo:e:{for(P=g.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=i(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=fd(g,m.mode,A),f.return=m,m=f}return s(m);case Cr:return P=g._init,T(m,f,P(g._payload),A)}if(Ms(g))return y(m,f,g,A);if(vs(g))return E(m,f,g,A);$l(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,g),f.return=m,m=f):(n(m,f),f=dd(g,m.mode,A),f.return=m,m=f),s(m)):n(m,f)}return T}var $o=k1(!0),x1=k1(!1),Xa={},Yn=ni(Xa),Sa=ni(Xa),Ta=ni(Xa);function vi(t){if(t===Xa)throw Error(B(174));return t}function am(t,e){switch(We(Ta,e),We(Sa,t),We(Yn,Xa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tf(e,t)}Ye(Yn),We(Yn,e)}function Fo(){Ye(Yn),Ye(Sa),Ye(Ta)}function N1(t){vi(Ta.current);var e=vi(Yn.current),n=tf(e,t.type);e!==n&&(We(Sa,t),We(Yn,n))}function lm(t){Sa.current===t&&(Ye(Yn),Ye(Sa))}var rt=ni(0);function Uu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sd=[];function um(){for(var t=0;t<sd.length;t++)sd[t]._workInProgressVersionPrimary=null;sd.length=0}var uu=Sr.ReactCurrentDispatcher,ad=Sr.ReactCurrentBatchConfig,xi=0,it=null,gt=null,Tt=null,Bu=!1,Xs=!1,Ra=0,HI=0;function Mt(){throw Error(B(321))}function cm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function hm(t,e,n,r,i,o){if(xi=o,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uu.current=t===null||t.memoizedState===null?YI:XI,t=n(r,i),Xs){o=0;do{if(Xs=!1,Ra=0,25<=o)throw Error(B(301));o+=1,Tt=gt=null,e.updateQueue=null,uu.current=JI,t=n(r,i)}while(Xs)}if(uu.current=ju,e=gt!==null&&gt.next!==null,xi=0,Tt=gt=it=null,Bu=!1,e)throw Error(B(300));return t}function dm(){var t=Ra!==0;return Ra=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?it.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Pn(){if(gt===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Tt===null?it.memoizedState:Tt.next;if(e!==null)Tt=e,gt=t;else{if(t===null)throw Error(B(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?it.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Aa(t,e){return typeof e=="function"?e(t):e}function ld(t){var e=Pn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((xi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,it.lanes|=c,Ni|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Fn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,it.lanes|=o,Ni|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ud(t){var e=Pn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Fn(o,e.memoizedState)||(tn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function V1(){}function D1(t,e){var n=it,r=Pn(),i=e(),o=!Fn(r.memoizedState,i);if(o&&(r.memoizedState=i,tn=!0),r=r.queue,fm(M1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Ia(9,b1.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(B(349));xi&30||L1(n,e,i)}return i}function L1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b1(t,e,n,r){e.value=n,e.getSnapshot=r,O1(e)&&$1(t)}function M1(t,e,n){return n(function(){O1(e)&&$1(t)})}function O1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function $1(t){var e=yr(t,1);e!==null&&On(e,t,1,-1)}function Qy(t){var e=zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:t},e.queue=t,t=t.dispatch=QI.bind(null,it,t),[e.memoizedState,t]}function Ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function F1(){return Pn().memoizedState}function cu(t,e,n,r){var i=zn();it.flags|=t,i.memoizedState=Ia(1|e,n,void 0,r===void 0?null:r)}function xc(t,e,n,r){var i=Pn();r=r===void 0?null:r;var o=void 0;if(gt!==null){var s=gt.memoizedState;if(o=s.destroy,r!==null&&cm(r,s.deps)){i.memoizedState=Ia(e,n,o,r);return}}it.flags|=t,i.memoizedState=Ia(1|e,n,o,r)}function Yy(t,e){return cu(8390656,8,t,e)}function fm(t,e){return xc(2048,8,t,e)}function U1(t,e){return xc(4,2,t,e)}function B1(t,e){return xc(4,4,t,e)}function j1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z1(t,e,n){return n=n!=null?n.concat([t]):null,xc(4,4,j1.bind(null,e,t),n)}function pm(){}function W1(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function q1(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function H1(t,e,n){return xi&21?(Fn(n,e)||(n=Q0(),it.lanes|=n,Ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function KI(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=ad.transition;ad.transition={};try{t(!1),e()}finally{$e=n,ad.transition=r}}function K1(){return Pn().memoizedState}function GI(t,e,n){var r=Wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G1(t))Q1(e,n);else if(n=A1(t,e,n,r),n!==null){var i=Qt();On(n,t,r,i),Y1(n,e,r)}}function QI(t,e,n){var r=Wr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G1(t))Q1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Fn(a,s)){var l=e.interleaved;l===null?(i.next=i,om(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=A1(t,e,i,r),n!==null&&(i=Qt(),On(n,t,r,i),Y1(n,e,r))}}function G1(t){var e=t.alternate;return t===it||e!==null&&e===it}function Q1(t,e){Xs=Bu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Y1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}var ju={readContext:Cn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},YI={readContext:Cn,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:Yy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cu(4194308,4,j1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return cu(4,2,t,e)},useMemo:function(t,e){var n=zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GI.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:Qy,useDebugValue:pm,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Qy(!1),e=t[0];return t=KI.bind(null,t[1]),zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,i=zn();if(Ze){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Rt===null)throw Error(B(349));xi&30||L1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Yy(M1.bind(null,r,o,t),[t]),r.flags|=2048,Ia(9,b1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=zn(),e=Rt.identifierPrefix;if(Ze){var n=hr,r=cr;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ra++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XI={readContext:Cn,useCallback:W1,useContext:Cn,useEffect:fm,useImperativeHandle:z1,useInsertionEffect:U1,useLayoutEffect:B1,useMemo:q1,useReducer:ld,useRef:F1,useState:function(){return ld(Aa)},useDebugValue:pm,useDeferredValue:function(t){var e=Pn();return H1(e,gt.memoizedState,t)},useTransition:function(){var t=ld(Aa)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:V1,useSyncExternalStore:D1,useId:K1,unstable_isNewReconciler:!1},JI={readContext:Cn,useCallback:W1,useContext:Cn,useEffect:fm,useImperativeHandle:z1,useInsertionEffect:U1,useLayoutEffect:B1,useMemo:q1,useReducer:ud,useRef:F1,useState:function(){return ud(Aa)},useDebugValue:pm,useDeferredValue:function(t){var e=Pn();return gt===null?e.memoizedState=t:H1(e,gt.memoizedState,t)},useTransition:function(){var t=ud(Aa)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:V1,useSyncExternalStore:D1,useId:K1,unstable_isNewReconciler:!1};function Uo(t,e){try{var n="",r=e;do n+=IA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function cd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Af(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZI=typeof WeakMap=="function"?WeakMap:Map;function X1(t,e,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wu||(Wu=!0,bf=r),Af(t,e)},n}function J1(t,e,n){n=fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Af(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Af(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fC.bind(null,t,e,n),e.then(t,t))}function Jy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fr(-1,1),e.tag=2,jr(n,e,1))),n.lanes|=1),t)}var eC=Sr.ReactCurrentOwner,tn=!1;function Ht(t,e,n,r){e.child=t===null?x1(e,null,n,r):$o(e,t.child,n,r)}function ev(t,e,n,r,i){n=n.render;var o=e.ref;return Co(e,i),r=hm(t,e,n,r,o,i),n=dm(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(Ze&&n&&Zp(e),e.flags|=1,Ht(t,e,r,i),e.child)}function tv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Sm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Z1(t,e,o,r,i)):(t=pu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:va,n(s,r)&&t.ref===e.ref)return vr(t,e,i)}return e.flags|=1,t=qr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Z1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(va(o,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,vr(t,e,i)}return If(t,e,n,r,i)}function eE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Eo,un),un|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Eo,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,We(Eo,un),un|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,We(Eo,un),un|=r;return Ht(t,e,i,n),e.child}function tE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function If(t,e,n,r,i){var o=rn(n)?Pi:Wt.current;return o=Mo(e,o),Co(e,i),n=hm(t,e,n,r,o,i),r=dm(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(Ze&&r&&Zp(e),e.flags|=1,Ht(t,e,n,i),e.child)}function nv(t,e,n,r,i){if(rn(n)){var o=!0;Lu(e)}else o=!1;if(Co(e,i),e.stateNode===null)hu(t,e),P1(e,n,r),Rf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cn(u):(u=rn(n)?Pi:Wt.current,u=Mo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ky(e,s,r,u),Pr=!1;var d=e.memoizedState;s.state=d,Fu(e,r,s,i),l=e.memoizedState,a!==r||d!==l||nn.current||Pr?(typeof c=="function"&&(Tf(e,n,c,r),l=e.memoizedState),(a=Pr||Hy(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,I1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vn(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=rn(n)?Pi:Wt.current,l=Mo(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Ky(e,s,r,l),Pr=!1,d=e.memoizedState,s.state=d,Fu(e,r,s,i);var y=e.memoizedState;a!==h||d!==y||nn.current||Pr?(typeof p=="function"&&(Tf(e,n,p,r),y=e.memoizedState),(u=Pr||Hy(e,n,u,r,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Cf(t,e,n,r,o,i)}function Cf(t,e,n,r,i,o){tE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&By(e,n,!1),vr(t,e,o);r=e.stateNode,eC.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=$o(e,t.child,null,o),e.child=$o(e,null,a,o)):Ht(t,e,a,o),e.memoizedState=r.state,i&&By(e,n,!0),e.child}function nE(t){var e=t.stateNode;e.pendingContext?Uy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uy(t,e.context,!1),am(t,e.containerInfo)}function rv(t,e,n,r,i){return Oo(),tm(i),e.flags|=256,Ht(t,e,n,r),e.child}var Pf={dehydrated:null,treeContext:null,retryLane:0};function kf(t){return{baseLanes:t,cachePool:null,transitions:null}}function rE(t,e,n){var r=e.pendingProps,i=rt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(rt,i&1),t===null)return wf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Dc(s,r,0,null),t=Ai(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=kf(n),e.memoizedState=Pf,t):mm(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tC(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=qr(a,o):(o=Ai(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?kf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Pf,r}return o=t.child,t=o.sibling,r=qr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mm(t,e){return e=Dc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fl(t,e,n,r){return r!==null&&tm(r),$o(e,t.child,null,n),t=mm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tC(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=cd(Error(B(422))),Fl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Dc({mode:"visible",children:r.children},i,0,null),o=Ai(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$o(e,t.child,null,s),e.child.memoizedState=kf(s),e.memoizedState=Pf,o);if(!(e.mode&1))return Fl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=cd(o,r,void 0),Fl(t,e,s,r)}if(a=(s&t.childLanes)!==0,tn||a){if(r=Rt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yr(t,i),On(r,t,i,-1))}return wm(),r=cd(Error(B(421))),Fl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,cn=Br(i.nextSibling),fn=e,Ze=!0,Ln=null,t!==null&&(Sn[Tn++]=cr,Sn[Tn++]=hr,Sn[Tn++]=ki,cr=t.id,hr=t.overflow,ki=e),e=mm(e,r.children),e.flags|=4096,e)}function iv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sf(t.return,e,n)}function hd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function iE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ht(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,n,e);else if(t.tag===19)iv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Uu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hd(e,!0,n,null,o);break;case"together":hd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nC(t,e,n){switch(e.tag){case 3:nE(e),Oo();break;case 5:N1(e);break;case 1:rn(e.type)&&Lu(e);break;case 4:am(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(Ou,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?rE(t,e,n):(We(rt,rt.current&1),t=vr(t,e,n),t!==null?t.sibling:null);We(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,eE(t,e,n)}return vr(t,e,n)}var oE,xf,sE,aE;oE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xf=function(){};sE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vi(Yn.current);var o=null;switch(n){case"input":i=Xd(t,i),r=Xd(t,r),o=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":i=ef(t,i),r=ef(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vu)}nf(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ha.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ha.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};aE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rs(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rC(t,e,n){var r=e.pendingProps;switch(em(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return rn(e.type)&&Du(),Ot(e),null;case 3:return r=e.stateNode,Fo(),Ye(nn),Ye(Wt),um(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ol(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&($f(Ln),Ln=null))),xf(t,e),Ot(e),null;case 5:lm(e);var i=vi(Ta.current);if(n=e.type,t!==null&&e.stateNode!=null)sE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Ot(e),null}if(t=vi(Yn.current),Ol(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Wn]=e,r[wa]=o,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<$s.length;i++)He($s[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":fy(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":my(r,o),He("invalid",r)}nf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ml(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ml(r.textContent,a,t),i=["children",""+a]):ha.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&He("scroll",r)}switch(n){case"input":Pl(r),py(r,o,!0);break;case"textarea":Pl(r),gy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Wn]=e,t[wa]=r,oE(t,e,!1,!1),e.stateNode=t;e:{switch(s=rf(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<$s.length;i++)He($s[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":fy(t,r),i=Xd(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),He("invalid",t);break;case"textarea":my(t,r),i=ef(t,r),He("invalid",t);break;default:i=r}nf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?O0(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&b0(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&da(t,l):typeof l=="number"&&da(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ha.hasOwnProperty(o)?l!=null&&o==="onScroll"&&He("scroll",t):l!=null&&Fp(t,o,l,s))}switch(n){case"input":Pl(t),py(t,r,!1);break;case"textarea":Pl(t),gy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?To(t,!!r.multiple,o,!1):r.defaultValue!=null&&To(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)aE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=vi(Ta.current),vi(Yn.current),Ol(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wn]=e,(o=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Ml(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ml(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=e,e.stateNode=r}return Ot(e),null;case 13:if(Ye(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&cn!==null&&e.mode&1&&!(e.flags&128))R1(),Oo(),e.flags|=98560,o=!1;else if(o=Ol(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Wn]=e}else Oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),o=!1}else Ln!==null&&($f(Ln),Ln=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?yt===0&&(yt=3):wm())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Fo(),xf(t,e),t===null&&_a(e.stateNode.containerInfo),Ot(e),null;case 10:return im(e.type._context),Ot(e),null;case 17:return rn(e.type)&&Du(),Ot(e),null;case 19:if(Ye(rt),o=e.memoizedState,o===null)return Ot(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Rs(o,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Uu(t),s!==null){for(e.flags|=128,Rs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(rt,rt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ct()>Bo&&(e.flags|=128,r=!0,Rs(o,!1),e.lanes=4194304)}else{if(!r)if(t=Uu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ze)return Ot(e),null}else 2*ct()-o.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,Rs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ct(),e.sibling=null,n=rt.current,We(rt,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return Em(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function iC(t,e){switch(em(e),e.tag){case 1:return rn(e.type)&&Du(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fo(),Ye(nn),Ye(Wt),um(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lm(e),null;case 13:if(Ye(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(rt),null;case 4:return Fo(),null;case 10:return im(e.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var Ul=!1,Ut=!1,oC=typeof WeakSet=="function"?WeakSet:Set,re=null;function _o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Nf(t,e,n){try{n()}catch(r){at(t,e,r)}}var ov=!1;function sC(t,e){if(pf=ku,t=h1(),Jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mf={focusedElem:t,selectionRange:n},ku=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,T=y.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?E:Vn(e.type,E),T);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(A){at(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return y=ov,ov=!1,y}function Js(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nf(e,n,o)}i=i.next}while(i!==r)}}function Nc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lE(t){var e=t.alternate;e!==null&&(t.alternate=null,lE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wn],delete e[wa],delete e[vf],delete e[jI],delete e[zI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uE(t){return t.tag===5||t.tag===3||t.tag===4}function sv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Df(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vu));else if(r!==4&&(t=t.child,t!==null))for(Df(t,e,n),t=t.sibling;t!==null;)Df(t,e,n),t=t.sibling}function Lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lf(t,e,n),t=t.sibling;t!==null;)Lf(t,e,n),t=t.sibling}var Pt=null,Dn=!1;function Ir(t,e,n){for(n=n.child;n!==null;)cE(t,e,n),n=n.sibling}function cE(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Tc,n)}catch{}switch(n.tag){case 5:Ut||_o(n,e);case 6:var r=Pt,i=Dn;Pt=null,Ir(t,e,n),Pt=r,Dn=i,Pt!==null&&(Dn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Dn?(t=Pt,n=n.stateNode,t.nodeType===8?id(t.parentNode,n):t.nodeType===1&&id(t,n),ga(t)):id(Pt,n.stateNode));break;case 4:r=Pt,i=Dn,Pt=n.stateNode.containerInfo,Dn=!0,Ir(t,e,n),Pt=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Nf(n,e,s),i=i.next}while(i!==r)}Ir(t,e,n);break;case 1:if(!Ut&&(_o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Ir(t,e,n),Ut=r):Ir(t,e,n);break;default:Ir(t,e,n)}}function av(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oC),e.forEach(function(r){var i=mC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Dn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Dn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(Pt===null)throw Error(B(160));cE(o,s,i),Pt=null,Dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hE(e,t),e=e.sibling}function hE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),jn(t),r&4){try{Js(3,t,t.return),Nc(3,t)}catch(E){at(t,t.return,E)}try{Js(5,t,t.return)}catch(E){at(t,t.return,E)}}break;case 1:xn(e,t),jn(t),r&512&&n!==null&&_o(n,n.return);break;case 5:if(xn(e,t),jn(t),r&512&&n!==null&&_o(n,n.return),t.flags&32){var i=t.stateNode;try{da(i,"")}catch(E){at(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&V0(i,o),rf(a,s);var u=rf(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?O0(i,h):c==="dangerouslySetInnerHTML"?b0(i,h):c==="children"?da(i,h):Fp(i,c,h,u)}switch(a){case"input":Jd(i,o);break;case"textarea":D0(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?To(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?To(i,!!o.multiple,o.defaultValue,!0):To(i,!!o.multiple,o.multiple?[]:"",!1))}i[wa]=o}catch(E){at(t,t.return,E)}}break;case 6:if(xn(e,t),jn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){at(t,t.return,E)}}break;case 3:if(xn(e,t),jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ga(e.containerInfo)}catch(E){at(t,t.return,E)}break;case 4:xn(e,t),jn(t);break;case 13:xn(e,t),jn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vm=ct())),r&4&&av(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||c,xn(e,t),Ut=u):xn(e,t),jn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(re=t,c=t.child;c!==null;){for(h=re=c;re!==null;){switch(d=re,p=d.child,d.tag){case 0:case 11:case 14:case 15:Js(4,d,d.return);break;case 1:_o(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(E){at(r,n,E)}}break;case 5:_o(d,d.return);break;case 22:if(d.memoizedState!==null){uv(h);continue}}p!==null?(p.return=d,re=p):uv(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=M0("display",s))}catch(E){at(t,t.return,E)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){at(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xn(e,t),jn(t),r&4&&av(t);break;case 21:break;default:xn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uE(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(da(i,""),r.flags&=-33);var o=sv(t);Lf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=sv(t);Df(t,a,s);break;default:throw Error(B(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aC(t,e,n){re=t,dE(t)}function dE(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ul;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=Ul;var u=Ut;if(Ul=s,(Ut=l)&&!u)for(re=i;re!==null;)s=re,l=s.child,s.tag===22&&s.memoizedState!==null?cv(i):l!==null?(l.return=s,re=l):cv(i);for(;o!==null;)re=o,dE(o),o=o.sibling;re=i,Ul=a,Ut=u}lv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):lv(t)}}function lv(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||Nc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qy(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qy(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ga(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ut||e.flags&512&&Vf(e)}catch(d){at(e,e.return,d)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function uv(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function cv(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nc(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var o=e.return;try{Vf(e)}catch(l){at(e,o,l)}break;case 5:var s=e.return;try{Vf(e)}catch(l){at(e,s,l)}}}catch(l){at(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var lC=Math.ceil,zu=Sr.ReactCurrentDispatcher,gm=Sr.ReactCurrentOwner,In=Sr.ReactCurrentBatchConfig,Le=0,Rt=null,pt=null,Vt=0,un=0,Eo=ni(0),yt=0,Ca=null,Ni=0,Vc=0,ym=0,Zs=null,Zt=null,vm=0,Bo=1/0,ar=null,Wu=!1,bf=null,zr=null,Bl=!1,Lr=null,qu=0,ea=0,Mf=null,du=-1,fu=0;function Qt(){return Le&6?ct():du!==-1?du:du=ct()}function Wr(t){return t.mode&1?Le&2&&Vt!==0?Vt&-Vt:qI.transition!==null?(fu===0&&(fu=Q0()),fu):(t=$e,t!==0||(t=window.event,t=t===void 0?16:n1(t.type)),t):1}function On(t,e,n,r){if(50<ea)throw ea=0,Mf=null,Error(B(185));Ga(t,n,r),(!(Le&2)||t!==Rt)&&(t===Rt&&(!(Le&2)&&(Vc|=n),yt===4&&Nr(t,Vt)),on(t,r),n===1&&Le===0&&!(e.mode&1)&&(Bo=ct()+500,Pc&&ri()))}function on(t,e){var n=t.callbackNode;qA(t,e);var r=Pu(t,t===Rt?Vt:0);if(r===0)n!==null&&_y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_y(n),e===1)t.tag===0?WI(hv.bind(null,t)):w1(hv.bind(null,t)),UI(function(){!(Le&6)&&ri()}),n=null;else{switch(Y0(r)){case 1:n=Wp;break;case 4:n=K0;break;case 16:n=Cu;break;case 536870912:n=G0;break;default:n=Cu}n=EE(n,fE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fE(t,e){if(du=-1,fu=0,Le&6)throw Error(B(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=Pu(t,t===Rt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hu(t,r);else{e=r;var i=Le;Le|=2;var o=mE();(Rt!==t||Vt!==e)&&(ar=null,Bo=ct()+500,Ri(t,e));do try{hC();break}catch(a){pE(t,a)}while(!0);rm(),zu.current=o,Le=i,pt!==null?e=0:(Rt=null,Vt=0,e=yt)}if(e!==0){if(e===2&&(i=uf(t),i!==0&&(r=i,e=Of(t,i))),e===1)throw n=Ca,Ri(t,0),Nr(t,r),on(t,ct()),n;if(e===6)Nr(t,r);else{if(i=t.current.alternate,!(r&30)&&!uC(i)&&(e=Hu(t,r),e===2&&(o=uf(t),o!==0&&(r=o,e=Of(t,o))),e===1))throw n=Ca,Ri(t,0),Nr(t,r),on(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:di(t,Zt,ar);break;case 3:if(Nr(t,r),(r&130023424)===r&&(e=vm+500-ct(),10<e)){if(Pu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yf(di.bind(null,t,Zt,ar),e);break}di(t,Zt,ar);break;case 4:if(Nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Mn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lC(r/1960))-r,10<r){t.timeoutHandle=yf(di.bind(null,t,Zt,ar),r);break}di(t,Zt,ar);break;case 5:di(t,Zt,ar);break;default:throw Error(B(329))}}}return on(t,ct()),t.callbackNode===n?fE.bind(null,t):null}function Of(t,e){var n=Zs;return t.current.memoizedState.isDehydrated&&(Ri(t,e).flags|=256),t=Hu(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&$f(e)),t}function $f(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function uC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Fn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nr(t,e){for(e&=~ym,e&=~Vc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mn(e),r=1<<n;t[n]=-1,e&=~r}}function hv(t){if(Le&6)throw Error(B(327));Po();var e=Pu(t,0);if(!(e&1))return on(t,ct()),null;var n=Hu(t,e);if(t.tag!==0&&n===2){var r=uf(t);r!==0&&(e=r,n=Of(t,r))}if(n===1)throw n=Ca,Ri(t,0),Nr(t,e),on(t,ct()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,Zt,ar),on(t,ct()),null}function _m(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Bo=ct()+500,Pc&&ri())}}function Vi(t){Lr!==null&&Lr.tag===0&&!(Le&6)&&Po();var e=Le;Le|=1;var n=In.transition,r=$e;try{if(In.transition=null,$e=1,t)return t()}finally{$e=r,In.transition=n,Le=e,!(Le&6)&&ri()}}function Em(){un=Eo.current,Ye(Eo)}function Ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FI(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(em(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Du();break;case 3:Fo(),Ye(nn),Ye(Wt),um();break;case 5:lm(r);break;case 4:Fo();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:im(r.type._context);break;case 22:case 23:Em()}n=n.return}if(Rt=t,pt=t=qr(t.current,null),Vt=un=e,yt=0,Ca=null,ym=Vc=Ni=0,Zt=Zs=null,yi!==null){for(e=0;e<yi.length;e++)if(n=yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}yi=null}return t}function pE(t,e){do{var n=pt;try{if(rm(),uu.current=ju,Bu){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bu=!1}if(xi=0,Tt=gt=it=null,Xs=!1,Ra=0,gm.current=null,n===null||n.return===null){yt=1,Ca=e,pt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Jy(s);if(p!==null){p.flags&=-257,Zy(p,s,a,o,e),p.mode&1&&Xy(o,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var E=new Set;E.add(l),e.updateQueue=E}else y.add(l);break e}else{if(!(e&1)){Xy(o,u,e),wm();break e}l=Error(B(426))}}else if(Ze&&a.mode&1){var T=Jy(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Zy(T,s,a,o,e),tm(Uo(l,a));break e}}o=l=Uo(l,a),yt!==4&&(yt=2),Zs===null?Zs=[o]:Zs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=X1(o,l,e);Wy(o,m);break e;case 1:a=l;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zr===null||!zr.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=J1(o,a,e);Wy(o,A);break e}}o=o.return}while(o!==null)}yE(n)}catch(C){e=C,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function mE(){var t=zu.current;return zu.current=ju,t===null?ju:t}function wm(){(yt===0||yt===3||yt===2)&&(yt=4),Rt===null||!(Ni&268435455)&&!(Vc&268435455)||Nr(Rt,Vt)}function Hu(t,e){var n=Le;Le|=2;var r=mE();(Rt!==t||Vt!==e)&&(ar=null,Ri(t,e));do try{cC();break}catch(i){pE(t,i)}while(!0);if(rm(),Le=n,zu.current=r,pt!==null)throw Error(B(261));return Rt=null,Vt=0,yt}function cC(){for(;pt!==null;)gE(pt)}function hC(){for(;pt!==null&&!MA();)gE(pt)}function gE(t){var e=_E(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?yE(t):pt=e,gm.current=null}function yE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iC(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,pt=null;return}}else if(n=rC(n,e,un),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);yt===0&&(yt=5)}function di(t,e,n){var r=$e,i=In.transition;try{In.transition=null,$e=1,dC(t,e,n,r)}finally{In.transition=i,$e=r}return null}function dC(t,e,n,r){do Po();while(Lr!==null);if(Le&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(HA(t,o),t===Rt&&(pt=Rt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bl||(Bl=!0,EE(Cu,function(){return Po(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=In.transition,In.transition=null;var s=$e;$e=1;var a=Le;Le|=4,gm.current=null,sC(t,n),hE(n,t),VI(mf),ku=!!pf,mf=pf=null,t.current=n,aC(n),OA(),Le=a,$e=s,In.transition=o}else t.current=n;if(Bl&&(Bl=!1,Lr=t,qu=i),o=t.pendingLanes,o===0&&(zr=null),UA(n.stateNode),on(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,t=bf,bf=null,t;return qu&1&&t.tag!==0&&Po(),o=t.pendingLanes,o&1?t===Mf?ea++:(ea=0,Mf=t):ea=0,ri(),null}function Po(){if(Lr!==null){var t=Y0(qu),e=In.transition,n=$e;try{if(In.transition=null,$e=16>t?16:t,Lr===null)var r=!1;else{if(t=Lr,Lr=null,qu=0,Le&6)throw Error(B(331));var i=Le;for(Le|=4,re=t.current;re!==null;){var o=re,s=o.child;if(re.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:Js(8,c,o)}var h=c.child;if(h!==null)h.return=c,re=h;else for(;re!==null;){c=re;var d=c.sibling,p=c.return;if(lE(c),c===u){re=null;break}if(d!==null){d.return=p,re=d;break}re=p}}}var y=o.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var T=E.sibling;E.sibling=null,E=T}while(E!==null)}}re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,re=s;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Js(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,re=m;break e}re=o.return}}var f=t.current;for(re=f;re!==null;){s=re;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,re=g;else e:for(s=f;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nc(9,a)}}catch(C){at(a,a.return,C)}if(a===s){re=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,re=A;break e}re=a.return}}if(Le=i,ri(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Tc,t)}catch{}r=!0}return r}finally{$e=n,In.transition=e}}return!1}function dv(t,e,n){e=Uo(n,e),e=X1(t,e,1),t=jr(t,e,1),e=Qt(),t!==null&&(Ga(t,1,e),on(t,e))}function at(t,e,n){if(t.tag===3)dv(t,t,n);else for(;e!==null;){if(e.tag===3){dv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=Uo(n,t),t=J1(e,t,1),e=jr(e,t,1),t=Qt(),e!==null&&(Ga(e,1,t),on(e,t));break}}e=e.return}}function fC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Vt&n)===n&&(yt===4||yt===3&&(Vt&130023424)===Vt&&500>ct()-vm?Ri(t,0):ym|=n),on(t,e)}function vE(t,e){e===0&&(t.mode&1?(e=Nl,Nl<<=1,!(Nl&130023424)&&(Nl=4194304)):e=1);var n=Qt();t=yr(t,e),t!==null&&(Ga(t,e,n),on(t,n))}function pC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vE(t,n)}function mC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),vE(t,n)}var _E;_E=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,nC(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Ze&&e.flags&1048576&&S1(e,Mu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hu(t,e),t=e.pendingProps;var i=Mo(e,Wt.current);Co(e,n),i=hm(null,e,r,t,i,n);var o=dm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(o=!0,Lu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sm(e),i.updater=kc,e.stateNode=i,i._reactInternals=e,Rf(e,r,t,n),e=Cf(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&Zp(e),Ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yC(r),t=Vn(r,t),i){case 0:e=If(null,e,r,t,n);break e;case 1:e=nv(null,e,r,t,n);break e;case 11:e=ev(null,e,r,t,n);break e;case 14:e=tv(null,e,r,Vn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),If(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),nv(t,e,r,i,n);case 3:e:{if(nE(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,I1(t,e),Fu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Uo(Error(B(423)),e),e=rv(t,e,r,n,i);break e}else if(r!==i){i=Uo(Error(B(424)),e),e=rv(t,e,r,n,i);break e}else for(cn=Br(e.stateNode.containerInfo.firstChild),fn=e,Ze=!0,Ln=null,n=x1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),r===i){e=vr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return N1(e),t===null&&wf(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,gf(r,i)?s=null:o!==null&&gf(r,o)&&(e.flags|=32),tE(t,e),Ht(t,e,s,n),e.child;case 6:return t===null&&wf(e),null;case 13:return rE(t,e,n);case 4:return am(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$o(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),ev(t,e,r,i,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,We(Ou,r._currentValue),r._currentValue=s,o!==null)if(Fn(o.value,s)){if(o.children===i.children&&!nn.current){e=vr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=fr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Sf(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Sf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Co(e,n),i=Cn(i),r=r(i),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),tv(t,e,r,i,n);case 15:return Z1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),hu(t,e),e.tag=1,rn(r)?(t=!0,Lu(e)):t=!1,Co(e,n),P1(e,r,i),Rf(e,r,i,n),Cf(null,e,r,!0,t,n);case 19:return iE(t,e,n);case 22:return eE(t,e,n)}throw Error(B(156,e.tag))};function EE(t,e){return H0(t,e)}function gC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new gC(t,e,n,r)}function Sm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yC(t){if(typeof t=="function")return Sm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bp)return 11;if(t===jp)return 14}return 2}function qr(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Sm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case uo:return Ai(n.children,i,o,e);case Up:s=8,i|=8;break;case Kd:return t=An(12,n,e,i|2),t.elementType=Kd,t.lanes=o,t;case Gd:return t=An(13,n,e,i),t.elementType=Gd,t.lanes=o,t;case Qd:return t=An(19,n,e,i),t.elementType=Qd,t.lanes=o,t;case k0:return Dc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C0:s=10;break e;case P0:s=9;break e;case Bp:s=11;break e;case jp:s=14;break e;case Cr:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=An(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ai(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Dc(t,e,n,r){return t=An(22,t,r,e),t.elementType=k0,t.lanes=n,t.stateNode={isHidden:!1},t}function dd(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function fd(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kh(0),this.expirationTimes=Kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tm(t,e,n,r,i,o,s,a,l){return t=new vC(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=An(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sm(o),t}function _C(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wE(t){if(!t)return Xr;t=t._reactInternals;e:{if(ji(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(rn(n))return E1(t,n,e)}return e}function SE(t,e,n,r,i,o,s,a,l){return t=Tm(n,r,!0,t,i,o,s,a,l),t.context=wE(null),n=t.current,r=Qt(),i=Wr(n),o=fr(r,i),o.callback=e??null,jr(n,o,i),t.current.lanes=i,Ga(t,i,r),on(t,r),t}function Lc(t,e,n,r){var i=e.current,o=Qt(),s=Wr(i);return n=wE(n),e.context===null?e.context=n:e.pendingContext=n,e=fr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jr(i,e,s),t!==null&&(On(t,i,s,o),lu(t,i,s)),s}function Ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rm(t,e){fv(t,e),(t=t.alternate)&&fv(t,e)}function EC(){return null}var TE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Am(t){this._internalRoot=t}bc.prototype.render=Am.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Lc(t,e,null,null)};bc.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){Lc(null,t,null,null)}),e[gr]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Z0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xr.length&&e!==0&&e<xr[n].priority;n++);xr.splice(n,0,t),n===0&&t1(t)}};function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pv(){}function wC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ku(s);o.call(u)}}var s=SE(e,r,t,0,null,!1,!1,"",pv);return t._reactRootContainer=s,t[gr]=s.current,_a(t.nodeType===8?t.parentNode:t),Vi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ku(l);a.call(u)}}var l=Tm(t,0,!1,null,null,!1,!1,"",pv);return t._reactRootContainer=l,t[gr]=l.current,_a(t.nodeType===8?t.parentNode:t),Vi(function(){Lc(e,l,n,r)}),l}function Oc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ku(s);a.call(l)}}Lc(e,s,t,i)}else s=wC(n,e,t,i,r);return Ku(s)}X0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Os(e.pendingLanes);n!==0&&(qp(e,n|1),on(e,ct()),!(Le&6)&&(Bo=ct()+500,ri()))}break;case 13:Vi(function(){var r=yr(t,1);if(r!==null){var i=Qt();On(r,t,1,i)}}),Rm(t,1)}};Hp=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=Qt();On(e,t,134217728,n)}Rm(t,134217728)}};J0=function(t){if(t.tag===13){var e=Wr(t),n=yr(t,e);if(n!==null){var r=Qt();On(n,t,e,r)}Rm(t,e)}};Z0=function(){return $e};e1=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};sf=function(t,e,n){switch(e){case"input":if(Jd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cc(r);if(!i)throw Error(B(90));N0(r),Jd(r,i)}}}break;case"textarea":D0(t,n);break;case"select":e=n.value,e!=null&&To(t,!!n.multiple,e,!1)}};U0=_m;B0=Vi;var SC={usingClientEntryPoint:!1,Events:[Ya,po,Cc,$0,F0,_m]},As={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TC={bundleType:As.bundleType,version:As.version,rendererPackageName:As.rendererPackageName,rendererConfig:As.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W0(t),t===null?null:t.stateNode},findFiberByHostInstance:As.findFiberByHostInstance||EC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Tc=jl.inject(TC),Qn=jl}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SC;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Im(e))throw Error(B(200));return _C(t,e,null,n)};gn.createRoot=function(t,e){if(!Im(t))throw Error(B(299));var n=!1,r="",i=TE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tm(t,1,!1,null,null,n,!1,r,i),t[gr]=e.current,_a(t.nodeType===8?t.parentNode:t),new Am(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=W0(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return Vi(t)};gn.hydrate=function(t,e,n){if(!Mc(e))throw Error(B(200));return Oc(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!Im(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=TE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=SE(e,null,t,1,n??null,i,!1,o,s),t[gr]=e.current,_a(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bc(e)};gn.render=function(t,e,n){if(!Mc(e))throw Error(B(200));return Oc(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!Mc(t))throw Error(B(40));return t._reactRootContainer?(Vi(function(){Oc(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};gn.unstable_batchedUpdates=_m;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Oc(t,e,n,!1,r)};gn.version="18.2.0-next-9e3b772b8-20220608";function RE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RE)}catch(t){console.error(t)}}RE(),S0.exports=gn;var AE=S0.exports;const RC=Vp(AE);var mv=AE;qd.createRoot=mv.createRoot,qd.hydrateRoot=mv.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(this,arguments)}var br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(br||(br={}));const gv="popstate";function AC(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=zi(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Ff("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:IE(o))}function r(i,o){$c(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return CC(e,n,r,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $c(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IC(){return Math.random().toString(36).substr(2,8)}function yv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ff(t,e,n,r){return n===void 0&&(n=null),Pa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zi(e):e,{state:n,key:e&&e.key||r||IC()})}function IE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function CC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=br.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Pa({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=br.Pop;let T=c(),m=T==null?null:T-u;u=T,l&&l({action:a,location:E.location,delta:m})}function d(T,m){a=br.Push;let f=Ff(E.location,T,m);n&&n(f,T),u=c()+1;let g=yv(f,u),A=E.createHref(f);try{s.pushState(g,"",A)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(A)}o&&l&&l({action:a,location:E.location,delta:1})}function p(T,m){a=br.Replace;let f=Ff(E.location,T,m);n&&n(f,T),u=c();let g=yv(f,u),A=E.createHref(f);s.replaceState(g,"",A),o&&l&&l({action:a,location:E.location,delta:0})}function y(T){let m=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof T=="string"?T:IE(T);return vt(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let E={get action(){return a},get location(){return t(i,s)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gv,h),l=T,()=>{i.removeEventListener(gv,h),l=null}},createHref(T){return e(i,T)},createURL:y,encodeLocation(T){let m=y(T);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(T){return s.go(T)}};return E}var vv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vv||(vv={}));function PC(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?zi(e):e,i=kE(r.pathname||"/",n);if(i==null)return null;let o=CE(t);kC(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=$C(o[a],BC(i));return s}function CE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ii([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),CE(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:MC(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of PE(o.path))i(o,s,l)}),e}function PE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=PE(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function kC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:OC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xC=/^:\w+$/,NC=3,VC=2,DC=1,LC=10,bC=-2,_v=t=>t==="*";function MC(t,e){let n=t.split("/"),r=n.length;return n.some(_v)&&(r+=bC),e&&(r+=VC),n.filter(i=>!_v(i)).reduce((i,o)=>i+(xC.test(o)?NC:o===""?DC:LC),r)}function OC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $C(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=FC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:Ii([i,c.pathname]),pathnameBase:GC(Ii([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Ii([i,c.pathnameBase]))}return o}function FC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let E=a[h]||"";s=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?u[d]=void 0:u[d]=jC(y||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function UC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$c(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BC(t){try{return decodeURI(t)}catch(e){return $c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jC(t,e){try{return decodeURIComponent(t)}catch(n){return $c(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function kE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zi(t):t;return{pathname:n?n.startsWith("/")?n:WC(n,e):e,search:QC(r),hash:YC(i)}}function WC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function HC(t,e){let n=qC(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function KC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zi(t):(i=Pa({},t),vt(!i.pathname||!i.pathname.includes("?"),pd("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),pd("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),pd("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=zC(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ii=t=>t.join("/").replace(/\/\/+/g,"/"),GC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xE=["post","put","patch","delete"];new Set(xE);const JC=["get",...xE];new Set(JC);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(this,arguments)}const Cm=U.createContext(null),ZC=U.createContext(null),Fc=U.createContext(null),Uc=U.createContext(null),is=U.createContext({outlet:null,matches:[],isDataRoute:!1}),NE=U.createContext(null);function Bc(){return U.useContext(Uc)!=null}function Pm(){return Bc()||vt(!1),U.useContext(Uc).location}function VE(t){U.useContext(Fc).static||U.useLayoutEffect(t)}function km(){let{isDataRoute:t}=U.useContext(is);return t?dP():eP()}function eP(){Bc()||vt(!1);let t=U.useContext(Cm),{basename:e,future:n,navigator:r}=U.useContext(Fc),{matches:i}=U.useContext(is),{pathname:o}=Pm(),s=JSON.stringify(HC(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return VE(()=>{a.current=!0}),U.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=KC(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ii([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,o,t])}function tP(t,e){return nP(t,e)}function nP(t,e,n,r){Bc()||vt(!1);let{navigator:i}=U.useContext(Fc),{matches:o}=U.useContext(is),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Pm(),c;if(e){var h;let T=typeof e=="string"?zi(e):e;l==="/"||(h=T.pathname)!=null&&h.startsWith(l)||vt(!1),c=T}else c=u;let d=c.pathname||"/",p=l==="/"?d:d.slice(l.length)||"/",y=PC(t,{pathname:p}),E=aP(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Ii([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Ii([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&E?U.createElement(Uc.Provider,{value:{location:ka({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:br.Pop}},E):E}function rP(){let t=hP(),e=XC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const iP=U.createElement(rP,null);class oP extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(is.Provider,{value:this.props.routeContext},U.createElement(NE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sP(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(Cm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(is.Provider,{value:e},r)}function aP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||vt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:p}=n,y=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let p,y=!1,E=null,T=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||iP,l&&(u<0&&d===0?(fP("route-fallback",!1),y=!0,T=null):u===d&&(y=!0,T=h.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,d+1)),f=()=>{let g;return p?g=E:y?g=T:h.route.Component?g=U.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=c,U.createElement(sP,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?U.createElement(oP,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var DE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DE||{}),Gu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gu||{});function lP(t){let e=U.useContext(Cm);return e||vt(!1),e}function uP(t){let e=U.useContext(ZC);return e||vt(!1),e}function cP(t){let e=U.useContext(is);return e||vt(!1),e}function LE(t){let e=cP(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function hP(){var t;let e=U.useContext(NE),n=uP(Gu.UseRouteError),r=LE(Gu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dP(){let{router:t}=lP(DE.UseNavigateStable),e=LE(Gu.UseNavigateStable),n=U.useRef(!1);return VE(()=>{n.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ka({fromRouteId:e},o)))},[t,e])}const Ev={};function fP(t,e,n){!e&&!Ev[t]&&(Ev[t]=!0)}function Fs(t){vt(!1)}function pP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=br.Pop,navigator:o,static:s=!1,future:a}=t;Bc()&&vt(!1);let l=e.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:l,navigator:o,static:s,future:ka({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=zi(r));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:y="default"}=r,E=U.useMemo(()=>{let T=kE(c,l);return T==null?null:{location:{pathname:T,search:h,hash:d,state:p,key:y},navigationType:i}},[l,c,h,d,p,y,i]);return E==null?null:U.createElement(Fc.Provider,{value:u},U.createElement(Uc.Provider,{children:n,value:E}))}function mP(t){let{children:e,location:n}=t;return tP(Uf(e),n)}new Promise(()=>{});function Uf(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let o=[...e,i];if(r.type===U.Fragment){n.push.apply(n,Uf(r.props.children,o));return}r.type!==Fs&&vt(!1),!r.props.index||!r.props.children||vt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Uf(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const gP="startTransition",wv=pA[gP];function yP(t){let{basename:e,children:n,future:r,window:i}=t,o=U.useRef();o.current==null&&(o.current=AC({window:i,v5Compat:!0}));let s=o.current,[a,l]=U.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=U.useCallback(h=>{u&&wv?wv(()=>l(h)):l(h)},[l,u]);return U.useLayoutEffect(()=>s.listen(c),[s,c]),U.createElement(pP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Sv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sv||(Sv={}));var Tv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Tv||(Tv={}));var bE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rv=_e.createContext&&_e.createContext(bE),Hr=function(){return Hr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hr.apply(this,arguments)},vP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ME(t){return t&&t.map(function(e,n){return _e.createElement(e.tag,Hr({key:n},e.attr),ME(e.child))})}function ii(t){return function(e){return _e.createElement(_P,Hr({attr:Hr({},t.attr)},e),ME(t.child))}}function _P(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=vP(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),_e.createElement("svg",Hr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Hr(Hr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&_e.createElement("title",null,o),t.children)};return Rv!==void 0?_e.createElement(Rv.Consumer,null,function(n){return e(n)}):e(bE)}function Av(t){return ii({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(t)}function EP(t){return ii({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.8 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM102 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM410 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38z"}}]})(t)}const wP=()=>{const t=Pm(),e=km(),n=()=>{e(-1)};return k.jsxs("div",{children:[k.jsxs("div",{className:"flex mx-2 my-2 justify-between ",children:[k.jsx("div",{className:"text-2xl",onClick:n,children:k.jsx(Av,{})}),k.jsx("div",{className:"font-semibold",children:t.pathname==="/"?"":t.pathname==="/comment"?"":""}),k.jsx("div",{className:"text-2xl text-white",onClick:n,children:k.jsx(Av,{})})]}),k.jsx("hr",{})]})};var OE={};function SP(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var TP=SP,Te=TP;function RP(t){return!!t&&typeof t.then=="function"}var Qe=RP;function AP(t,e){if(t!=null)return t;throw Te(e??"Got unexpected null or undefined")}var et=AP;function Ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class jc{getValue(){throw Te("BaseLoadable")}toPromise(){throw Te("BaseLoadable")}valueMaybe(){throw Te("BaseLoadable")}valueOrThrow(){throw Te(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Te("BaseLoadable")}promiseOrThrow(){throw Te(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Te("BaseLoadable")}errorOrThrow(){throw Te(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Te("BaseLoadable")}}class IP extends jc{constructor(e){super(),Ee(this,"state","hasValue"),Ee(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Qe(n)?Di(n):jo(n)?n:Ja(n)}catch(n){return Qe(n)?Di(n.next(()=>this.map(e))):zc(n)}}}class CP extends jc{constructor(e){super(),Ee(this,"state","hasError"),Ee(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class $E extends jc{constructor(e){super(),Ee(this,"state","loading"),Ee(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Di(this.contents.then(n=>{const r=e(n);if(jo(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Qe(n))return n.then(()=>this.map(e).contents);throw n}))}}function Ja(t){return Object.freeze(new IP(t))}function zc(t){return Object.freeze(new CP(t))}function Di(t){return Object.freeze(new $E(t))}function FE(){return Object.freeze(new $E(new Promise(()=>{})))}function PP(t){return t.every(e=>e.state==="hasValue")?Ja(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?zc(et(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Di(Promise.all(t.map(e=>e.contents)))}function UE(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>jo(i)?i:Qe(i)?Di(i):Ja(i)),r=PP(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:i[a]}),{}))}function jo(t){return t instanceof jc}const kP={of:t=>Qe(t)?Di(t):jo(t)?t:Ja(t),error:t=>zc(t),loading:()=>FE(),all:UE,isLoadable:jo};var Wi={loadableWithValue:Ja,loadableWithError:zc,loadableWithPromise:Di,loadableLoading:FE,loadableAll:UE,isLoadable:jo,RecoilLoadable:kP},xP=Wi.loadableWithValue,NP=Wi.loadableWithError,VP=Wi.loadableWithPromise,DP=Wi.loadableLoading,LP=Wi.loadableAll,bP=Wi.isLoadable,MP=Wi.RecoilLoadable,Za=Object.freeze({__proto__:null,loadableWithValue:xP,loadableWithError:NP,loadableWithPromise:VP,loadableLoading:DP,loadableAll:LP,isLoadable:bP,RecoilLoadable:MP});const Bf={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function OP(t,e){var n,r;const i=(n=OE[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Te(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function $P(t,e){var n;const r=(n=OE[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function FP(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(OP("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Bf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),$P("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{Bf.RECOIL_GKS_ENABLED.add(n)})}))}FP();var os=Bf;function Wc(t){return os.RECOIL_GKS_ENABLED.has(t)}Wc.setPass=t=>{os.RECOIL_GKS_ENABLED.add(t)};Wc.setFail=t=>{os.RECOIL_GKS_ENABLED.delete(t)};Wc.clear=()=>{os.RECOIL_GKS_ENABLED.clear()};var je=Wc;function UP(t,e,{error:n}={}){return null}var BP=UP,xm=BP,md,gd,yd;const jP=(md=_e.createMutableSource)!==null&&md!==void 0?md:_e.unstable_createMutableSource,BE=(gd=_e.useMutableSource)!==null&&gd!==void 0?gd:_e.unstable_useMutableSource,jE=(yd=_e.useSyncExternalStore)!==null&&yd!==void 0?yd:_e.unstable_useSyncExternalStore;function zP(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function WP(){return je("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:je("recoil_sync_external_store")&&jE!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:je("recoil_mutable_source")&&BE!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?je("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:je("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function qP(){return!1}var el={createMutableSource:jP,useMutableSource:BE,useSyncExternalStore:jE,currentRendererSupportsUseSyncExternalStore:zP,reactMode:WP,isFastRefreshEnabled:qP};class Nm{constructor(e){Ee(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class zE extends Nm{}class WE extends Nm{}function HP(t){return t instanceof zE||t instanceof WE}var qc={AbstractRecoilValue:Nm,RecoilState:zE,RecoilValueReadOnly:WE,isRecoilValue:HP},KP=qc.AbstractRecoilValue,GP=qc.RecoilState,QP=qc.RecoilValueReadOnly,YP=qc.isRecoilValue,zo=Object.freeze({__proto__:null,AbstractRecoilValue:KP,RecoilState:GP,RecoilValueReadOnly:QP,isRecoilValue:YP});function XP(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Hc=XP;class qE{}const JP=new qE,Li=new Map,Vm=new Map;function ZP(t){return Hc(t,e=>et(Vm.get(e)))}function ek(t){if(Li.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function tk(t){os.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&ek(t.key),Li.set(t.key,t);const e=t.set==null?new zo.RecoilValueReadOnly(t.key):new zo.RecoilState(t.key);return Vm.set(t.key,e),e}class HE extends Error{}function nk(t){const e=Li.get(t);if(e==null)throw new HE(`Missing definition for RecoilValue: "${t}""`);return e}function rk(t){return Li.get(t)}const Qu=new Map;function ik(t){var e;if(!je("recoil_memory_managament_2020"))return;const n=Li.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Li.delete(t),(r=KE(t))===null||r===void 0||r(),Qu.delete(t)}}function ok(t,e){je("recoil_memory_managament_2020")&&(e===void 0?Qu.delete(t):Qu.set(t,e))}function KE(t){return Qu.get(t)}var ln={nodes:Li,recoilValues:Vm,registerNode:tk,getNode:nk,getNodeMaybe:rk,deleteNodeConfigIfPossible:ik,setConfigDeletionHandler:ok,getConfigDeletionHandler:KE,recoilValuesForKeys:ZP,NodeMissingError:HE,DefaultValue:qE,DEFAULT_VALUE:JP};function sk(t,e){e()}var ak={enqueueExecution:sk};function lk(t,e){return e={exports:{}},t(e,e.exports),e.exports}var uk=lk(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,l={},u=function(w){return function(){return w}},c=n.hash=function(R){var w=typeof R>"u"?"undefined":e(R);if(w==="number")return R;w!=="string"&&(R+="");for(var F=0,X=0,J=R.length;X<J;++X){var ie=R.charCodeAt(X);F=(F<<5)-F+ie|0}return F},h=function(w){return w-=w>>1&1431655765,w=(w&858993459)+(w>>2&858993459),w=w+(w>>4)&252645135,w+=w>>8,w+=w>>16,w&127},d=function(w,F){return F>>>w&o},p=function(w){return 1<<w},y=function(w,F){return h(w&F-1)},E=function(w,F,X,J){var ie=J;if(!w){var me=J.length;ie=new Array(me);for(var de=0;de<me;++de)ie[de]=J[de]}return ie[F]=X,ie},T=function(w,F,X){var J=X.length-1,ie=0,me=0,de=X;if(w)ie=me=F;else for(de=new Array(J);ie<F;)de[me++]=X[ie++];for(++ie;ie<=J;)de[me++]=X[ie++];return w&&(de.length=J),de},m=function(w,F,X,J){var ie=J.length;if(w){for(var me=ie;me>=F;)J[me--]=J[me];return J[F]=X,J}for(var de=0,fe=0,Re=new Array(ie+1);de<F;)Re[fe++]=J[de++];for(Re[F]=X;de<ie;)Re[++fe]=J[de++];return Re},f=1,g=2,A=3,C=4,P={__hamt_isEmpty:!0},V=function(w){return w===P||w&&w.__hamt_isEmpty},W=function(w,F,X,J){return{type:f,edit:w,hash:F,key:X,value:J,_modify:j}},ae=function(w,F,X){return{type:g,edit:w,hash:F,children:X,_modify:D}},Z=function(w,F,X){return{type:A,edit:w,mask:F,children:X,_modify:S}},Ie=function(w,F,X){return{type:C,edit:w,size:F,children:X,_modify:q}},$=function(w){return w===P||w.type===f||w.type===g},b=function(w,F,X,J,ie){for(var me=[],de=J,fe=0,Re=0;de;++Re)de&1&&(me[Re]=ie[fe++]),de>>>=1;return me[F]=X,Ie(w,fe+1,me)},ee=function(w,F,X,J){for(var ie=new Array(F-1),me=0,de=0,fe=0,Re=J.length;fe<Re;++fe)if(fe!==X){var Xe=J[fe];Xe&&!V(Xe)&&(ie[me++]=Xe,de|=1<<fe)}return Z(w,de,ie)},ue=function R(w,F,X,J,ie,me){if(X===ie)return ae(w,X,[me,J]);var de=d(F,X),fe=d(F,ie);return Z(w,p(de)|p(fe),de===fe?[R(w,F+r,X,J,ie,me)]:de<fe?[J,me]:[me,J])},Ae=function(w,F,X,J,ie,me,de,fe){for(var Re=ie.length,Xe=0;Xe<Re;++Xe){var Jt=ie[Xe];if(X(de,Jt.key)){var wt=Jt.value,_n=me(wt);return _n===wt?ie:_n===l?(--fe.value,T(w,Xe,ie)):E(w,Xe,W(F,J,de,_n),ie)}}var kn=me();return kn===l?ie:(++fe.value,E(w,Re,W(F,J,de,kn),ie))},be=function(w,F){return w===F.edit},j=function(w,F,X,J,ie,me,de){if(F(me,this.key)){var fe=J(this.value);return fe===this.value?this:fe===l?(--de.value,P):be(w,this)?(this.value=fe,this):W(w,ie,me,fe)}var Re=J();return Re===l?this:(++de.value,ue(w,X,this.hash,this,ie,W(w,ie,me,Re)))},D=function(w,F,X,J,ie,me,de){if(ie===this.hash){var fe=be(w,this),Re=Ae(fe,w,F,this.hash,this.children,J,me,de);return Re===this.children?this:Re.length>1?ae(w,this.hash,Re):Re[0]}var Xe=J();return Xe===l?this:(++de.value,ue(w,X,this.hash,this,ie,W(w,ie,me,Xe)))},S=function(w,F,X,J,ie,me,de){var fe=this.mask,Re=this.children,Xe=d(X,ie),Jt=p(Xe),wt=y(fe,Jt),_n=fe&Jt,kn=_n?Re[wt]:P,eo=kn._modify(w,F,X+r,J,ie,me,de);if(kn===eo)return this;var Al=be(w,this),gs=fe,ys=void 0;if(_n&&V(eo)){if(gs&=~Jt,!gs)return P;if(Re.length<=2&&$(Re[wt^1]))return Re[wt^1];ys=T(Al,wt,Re)}else if(!_n&&!V(eo)){if(Re.length>=s)return b(w,Xe,eo,fe,Re);gs|=Jt,ys=m(Al,wt,eo,Re)}else ys=E(Al,wt,eo,Re);return Al?(this.mask=gs,this.children=ys,this):Z(w,gs,ys)},q=function(w,F,X,J,ie,me,de){var fe=this.size,Re=this.children,Xe=d(X,ie),Jt=Re[Xe],wt=(Jt||P)._modify(w,F,X+r,J,ie,me,de);if(Jt===wt)return this;var _n=be(w,this),kn=void 0;if(V(Jt)&&!V(wt))++fe,kn=E(_n,Xe,wt,Re);else if(!V(Jt)&&V(wt)){if(--fe,fe<=a)return ee(w,fe,Xe,Re);kn=E(_n,Xe,P,Re)}else kn=E(_n,Xe,wt,Re);return _n?(this.size=fe,this.children=kn,this):Ie(w,fe,kn)};P._modify=function(R,w,F,X,J,ie,me){var de=X();return de===l?P:(++me.value,W(R,J,ie,de))};function v(R,w,F,X,J){this._editable=R,this._edit=w,this._config=F,this._root=X,this._size=J}v.prototype.setTree=function(R,w){return this._editable?(this._root=R,this._size=w,this):R===this._root?this:new v(this._editable,this._edit,this._config,R,w)};var x=n.tryGetHash=function(R,w,F,X){for(var J=X._root,ie=0,me=X._config.keyEq;;)switch(J.type){case f:return me(F,J.key)?J.value:R;case g:{if(w===J.hash)for(var de=J.children,fe=0,Re=de.length;fe<Re;++fe){var Xe=de[fe];if(me(F,Xe.key))return Xe.value}return R}case A:{var Jt=d(ie,w),wt=p(Jt);if(J.mask&wt){J=J.children[y(J.mask,wt)],ie+=r;break}return R}case C:{if(J=J.children[d(ie,w)],J){ie+=r;break}return R}default:return R}};v.prototype.tryGetHash=function(R,w,F){return x(R,w,F,this)};var L=n.tryGet=function(R,w,F){return x(R,F._config.hash(w),w,F)};v.prototype.tryGet=function(R,w){return L(R,w,this)};var te=n.getHash=function(R,w,F){return x(void 0,R,w,F)};v.prototype.getHash=function(R,w){return te(R,w,this)},n.get=function(R,w){return x(void 0,w._config.hash(R),R,w)},v.prototype.get=function(R,w){return L(w,R,this)};var H=n.has=function(R,w,F){return x(l,R,w,F)!==l};v.prototype.hasHash=function(R,w){return H(R,w,this)};var le=n.has=function(R,w){return H(w._config.hash(R),R,w)};v.prototype.has=function(R){return le(R,this)};var pe=function(w,F){return w===F};n.make=function(R){return new v(0,0,{keyEq:R&&R.keyEq||pe,hash:R&&R.hash||c},P,0)},n.empty=n.make();var oe=n.isEmpty=function(R){return R&&!!V(R._root)};v.prototype.isEmpty=function(){return oe(this)};var ke=n.modifyHash=function(R,w,F,X){var J={value:X._size},ie=X._root._modify(X._editable?X._edit:NaN,X._config.keyEq,0,R,w,F,J);return X.setTree(ie,J.value)};v.prototype.modifyHash=function(R,w,F){return ke(F,R,w,this)};var xe=n.modify=function(R,w,F){return ke(R,F._config.hash(w),w,F)};v.prototype.modify=function(R,w){return xe(w,R,this)};var Se=n.setHash=function(R,w,F,X){return ke(u(F),R,w,X)};v.prototype.setHash=function(R,w,F){return Se(R,w,F,this)};var Ne=n.set=function(R,w,F){return Se(F._config.hash(R),R,w,F)};v.prototype.set=function(R,w){return Ne(R,w,this)};var tt=u(l),Me=n.removeHash=function(R,w,F){return ke(tt,R,w,F)};v.prototype.removeHash=v.prototype.deleteHash=function(R,w){return Me(R,w,this)};var ze=n.remove=function(R,w){return Me(w._config.hash(R),R,w)};v.prototype.remove=v.prototype.delete=function(R){return ze(R,this)};var Ue=n.beginMutation=function(R){return new v(R._editable+1,R._edit+1,R._config,R._root,R._size)};v.prototype.beginMutation=function(){return Ue(this)};var nt=n.endMutation=function(R){return R._editable=R._editable&&R._editable-1,R};v.prototype.endMutation=function(){return nt(this)};var _=n.mutate=function(R,w){var F=Ue(w);return R(F),nt(F)};v.prototype.mutate=function(R){return _(R,this)};var I=function(w){return w&&N(w[0],w[1],w[2],w[3],w[4])},N=function(w,F,X,J,ie){for(;X<w;){var me=F[X++];if(me&&!V(me))return G(me,J,[w,F,X,J,ie])}return I(ie)},G=function(w,F,X){switch(w.type){case f:return{value:F(w),rest:X};case g:case C:case A:var J=w.children;return N(J.length,J,0,F,X);default:return I(X)}},K={done:!0};function z(R){this.v=R}z.prototype.next=function(){if(!this.v)return K;var R=this.v;return this.v=I(R.rest),R},z.prototype[Symbol.iterator]=function(){return this};var ce=function(w,F){return new z(G(w._root,F))},Be=function(w){return[w.key,w.value]},ht=n.entries=function(R){return ce(R,Be)};v.prototype.entries=v.prototype[Symbol.iterator]=function(){return ht(this)};var vn=function(w){return w.key},Ar=n.keys=function(R){return ce(R,vn)};v.prototype.keys=function(){return Ar(this)};var Uh=function(w){return w.value},ms=n.values=v.prototype.values=function(R){return ce(R,Uh)};v.prototype.values=function(){return ms(this)};var Zi=n.fold=function(R,w,F){var X=F._root;if(X.type===f)return R(w,X.value,X.key);for(var J=[X.children],ie=void 0;ie=J.pop();)for(var me=0,de=ie.length;me<de;){var fe=ie[me++];fe&&fe.type&&(fe.type===f?w=R(w,fe.value,fe.key):J.push(fe.children))}return w};v.prototype.fold=function(R,w){return Zi(R,w,this)};var Bh=n.forEach=function(R,w){return Zi(function(F,X,J){return R(X,J,w)},null,w)};v.prototype.forEach=function(R){return Bh(R,this)};var Rl=n.count=function(R){return R._size};v.prototype.count=function(){return Rl(this)},Object.defineProperty(v.prototype,"size",{get:v.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class ck{constructor(e){Ee(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Lm(this)}toMap(){return new Map(this._map)}}class Dm{constructor(e){if(Ee(this,"_hamt",uk.empty.beginMutation()),e instanceof Dm){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Lm(this)}toMap(){return new Map(this._hamt)}}function Lm(t){return je("recoil_hamt_2020")?new Dm(t):new ck(t)}var hk={persistentMap:Lm},dk=hk.persistentMap,fk=Object.freeze({__proto__:null,persistentMap:dk});function pk(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var ta=pk;function mk(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Yu=mk;function gk(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function yk(t){return{nodeDeps:Yu(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Yu(t.nodeToNodeSubscriptions,e=>new Set(e))}}function vd(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;i.set(t,e);const a=s==null?e:ta(e,s);for(const l of a)o.has(l)||o.set(l,new Set),et(o.get(l)).add(t);if(s){const l=ta(s,e);for(const u of l){if(!o.has(u))return;const c=et(o.get(u));c.delete(t),c.size===0&&o.delete(u)}}}function vk(t,e,n,r){var i,o,s,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((o=l.previousTree)===null||o===void 0||o.version);const u=n.getGraph(r);if(vd(t,e,u),r===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const h=n.getGraph(l.currentTree.version);vd(t,e,h,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const h=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(h!==void 0){const d=n.getGraph(h);vd(t,e,d,u)}}}var tl={cloneGraph:yk,graph:gk,saveDepsToStore:vk};let _k=0;const Ek=()=>_k++;let wk=0;const Sk=()=>wk++;let Tk=0;const Rk=()=>Tk++;var Kc={getNextTreeStateVersion:Ek,getNextStoreID:Sk,getNextComponentID:Rk};const{persistentMap:Iv}=fk,{graph:Ak}=tl,{getNextTreeStateVersion:GE}=Kc;function QE(){const t=GE();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Iv(),nonvalidatedAtoms:Iv()}}function Ik(){const t=QE();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,Ak()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var YE={makeEmptyTreeState:QE,makeEmptyStoreState:Ik,getNextTreeStateVersion:GE};class XE{}function Ck(){return new XE}var Gc={RetentionZone:XE,retentionZone:Ck};function Pk(t,e){const n=new Set(t);return n.add(e),n}function kk(t,e){const n=new Set(t);return n.delete(e),n}function xk(t,e,n){const r=new Map(t);return r.set(e,n),r}function Nk(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function Vk(t,e){const n=new Map(t);return n.delete(e),n}function Dk(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var JE={setByAddingToSet:Pk,setByDeletingFromSet:kk,mapBySettingInMap:xk,mapByUpdatingInMap:Nk,mapByDeletingFromMap:Vk,mapByDeletingMultipleFromMap:Dk};function*Lk(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var bm=Lk;function bk(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var ZE=bk;const{getNode:nl,getNodeMaybe:Mk,recoilValuesForKeys:Cv}=ln,{RetentionZone:Pv}=Gc,{setByAddingToSet:Ok}=JE,$k=Object.freeze(new Set);class Fk extends Error{}function Uk(t,e,n){if(!je("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof Pv)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!je("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof Pv)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function Mm(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=nl(n),s=Uk(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function Bk(t,e,n){Mm(t,t.getState().currentTree,e,n)}function jk(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function zk(t,e,n){return Mm(t,e,n,"get"),nl(n).get(t,e)}function ew(t,e,n){return nl(n).peek(t,e)}function Wk(t,e,n){var r;const i=Mk(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:Ok(t.dirtyAtoms,e)}}function qk(t,e,n,r){const i=nl(n);if(i.set==null)throw new Fk(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return Mm(t,e,n,"set"),o(t,e,r)}function Hk(t,e,n){const r=t.getState(),i=t.getGraph(e.version),o=nl(n).nodeType;return ZE({type:o},{loadable:()=>ew(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return Cv((s=i.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:Cv(bm(tw(t,e,new Set([n])),l=>l!==n)),components:Hc((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function tw(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:$k;for(const u of l)r.has(u)||i.push(u)}return r}var oi={getNodeLoadable:zk,peekNodeLoadable:ew,setNodeValue:qk,initializeNode:Bk,cleanUpNode:jk,setUnvalidatedAtomValue_DEPRECATED:Wk,peekNodeInfo:Hk,getDownstreamNodes:tw};let nw=null;function Kk(t){nw=t}function Gk(){var t;(t=nw)===null||t===void 0||t()}var rw={setInvalidateMemoizedSnapshot:Kk,invalidateMemoizedSnapshot:Gk};const{getDownstreamNodes:Qk,getNodeLoadable:iw,setNodeValue:Yk}=oi,{getNextComponentID:Xk}=Kc,{getNode:Jk,getNodeMaybe:ow}=ln,{DefaultValue:Om}=ln,{reactMode:Zk}=el,{AbstractRecoilValue:ex,RecoilState:tx,RecoilValueReadOnly:nx,isRecoilValue:rx}=zo,{invalidateMemoizedSnapshot:ix}=rw;function ox(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=o.previousTree)===null||i===void 0||i.version);const s=iw(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function sx(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Om?n.delete(i):n.set(i,r)}),n}function ax(t,e,{key:n},r){if(typeof r=="function"){const i=iw(t,e,n);if(i.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Te(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function lx(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=ax(t,e,i,o),a=Yk(t,e,i.key,s);for(const[l,u]of a.entries())jf(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;jf(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=ow(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else xm(`Unknown action ${n.type}`)}function jf(t,e,n){n.state==="hasValue"&&n.contents instanceof Om?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function sw(t,e){t.replaceState(n=>{const r=aw(n);for(const i of e)lx(t,r,i);return lw(t,r),ix(),r})}function Qc(t,e){if(na.length){const n=na[na.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else sw(t,[e])}const na=[];function ux(){const t=new Map;return na.push(t),()=>{for(const[e,n]of t)sw(e,n);na.pop()}}function aw(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function lw(t,e){const n=Qk(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=ow(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function uw(t,e,n){Qc(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function cx(t,e,n){if(n instanceof Om)return uw(t,e,n);Qc(t,{type:"setLoadable",recoilValue:e,loadable:n})}function hx(t,e){Qc(t,{type:"markModified",recoilValue:e})}function dx(t,e,n){Qc(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function fx(t,{key:e},n,r=null){const i=Xk(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),et(o.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const s=Zk();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function px(t,e){var n;const{currentTree:r}=t.getState(),i=Jk(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var rr={RecoilValueReadOnly:nx,AbstractRecoilValue:ex,RecoilState:tx,getRecoilValueAsLoadable:ox,setRecoilValue:uw,setRecoilValueLoadable:cx,markRecoilValueModified:hx,setUnvalidatedRecoilValue:dx,subscribeToRecoilValue:fx,isRecoilValue:rx,applyAtomValueWrites:sx,batchStart:ux,writeLoadableToTreeState:jf,invalidateDownstreams:lw,copyTreeState:aw,refreshRecoilValue:px};function mx(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var gx=mx;const{cleanUpNode:yx}=oi,{deleteNodeConfigIfPossible:vx,getNode:cw}=ln,{RetentionZone:hw}=Gc,_x=12e4,dw=new Set;function fw(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const s of e)if(s instanceof hw)for(const a of Tx(n,s))i.add(a);else i.add(s);const o=Ex(t,i);for(const s of o)Sx(t,r,s)}function Ex(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(l){const u=new Set,c=wx(t,r,l,o,s);for(const y of c){var h;if(cw(y).retainedBy==="recoilRoot"){s.add(y);continue}if(((h=n.retention.referenceCounts.get(y))!==null&&h!==void 0?h:0)>0){s.add(y);continue}if(pw(y).some(T=>n.retention.referenceCounts.get(T))){s.add(y);continue}const E=i.nodeToNodeSubscriptions.get(y);if(E&&gx(E,T=>s.has(T))){s.add(y);continue}o.add(y),u.add(y)}const d=new Set;for(const y of u)for(const E of(p=i.nodeDeps.get(y))!==null&&p!==void 0?p:dw){var p;o.has(E)||d.add(E)}d.size&&a(d)}}function wx(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(et(n.values().next().value));return s;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=o.nodeToNodeSubscriptions.get(u);if(c)for(const h of c)l(h);a.add(u),n.delete(u),s.push(u)}}function Sx(t,e,n){if(!je("recoil_memory_managament_2020"))return;yx(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=pw(n);for(const l of i){var o;(o=r.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const u of l){var a;(a=s.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}vx(n)}function Tx(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:dw}function pw(t){const e=cw(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof hw?[e]:e}function Rx(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):fw(t,new Set([e]))}function Ax(t,e,n){var r;if(!je("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?mw(t,e):i.set(e,o)}function mw(t,e){if(!je("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),Rx(t,e)}function Ix(t){if(!je("recoil_memory_managament_2020"))return;const e=t.getState();fw(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function Cx(t){return t===void 0?"recoilRoot":t}var qi={SUSPENSE_TIMEOUT_MS:_x,updateRetainCount:Ax,updateRetainCountToZero:mw,releaseScheduledRetainablesNow:Ix,retainedByOptionWithDefault:Cx};const{unstable_batchedUpdates:Px}=RC;var kx={unstable_batchedUpdates:Px};const{unstable_batchedUpdates:xx}=kx;var Nx={unstable_batchedUpdates:xx};const{batchStart:Vx}=rr,{unstable_batchedUpdates:Dx}=Nx;let $m=Dx||(t=>t());const Lx=t=>{$m=t},bx=()=>$m,Mx=t=>{$m(()=>{let e=()=>{};try{e=Vx(),t()}finally{e()}})};var Yc={getBatcher:bx,setBatcher:Lx,batchUpdates:Mx};function*Ox(t){for(const e of t)for(const n of e)yield n}var gw=Ox;const yw=typeof Window>"u"||typeof window>"u",$x=t=>!yw&&(t===window||t instanceof Window),Fx=typeof navigator<"u"&&navigator.product==="ReactNative";var Xc={isSSR:yw,isReactNative:Fx,isWindow:$x};function Ux(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function Bx(t,e){let n,r;return(...i)=>{const o=e(...i);return n===o||(n=o,r=t(...i)),r}}function jx(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var zx={memoizeWithArgsHash:Ux,memoizeOneWithArgsHash:Bx,memoizeOneWithArgsHashAndInvalidation:jx};const{batchUpdates:zf}=Yc,{initializeNode:Wx,peekNodeInfo:qx}=oi,{graph:Hx}=tl,{getNextStoreID:Kx}=Kc,{DEFAULT_VALUE:Gx,recoilValues:kv,recoilValuesForKeys:xv}=ln,{AbstractRecoilValue:Qx,getRecoilValueAsLoadable:Yx,setRecoilValue:Nv,setUnvalidatedRecoilValue:Xx}=rr,{updateRetainCount:mu}=qi,{setInvalidateMemoizedSnapshot:Jx}=rw,{getNextTreeStateVersion:Zx,makeEmptyStoreState:e2}=YE,{isSSR:t2}=Xc,{memoizeOneWithArgsHashAndInvalidation:n2}=zx;class Jc{constructor(e,n){Ee(this,"_store",void 0),Ee(this,"_refCount",1),Ee(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),Yx(this._store,r))),Ee(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Ee(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return xv(s.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?kv.values():r.isInitialized===!0?xv(gw([i,o])):bm(kv.values(),({key:s})=>!i.has(s)&&!o.has(s))}),Ee(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),qx(this._store,this._store.getState().currentTree,r))),Ee(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new Wf(this,zf);return r(i),i}),Ee(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new Wf(this,zf);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:Kx(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return et(i.get(r));const o=Hx();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Te("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)Wx(this._store,r,"get"),mu(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){t2||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!je("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){je("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function vw(t,e,n=!1){const r=t.getState(),i=n?Zx():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Hc(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function r2(t){const e=new Jc(e2());return t!=null?e.map(t):e}const[Vv,_w]=n2((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:et(r.previousTree);return new Jc(vw(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});Jx(_w);function i2(t,e="latest"){const n=Vv(t,e);return n.isRetained()?n:(_w(),Vv(t,e))}class Wf extends Jc{constructor(e,n){super(vw(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ee(this,"_batch",void 0),Ee(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{mu(o,r.key,1),Nv(this.getStore_INTERNAL(),r,i)})}),Ee(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{mu(i,r.key,1),Nv(this.getStore_INTERNAL(),r,Gx)})}),Ee(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();zf(()=>{for(const[o,s]of r.entries())mu(i,o,1),Xx(i,new Qx(o),s)})}),this._batch=n}}var Zc={Snapshot:Jc,MutableSnapshot:Wf,freshSnapshot:r2,cloneSnapshot:i2},o2=Zc.Snapshot,s2=Zc.MutableSnapshot,a2=Zc.freshSnapshot,l2=Zc.cloneSnapshot,eh=Object.freeze({__proto__:null,Snapshot:o2,MutableSnapshot:s2,freshSnapshot:a2,cloneSnapshot:l2});function u2(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var c2=u2;const{useRef:h2}=_e;function d2(t){const e=h2(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var Dv=d2;const{getNextTreeStateVersion:f2,makeEmptyStoreState:Ew}=YE,{cleanUpNode:p2,getDownstreamNodes:m2,initializeNode:g2,setNodeValue:y2,setUnvalidatedAtomValue_DEPRECATED:v2}=oi,{graph:_2}=tl,{cloneGraph:E2}=tl,{getNextStoreID:ww}=Kc,{createMutableSource:_d,reactMode:Sw}=el,{applyAtomValueWrites:w2}=rr,{releaseScheduledRetainablesNow:Tw}=qi,{freshSnapshot:S2}=eh,{useCallback:T2,useContext:Rw,useEffect:qf,useMemo:R2,useRef:A2,useState:I2}=_e;function Is(){throw Te("This component must be used inside a <RecoilRoot> component.")}const Aw=Object.freeze({storeID:ww(),getState:Is,replaceState:Is,getGraph:Is,subscribeToTransactions:Is,addTransactionMetadata:Is});let Hf=!1;function Lv(t){if(Hf)throw Te("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){je("recoil_memory_managament_2020")&&je("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Tw(t);const n=e.currentTree.version,r=f2();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,E2(et(e.graphsByVersion.get(n))))}}const Iw=_e.createContext({current:Aw}),th=()=>Rw(Iw),Cw=_e.createContext(null);function C2(){return Rw(Cw)}function Fm(t,e,n){const r=m2(t,n,n.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[s,[a,l]]of o)l(n)}}function Pw(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[s,a]of o)a(t);for(const[i,o]of e.transactionSubscriptions)o(t);(!Sw().early||e.suspendedComponentResolvers.size>0)&&(Fm(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function P2(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,Pw(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):xm("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,je("recoil_memory_managament_2020")&&n==null&&Tw(t)}finally{e.commitDepth--}}function k2({setNotifyBatcherOfChange:t}){const e=th(),[,n]=I2([]);return t(()=>n({})),qf(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),qf(()=>{ak.enqueueExecution("Batcher",()=>{P2(e.current)})}),null}function x2(t,e){const n=Ew();return e({set:(r,i)=>{const o=n.currentTree,s=y2(t,o,r.key,i),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...o,dirtyAtoms:c2(o.dirtyAtoms,a),atomValues:w2(o.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=v2(n.currentTree,o,i)})}}),n}function N2(t){const e=S2(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let bv=0;function V2({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const o=p=>{const y=i.current.graphsByVersion;if(y.has(p))return et(y.get(p));const E=_2();return y.set(p,E),E},s=(p,y)=>{if(y==null){const{transactionSubscriptions:E}=h.current.getState(),T=bv++;return E.set(T,p),{release:()=>{E.delete(T)}}}else{const{nodeTransactionSubscriptions:E}=h.current.getState();E.has(y)||E.set(y,new Map);const T=bv++;return et(E.get(y)).set(T,p),{release:()=>{const m=E.get(y);m&&(m.delete(T),m.size===0&&E.delete(y))}}}},a=p=>{Lv(h.current);for(const y of Object.keys(p))et(h.current.getState().nextTree).transactionMetadata[y]=p[y]},l=p=>{Lv(h.current);const y=et(i.current.nextTree);let E;try{Hf=!0,E=p(y)}finally{Hf=!1}E!==y&&(i.current.nextTree=E,Sw().early&&Fm(h.current,i.current,E),et(u.current)())},u=A2(null),c=T2(p=>{u.current=p},[u]),h=Dv(()=>n??{storeID:ww(),getState:()=>i.current,replaceState:l,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(h.current=n),i=Dv(()=>t!=null?x2(h.current,t):e!=null?N2(e):Ew());const d=R2(()=>_d==null?void 0:_d(i,()=>i.current.currentTree.version),[i]);return qf(()=>{const p=h.current;for(const y of new Set(p.getState().knownAtoms))g2(p,y,"get");return()=>{for(const y of p.getState().knownAtoms)p2(p,y)}},[h]),_e.createElement(Iw.Provider,{value:h},_e.createElement(Cw.Provider,{value:d},_e.createElement(k2,{setNotifyBatcherOfChange:c}),r))}function D2(t){const{override:e,...n}=t,r=th();return e===!1&&r.current!==Aw?t.children:_e.createElement(V2,n)}function L2(){return th().current.storeID}var Tr={RecoilRoot:D2,useStoreRef:th,useRecoilMutableSource:C2,useRecoilStoreID:L2,notifyComponents_FOR_TESTING:Fm,sendEndOfBatchNotifications_FOR_TESTING:Pw};function b2(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var M2=b2;const{useEffect:O2,useRef:$2}=_e;function F2(t){const e=$2();return O2(()=>{e.current=t}),e.current}var kw=F2;const{useStoreRef:U2}=Tr,{SUSPENSE_TIMEOUT_MS:B2}=qi,{updateRetainCount:Cs}=qi,{RetentionZone:j2}=Gc,{useEffect:z2,useRef:W2}=_e,{isSSR:Mv}=Xc;function q2(t){if(je("recoil_memory_managament_2020"))return H2(t)}function H2(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof j2?s:s.key),r=U2();z2(()=>{if(!je("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!Mv)window.clearTimeout(i.current),i.current=null;else for(const a of n)Cs(s,a,1);return()=>{for(const a of n)Cs(s,a,-1)}},[r,...n]);const i=W2(),o=kw(n);if(!Mv&&(o===void 0||!M2(o,n))){const s=r.current;for(const a of n)Cs(s,a,1);if(o)for(const a of o)Cs(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Cs(s,a,-1)},B2)}}var Um=q2;function K2(){return"<component name not available>"}var rl=K2;const{batchUpdates:G2}=Yc,{DEFAULT_VALUE:xw}=ln,{currentRendererSupportsUseSyncExternalStore:Q2,reactMode:ss,useMutableSource:Y2,useSyncExternalStore:X2}=el,{useRecoilMutableSource:J2,useStoreRef:ir}=Tr,{AbstractRecoilValue:Kf,getRecoilValueAsLoadable:il,setRecoilValue:Xu,setUnvalidatedRecoilValue:Z2,subscribeToRecoilValue:Wo}=rr,{useCallback:sn,useEffect:qo,useMemo:Nw,useRef:ra,useState:Bm}=_e,{setByAddingToSet:eN}=JE,{isSSR:tN}=Xc;function jm(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const o=n.current.getState().suspendedComponentResolvers;o.add(i),tN&&Qe(t.contents)&&t.contents.finally(()=>{o.delete(i)})}):t.state==="hasError"?t.contents:Te(`Invalid value of loadable atom "${e.key}"`)}function nN(){const t=rl(),e=ir(),[,n]=Bm([]),r=ra(new Set);r.current=new Set;const i=ra(new Set),o=ra(new Map),s=sn(l=>{const u=o.current.get(l);u&&(u.release(),o.current.delete(l))},[o]),a=sn((l,u)=>{o.current.has(u)&&n([])},[]);return qo(()=>{const l=e.current;ta(r.current,i.current).forEach(u=>{if(o.current.has(u))return;const c=Wo(l,new Kf(u),d=>a(d,u),t);o.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),ta(i.current,r.current).forEach(u=>{s(u)}),i.current=r.current}),qo(()=>{const l=o.current;return ta(r.current,new Set(l.keys())).forEach(u=>{const c=Wo(e.current,new Kf(u),h=>a(h,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>s(c))},[t,e,s,a]),Nw(()=>{function l(y){return E=>{Xu(e.current,y,E)}}function u(y){return()=>Xu(e.current,y,xw)}function c(y){var E;r.current.has(y.key)||(r.current=eN(r.current,y.key));const T=e.current.getState();return il(e.current,y,ss().early&&(E=T.nextTree)!==null&&E!==void 0?E:T.currentTree)}function h(y){const E=c(y);return jm(E,y,e)}function d(y){return[h(y),l(y)]}function p(y){return[c(y),l(y)]}return{getRecoilValue:h,getRecoilValueLoadable:c,getRecoilState:d,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const rN={current:0};function iN(t){const e=ir(),n=rl(),r=sn(()=>{var a;const l=e.current,u=l.getState(),c=ss().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:il(l,t,c),key:t.key}},[e,t]),i=sn(a=>{let l;return()=>{var u,c;const h=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(h.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===h.key?l:(l=h,h)}},[]),o=Nw(()=>i(r),[r,i]),s=sn(a=>{const l=e.current;return Wo(l,t,a,n).release},[e,t,n]);return X2(s,o,o).loadable}function oN(t){const e=ir(),n=sn(()=>{var u;const c=e.current,h=c.getState(),d=ss().early&&(u=h.nextTree)!==null&&u!==void 0?u:h.currentTree;return il(c,t,d)},[e,t]),r=sn(()=>n(),[n]),i=rl(),o=sn((u,c)=>{const h=e.current;return Wo(h,t,()=>{if(!je("recoil_suppress_rerender_in_callback"))return c();const p=n();l.current.is(p)||c(),l.current=p},i).release},[e,t,i,n]),s=J2();if(s==null)throw Te("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=Y2(s,r,o),l=ra(a);return qo(()=>{l.current=a}),a}function Gf(t){const e=ir(),n=rl(),r=sn(()=>{var l;const u=e.current,c=u.getState(),h=ss().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return il(u,t,h)},[e,t]),i=sn(()=>({loadable:r(),key:t.key}),[r,t.key]),o=sn(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);qo(()=>{const l=Wo(e.current,t,u=>{a(o)},n);return a(o),l.release},[n,t,e,o]);const[s,a]=Bm(i);return s.key!==t.key?i().loadable:s.loadable}function sN(t){const e=ir(),[,n]=Bm([]),r=rl(),i=sn(()=>{var a;const l=e.current,u=l.getState(),c=ss().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return il(l,t,c)},[e,t]),o=i(),s=ra(o);return qo(()=>{s.current=o}),qo(()=>{const a=e.current,l=a.getState(),u=Wo(a,t,h=>{var d;if(!je("recoil_suppress_rerender_in_callback"))return n([]);const p=i();(d=s.current)!==null&&d!==void 0&&d.is(p)||n(p),s.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var c;if(!je("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(c=s.current)!==null&&c!==void 0&&c.is(h)||n(h),s.current=h}return u.release},[r,i,t,e]),o}function zm(t){return je("recoil_memory_managament_2020")&&Um(t),{TRANSITION_SUPPORT:Gf,SYNC_EXTERNAL_STORE:Q2()?iN:Gf,MUTABLE_SOURCE:oN,LEGACY:sN}[ss().mode](t)}function Vw(t){const e=ir(),n=zm(t);return jm(n,t,e)}function nh(t){const e=ir();return sn(n=>{Xu(e.current,t,n)},[e,t])}function aN(t){const e=ir();return sn(()=>{Xu(e.current,t,xw)},[e,t])}function lN(t){return[Vw(t),nh(t)]}function uN(t){return[zm(t),nh(t)]}function cN(){const t=ir();return(e,n={})=>{G2(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>Z2(t.current,new Kf(i),r))})}}function Dw(t){return je("recoil_memory_managament_2020")&&Um(t),Gf(t)}function Lw(t){const e=ir(),n=Dw(t);return jm(n,t,e)}function hN(t){return[Lw(t),nh(t)]}var dN={recoilComponentGetRecoilValueCount_FOR_TESTING:rN,useRecoilInterface:nN,useRecoilState:lN,useRecoilStateLoadable:uN,useRecoilValue:Vw,useRecoilValueLoadable:zm,useResetRecoilState:aN,useSetRecoilState:nh,useSetUnvalidatedAtomValues:cN,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Dw,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Lw,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:hN};function fN(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var pN=fN;function mN(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var gN=mN;function yN(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var vN=yN;const{batchUpdates:_N}=Yc,{DEFAULT_VALUE:EN,getNode:bw,nodes:wN}=ln,{useStoreRef:Wm}=Tr,{AbstractRecoilValue:SN,setRecoilValueLoadable:TN}=rr,{SUSPENSE_TIMEOUT_MS:RN}=qi,{cloneSnapshot:Ju}=eh,{useCallback:rh,useEffect:Mw,useRef:Ov,useState:AN}=_e,{isSSR:$v}=Xc;function ih(t){const e=Wm();Mw(()=>e.current.subscribeToTransactions(t).release,[t,e])}function Fv(t){const e=t.atomValues.toMap(),n=Yu(pN(e,(r,i)=>{const s=bw(i).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return vN(t.nonvalidatedAtoms.toMap(),n)}function IN(t){ih(rh(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=Fv(r),o=Fv(n),s=Yu(wN,l=>{var u,c,h,d;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(h=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.backButton)!==null&&h!==void 0?h:!1}}}),a=gN(r.dirtyAtoms,l=>i.has(l)||o.has(l));t({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function CN(t){ih(rh(e=>{const n=Ju(e,"latest"),r=Ju(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function PN(){const t=Wm(),[e,n]=AN(()=>Ju(t.current)),r=kw(e),i=Ov(),o=Ov();if(ih(rh(a=>n(Ju(a)),[])),Mw(()=>{const a=e.retain();if(i.current&&!$v){var l;window.clearTimeout(i.current),i.current=null,(l=o.current)===null||l===void 0||l.call(o),o.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!$v){if(i.current){var s;window.clearTimeout(i.current),i.current=null,(s=o.current)===null||s===void 0||s.call(o),o.current=null}o.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=o.current)===null||a===void 0||a.call(o),o.current=null},RN)}return e}function Ow(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;_N(()=>{const s=new Set;for(const u of[i.atomValues.keys(),o.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&bw(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(u=>{TN(t,new SN(u),o.atomValues.has(u)?et(o.atomValues.get(u)):EN)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function kN(){const t=Wm();return rh(e=>Ow(t.current,e),[t])}var $w={useRecoilSnapshot:PN,gotoSnapshot:Ow,useGotoRecoilSnapshot:kN,useRecoilTransactionObserver:CN,useTransactionObservation_DEPRECATED:IN,useTransactionSubscription_DEPRECATED:ih};const{peekNodeInfo:xN}=oi,{useStoreRef:NN}=Tr;function VN(){const t=NN();return({key:e})=>xN(t.current,t.current.getState().currentTree,e)}var DN=VN;const{reactMode:LN}=el,{RecoilRoot:bN,useStoreRef:MN}=Tr,{useMemo:ON}=_e;function $N(){LN().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=MN().current;return ON(()=>{function e({children:n}){return _e.createElement(bN,{store_INTERNAL:t},n)}return e},[t])}var FN=$N;const{loadableWithValue:UN}=Za,{initializeNode:BN}=oi,{DEFAULT_VALUE:jN,getNode:zN}=ln,{copyTreeState:WN,getRecoilValueAsLoadable:qN,invalidateDownstreams:HN,writeLoadableToTreeState:KN}=rr;function Uv(t){return zN(t.key).nodeType==="atom"}class GN{constructor(e,n){Ee(this,"_store",void 0),Ee(this,"_treeState",void 0),Ee(this,"_changes",void 0),Ee(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!Uv(r))throw Te("Reading selectors within atomicUpdate is not supported");const i=qN(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Te(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Ee(this,"set",(r,i)=>{if(!Uv(r))throw Te("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else BN(this._store,r.key,"set"),this._changes.set(r.key,i)}),Ee(this,"reset",r=>{this.set(r,jN)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=WN(this._treeState);for(const[n,r]of this._changes)KN(e,n,UN(r));return HN(this._store,e),e}}function QN(t){return e=>{t.replaceState(n=>{const r=new GN(t,n);return e(r),r.newTreeState_INTERNAL()})}}var YN={atomicUpdater:QN},XN=YN.atomicUpdater,Fw=Object.freeze({__proto__:null,atomicUpdater:XN});function JN(t,e){if(!t)throw new Error(e)}var ZN=JN,Us=ZN;const{atomicUpdater:eV}=Fw,{batchUpdates:tV}=Yc,{DEFAULT_VALUE:nV}=ln,{useStoreRef:rV}=Tr,{refreshRecoilValue:iV,setRecoilValue:Bv}=rr,{cloneSnapshot:oV}=eh,{gotoSnapshot:sV}=$w,{useCallback:aV}=_e;class Uw{}const lV=new Uw;function Bw(t,e,n,r){let i=lV,o;if(tV(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Te(a);const l=ZE({...r??{},set:(c,h)=>Bv(t,c,h),reset:c=>Bv(t,c,nV),refresh:c=>iV(t,c),gotoSnapshot:c=>sV(t,c),transact_UNSTABLE:c=>eV(t)(c)},{snapshot:()=>{const c=oV(t);return o=c.retain(),c}}),u=e(l);if(typeof u!="function")throw Te(a);i=u(...n)}),i instanceof Uw&&Us(!1),Qe(i))i=i.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return i}function uV(t,e){const n=rV();return aV((...r)=>Bw(n.current,t,r),e!=null?[...e,n]:void 0)}var jw={recoilCallback:Bw,useRecoilCallback:uV};const{useStoreRef:cV}=Tr,{refreshRecoilValue:hV}=rr,{useCallback:dV}=_e;function fV(t){const e=cV();return dV(()=>{const n=e.current;hV(n,t)},[t,e])}var pV=fV;const{atomicUpdater:mV}=Fw,{useStoreRef:gV}=Tr,{useMemo:yV}=_e;function vV(t,e){const n=gV();return yV(()=>(...r)=>{mV(n.current)(o=>{t(o)(...r)})},e!=null?[...e,n]:void 0)}var _V=vV;class EV{constructor(e){Ee(this,"value",void 0),this.value=e}}var wV={WrappedValue:EV},SV=wV.WrappedValue,zw=Object.freeze({__proto__:null,WrappedValue:SV});const{isFastRefreshEnabled:TV}=el;class jv extends Error{}class RV{constructor(e){var n,r,i;Ee(this,"_name",void 0),Ee(this,"_numLeafs",void 0),Ee(this,"_root",void 0),Ee(this,"_onHit",void 0),Ee(this,"_onSet",void 0),Ee(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var o,s,a,l;let u,c;for(const[T,m]of e){var h,d,p;const f=this._root;if((f==null?void 0:f.type)==="leaf")throw this.invalidCacheError();const g=u;if(u=g?g.branches.get(c):f,u=(h=u)!==null&&h!==void 0?h:{type:"branch",nodeKey:T,parent:g,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==T)throw this.invalidCacheError();g==null||g.branches.set(c,u),r==null||(d=r.onNodeVisit)===null||d===void 0||d.call(r,u),c=this._mapNodeValue(m),this._root=(p=this._root)!==null&&p!==void 0?p:u}const y=u?(o=u)===null||o===void 0?void 0:o.branches.get(c):this._root;if(y!=null&&(y.type!=="leaf"||y.branchKey!==c))throw this.invalidCacheError();const E={type:"leaf",value:n,parent:u,branchKey:c};(s=u)===null||s===void 0||s.branches.set(c,E),this._root=(a=this._root)!==null&&a!==void 0?a:E,this._numLeafs++,this._onSet(E),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,E)};try{i()}catch(o){if(o instanceof jv)this.clear(),i();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=TV()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw xm(e+(this._name!=null?` - ${this._name}`:"")),new jv}}var AV={TreeCache:RV},IV=AV.TreeCache,Ww=Object.freeze({__proto__:null,TreeCache:IV});class CV{constructor(e){var n;Ee(this,"_maxSize",void 0),Ee(this,"_size",void 0),Ee(this,"_head",void 0),Ee(this,"_tail",void 0),Ee(this,"_map",void 0),Ee(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=et(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var PV={LRUCache:CV},kV=PV.LRUCache,qw=Object.freeze({__proto__:null,LRUCache:kV});const{LRUCache:xV}=qw,{TreeCache:NV}=Ww;function VV({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new xV({maxSize:e}),i=new NV({name:t,mapNodeValue:n,onHit:o=>{r.set(o,!0)},onSet:o=>{const s=r.tail();r.set(o,!0),s&&i.size()>e&&i.delete(s.key)}});return i}var zv=VV;function Nn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Te("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Qe(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>Nn(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return Nn(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:Nn(o,e)]=s;return Nn(i,e,n)}return t instanceof Set?Nn(Array.from(t).sort((i,o)=>Nn(i,e).localeCompare(Nn(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Nn(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Nn(i,e)}:${Nn(t[i],e,i)}`).join(",")}}`}function DV(t,e={allowFunctions:!1}){return Nn(t,e)}var oh=DV;const{TreeCache:LV}=Ww,zl={equality:"reference",eviction:"keep-all",maxSize:1/0};function bV({equality:t=zl.equality,eviction:e=zl.eviction,maxSize:n=zl.maxSize}=zl,r){const i=MV(t);return OV(e,n,i,r)}function MV(t){switch(t){case"reference":return e=>e;case"value":return e=>oh(e)}throw Te(`Unrecognized equality policy ${t}`)}function OV(t,e,n,r){switch(t){case"keep-all":return new LV({name:r,mapNodeValue:n});case"lru":return zv({name:r,maxSize:et(e),mapNodeValue:n});case"most-recent":return zv({name:r,maxSize:1,mapNodeValue:n})}throw Te(`Unrecognized eviction policy ${t}`)}var $V=bV;function FV(t){return()=>null}var UV={startPerfBlock:FV};const{isLoadable:BV,loadableWithError:Wl,loadableWithPromise:jV,loadableWithValue:Ed}=Za,{WrappedValue:Hw}=zw,{getNodeLoadable:ql,peekNodeLoadable:zV,setNodeValue:WV}=oi,{saveDepsToStore:qV}=tl,{DEFAULT_VALUE:HV,getConfigDeletionHandler:KV,getNode:GV,registerNode:Wv}=ln,{isRecoilValue:QV}=zo,{markRecoilValueModified:qv}=rr,{retainedByOptionWithDefault:YV}=qi,{recoilCallback:XV}=jw,{startPerfBlock:JV}=UV;class Kw{}const Ps=new Kw,ks=[],Hl=new Map,ZV=(()=>{let t=0;return()=>t++})();function Gw(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,o=t.set!=null?t.set:void 0,s=new Set,a=$V(i??{equality:"reference",eviction:"keep-all"},n),l=YV(t.retainedBy_UNSTABLE),u=new Map;let c=0;function h(){return!je("recoil_memory_managament_2020")||c>0}function d(v){return v.getState().knownSelectors.add(n),c++,()=>{c--}}function p(){return KV(n)!==void 0&&!h()}function y(v,x,L,te,H){Ae(x,te,H),E(v,L)}function E(v,x){ee(v,x)&&b(v),m(x,!0)}function T(v,x){ee(v,x)&&(et(Z(v)).stateVersions.clear(),m(x,!1))}function m(v,x){const L=Hl.get(v);if(L!=null){for(const te of L)qv(te,et(e));x&&Hl.delete(v)}}function f(v,x){let L=Hl.get(x);L==null&&Hl.set(x,L=new Set),L.add(v)}function g(v,x,L,te,H,le){return x.then(pe=>{if(!h())throw b(v),Ps;const oe=Ed(pe);return y(v,L,H,oe,te),pe}).catch(pe=>{if(!h())throw b(v),Ps;if(Qe(pe))return A(v,pe,L,te,H,le);const oe=Wl(pe);throw y(v,L,H,oe,te),pe})}function A(v,x,L,te,H,le){return x.then(pe=>{if(!h())throw b(v),Ps;le.loadingDepKey!=null&&le.loadingDepPromise===x?L.atomValues.set(le.loadingDepKey,Ed(pe)):v.getState().knownSelectors.forEach(Se=>{L.atomValues.delete(Se)});const oe=V(v,L);if(oe&&oe.state!=="loading"){if((ee(v,H)||Z(v)==null)&&E(v,H),oe.state==="hasValue")return oe.contents;throw oe.contents}if(!ee(v,H)){const Se=ae(v,L);if(Se!=null)return Se.loadingLoadable.contents}const[ke,xe]=P(v,L,H);if(ke.state!=="loading"&&y(v,L,H,ke,xe),ke.state==="hasError")throw ke.contents;return ke.contents}).catch(pe=>{if(pe instanceof Kw)throw Ps;if(!h())throw b(v),Ps;const oe=Wl(pe);throw y(v,L,H,oe,te),pe})}function C(v,x,L,te){var H,le,pe,oe;if(ee(v,te)||x.version===((H=v.getState())===null||H===void 0||(le=H.currentTree)===null||le===void 0?void 0:le.version)||x.version===((pe=v.getState())===null||pe===void 0||(oe=pe.nextTree)===null||oe===void 0?void 0:oe.version)){var ke,xe,Se;qV(n,L,v,(ke=(xe=v.getState())===null||xe===void 0||(Se=xe.nextTree)===null||Se===void 0?void 0:Se.version)!==null&&ke!==void 0?ke:v.getState().currentTree.version)}for(const Ne of L)s.add(Ne)}function P(v,x,L){const te=JV(n);let H=!0,le=!0;const pe=()=>{te(),le=!1};let oe,ke=!1,xe;const Se={loadingDepKey:null,loadingDepPromise:null},Ne=new Map;function tt({key:ze}){const Ue=ql(v,x,ze);switch(Ne.set(ze,Ue),H||(C(v,x,new Set(Ne.keys()),L),T(v,L)),Ue.state){case"hasValue":return Ue.contents;case"hasError":throw Ue.contents;case"loading":throw Se.loadingDepKey=ze,Se.loadingDepPromise=Ue.contents,Ue.contents}throw Te("Invalid Loadable state")}const Me=ze=>(...Ue)=>{if(le)throw Te("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Us(!1),XV(v,ze,Ue,{node:e})};try{oe=r({get:tt,getCallback:Me}),oe=QV(oe)?tt(oe):oe,BV(oe)&&(oe.state==="hasError"&&(ke=!0),oe=oe.contents),Qe(oe)?oe=g(v,oe,x,Ne,L,Se).finally(pe):pe(),oe=oe instanceof Hw?oe.value:oe}catch(ze){oe=ze,Qe(oe)?oe=A(v,oe,x,Ne,L,Se).finally(pe):(ke=!0,pe())}return ke?xe=Wl(oe):Qe(oe)?xe=jV(oe):xe=Ed(oe),H=!1,$(v,L,Ne),C(v,x,new Set(Ne.keys()),L),[xe,Ne]}function V(v,x){let L=x.atomValues.get(n);if(L!=null)return L;const te=new Set;try{L=a.get(le=>(typeof le!="string"&&Us(!1),ql(v,x,le).contents),{onNodeVisit:le=>{le.type==="branch"&&le.nodeKey!==n&&te.add(le.nodeKey)}})}catch(le){throw Te(`Problem with cache lookup for selector "${n}": ${le.message}`)}if(L){var H;x.atomValues.set(n,L),C(v,x,te,(H=Z(v))===null||H===void 0?void 0:H.executionID)}return L}function W(v,x){const L=V(v,x);if(L!=null)return b(v),L;const te=ae(v,x);if(te!=null){var H;return((H=te.loadingLoadable)===null||H===void 0?void 0:H.state)==="loading"&&f(v,te.executionID),te.loadingLoadable}const le=ZV(),[pe,oe]=P(v,x,le);return pe.state==="loading"?(Ie(v,le,pe,oe,x),f(v,le)):(b(v),Ae(x,pe,oe)),pe}function ae(v,x){const L=gw([u.has(v)?[et(u.get(v))]:[],Hc(bm(u,([H])=>H!==v),([,H])=>H)]);function te(H){for(const[le,pe]of H)if(!ql(v,x,le).is(pe))return!0;return!1}for(const H of L){if(H.stateVersions.get(x.version)||!te(H.depValuesDiscoveredSoFarDuringAsyncWork))return H.stateVersions.set(x.version,!0),H;H.stateVersions.set(x.version,!1)}}function Z(v){return u.get(v)}function Ie(v,x,L,te,H){u.set(v,{depValuesDiscoveredSoFarDuringAsyncWork:te,executionID:x,loadingLoadable:L,stateVersions:new Map([[H.version,!0]])})}function $(v,x,L){if(ee(v,x)){const te=Z(v);te!=null&&(te.depValuesDiscoveredSoFarDuringAsyncWork=L)}}function b(v){u.delete(v)}function ee(v,x){var L;return x===((L=Z(v))===null||L===void 0?void 0:L.executionID)}function ue(v){return Array.from(v.entries()).map(([x,L])=>[x,L.contents])}function Ae(v,x,L){v.atomValues.set(n,x);try{a.set(ue(L),x)}catch(te){throw Te(`Problem with setting cache for selector "${n}": ${te.message}`)}}function be(v){if(ks.includes(n)){const x=`Recoil selector has circular dependencies: ${ks.slice(ks.indexOf(n)).join("  ")}`;return Wl(Te(x))}ks.push(n);try{return v()}finally{ks.pop()}}function j(v,x){const L=x.atomValues.get(n);return L??a.get(te=>{var H;return typeof te!="string"&&Us(!1),(H=zV(v,x,te))===null||H===void 0?void 0:H.contents})}function D(v,x){return be(()=>W(v,x))}function S(v){v.atomValues.delete(n)}function q(v,x){e==null&&Us(!1);for(const te of s){var L;const H=GV(te);(L=H.clearCache)===null||L===void 0||L.call(H,v,x)}s.clear(),S(x),a.clear(),qv(v,e)}return o!=null?e=Wv({key:n,nodeType:"selector",peek:j,get:D,set:(x,L,te)=>{let H=!1;const le=new Map;function pe({key:Se}){if(H)throw Te("Recoil: Async selector sets are not currently supported.");const Ne=ql(x,L,Se);if(Ne.state==="hasValue")return Ne.contents;if(Ne.state==="loading"){const tt=`Getting value of asynchronous atom or selector "${Se}" in a pending state while setting selector "${n}" is not yet supported.`;throw Te(tt)}else throw Ne.contents}function oe(Se,Ne){if(H)throw Te("Recoil: Async selector sets are not currently supported.");const tt=typeof Ne=="function"?Ne(pe(Se)):Ne;WV(x,L,Se.key,tt).forEach((ze,Ue)=>le.set(Ue,ze))}function ke(Se){oe(Se,HV)}const xe=o({set:oe,get:pe,reset:ke},te);if(xe!==void 0)throw Qe(xe)?Te("Recoil: Async selector sets are not currently supported."):Te("Recoil: selector set should be a void function.");return H=!0,le},init:d,invalidate:S,clearCache:q,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=Wv({key:n,nodeType:"selector",peek:j,get:D,init:d,invalidate:S,clearCache:q,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}Gw.value=t=>new Hw(t);var Ho=Gw;const{isLoadable:eD,loadableWithError:wd,loadableWithPromise:Sd,loadableWithValue:no}=Za,{WrappedValue:Qw}=zw,{peekNodeInfo:tD}=oi,{DEFAULT_VALUE:pi,DefaultValue:kr,getConfigDeletionHandler:Yw,registerNode:nD,setConfigDeletionHandler:rD}=ln,{isRecoilValue:iD}=zo,{getRecoilValueAsLoadable:oD,markRecoilValueModified:sD,setRecoilValue:Hv,setRecoilValueLoadable:aD}=rr,{retainedByOptionWithDefault:lD}=qi,xs=t=>t instanceof Qw?t.value:t;function uD(t){const{key:e,persistence_UNSTABLE:n}=t,r=lD(t.retainedBy_UNSTABLE);let i=0;function o(f){return Sd(f.then(g=>(s=no(g),g)).catch(g=>{throw s=wd(g),g}))}let s=Qe(t.default)?o(t.default):eD(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:no(xs(t.default));s.contents;let a;const l=new Map;function u(f){return f}function c(f,g){const A=g.then(C=>{var P,V;return((V=((P=f.getState().nextTree)!==null&&P!==void 0?P:f.getState().currentTree).atomValues.get(e))===null||V===void 0?void 0:V.contents)===A&&Hv(f,m,C),C}).catch(C=>{var P,V;throw((V=((P=f.getState().nextTree)!==null&&P!==void 0?P:f.getState().currentTree).atomValues.get(e))===null||V===void 0?void 0:V.contents)===A&&aD(f,m,wd(C)),C});return A}function h(f,g,A){var C;i++;const P=()=>{var Z;i--,(Z=l.get(f))===null||Z===void 0||Z.forEach(Ie=>Ie()),l.delete(f)};if(f.getState().knownAtoms.add(e),s.state==="loading"){const Z=()=>{var Ie;((Ie=f.getState().nextTree)!==null&&Ie!==void 0?Ie:f.getState().currentTree).atomValues.has(e)||sD(f,m)};s.contents.finally(Z)}const V=(C=t.effects)!==null&&C!==void 0?C:t.effects_UNSTABLE;if(V!=null){let Z=function(S){if(ee&&S.key===e){const q=b;return q instanceof kr?d(f,g):Qe(q)?Sd(q.then(v=>v instanceof kr?s.toPromise():v)):no(q)}return oD(f,S)},Ie=function(S){return Z(S).toPromise()},$=function(S){var q;const v=tD(f,(q=f.getState().nextTree)!==null&&q!==void 0?q:f.getState().currentTree,S.key);return ee&&S.key===e&&!(b instanceof kr)?{...v,isSet:!0,loadable:Z(S)}:v},b=pi,ee=!0,ue=!1,Ae=null;const be=S=>q=>{if(ee){const v=Z(m),x=v.state==="hasValue"?v.contents:pi;b=typeof q=="function"?q(x):q,Qe(b)&&(b=b.then(L=>(Ae={effect:S,value:L},L)))}else{if(Qe(q))throw Te("Setting atoms to async values is not implemented.");typeof q!="function"&&(Ae={effect:S,value:xs(q)}),Hv(f,m,typeof q=="function"?v=>{const x=xs(q(v));return Ae={effect:S,value:x},x}:xs(q))}},j=S=>()=>be(S)(pi),D=S=>q=>{var v;const{release:x}=f.subscribeToTransactions(L=>{var te;let{currentTree:H,previousTree:le}=L.getState();le||(le=H);const pe=(te=H.atomValues.get(e))!==null&&te!==void 0?te:s;if(pe.state==="hasValue"){var oe,ke,xe,Se;const Ne=pe.contents,tt=(oe=le.atomValues.get(e))!==null&&oe!==void 0?oe:s,Me=tt.state==="hasValue"?tt.contents:pi;((ke=Ae)===null||ke===void 0?void 0:ke.effect)!==S||((xe=Ae)===null||xe===void 0?void 0:xe.value)!==Ne?q(Ne,Me,!H.atomValues.has(e)):((Se=Ae)===null||Se===void 0?void 0:Se.effect)===S&&(Ae=null)}},e);l.set(f,[...(v=l.get(f))!==null&&v!==void 0?v:[],x])};for(const S of V)try{const q=S({node:m,storeID:f.storeID,parentStoreID_UNSTABLE:f.parentStoreID,trigger:A,setSelf:be(S),resetSelf:j(S),onSet:D(S),getPromise:Ie,getLoadable:Z,getInfo_UNSTABLE:$});if(q!=null){var W;l.set(f,[...(W=l.get(f))!==null&&W!==void 0?W:[],q])}}catch(q){b=q,ue=!0}if(ee=!1,!(b instanceof kr)){var ae;const S=ue?wd(b):Qe(b)?Sd(c(f,b)):no(xs(b));S.contents,g.atomValues.set(e,S),(ae=f.getState().nextTree)===null||ae===void 0||ae.atomValues.set(e,S)}}return P}function d(f,g){var A,C;return(A=(C=g.atomValues.get(e))!==null&&C!==void 0?C:a)!==null&&A!==void 0?A:s}function p(f,g){if(g.atomValues.has(e))return et(g.atomValues.get(e));if(g.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const A=g.nonvalidatedAtoms.get(e),C=n.validator(A,pi);return a=C instanceof kr?s:no(C),a}else return s}function y(){a=void 0}function E(f,g,A){if(g.atomValues.has(e)){const C=et(g.atomValues.get(e));if(C.state==="hasValue"&&A===C.contents)return new Map}else if(!g.nonvalidatedAtoms.has(e)&&A instanceof kr)return new Map;return a=void 0,new Map().set(e,no(A))}function T(){return Yw(e)!==void 0&&i<=0}const m=nD({key:e,nodeType:"atom",peek:d,get:p,set:E,init:h,invalidate:y,shouldDeleteConfigOnRelease:T,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return m}function qm(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return iD(n)?cD({...e,default:n}):uD({...e,default:n})}function cD(t){const e=qm({...t,default:pi,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof kr?r:et(t.persistence_UNSTABLE).validator(r,pi)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Ho({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof kr?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return rD(n.key,Yw(t.key)),n}qm.value=t=>new Qw(t);var Xw=qm;class hD{constructor(e){var n;Ee(this,"_map",void 0),Ee(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var dD={MapCache:hD},fD=dD.MapCache,pD=Object.freeze({__proto__:null,MapCache:fD});const{LRUCache:Kv}=qw,{MapCache:mD}=pD,Kl={equality:"reference",eviction:"none",maxSize:1/0};function gD({equality:t=Kl.equality,eviction:e=Kl.eviction,maxSize:n=Kl.maxSize}=Kl){const r=yD(t);return vD(e,n,r)}function yD(t){switch(t){case"reference":return e=>e;case"value":return e=>oh(e)}throw Te(`Unrecognized equality policy ${t}`)}function vD(t,e,n){switch(t){case"keep-all":return new mD({mapKey:n});case"lru":return new Kv({mapKey:n,maxSize:et(e)});case"most-recent":return new Kv({mapKey:n,maxSize:1})}throw Te(`Unrecognized eviction policy ${t}`)}var Jw=gD;const{setConfigDeletionHandler:_D}=ln;function ED(t){var e,n;const r=Jw({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,s;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),h=Xw({...u,key:`${t.key}__${(o=oh(i))!==null&&o!==void 0?o:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(i,h),_D(h.key,()=>{r.delete(i)}),h}}var wD=ED;const{setConfigDeletionHandler:SD}=ln;let TD=0;function RD(t){var e,n;const r=Jw({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let s;try{s=r.get(i)}catch(d){throw Te(`Problem with cache lookup for selector ${t.key}: ${d.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=oh(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${TD++}`,l=d=>t.get(i)(d),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const d=t.set;h=Ho({key:a,get:l,set:(y,E)=>d(i)(y,E),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else h=Ho({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,h),SD(h.key,()=>{r.delete(i)}),h}}var si=RD;const AD=si({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function ID(t){return AD(t)}var CD=ID;const PD=si({key:"__error",get:t=>()=>{throw Te(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function kD(t){return PD(t)}var xD=kD;function ND(t){return t}var VD=ND;const{loadableWithError:Zw,loadableWithPromise:eS,loadableWithValue:tS}=Za;function sh(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function DD(t){return t!=null&&!Qe(t)}function ah(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Qf(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function ko(t,e,n){const r=n.map((i,o)=>i==null?tS(e[o]):Qe(i)?eS(i):Zw(i));return Qf(t,r)}function LD(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const bD=si({key:"__waitForNone",get:t=>({get:e})=>{const n=ah(t),[r,i]=sh(e,n);return ko(t,r,i)},dangerouslyAllowMutability:!0}),MD=si({key:"__waitForAny",get:t=>({get:e})=>{const n=ah(t),[r,i]=sh(e,n);return i.some(o=>!Qe(o))?ko(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())Qe(a)&&a.then(l=>{r[s]=l,i[s]=void 0,o(ko(t,r,i))}).catch(l=>{i[s]=l,o(ko(t,r,i))})})},dangerouslyAllowMutability:!0}),OD=si({key:"__waitForAll",get:t=>({get:e})=>{const n=ah(t),[r,i]=sh(e,n);if(i.every(s=>s==null))return Qf(t,r);const o=i.find(DD);if(o!=null)throw o;return Promise.all(i).then(s=>Qf(t,LD(r,s)))},dangerouslyAllowMutability:!0}),$D=si({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=ah(t),[r,i]=sh(e,n);return i.every(o=>!Qe(o))?ko(t,r,i):Promise.all(i.map((o,s)=>Qe(o)?o.then(a=>{r[s]=a,i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>ko(t,r,i))},dangerouslyAllowMutability:!0}),FD=si({key:"__noWait",get:t=>({get:e})=>{try{return Ho.value(tS(e(t)))}catch(n){return Ho.value(Qe(n)?eS(n):Zw(n))}},dangerouslyAllowMutability:!0});var UD={waitForNone:bD,waitForAny:MD,waitForAll:OD,waitForAllSettled:$D,noWait:FD};const{RecoilLoadable:BD}=Za,{DefaultValue:jD}=ln,{RecoilRoot:zD,useRecoilStoreID:WD}=Tr,{isRecoilValue:qD}=zo,{retentionZone:HD}=Gc,{freshSnapshot:KD}=eh,{useRecoilState:GD,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:QD,useRecoilStateLoadable:YD,useRecoilValue:XD,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:JD,useRecoilValueLoadable:ZD,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:eL,useResetRecoilState:tL,useSetRecoilState:nL}=dN,{useGotoRecoilSnapshot:rL,useRecoilSnapshot:iL,useRecoilTransactionObserver:oL}=$w,{useRecoilCallback:sL}=jw,{noWait:aL,waitForAll:lL,waitForAllSettled:uL,waitForAny:cL,waitForNone:hL}=UD;var as={DefaultValue:jD,isRecoilValue:qD,RecoilLoadable:BD,RecoilEnv:os,RecoilRoot:zD,useRecoilStoreID:WD,useRecoilBridgeAcrossReactRoots_UNSTABLE:FN,atom:Xw,selector:Ho,atomFamily:wD,selectorFamily:si,constSelector:CD,errorSelector:xD,readOnlySelector:VD,noWait:aL,waitForNone:hL,waitForAny:cL,waitForAll:lL,waitForAllSettled:uL,useRecoilValue:XD,useRecoilValueLoadable:ZD,useRecoilState:GD,useRecoilStateLoadable:YD,useSetRecoilState:nL,useResetRecoilState:tL,useGetRecoilValueInfo_UNSTABLE:DN,useRecoilRefresher_UNSTABLE:pV,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:eL,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:JD,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:QD,useRecoilCallback:sL,useRecoilTransaction_UNSTABLE:_V,useGotoRecoilSnapshot:rL,useRecoilSnapshot:iL,useRecoilTransactionObserver_UNSTABLE:oL,snapshot_UNSTABLE:KD,useRetain:Um,retentionZone:HD},dL=as.RecoilRoot,nS=as.atom,Hi=as.atomFamily,fL=as.useRecoilValueLoadable,xo=as.useRecoilState,pL=as.useRecoilStateLoadable;const mL=({onOpenModal:t})=>{const e=U.useRef(null);return U.useEffect(()=>{const n=r=>{e.current&&!e.current.contains(r.target)&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t]),k.jsx("div",{className:"h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-70 text-center z-50",children:k.jsxs("div",{ref:e,className:"bg-white rounded w-10/12 md:w-1/3",children:[k.jsx("div",{className:"border-b px-4 py-2",children:k.jsx("h3",{className:"text-center",children:""})}),k.jsx("div",{className:"border-b px-4 py-2",children:k.jsx("h3",{className:"text-red-600 text-center cursor-pointer",onClick:t,children:""})})]})})};function gL(t){return ii({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2zM4 10h2v9H4v-9zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7v1.819z"}}]})(t)}function yL(t){return ii({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21h1V8H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2zM20 8h-7l1.122-3.368A2 2 0 0 0 12.225 2H12L7 7.438V21h11l3.912-8.596L22 12v-2a2 2 0 0 0-2-2z"}}]})(t)}function vL(t){return ii({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"}}]})(t)}function _L(t){return ii({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"}}]})(t)}var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},iS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new wL;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SL=function(t){const e=rS(t);return iS.encodeByteArray(e,!0)},Zu=function(t){return SL(t).replace(/\./g,"")},TL=function(t){try{return iS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=()=>RL().__FIREBASE_DEFAULTS__,IL=()=>{if(typeof process>"u"||typeof Gv>"u")return;const t=Gv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TL(t[1]);return e&&JSON.parse(e)},Hm=()=>{try{return AL()||IL()||CL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PL=t=>{var e,n;return(n=(e=Hm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kL=t=>{const e=PL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oS=()=>{var t;return(t=Hm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zu(JSON.stringify(n)),Zu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VL(){var t;const e=(t=Hm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DL(){return!VL()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sS(){try{return typeof indexedDB=="object"}catch{return!1}}function LL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="FirebaseError";class ls extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bL,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aS.prototype.create)}}class aS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ML(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ls(i,a,r)}}function ML(t,e){return t.replace(OL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OL=/\{\$([^}]+)}/g;function Yf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Qv(o)&&Qv(s)){if(!Yf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){return t&&t._delegate?t._delegate:t}class xa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UL(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FL(t){return t===fi?void 0:t}function UL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $L(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const jL={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},zL=De.INFO,WL={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},qL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lS{constructor(e){this.name=e,this._logLevel=zL,this._logHandler=qL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const HL=(t,e)=>e.some(n=>t instanceof n);let Yv,Xv;function KL(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GL(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uS=new WeakMap,Xf=new WeakMap,cS=new WeakMap,Td=new WeakMap,Km=new WeakMap;function QL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Kr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&uS.set(n,t)}).catch(()=>{}),Km.set(e,t),e}function YL(t){if(Xf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Xf.set(t,e)}let Jf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XL(t){Jf=t(Jf)}function JL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rd(this),e,...n);return cS.set(r,e.sort?e.sort():[e]),Kr(r)}:GL().includes(t)?function(...e){return t.apply(Rd(this),e),Kr(uS.get(this))}:function(...e){return Kr(t.apply(Rd(this),e))}}function ZL(t){return typeof t=="function"?JL(t):(t instanceof IDBTransaction&&YL(t),HL(t,KL())?new Proxy(t,Jf):t)}function Kr(t){if(t instanceof IDBRequest)return QL(t);if(Td.has(t))return Td.get(t);const e=ZL(t);return e!==t&&(Td.set(t,e),Km.set(e,t)),e}const Rd=t=>Km.get(t);function eb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Kr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Kr(s.result),l.oldVersion,l.newVersion,Kr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tb=["get","getKey","getAll","getAllKeys","count"],nb=["put","add","delete","clear"],Ad=new Map;function Jv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ad.get(e))return Ad.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tb.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ad.set(e,o),o}XL(t=>({...t,get:(e,n,r)=>Jv(e,n)||t.get(e,n,r),has:(e,n)=>!!Jv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ib(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ib(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",Zv="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new lS("@firebase/app"),ob="@firebase/app-compat",sb="@firebase/analytics-compat",ab="@firebase/analytics",lb="@firebase/app-check-compat",ub="@firebase/app-check",cb="@firebase/auth",hb="@firebase/auth-compat",db="@firebase/database",fb="@firebase/database-compat",pb="@firebase/functions",mb="@firebase/functions-compat",gb="@firebase/installations",yb="@firebase/installations-compat",vb="@firebase/messaging",_b="@firebase/messaging-compat",Eb="@firebase/performance",wb="@firebase/performance-compat",Sb="@firebase/remote-config",Tb="@firebase/remote-config-compat",Rb="@firebase/storage",Ab="@firebase/storage-compat",Ib="@firebase/firestore",Cb="@firebase/firestore-compat",Pb="firebase",kb="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",xb={[Zf]:"fire-core",[ob]:"fire-core-compat",[ab]:"fire-analytics",[sb]:"fire-analytics-compat",[ub]:"fire-app-check",[lb]:"fire-app-check-compat",[cb]:"fire-auth",[hb]:"fire-auth-compat",[db]:"fire-rtdb",[fb]:"fire-rtdb-compat",[pb]:"fire-fn",[mb]:"fire-fn-compat",[gb]:"fire-iid",[yb]:"fire-iid-compat",[vb]:"fire-fcm",[_b]:"fire-fcm-compat",[Eb]:"fire-perf",[wb]:"fire-perf-compat",[Sb]:"fire-rc",[Tb]:"fire-rc-compat",[Rb]:"fire-gcs",[Ab]:"fire-gcs-compat",[Ib]:"fire-fst",[Cb]:"fire-fst-compat","fire-js":"fire-js",[Pb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,tp=new Map;function Nb(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nc(t){const e=t.name;if(tp.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,t);for(const n of tc.values())Nb(n,t);return!0}function Vb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gr=new aS("app","Firebase",Db);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=kb;function hS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ep,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=oS()),!n)throw Gr.create("no-options");const o=tc.get(i);if(o){if(Yf(n,o.options)&&Yf(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}const s=new BL(i);for(const l of tp.values())s.addComponent(l);const a=new Lb(n,r,s);return tc.set(i,a),a}function Mb(t=ep){const e=tc.get(t);if(!e&&t===ep&&oS())return hS();if(!e)throw Gr.create("no-app",{appName:t});return e}function No(t,e,n){var r;let i=(r=xb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}nc(new xa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firebase-heartbeat-database",$b=1,Na="firebase-heartbeat-store";let Id=null;function dS(){return Id||(Id=eb(Ob,$b,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Na)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),Id}async function Fb(t){try{return await(await dS()).transaction(Na).objectStore(Na).get(fS(t))}catch(e){if(e instanceof ls)bi.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function e_(t,e){try{const r=(await dS()).transaction(Na,"readwrite");await r.objectStore(Na).put(e,fS(t)),await r.done}catch(n){if(n instanceof ls)bi.warn(n.message);else{const r=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function fS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=1024,Bb=30*24*60*60*1e3;class jb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=t_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Bb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t_(),{heartbeatsToSend:r,unsentEntries:i}=zb(this._heartbeatsCache.heartbeats),o=Zu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function t_(){return new Date().toISOString().substring(0,10)}function zb(t,e=Ub){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),n_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),n_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Wb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sS()?LL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function n_(t){return Zu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){nc(new xa("platform-logger",e=>new rb(e),"PRIVATE")),nc(new xa("heartbeat",e=>new jb(e),"PRIVATE")),No(Zf,Zv,t),No(Zf,Zv,"esm2017"),No("fire-js","")}qb("");var Hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,Gm=Gm||{},ye=Hb||self;function lh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ol(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Kb(t){return Object.prototype.hasOwnProperty.call(t,Cd)&&t[Cd]||(t[Cd]=++Gb)}var Cd="closure_uid_"+(1e9*Math.random()>>>0),Gb=0;function Qb(t,e,n){return t.call.apply(t.bind,arguments)}function Yb(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jt=Qb:jt=Yb,jt.apply(null,arguments)}function Gl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ai(){this.s=this.s,this.o=this.o}var Xb=0;ai.prototype.s=!1;ai.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Xb!=0)&&Kb(this)};ai.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Qm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function r_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(lh(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var Jb=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ye.addEventListener("test",n,e),ye.removeEventListener("test",n,e)}catch{}return t}();function Va(t){return/^[\s\xa0]*$/.test(t)}function uh(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function qn(t){return uh().indexOf(t)!=-1}function Ym(t){return Ym[" "](t),t}Ym[" "]=function(){};function Zb(t,e){var n=qM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var eM=qn("Opera"),Ko=qn("Trident")||qn("MSIE"),mS=qn("Edge"),np=mS||Ko,gS=qn("Gecko")&&!(uh().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge"))&&!(qn("Trident")||qn("MSIE"))&&!qn("Edge"),tM=uh().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge");function yS(){var t=ye.document;return t?t.documentMode:void 0}var rp;e:{var Pd="",kd=function(){var t=uh();if(gS)return/rv:([^\);]+)(\)|;)/.exec(t);if(mS)return/Edge\/([\d\.]+)/.exec(t);if(Ko)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(tM)return/WebKit\/(\S+)/.exec(t);if(eM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(kd&&(Pd=kd?kd[1]:""),Ko){var xd=yS();if(xd!=null&&xd>parseFloat(Pd)){rp=String(xd);break e}}rp=Pd}var ip;if(ye.document&&Ko){var i_=yS();ip=i_||parseInt(rp,10)||void 0}else ip=void 0;var nM=ip;function Da(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gS){e:{try{Ym(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Da.$.h.call(this)}}It(Da,zt);var rM={2:"touch",3:"pen",4:"mouse"};Da.prototype.h=function(){Da.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sl="closure_listenable_"+(1e6*Math.random()|0),iM=0;function oM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++iM,this.fa=this.ia=!1}function ch(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Xm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function vS(t){const e={};for(const n in t)e[n]=t[n];return e}const o_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _S(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<o_.length;o++)n=o_[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hh(t){this.src=t,this.g={},this.h=0}hh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=sp(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new oM(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function op(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=pS(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(ch(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Jm="closure_lm_"+(1e6*Math.random()|0),Nd={};function ES(t,e,n,r,i){if(r&&r.once)return SS(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ES(t,e[o],n,r,i);return null}return n=tg(n),t&&t[sl]?t.O(e,n,ol(r)?!!r.capture:!!r,i):wS(t,e,n,!1,r,i)}function wS(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ol(i)?!!i.capture:!!i,a=eg(t);if(a||(t[Jm]=a=new hh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=aM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Jb||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(RS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aM(){function t(n){return e.call(t.src,t.listener,n)}const e=lM;return t}function SS(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)SS(t,e[o],n,r,i);return null}return n=tg(n),t&&t[sl]?t.P(e,n,ol(r)?!!r.capture:!!r,i):wS(t,e,n,!0,r,i)}function TS(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)TS(t,e[o],n,r,i);else r=ol(r)?!!r.capture:!!r,n=tg(n),t&&t[sl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=sp(o,n,r,i),-1<n&&(ch(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=eg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sp(e,n,r,i)),(n=-1<t?e[t]:null)&&Zm(n))}function Zm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[sl])op(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(RS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=eg(e))?(op(n,t),n.h==0&&(n.src=null,e[Jm]=null)):ch(t)}}}function RS(t){return t in Nd?Nd[t]:Nd[t]="on"+t}function lM(t,e){if(t.fa)t=!0;else{e=new Da(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Zm(t),t=n.call(r,e)}return t}function eg(t){return t=t[Jm],t instanceof hh?t:null}var Vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function tg(t){return typeof t=="function"?t:(t[Vd]||(t[Vd]=function(e){return t.handleEvent(e)}),t[Vd])}function At(){ai.call(this),this.i=new hh(this),this.S=this,this.J=null}It(At,ai);At.prototype[sl]=!0;At.prototype.removeEventListener=function(t,e,n,r){TS(this,t,e,n,r)};function Dt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;e=new zt(r,t),_S(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ql(s,r,!0,e)&&i}if(s=e.g=t,i=Ql(s,r,!0,e)&&i,i=Ql(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Ql(s,r,!1,e)&&i}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ch(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ql(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&op(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var ng=ye.JSON.stringify;class uM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function cM(){var t=rg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class hM{constructor(){this.h=this.g=null}add(e,n){const r=AS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var AS=new uM(()=>new dM,t=>t.reset());class dM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function pM(t){ye.setTimeout(()=>{throw t},0)}let La,ba=!1,rg=new hM,IS=()=>{const t=ye.Promise.resolve(void 0);La=()=>{t.then(mM)}};var mM=()=>{for(var t;t=cM();){try{t.h.call(t.g)}catch(n){pM(n)}var e=AS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ba=!1};function dh(t,e){At.call(this),this.h=t||1,this.g=e||ye,this.j=jt(this.qb,this),this.l=Date.now()}It(dh,At);Y=dh.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dt(this,"tick"),this.ga&&(ig(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ig(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){dh.$.N.call(this),ig(this),delete this.g};function og(t,e,n){if(typeof t=="function")n&&(t=jt(t,n));else if(t&&typeof t.handleEvent=="function")t=jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function CS(t){t.g=og(()=>{t.g=null,t.i&&(t.i=!1,CS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class gM extends ai{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CS(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(t){ai.call(this),this.h=t,this.g={}}It(Ma,ai);var s_=[];function PS(t,e,n,r){Array.isArray(n)||(n&&(s_[0]=n.toString()),n=s_);for(var i=0;i<n.length;i++){var o=ES(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function kS(t){Xm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Zm(e)},t),t.g={}}Ma.prototype.N=function(){Ma.$.N.call(this),kS(this)};Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fh(){this.g=!0}fh.prototype.Ea=function(){this.g=!1};function yM(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function vM(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function wo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+EM(t,n)+(r?" "+r:"")})}function _M(t,e){t.info(function(){return"TIMEOUT: "+e})}fh.prototype.info=function(){};function EM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return ng(n)}catch{return e}}var Ki={},a_=null;function ph(){return a_=a_||new At}Ki.Ta="serverreachability";function xS(t){zt.call(this,Ki.Ta,t)}It(xS,zt);function Oa(t){const e=ph();Dt(e,new xS(e))}Ki.STAT_EVENT="statevent";function NS(t,e){zt.call(this,Ki.STAT_EVENT,t),this.stat=e}It(NS,zt);function Gt(t){const e=ph();Dt(e,new NS(e,t))}Ki.Ua="timingevent";function VS(t,e){zt.call(this,Ki.Ua,t),this.size=e}It(VS,zt);function al(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var mh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function sg(){}sg.prototype.h=null;function l_(t){return t.h||(t.h=t.i())}function LS(){}var ll={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ag(){zt.call(this,"d")}It(ag,zt);function lg(){zt.call(this,"c")}It(lg,zt);var ap;function gh(){}It(gh,sg);gh.prototype.g=function(){return new XMLHttpRequest};gh.prototype.i=function(){return{}};ap=new gh;function ul(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ma(this),this.P=wM,t=np?125:void 0,this.V=new dh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bS}function bS(){this.i=null,this.g="",this.h=!1}var wM=45e3,MS={},lp={};Y=ul.prototype;Y.setTimeout=function(t){this.P=t};function up(t,e,n){t.L=1,t.A=vh(_r(e)),t.u=n,t.S=!0,OS(t,null)}function OS(t,e){t.G=Date.now(),cl(t),t.B=_r(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),qS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new bS,t.g=dT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new gM(jt(t.Pa,t,t.g),t.O)),PS(t.U,t.g,"readystatechange",t.nb),e=t.I?vS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Oa(),yM(t.j,t.v,t.B,t.m,t.W,t.u)}Y.nb=function(t){t=t.target;const e=this.M;e&&Hn(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const c=Hn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||np||this.g&&(this.h.h||this.g.ja()||d_(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Oa(3):Oa(2)),yh(this);var n=this.g.da();this.ca=n;t:if($S(this)){var r=d_(this.g);t="";var i=r.length,o=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),ia(this);var s="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,vM(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Va(a)){var u=a;break t}}u=null}if(n=u)wo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cp(this,n);else{this.i=!1,this.s=3,Gt(12),_i(this),ia(this);break e}}this.S?(FS(this,c,s),np&&this.i&&c==3&&(PS(this.U,this.V,"tick",this.mb),this.V.start())):(wo(this.j,this.m,s,null),cp(this,s)),c==4&&_i(this),this.i&&!this.J&&(c==4?lT(this.l,this):(this.i=!1,cl(this)))}else jM(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),_i(this),ia(this)}}}catch{}finally{}};function $S(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function FS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=SM(t,n),i==lp){e==4&&(t.s=4,Gt(14),r=!1),wo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==MS){t.s=4,Gt(15),wo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else wo(t.j,t.m,i,null),cp(t,i);$S(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),pg(e),e.M=!0,Gt(11))):(wo(t.j,t.m,n,"[Invalid Chunked Response]"),_i(t),ia(t))}Y.mb=function(){if(this.g){var t=Hn(this.g),e=this.g.ja();this.o<e.length&&(yh(this),FS(this,t,e),this.i&&t!=4&&cl(this))}};function SM(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?lp:(n=Number(e.substring(n,r)),isNaN(n)?MS:(r+=1,r+n>e.length?lp:(e=e.slice(r,r+n),t.o=r+n,e)))}Y.cancel=function(){this.J=!0,_i(this)};function cl(t){t.Y=Date.now()+t.P,US(t,t.P)}function US(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=al(jt(t.lb,t),e)}function yh(t){t.C&&(ye.clearTimeout(t.C),t.C=null)}Y.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(_M(this.j,this.B),this.L!=2&&(Oa(),Gt(17)),_i(this),this.s=2,ia(this)):US(this,this.Y-t)};function ia(t){t.l.H==0||t.J||lT(t.l,t)}function _i(t){yh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ig(t.V),kS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function cp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||hp(n.i,t))){if(!t.K&&hp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)oc(n),Sh(n);else break e;fg(n),Gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=al(jt(n.ib,n),6e3));if(1>=GS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ei(n,11)}else if((t.K||n.g==t)&&oc(n),!Va(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(ug(o,o.h),o.h=null))}if(r.F){const E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Ke(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=hT(r,r.J?r.pa:null,r.Y),s.K){QS(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(yh(a),cl(a)),r.g=s}else sT(r);0<n.j.length&&Th(n)}else u[0]!="stop"&&u[0]!="close"||Ei(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ei(n,7):dg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Oa(4)}catch{}}function TM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(lh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(lh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function BS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(lh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=RM(t),r=TM(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var jS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ci(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ci){this.h=t.h,rc(this,t.j),this.s=t.s,this.g=t.g,ic(this,t.m),this.l=t.l;var e=t.i,n=new $a;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),u_(this,n),this.o=t.o}else t&&(e=String(t).match(jS))?(this.h=!1,rc(this,e[1]||"",!0),this.s=Bs(e[2]||""),this.g=Bs(e[3]||"",!0),ic(this,e[4]),this.l=Bs(e[5]||"",!0),u_(this,e[6]||"",!0),this.o=Bs(e[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}Ci.prototype.toString=function(){var t=[],e=this.j;e&&t.push(js(e,c_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(js(e,c_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(js(n,n.charAt(0)=="/"?PM:CM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",js(n,xM)),t.join("")};function _r(t){return new Ci(t)}function rc(t,e,n){t.j=n?Bs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ic(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function u_(t,e,n){e instanceof $a?(t.i=e,NM(t.i,t.h)):(n||(e=js(e,kM)),t.i=new $a(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function vh(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function js(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,IM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var c_=/[#\/\?@]/g,CM=/[#\?:]/g,PM=/[#\?]/g,kM=/[#\?@]/g,xM=/#/g;function $a(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function li(t){t.g||(t.g=new Map,t.h=0,t.i&&AM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=$a.prototype;Y.add=function(t,e){li(this),this.i=null,t=us(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function zS(t,e){li(t),e=us(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function WS(t,e){return li(t),e=us(t,e),t.g.has(e)}Y.forEach=function(t,e){li(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Y.ta=function(){li(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Y.Z=function(t){li(this);let e=[];if(typeof t=="string")WS(this,t)&&(e=e.concat(this.g.get(us(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return li(this),this.i=null,t=us(this,t),WS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function qS(t,e,n){zS(t,e),0<n.length&&(t.i=null,t.g.set(us(t,e),Qm(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function us(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function NM(t,e){e&&!t.j&&(li(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(zS(this,r),qS(this,i,n))},t)),t.j=e}var VM=class{constructor(t,e){this.g=t,this.map=e}};function HS(t){this.l=t||DM,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var DM=10;function KS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function GS(t){return t.h?1:t.g?t.g.size:0}function hp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ug(t,e){t.g?t.g.add(e):t.h=e}function QS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}HS.prototype.cancel=function(){if(this.i=YS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function YS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Qm(t.i)}var LM=class{stringify(t){return ye.JSON.stringify(t,void 0)}parse(t){return ye.JSON.parse(t,void 0)}};function bM(){this.g=new LM}function MM(t,e,n){const r=n||"";try{BS(t,function(i,o){let s=i;ol(i)&&(s=ng(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function OM(t,e){const n=new fh;if(ye.Image){const r=new Image;r.onload=Gl(Yl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gl(Yl,n,r,"TestLoadImage: error",!1,e),r.onabort=Gl(Yl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gl(Yl,n,r,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function _h(t){this.l=t.ec||null,this.j=t.ob||!1}It(_h,sg);_h.prototype.g=function(){return new Eh(this.l,this.j)};_h.prototype.i=function(t){return function(){return t}}({});function Eh(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=cg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(Eh,At);var cg=0;Y=Eh.prototype;Y.open=function(t,e){if(this.readyState!=cg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fa(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hl(this)),this.readyState=cg};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function XS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hl(this):Fa(this),this.readyState==3&&XS(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,hl(this))};Y.Ya=function(t){this.g&&(this.response=t,hl(this))};Y.ka=function(){this.g&&hl(this)};function hl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fa(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Fa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var $M=ye.JSON.parse;function lt(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JS,this.L=this.M=!1}It(lt,At);var JS="",FM=/^https?$/i,UM=["POST","PUT"];Y=lt.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ap.g(),this.C=this.u?l_(this.u):l_(ap),this.g.onreadystatechange=jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){h_(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ye.FormData&&t instanceof ye.FormData,!(0<=pS(UM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tT(this),0<this.B&&((this.L=BM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.ua,this)):this.A=og(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){h_(this,o)}};function BM(t){return Ko&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof Gm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))};function h_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ZS(t),wh(t)}function ZS(t){t.F||(t.F=!0,Dt(t,"complete"),Dt(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),wh(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wh(this,!0)),lt.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?eT(this):this.kb())};Y.kb=function(){eT(this)};function eT(t){if(t.h&&typeof Gm<"u"&&(!t.C[1]||Hn(t)!=4||t.da()!=2)){if(t.v&&Hn(t)==4)og(t.La,0,t);else if(Dt(t,"readystatechange"),Hn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(jS)[1]||null;!i&&ye.self&&ye.self.location&&(i=ye.self.location.protocol.slice(0,-1)),r=!FM.test(i?i.toLowerCase():"")}n=r}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var o=2<Hn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",ZS(t)}}finally{wh(t)}}}}function wh(t,e){if(t.g){tT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch{}}}function tT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function Hn(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),$M(e)}};function d_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case JS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jM(t){const e={};t=(t.g&&2<=Hn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Va(t[r]))continue;var n=fM(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}sM(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function nT(t){let e="";return Xm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function hg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function Ns(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function rT(t){this.Ga=0,this.j=[],this.l=new fh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ns("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ns("baseRetryDelayMs",5e3,t),this.hb=Ns("retryDelaySeedMs",1e4,t),this.eb=Ns("forwardChannelMaxRetries",2,t),this.xa=Ns("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new HS(t&&t.concurrentRequestLimit),this.Ja=new bM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=rT.prototype;Y.ra=8;Y.H=1;function dg(t){if(iT(t),t.H==3){var e=t.W++,n=_r(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),dl(t,n),e=new ul(t,t.l,e),e.L=2,e.A=vh(_r(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon)try{n=ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=dT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),cl(e)}cT(t)}function Sh(t){t.g&&(pg(t),t.g.cancel(),t.g=null)}function iT(t){Sh(t),t.u&&(ye.clearTimeout(t.u),t.u=null),oc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function Th(t){if(!KS(t.i)&&!t.m){t.m=!0;var e=t.Na;La||IS(),ba||(La(),ba=!0),rg.add(e,t),t.C=0}}function zM(t,e){return GS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=al(jt(t.Na,t,e),uT(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ul(this,this.l,t);let o=this.s;if(this.U&&(o?(o=vS(o),_S(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oT(this,i,e),n=_r(this.I),Ke(n,"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),dl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(nT(o)))+"&"+e:this.o&&hg(n,this.o,o)),ug(this.i,i),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),i.aa=!0,up(i,n,null)):up(i,n,e),this.H=2}}else this.H==3&&(t?f_(this,t):this.j.length==0||KS(this.i)||f_(this))};function f_(t,e){var n;e?n=e.m:n=t.W++;const r=_r(t.I);Ke(r,"SID",t.K),Ke(r,"RID",n),Ke(r,"AID",t.V),dl(t,r),t.o&&t.s&&hg(r,t.o,t.s),n=new ul(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=oT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ug(t.i,n),up(n,r,e)}function dl(t,e){t.na&&Xm(t.na,function(n,r){Ke(e,r,n)}),t.h&&BS({},function(n,r){Ke(e,r,n)})}function oT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{MM(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function sT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;La||IS(),ba||(La(),ba=!0),rg.add(e,t),t.A=0}}function fg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=al(jt(t.Ma,t),uT(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,aT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=al(jt(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gt(10),Sh(this),aT(this))};function pg(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function aT(t){t.g=new ul(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=_r(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),dl(t,e),t.o&&t.s&&hg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=vh(_r(e)),n.u=null,n.S=!0,OS(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,Sh(this),fg(this),Gt(19))};function oc(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function lT(t,e){var n=null;if(t.g==e){oc(t),pg(t),t.g=null;var r=2}else if(hp(t.i,e))n=e.F,QS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=ph(),Dt(r,new VS(r,n)),Th(t)}else sT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&zM(t,e)||r==2&&fg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ei(t,5);break;case 4:Ei(t,10);break;case 3:Ei(t,6);break;default:Ei(t,2)}}}function uT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ei(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jt(t.pb,t);n||(n=new Ci("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||rc(n,"https"),vh(n)),OM(n.toString(),r)}else Gt(2);t.H=0,t.h&&t.h.za(e),cT(t),iT(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gt(2)):(this.l.info("Failed to ping google.com"),Gt(1))};function cT(t){if(t.H=0,t.ma=[],t.h){const e=YS(t.i);(e.length!=0||t.j.length!=0)&&(r_(t.ma,e),r_(t.ma,t.j),t.i.i.length=0,Qm(t.j),t.j.length=0),t.h.ya()}}function hT(t,e,n){var r=n instanceof Ci?_r(n):new Ci(n);if(r.g!="")e&&(r.g=e+"."+r.g),ic(r,r.m);else{var i=ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ci(null);r&&rc(o,r),e&&(o.g=e),i&&ic(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ke(r,n,e),Ke(r,"VER",t.ra),dl(t,r),r}function dT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new lt(new _h({ob:n})):new lt(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function fT(){}Y=fT.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function sc(){if(Ko&&!(10<=Number(nM)))throw Error("Environmental error: no available transport.")}sc.prototype.g=function(t,e){return new mn(t,e)};function mn(t,e){At.call(this),this.g=new rT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Va(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Va(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new cs(this)}It(mn,At);mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=hT(t,null,t.Y),Th(t)};mn.prototype.close=function(){dg(this.g)};mn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ng(t),t=n);e.j.push(new VM(e.fb++,t)),e.H==3&&Th(e)};mn.prototype.N=function(){this.g.h=null,delete this.j,dg(this.g),delete this.g,mn.$.N.call(this)};function pT(t){ag.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(pT,ag);function mT(){lg.call(this),this.status=1}It(mT,lg);function cs(t){this.g=t}It(cs,fT);cs.prototype.Ba=function(){Dt(this.g,"a")};cs.prototype.Aa=function(t){Dt(this.g,new pT(t))};cs.prototype.za=function(t){Dt(this.g,new mT)};cs.prototype.ya=function(){Dt(this.g,"b")};function WM(){this.blockSize=-1}function Un(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It(Un,WM);Un.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Dd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Un.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Dd(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Dd(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Dd(this,r),i=0;break}}this.h=i,this.i+=e};Un.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var qM={};function mg(t){return-128<=t&&128>t?Zb(t,function(e){return new Fe([e|0],0>e?-1:0)}):new Fe([t|0],0>t?-1:0)}function Kn(t){if(isNaN(t)||!isFinite(t))return Vo;if(0>t)return xt(Kn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=dp;return new Fe(e,0)}function gT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return xt(gT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kn(Math.pow(e,8)),r=Vo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Kn(Math.pow(e,o)),r=r.R(o).add(Kn(s))):(r=r.R(n),r=r.add(Kn(s)))}return r}var dp=4294967296,Vo=mg(0),fp=mg(1),p_=mg(16777216);Y=Fe.prototype;Y.ea=function(){if(Rn(this))return-xt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:dp+r)*e,e*=dp}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(dr(this))return"0";if(Rn(this))return"-"+xt(this).toString(t);for(var e=Kn(Math.pow(t,6)),n=this,r="";;){var i=lc(n,e).g;n=ac(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,dr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function dr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rn(t){return t.h==-1}Y.X=function(t){return t=ac(this,t),Rn(t)?-1:dr(t)?0:1};function xt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Fe(n,~t.h).add(fp)}Y.abs=function(){return Rn(this)?xt(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Fe(n,n[n.length-1]&-2147483648?-1:0)};function ac(t,e){return t.add(xt(e))}Y.R=function(t){if(dr(this)||dr(t))return Vo;if(Rn(this))return Rn(t)?xt(this).R(xt(t)):xt(xt(this).R(t));if(Rn(t))return xt(this.R(xt(t)));if(0>this.X(p_)&&0>t.X(p_))return Kn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Xl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Xl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Xl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Xl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Fe(n,0)};function Xl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Vs(t,e){this.g=t,this.h=e}function lc(t,e){if(dr(e))throw Error("division by zero");if(dr(t))return new Vs(Vo,Vo);if(Rn(t))return e=lc(xt(t),e),new Vs(xt(e.g),xt(e.h));if(Rn(e))return e=lc(t,xt(e)),new Vs(xt(e.g),e.h);if(30<t.g.length){if(Rn(t)||Rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fp,r=e;0>=r.X(t);)n=m_(n),r=m_(r);var i=ro(n,1),o=ro(r,1);for(r=ro(r,2),n=ro(n,2);!dr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ro(r,1),n=ro(n,1)}return e=ac(t,i.R(e)),new Vs(i,e)}for(i=Vo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Kn(n),s=o.R(e);Rn(s)||0<s.X(t);)n-=r,o=Kn(n),s=o.R(e);dr(o)&&(o=fp),i=i.add(o),t=ac(t,s)}return new Vs(i,t)}Y.gb=function(t){return lc(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Fe(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Fe(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Fe(n,this.h^t.h)};function m_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Fe(n,t.h)}function ro(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Fe(i,t.h)}sc.prototype.createWebChannel=sc.prototype.g;mn.prototype.send=mn.prototype.u;mn.prototype.open=mn.prototype.m;mn.prototype.close=mn.prototype.close;mh.NO_ERROR=0;mh.TIMEOUT=8;mh.HTTP_ERROR=6;DS.COMPLETE="complete";LS.EventType=ll;ll.OPEN="a";ll.CLOSE="b";ll.ERROR="c";ll.MESSAGE="d";At.prototype.listen=At.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;Un.prototype.digest=Un.prototype.l;Un.prototype.reset=Un.prototype.reset;Un.prototype.update=Un.prototype.j;Fe.prototype.add=Fe.prototype.add;Fe.prototype.multiply=Fe.prototype.R;Fe.prototype.modulo=Fe.prototype.gb;Fe.prototype.compare=Fe.prototype.X;Fe.prototype.toNumber=Fe.prototype.ea;Fe.prototype.toString=Fe.prototype.toString;Fe.prototype.getBits=Fe.prototype.D;Fe.fromNumber=Kn;Fe.fromString=gT;var HM=function(){return new sc},KM=function(){return ph()},Ld=mh,GM=DS,QM=Ki,g_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jl=LS,YM=lt,XM=Un,Do=Fe;const y_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hs="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new lS("@firebase/firestore");function Ds(){return Mi.logLevel}function Q(t,...e){if(Mi.logLevel<=De.DEBUG){const n=e.map(gg);Mi.debug(`Firestore (${hs}): ${t}`,...n)}}function tr(t,...e){if(Mi.logLevel<=De.ERROR){const n=e.map(gg);Mi.error(`Firestore (${hs}): ${t}`,...n)}}function Go(t,...e){if(Mi.logLevel<=De.WARN){const n=e.map(gg);Mi.warn(`Firestore (${hs}): ${t}`,...n)}}function gg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${hs}) INTERNAL ASSERTION FAILED: `+t;throw tr(e),new Error(e)}function qe(t,e){t||ge()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class ZM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eO{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new yT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Ft(e)}}class tO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new tO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new rO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Qo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new _t(0,0))}static max(){return new ve(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Ua{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Ua{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return sO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ne(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ne(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ne(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Ge.fromString(e))}static fromName(e){return new he(Ge.fromString(e).popFirst(5))}static empty(){return new he(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Ge(e.slice()))}}function aO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Jr(i,he.empty(),e)}function lO(t){return new Jr(t.readTime,t.key,-1)}class Jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jr(ve.min(),he.empty(),-1)}static max(){return new Jr(ve.max(),he.empty(),-1)}}function uO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==cO)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new O((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new pr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new oa(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=vg(r.target.error);this.V.reject(new oa(e,i))}}static open(e,n,r,i){try{return new yg(n,e.transaction(i,r))}catch(o){throw new oa(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new fO(n)}}class wi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,wi.S(ec())===12.2&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),mi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!sS())return!1;if(wi.C())return!0;const e=ec(),n=wi.S(e),r=0<n&&n<10,i=wi.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new oa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new ne(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ne(M.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new oa(e,s))},i.onupgradeneeded=o=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=yg.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),O.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(Q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class dO{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return mi(this.k.delete())}}class oa extends ne{constructor(e,n){super(M.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function pl(t){return t.name==="IndexedDbTransactionError"}class fO{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mi(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),mi(this.store.add(e))}get(e){return mi(this.store.get(e)).next(n=>(n===void 0&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),mi(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),mi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new O((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new O((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new O((r,i)=>{n.onerror=o=>{const s=vg(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new O((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new dO(a),u=n(a.primaryKey,a.value,l);if(u instanceof O){const c=u.catch(h=>(l.done(),O.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>O.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function mi(t){return new O((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=vg(r.target.error);n(i)}})}let v_=!1;function vg(t){const e=wi.S(ec());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return v_||(v_=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}_g._e=-1;function Rh(t){return t==null}function uc(t){return t===0&&1/t==-1/0}function pO(t){return typeof t=="number"&&Number.isInteger(t)&&!uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _T(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zl(this.root,e,this.comparator,!0)}}class Zl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=o??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,o){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new Lt(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ET("Invalid base64 string: "+o):o}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const mO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(qe(!!t),typeof t=="string"){let e=0;const n=mO.exec(t);if(qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wg(t){const e=t.mapValue.fields.__previous_value__;return Eg(e)?wg(e):e}function Ba(t){const e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ja{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Eg(t)?4:yO(t)?9007199254740991:10:ge()}function nr(t,e){if(t===e)return!0;const n=$i(t);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ba(t).isEqual(Ba(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Zr(i.timestampValue),a=Zr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Oi(i.bytesValue).isEqual(Oi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?uc(s)===uc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(__(s)!==__(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!nr(s[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function za(t,e){return(t.values||[]).find(n=>nr(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=$i(t),r=$i(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ft(o.integerValue||o.doubleValue),l=ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return w_(t.timestampValue,e.timestampValue);case 4:return w_(Ba(t),Ba(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Oi(o),l=Oi(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Oe(a[u],l[u]);if(c!==0)return c}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Oe(ft(o.latitude),ft(s.latitude));return a!==0?a:Oe(ft(o.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Yo(a[u],l[u]);if(c)return c}return Oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===eu.mapValue&&s===eu.mapValue)return 0;if(o===eu.mapValue)return 1;if(s===eu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=Oe(l[h],c[h]);if(d!==0)return d;const p=Yo(a[l[h]],u[c[h]]);if(p!==0)return p}return Oe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ge()}}function w_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Zr(t),r=Zr(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function Xo(t){return pp(t)}function pp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=pp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${pp(n.fields[s])}`;return i+"}"}(t.mapValue):ge()}function S_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mp(t){return!!t&&"integerValue"in t}function Sg(t){return!!t&&"arrayValue"in t}function T_(t){return!!t&&"nullValue"in t}function R_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gu(t){return!!t&&"mapValue"in t}function sa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=sa(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new en(sa(this.value))}}function wT(t){const e=[];return Gi(t.fields,(n,r)=>{const i=new Nt([n]);if(gu(r)){const o=wT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,ve.min(),ve.min(),ve.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,ve.min(),ve.min(),en.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,ve.min(),ve.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.position=e,this.inclusive=n}}function A_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=Yo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function I_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n="asc"){this.field=e,this.dir=n}}function vO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{}class mt extends ST{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EO(e,n,r):n==="array-contains"?new TO(e,r):n==="in"?new RO(e,r):n==="not-in"?new AO(e,r):n==="array-contains-any"?new IO(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wO(e,r):new SO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yo(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends ST{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Bn(e,n)}matches(e){return TT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function TT(t){return t.op==="and"}function RT(t){return _O(t)&&TT(t)}function _O(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function gp(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(RT(t))return t.filters.map(e=>gp(e)).join(",");{const e=t.filters.map(n=>gp(n)).join(",");return`${t.op}(${e})`}}function AT(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&nr(r.value,i.value)}(t,e):t instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&AT(s,i.filters[a]),!0):!1}(t,e):void ge()}function IT(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(IT).join(" ,")+"}"}(t):"Filter"}class EO extends mt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class wO extends mt{constructor(e,n){super(e,"in",n),this.keys=CT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SO extends mt{constructor(e,n){super(e,"not-in",n),this.keys=CT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class TO extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sg(n)&&za(n.arrayValue,this.value)}}class RO extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&za(this.value.arrayValue,n)}}class AO extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!za(this.value.arrayValue,n)}}class IO extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function C_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new CO(t,e,n,r,i,o,s)}function Tg(t){const e=we(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xo(r)).join(",")),e.ce=n}return e.ce}function Rg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I_(t.startAt,e.startAt)&&I_(t.endAt,e.endAt)}function yp(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function PO(t,e,n,r,i,o,s,a){return new ds(t,e,n,r,i,o,s,a)}function Ag(t){return new ds(t)}function P_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PT(t){return t.collectionGroup!==null}function aa(t){const e=we(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Lt(Nt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Wa(o,r))}),n.has(Nt.keyField().canonicalString())||e.le.push(new Wa(Nt.keyField(),r))}return e.le}function Xn(t){const e=we(t);return e.he||(e.he=kO(e,aa(t))),e.he}function kO(t,e){if(t.limitType==="F")return C_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Wa(i.field,o)});const n=t.endAt?new cc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cc(t.startAt.position,t.startAt.inclusive):null;return C_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vp(t,e){const n=t.filters.concat([e]);return new ds(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hc(t,e,n){return new ds(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ah(t,e){return Rg(Xn(t),Xn(e))&&t.limitType===e.limitType}function kT(t){return`${Tg(Xn(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IT(i)).join(", ")}]`),Rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xo(i)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function Ih(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of aa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=A_(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,aa(r),i)||r.endAt&&!function(s,a,l){const u=A_(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,aa(r),i))}(t,e)}function xO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xT(t){return(e,n)=>{let r=!1;for(const i of aa(t)){const o=NO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function NO(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Yo(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new st(he.comparator);function Er(){return VO}const NT=new st(he.comparator);function zs(...t){let e=NT;for(const n of t)e=e.insert(n.key,n);return e}function VT(t){let e=NT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return la()}function DT(){return la()}function la(){return new fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const DO=new st(he.comparator),LO=new Lt(he.comparator);function Ce(...t){let e=LO;for(const n of t)e=e.add(n);return e}const bO=new Lt(Oe);function MO(){return bO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function bT(t){return{integerValue:""+t}}function OO(t,e){return pO(e)?bT(e):LT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function $O(t,e,n){return t instanceof dc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Eg(o)&&(o=wg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof qa?OT(t,e):t instanceof Ha?$T(t,e):function(i,o){const s=MT(i,o),a=k_(s)+k_(i.Ie);return mp(s)&&mp(i.Ie)?bT(a):LT(i.serializer,a)}(t,e)}function FO(t,e,n){return t instanceof qa?OT(t,e):t instanceof Ha?$T(t,e):n}function MT(t,e){return t instanceof fc?function(r){return mp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class dc extends Ch{}class qa extends Ch{constructor(e){super(),this.elements=e}}function OT(t,e){const n=FT(e);for(const r of t.elements)n.some(i=>nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ha extends Ch{constructor(e){super(),this.elements=e}}function $T(t,e){let n=FT(e);for(const r of t.elements)n=n.filter(i=>!nr(i,r));return{arrayValue:{values:n}}}class fc extends Ch{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function k_(t){return ft(t.integerValue||t.doubleValue)}function FT(t){return Sg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qa&&i instanceof qa||r instanceof Ha&&i instanceof Ha?Qo(r.elements,i.elements,nr):r instanceof fc&&i instanceof fc?nr(r.Ie,i.Ie):r instanceof dc&&i instanceof dc}(t.transform,e.transform)}class BO{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ph{}function UT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ig(t.key,$n.none()):new ml(t.key,t.data,$n.none());{const n=t.data,r=en.empty();let i=new Lt(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ui(t.key,r,new hn(i.toArray()),$n.none())}}function jO(t,e,n){t instanceof ml?function(i,o,s){const a=i.value.clone(),l=N_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(i,o,s){if(!yu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=N_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(BT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ua(t,e,n,r){return t instanceof ml?function(o,s,a,l){if(!yu(o.precondition,s))return a;const u=o.value.clone(),c=V_(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(o,s,a,l){if(!yu(o.precondition,s))return a;const u=V_(o.fieldTransforms,l,s),c=s.data;return c.setAll(BT(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return yu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function zO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=MT(r.transform,i||null);o!=null&&(n===null&&(n=en.empty()),n.set(r.field,o))}return n||null}function x_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qo(r,i,(o,s)=>UO(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ml extends Ph{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ui extends Ph{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function N_(t,e,n){const r=new Map;qe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,FO(s,a,n[i]))}return r}function V_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,$O(o,s,e))}return r}class Ig extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WO extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&jO(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ua(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ua(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=UT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,r)=>x_(n,r))&&Qo(this.baseMutations,e.baseMutations,(n,r)=>x_(n,r))}}class Cg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length);let i=function(){return DO}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Cg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ve;function GO(t){switch(t){default:return ge();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function jT(t){if(t===void 0)return tr("GRPC error has no .code"),M.UNKNOWN;switch(t){case dt.OK:return M.OK;case dt.CANCELLED:return M.CANCELLED;case dt.UNKNOWN:return M.UNKNOWN;case dt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case dt.INTERNAL:return M.INTERNAL;case dt.UNAVAILABLE:return M.UNAVAILABLE;case dt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case dt.NOT_FOUND:return M.NOT_FOUND;case dt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case dt.ABORTED:return M.ABORTED;case dt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case dt.DATA_LOSS:return M.DATA_LOSS;default:return ge()}}(Ve=dt||(dt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new Do([4294967295,4294967295],0);function D_(t){const e=QO().encode(t),n=new XM;return n.update(e),new Uint8Array(n.digest())}function L_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Do([n,r],0),new Do([i,o],0)]}class Pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ws(`Invalid padding: ${n}`);if(r<0)throw new Ws(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ws(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ws(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Do.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Do.fromNumber(r)));return i.compare(YO)===1&&(i=new Do([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=D_(e),[r,i]=L_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Pg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=D_(e),[r,i]=L_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ws extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kh(ve.min(),i,new st(Oe),Er(),Ce())}}class gl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gl(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class zT{constructor(e,n){this.targetId=e,this.fe=n}}class WT{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class b_{constructor(){this.ge=0,this.pe=O_(),this.ye=qt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new gl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=O_()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,qe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class XO{constructor(e){this.Le=e,this.ke=new Map,this.qe=Er(),this.Qe=M_(),this.Ke=new st(Oe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(yp(o))if(r===0){const s=new he(o.path);this.We(n,s,Bt.newNoDocument(s,ve.min()))}else qe(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Oi(r).toUint8Array()}catch(l){if(l instanceof ET)return Go("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pg(s,i,o)}catch(l){return Go(l instanceof Ws?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&yp(a.target)){const l=new he(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Bt.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Ce();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new kh(e,n,this.Ke,this.qe,r);return this.qe=Er(),this.Qe=M_(),this.Ke=new st(Oe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new b_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Lt(Oe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new b_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function M_(){return new st(he.comparator)}function O_(){return new st(he.comparator)}const JO={asc:"ASCENDING",desc:"DESCENDING"},ZO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e4={and:"AND",or:"OR"};class t4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _p(t,e){return t.useProto3Json||Rh(e)?e:{value:e}}function pc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n4(t,e){return pc(t,e.toTimestamp())}function Jn(t){return qe(!!t),ve.fromTimestamp(function(n){const r=Zr(n);return new _t(r.seconds,r.nanos)}(t))}function kg(t,e){return Ep(t,e).canonicalString()}function Ep(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HT(t){const e=Ge.fromString(t);return qe(XT(e)),e}function wp(t,e){return kg(t.databaseId,e.path)}function bd(t,e){const n=HT(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(GT(n))}function KT(t,e){return kg(t.databaseId,e)}function r4(t){const e=HT(t);return e.length===4?Ge.emptyPath():GT(e)}function Sp(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GT(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $_(t,e,n){return{name:wp(t,e),fields:n.value.mapValue.fields}}function i4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(qe(c===void 0||typeof c=="string"),qt.fromBase64String(c||"")):(qe(c===void 0||c instanceof Uint8Array),qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?M.UNKNOWN:jT(u.code);return new ne(c,u.message||"")}(s);n=new WT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bd(t,r.document.name),o=Jn(r.document.updateTime),s=r.document.createTime?Jn(r.document.createTime):ve.min(),a=new en({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new vu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bd(t,r.document),o=r.readTime?Jn(r.readTime):ve.min(),s=Bt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new vu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bd(t,r.document),o=r.removedTargetIds||[];n=new vu([],o,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new KO(i,o),a=r.targetId;n=new zT(a,s)}}return n}function o4(t,e){let n;if(e instanceof ml)n={update:$_(t,e.key,e.value)};else if(e instanceof Ig)n={delete:wp(t,e.key)};else if(e instanceof ui)n={update:$_(t,e.key,e.data),updateMask:p4(e.fieldMask)};else{if(!(e instanceof WO))return ge();n={verify:wp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof dc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ha)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fc)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:n4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(t,e.precondition)),n}function s4(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Jn(i.updateTime):Jn(o);return s.isEqual(ve.min())&&(s=Jn(o)),new BO(s,i.transformResults||[])}(n,e))):[]}function a4(t,e){return{documents:[KT(t,e.path)]}}function l4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KT(t,i);const o=function(u){if(u.length!==0)return YT(Bn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:so(d.field),direction:h4(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=_p(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function u4(t){let e=r4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=QT(h);return d instanceof Bn&&RT(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(y){return new Wa(ao(y.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Rh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new cc(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new cc(p,d)}(n.endAt)),PO(e,i,s,o,a,"F",l,u)}function c4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ao(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ao(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ao(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ao(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(ao(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>QT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function h4(t){return JO[t]}function d4(t){return ZO[t]}function f4(t){return e4[t]}function so(t){return{fieldPath:t.canonicalString()}}function ao(t){return Nt.fromServerFormat(t.fieldPath)}function YT(t){return t instanceof mt?function(n){if(n.op==="=="){if(R_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(T_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(T_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:d4(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const r=n.getFilters().map(i=>YT(i));return r.length===1?r[0]:{compositeFilter:{op:f4(n.op),filters:r}}}(t):ge()}function p4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,r,i,o=ve.min(),s=ve.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.ct=e}}function g4(t){const e=u4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this._n=new v4}addToCollectionParentIndex(e,n){return this._n.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Jr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class v4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(Ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Jo(0)}static Bn(){return new Jo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.changes=new fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ua(r.mutation,i,hn.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=zs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Er();const s=la(),a=function(){return la()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ui)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ua(c.mutation,u,c.mutation.getFieldMask(),_t.now())):s.set(u.key,hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new E4(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=la();let i=new st((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||hn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=DT();c.forEach(d=>{if(!o.has(d)){const p=UT(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(Si());let a=-1,l=o;return s.next(u=>O.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?O.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:a,changes:VT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=zs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=zs();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,l=>{const u=function(h,d){return new ds(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Bt.newInvalidDocument(c)))});let a=zs();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&ua(c.mutation,u,hn.empty(),_t.now()),Ih(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return O.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:g4(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.overlays=new st(he.comparator),this.hr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Si();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=Si(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new st((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Si(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Si(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new HO(n,r));let o=this.hr.get(n);o===void 0&&(o=Ce(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.Pr=new Lt(St.Ir),this.Tr=new Lt(St.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new St(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new he(new Ge([])),r=new St(n,e),i=new St(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new he(new Ge([])),r=new St(n,e),i=new St(n,e+1);let o=Ce();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new St(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return he.comparator(e.key,n.key)||Oe(e.pr,n.pr)}static Er(e,n){return Oe(e.pr,n.pr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Lt(St.Ir)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new qO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new St(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Oe);return n.forEach(i=>{const o=new St(i,0),s=new St(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),O.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new St(new he(o),0);let a=new Lt(Oe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),O.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return O.forEach(n.mutations,i=>{const o=new St(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new St(n,0),i=this.wr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.vr=e,this.docs=function(){return new st(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Er();const s=n.path,a=new he(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||uO(lO(c),r)<=0||(i.has(c.key)||Ih(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new I4(this)}getSize(e){return O.resolve(this.size)}}class I4 extends _4{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.persistence=e,this.Mr=new fs(n=>Tg(n),Rg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Or=0,this.Nr=new xg,this.targetCount=0,this.Br=Jo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),O.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Jo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.qn(n),O.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.Lr={},this.overlays={},this.kr=new _g(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new C4(this),this.indexManager=new y4,this.remoteDocumentCache=function(i){return new A4(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new m4(n),this.$r=new S4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new R4(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new k4(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return O.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class k4 extends hO{constructor(e){super(),this.currentSequenceNumber=e}}class Ng{constructor(e){this.persistence=e,this.zr=new xg,this.jr=null}static Hr(e){return new Ng(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),O.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Jr,r=>{const i=he.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ve.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return O.or([()=>O.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ce(),i=Ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Vg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return DL()?8:wi.v(ec())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new x4;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ds()<=De.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),O.resolve()):(Ds()<=De.DEBUG&&Q("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ds()<=De.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):O.resolve())}ji(e,n){if(P_(n))return O.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hc(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ce(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,hc(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return P_(n)||i.isEqual(ve.min())?O.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?O.resolve(null):(Ds()<=De.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(n)),this.es(e,s,n,aO(i,-1)).next(a=>a))})}Zi(e,n){let r=new Lt(xT(e));return n.forEach((i,o)=>{Ih(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ds()<=De.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",oo(n)),this.zi.getDocumentsMatchingQuery(e,n,Jr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new st(Oe),this.rs=new fs(o=>Tg(o),Rg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w4(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function D4(t,e,n,r){return new V4(t,e,n,r)}async function JT(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ce();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function L4(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let p=O.resolve();return d.forEach(y=>{p=p.next(()=>c.getEntry(l,y)).next(E=>{const T=u.docVersions.get(y);qe(T!==null),E.version.compareTo(T)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),c.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZT(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function b4(t,e){const n=we(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(qt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(E,T,m){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,p,c)&&a.push(n.Qr.updateTargetData(o,p))});let l=Er(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(M4(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ve.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function M4(t,e,n){let r=Ce(),i=Ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Er();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function O4(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $4(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Mr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Tp(t,e,n){const r=we(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pl(s))throw s;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function F_(t,e,n){const r=we(t);let i=ve.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=we(l),d=h.rs.get(c);return d!==void 0?O.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,s,Xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ve.min(),n?o:Ce())).next(a=>(F4(r,xO(e),a),{documents:a,hs:o})))}function F4(t,e,n){let r=t.ss.get(e)||ve.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class U_{constructor(){this.activeTargetIds=MO()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U4{constructor(){this.no=new U_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new U_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=null;function Md(){return tu===null?tu=function(){return 268435456+Math.round(2147483648*Math.random())}():tu++,"0x"+tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class W4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=Md(),l=this.bo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Go("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=j4[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=Md();return new Promise((s,a)=>{const l=new YM;l.setWithCredentials(!0),l.listenOnce(GM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ld.NO_ERROR:const c=l.getResponseJson();Q($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Ld.TIMEOUT:Q($t,`RPC '${e}' ${o} timed out`),a(new ne(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:const h=l.getStatus();if(Q($t,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const y=function(T){const m=T.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(m)>=0?m:M.UNKNOWN}(p.status);a(new ne(y,p.message))}else a(new ne(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ne(M.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{Q($t,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Q($t,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Md(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=HM(),a=KM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Q($t,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,p=!1;const y=new z4({lo:T=>{p?Q($t,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(d||(Q($t,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),Q($t,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},ho:()=>h.close()}),E=(T,m,f)=>{T.listen(m,g=>{try{f(g)}catch(A){setTimeout(()=>{throw A},0)}})};return E(h,Jl.EventType.OPEN,()=>{p||Q($t,`RPC '${e}' stream ${i} transport opened.`)}),E(h,Jl.EventType.CLOSE,()=>{p||(p=!0,Q($t,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),E(h,Jl.EventType.ERROR,T=>{p||(p=!0,Go($t,`RPC '${e}' stream ${i} transport errored:`,T),y.Vo(new ne(M.UNAVAILABLE,"The operation could not be completed")))}),E(h,Jl.EventType.MESSAGE,T=>{var m;if(!p){const f=T.data[0];qe(!!f);const g=f,A=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(A){Q($t,`RPC '${e}' stream ${i} received error:`,A);const C=A.status;let P=function(ae){const Z=dt[ae];if(Z!==void 0)return jT(Z)}(C),V=A.message;P===void 0&&(P=M.INTERNAL,V="Unknown error status: "+C+" with message "+A.message),p=!0,y.Vo(new ne(P,V)),h.close()}else Q($t,`RPC '${e}' stream ${i} received:`,f),y.mo(f)}}),E(a,QM.STAT_EVENT,T=>{T.stat===g_.PROXY?Q($t,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===g_.NOPROXY&&Q($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function Od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new t4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new eR(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new ne(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q4 extends tR{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=i4(this.serializer,e),r=function(o){if(!("targetChange"in o))return ve.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?Jn(s.readTime):ve.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Sp(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=yp(l)?{documents:a4(o,l)}:{query:l4(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qT(o,s.resumeToken);const u=_p(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=pc(o,s.snapshotVersion.toTimestamp());const u=_p(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=c4(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Sp(this.serializer),n.removeTarget=e,this.t_(n)}}class H4 extends tR{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=s4(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.T_(r,n)}return qe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Sp(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>o4(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ne(M.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Ep(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(M.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Ep(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(M.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class G4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(tr(n),this.g_=!1):Q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Qi(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=we(l);u.v_.add(4),await yl(u),u.x_.set("Unknown"),u.v_.delete(4),await Nh(u)}(this))})}),this.x_=new G4(r,i)}}async function Nh(t){if(Qi(t))for(const e of t.F_)await e(!0)}async function yl(t){for(const e of t.F_)await e(!1)}function nR(t,e){const n=we(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),bg(n)?Lg(n):ps(n).Jo()&&Dg(n,e))}function rR(t,e){const n=we(t),r=ps(n);n.C_.delete(e),r.Jo()&&iR(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Qi(n)&&n.x_.set("Unknown"))}function Dg(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ps(t).c_(e)}function iR(t,e){t.O_.Oe(e),ps(t).l_(e)}function Lg(t){t.O_=new XO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ps(t).start(),t.x_.p_()}function bg(t){return Qi(t)&&!ps(t).Ho()&&t.C_.size>0}function Qi(t){return we(t).v_.size===0}function oR(t){t.O_=void 0}async function Y4(t){t.C_.forEach((e,n)=>{Dg(t,e)})}async function X4(t,e){oR(t),bg(t)?(t.x_.S_(e),Lg(t)):t.x_.set("Unknown")}async function J4(t,e,n){if(t.x_.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mc(t,r)}else if(e instanceof vu?t.O_.$e(e):e instanceof zT?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ve.min()))try{const r=await ZT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(qt.EMPTY_BYTE_STRING,c.snapshotVersion)),iR(o,l);const h=new Mr(c.target,l,u,c.sequenceNumber);Dg(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await mc(t,r)}}async function mc(t,e,n){if(!pl(e))throw e;t.v_.add(1),await yl(t),t.x_.set("Offline"),n||(n=()=>ZT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Nh(t)})}function sR(t,e){return e().catch(n=>mc(t,n,e))}async function Vh(t){const e=we(t),n=ei(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Z4(e);)try{const i=await O4(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,e$(e,i)}catch(i){await mc(e,i)}aR(e)&&lR(e)}function Z4(t){return Qi(t)&&t.D_.length<10}function e$(t,e){t.D_.push(e);const n=ei(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function aR(t){return Qi(t)&&!ei(t).Ho()&&t.D_.length>0}function lR(t){ei(t).start()}async function t$(t){ei(t).d_()}async function n$(t){const e=ei(t);for(const n of t.D_)e.I_(n.mutations)}async function r$(t,e,n){const r=t.D_.shift(),i=Cg.from(r,e,n);await sR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vh(t)}async function i$(t,e){e&&ei(t).P_&&await async function(r,i){if(function(s){return GO(s)&&s!==M.ABORTED}(i.code)){const o=r.D_.shift();ei(r).Zo(),await sR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Vh(r)}}(t,e),aR(t)&&lR(t)}async function j_(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Qi(n);n.v_.add(3),await yl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Nh(n)}async function o$(t,e){const n=we(t);e?(n.v_.delete(2),await Nh(n)):e||(n.v_.add(2),await yl(n),n.x_.set("Unknown"))}function ps(t){return t.N_||(t.N_=function(n,r,i){const o=we(n);return o.R_(),new q4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Y4.bind(null,t),To:X4.bind(null,t),u_:J4.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),bg(t)?Lg(t):t.x_.set("Unknown")):(await t.N_.stop(),oR(t))})),t.N_}function ei(t){return t.B_||(t.B_=function(n,r,i){const o=we(n);return o.R_(),new H4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:t$.bind(null,t),To:i$.bind(null,t),E_:n$.bind(null,t),T_:r$.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Vh(t)):(await t.B_.stop(),t.D_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Mg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(t,e){if(tr("AsyncQueue",`${e}: ${t}`),pl(t))return new ne(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=zs(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new Lo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.L_=new st(he.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ge():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Zo(e,n,Lo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.q_=void 0,this.Q_=[]}}class a${constructor(){this.queries=new fs(e=>kT(e),Ah),this.onlineState="Unknown",this.K_=new Set}}async function uR(t,e){const n=we(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new s$),i)try{o.q_=await n.onListen(r)}catch(s){const a=Og(s,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&$g(n)}async function cR(t,e){const n=we(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function l$(t,e){const n=we(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&$g(n)}function u$(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function $g(t){t.K_.forEach(e=>{e.next()})}class hR{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.key=e}}class fR{constructor(e){this.key=e}}class c${constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ce(),this.mutatedKeys=Ce(),this.ua=xT(e),this.ca=new Lo(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new z_,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=Ih(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let T=!1;d&&p?d.data.isEqual(p.data)?y!==E&&(r.track({type:3,doc:p}),T=!0):this.Ia(d,p)||(r.track({type:2,doc:p}),T=!0,(l&&this.ua(p,l)>0||u&&this.ua(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),T=!0):d&&!p&&(r.track({type:1,doc:d}),T=!0,(l||u)&&(a=!0)),T&&(p?(s=s.add(p),o=E?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,h)=>function(p,y){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return E(p)-E(y)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new Zo(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new z_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Ce(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new fR(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new dR(r))}),n}Ra(e){this.oa=e.hs,this.aa=Ce();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Zo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class h${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d${constructor(e){this.key=e,this.ma=!1}}class f${constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new fs(a=>kT(a),Ah),this.pa=new Map,this.ya=new Set,this.wa=new st(he.comparator),this.Sa=new Map,this.ba=new xg,this.Da={},this.Ca=new Map,this.va=Jo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function p$(t,e){const n=R$(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await $4(n.localStore,Xn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await m$(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&nR(n.remoteStore,s)}return i}async function m$(t,e,n,r,i){t.Ma=(h,d,p)=>async function(E,T,m,f){let g=T.view.ha(m);g.Xi&&(g=await F_(E.localStore,T.query,!1).then(({documents:V})=>T.view.ha(V,g)));const A=f&&f.targetChanges.get(T.targetId),C=f&&f.targetMismatches.get(T.targetId)!=null,P=T.view.applyChanges(g,E.isPrimaryClient,A,C);return q_(E,T.targetId,P.da),P.snapshot}(t,h,d,p);const o=await F_(t.localStore,e,!0),s=new c$(e,o.hs),a=s.ha(o.documents),l=gl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);q_(t,n,u.da);const c=new h$(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function g$(t,e){const n=we(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Ah(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Tp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rR(n.remoteStore,r.targetId),Rp(n,r.targetId)}).catch(fl)):(Rp(n,r.targetId),await Tp(n.localStore,r.targetId,!0))}async function y$(t,e,n){const r=A$(t);try{const i=await function(s,a){const l=we(s),u=_t.now(),c=a.reduce((p,y)=>p.add(y.key),Ce());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Er(),E=Ce();return l.os.getEntries(p,c).next(T=>{y=T,y.forEach((m,f)=>{f.isValidDocument()||(E=E.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(T=>{h=T;const m=[];for(const f of a){const g=zO(f,h.get(f.key).overlayedDocument);g!=null&&m.push(new ui(f.key,g,wT(g.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,a)}).next(T=>{d=T;const m=T.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(p,T.batchId,m)})}).then(()=>({batchId:d.batchId,changes:VT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new st(Oe)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await vl(r,i.changes),await Vh(r.remoteStore)}catch(i){const o=Og(i,"Failed to persist write");n.reject(o)}}async function pR(t,e){const n=we(t);try{const r=await b4(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?qe(s.ma):i.removedDocuments.size>0&&(qe(s.ma),s.ma=!1))}),await vl(n,r,e)}catch(r){await fl(r)}}function W_(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=we(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Q_)d.U_(a)&&(u=!0)}),u&&$g(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function v$(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new st(he.comparator);s=s.insert(o,Bt.newNoDocument(o,ve.min()));const a=Ce().add(o),l=new kh(ve.min(),new Map,new st(Oe),s,a);await pR(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),Fg(r)}else await Tp(r.localStore,e,!1).then(()=>Rp(r,e,n)).catch(fl)}async function _$(t,e){const n=we(t),r=e.batch.batchId;try{const i=await L4(n.localStore,e);gR(n,r,null),mR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vl(n,i)}catch(i){await fl(i)}}async function E$(t,e,n){const r=we(t);try{const i=await function(s,a){const l=we(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(qe(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);gR(r,e,n),mR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vl(r,i)}catch(i){await fl(i)}}function mR(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function gR(t,e,n){const r=we(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Rp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||yR(t,r)})}function yR(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(rR(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Fg(t))}function q_(t,e,n){for(const r of n)r instanceof dR?(t.ba.addReference(r.key,e),w$(t,r)):r instanceof fR?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||yR(t,r.key)):ge()}function w$(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ya.add(r),Fg(t))}function Fg(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new he(Ge.fromString(e)),r=t.va.next();t.Sa.set(r,new d$(n)),t.wa=t.wa.insert(n,r),nR(t.remoteStore,new Mr(Xn(Ag(n.path)),r,"TargetPurposeLimboResolution",_g._e))}}async function vl(t,e,n){const r=we(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Vg.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=we(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>O.forEach(u,d=>O.forEach(d.qi,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>O.forEach(d.Qi,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!pl(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.ns.get(d),y=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(y);c.ns=c.ns.insert(d,E)}}}(r.localStore,o))}async function S$(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await JT(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new ne(M.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vl(n,r.us)}}function T$(t,e){const n=we(t),r=n.Sa.get(e);if(r&&r.ma)return Ce().add(r.key);{let i=Ce();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function R$(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v$.bind(null,e),e.fa.u_=l$.bind(null,e.eventManager),e.fa.xa=u$.bind(null,e.eventManager),e}function A$(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E$.bind(null,e),e}class H_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return D4(this.persistence,new N4,e.initialUser,this.serializer)}createPersistence(e){return new P4(Ng.Hr,this.serializer)}createSharedClientState(e){return new U4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class I${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S$.bind(null,this.syncEngine),await o$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a$}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=function(o){return new W4(o)}(e.databaseInfo);return function(o,s,a,l){return new K4(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Q4(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>W_(this.syncEngine,n,0),function(){return B_.D()?new B_:new B4}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new f$(i,o,s,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=we(r);Q("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await yl(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=vT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Og(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $d(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function K_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k$(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>j_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>j_(e.remoteStore,i)),t._onlineComponents=e}function P$(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function k$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await $d(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!P$(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await $d(t,new H_)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await $d(t,new H_);return t._offlineComponents}async function _R(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await K_(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await K_(t,new I$))),t._onlineComponents}function x$(t){return _R(t).then(e=>e.syncEngine)}async function Ap(t){const e=await _R(t),n=e.eventManager;return n.onListen=p$.bind(null,e.syncEngine),n.onUnlisten=g$.bind(null,e.syncEngine),n}function N$(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new vR({next:d=>{s.enqueueAndForget(()=>cR(o,h)),d.fromCache&&l.source==="server"?u.reject(new ne(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new hR(a,c,{includeMetadataChanges:!0,Z_:!0});return uR(o,h)}(await Ap(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e,n){if(!n)throw new ne(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V$(t,e,n,r){if(e===!0&&r===!0)throw new ne(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q_(t){if(!he.isDocumentKey(t))throw new ne(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Y_(t){if(he.isDocumentKey(t))throw new ne(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(t);throw new ne(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function D$(t,e){if(e<=0)throw new ne(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ER((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JM;switch(r.type){case"firstParty":return new nO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=G_.get(n);r&&(Q("ComponentProvider","Removing Datastore"),G_.delete(n),r.terminate())}(this),Promise.resolve()}}function L$(t,e,n,r={}){var i;const o=(t=Zn(t,Lh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ft.MOCK_USER;else{a=NL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ne(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ft(u)}t._authCredentials=new ZM(new yT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rr(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class Qr extends Rr{constructor(e,n,r){super(e,n,Ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new he(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function Yi(t,e,...n){if(t=er(t),wR("collection","path",e),t instanceof Lh){const r=Ge.fromString(e,...n);return Y_(r),new Qr(t,null,r)}{if(!(t instanceof an||t instanceof Qr))throw new ne(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return Y_(r),new Qr(t.firestore,null,r)}}function SR(t,e,...n){if(t=er(t),arguments.length===1&&(e=vT.newId()),wR("doc","path",e),t instanceof Lh){const r=Ge.fromString(e,...n);return Q_(r),new an(t,null,new he(r))}{if(!(t instanceof an||t instanceof Qr))throw new ne(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return Q_(r),new an(t.firestore,t instanceof Qr?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new eR(this,"async_queue_retry"),this._u=()=>{const n=Od();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Od();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Od();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new pr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!pl(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=Mg.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&ge()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function J_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Fi extends Lh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new b$}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||TR(this),this._firestoreClient.terminate()}}function M$(t,e){const n=typeof t=="object"?t:Mb(),r=typeof t=="string"?t:e||"(default)",i=Vb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=kL("firestore");o&&L$(i,...o)}return i}function Ug(t){return t._firestoreClient||TR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function TR(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new gO(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ER(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new C$(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(qt.fromBase64String(e))}catch(n){throw new ne(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new es(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=/^__.*__$/;class $${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new ml(e,this.data,n,this.fieldTransforms)}}class RR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class zg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return gc(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(AR(this.du)&&O$.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class F${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}Su(e,n,r,i=!1){return new zg({du:e,methodName:n,wu:r,path:Nt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wg(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new F$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U$(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);qg("Data must be an object, but it was:",s,r);const a=IR(r,s);let l,u;if(o.merge)l=new hn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=Ip(e,h,n);if(!s.contains(d))throw new ne(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);PR(c,d)||c.push(d)}l=new hn(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new $$(new en(a),l,u)}class Mh extends Bg{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function B$(t,e,n,r){const i=t.Su(1,e,n);qg("Data must be an object, but it was:",i,r);const o=[],s=en.empty();Gi(r,(l,u)=>{const c=Hg(e,l,n);u=er(u);const h=i.fu(c);if(u instanceof Mh)o.push(c);else{const d=_l(u,h);d!=null&&(o.push(c),s.set(c,d))}});const a=new hn(o);return new RR(s,a,i.fieldTransforms)}function j$(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[Ip(e,r,n)],l=[i];if(o.length%2!=0)throw new ne(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Ip(e,o[d])),l.push(o[d+1]);const u=[],c=en.empty();for(let d=a.length-1;d>=0;--d)if(!PR(u,a[d])){const p=a[d];let y=l[d];y=er(y);const E=s.fu(p);if(y instanceof Mh)u.push(p);else{const T=_l(y,E);T!=null&&(u.push(p),c.set(p,T))}}const h=new hn(u);return new RR(c,h,s.fieldTransforms)}function z$(t,e,n,r=!1){return _l(n,t.Su(r?4:3,e))}function _l(t,e){if(CR(t=er(t)))return qg("Unsupported field value:",e,t),IR(t,e);if(t instanceof Bg)return function(r,i){if(!AR(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=_l(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=er(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_t.fromDate(r);return{timestampValue:pc(i.serializer,o)}}if(r instanceof _t){const o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(i.serializer,o)}}if(r instanceof jg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof es)return{bytesValue:qT(i.serializer,r._byteString)};if(r instanceof an){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Dh(r)}`)}(t,e)}function IR(t,e){const n={};return _T(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gi(t,(r,i)=>{const o=_l(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof jg||t instanceof es||t instanceof an||t instanceof Bg)}function qg(t,e,n){if(!CR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Dh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Ip(t,e,n){if((e=er(e))instanceof bh)return e._internalPath;if(typeof e=="string")return Hg(t,e);throw gc("Field path arguments must be of type string or ",t,!1,void 0,n)}const W$=new RegExp("[~\\*/\\[\\]]");function Hg(t,e,n){if(e.search(W$)>=0)throw gc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bh(...e.split("."))._internalPath}catch{throw gc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ne(M.INVALID_ARGUMENT,a+t+l)}function PR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class q$ extends kR{data(){return super.data()}}function Oh(t,e){return typeof e=="string"?Hg(t,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class Gg extends Kg{}function El(t,e,...n){let r=[];e instanceof Kg&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Qg).length,a=o.filter(l=>l instanceof $h).length;if(s>1||s>0&&a>0)throw new ne(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $h extends Gg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $h(e,n,r)}_apply(e){const n=this._parse(e);return NR(e._query,n),new Rr(e.firestore,e.converter,vp(e._query,n))}_parse(e){const n=Wg(e.firestore);return function(o,s,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ne(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){e0(h,c);const p=[];for(const y of h)p.push(Z_(l,o,y));d={arrayValue:{values:p}}}else d=Z_(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||e0(h,c),d=z$(a,s,h,c==="in"||c==="not-in");return mt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ui(t,e,n){const r=e,i=Oh("where",t);return $h._create(i,r,n)}class Qg extends Kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)NR(s,l),s=vp(s,l)}(e._query,n),new Rr(e.firestore,e.converter,vp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yg extends Gg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yg(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ne(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wa(o,s)}(e._query,this._field,this._direction);return new Rr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new ds(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function H$(t,e="asc"){const n=e,r=Oh("orderBy",t);return Yg._create(r,n)}class Xg extends Gg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Xg(e,n,r)}_apply(e){return new Rr(e.firestore,e.converter,hc(e._query,this._limit,this._limitType))}}function K$(t){return D$("limit",t),Xg._create("limit",t,"F")}function Z_(t,e,n){if(typeof(n=er(n))=="string"){if(n==="")throw new ne(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PT(e)&&n.indexOf("/")!==-1)throw new ne(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!he.isDocumentKey(r))throw new ne(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return S_(t,new he(r))}if(n instanceof an)return S_(t,n._key);throw new ne(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function e0(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NR(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class G${convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new jg(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);qe(XT(r));const i=new ja(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VR extends kR{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _u extends VR{data(e={}){return super.data(e)}}class DR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _u(this._firestore,this._userDataWriter,r.key,r,new qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new _u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new _u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Y$(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Y$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class Jg extends G${constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function LR(t){t=Zn(t,Rr);const e=Zn(t.firestore,Fi),n=Ug(e),r=new Jg(e);return xR(t._query),N$(n,t._query).then(i=>new DR(e,r,t,i))}function X$(t,e,n,...r){t=Zn(t,an);const i=Zn(t.firestore,Fi),o=Wg(i);let s;return s=typeof(e=er(e))=="string"||e instanceof bh?j$(o,"updateDoc",t._key,e,n,r):B$(o,"updateDoc",t._key,e),ey(i,[s.toMutation(t._key,$n.exists(!0))])}function J$(t){return ey(Zn(t.firestore,Fi),[new Ig(t._key,$n.none())])}function bR(t,e){const n=Zn(t.firestore,Fi),r=SR(t),i=Q$(t.converter,e);return ey(n,[U$(Wg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function Zg(t,...e){var n,r,i;t=er(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||J_(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(J_(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof an)u=Zn(t.firestore,Fi),c=Ag(t._key.path),l={next:h=>{e[s]&&e[s](Z$(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Zn(t,Rr);u=Zn(h.firestore,Fi),c=h._query;const d=new Jg(u);l={next:p=>{e[s]&&e[s](new DR(u,d,h,p))},error:e[s+1],complete:e[s+2]},xR(t._query)}return function(d,p,y,E){const T=new vR(E),m=new hR(p,T,y);return d.asyncQueue.enqueueAndForget(async()=>uR(await Ap(d),m)),()=>{T.La(),d.asyncQueue.enqueueAndForget(async()=>cR(await Ap(d),m))}}(Ug(u),c,a,l)}function ey(t,e){return function(r,i){const o=new pr;return r.asyncQueue.enqueueAndForget(async()=>y$(await x$(r),i,o)),o.promise}(Ug(t),e)}function Z$(t,e,n){const r=n.docs.get(e._key),i=new Jg(t);return new VR(t,i,e._key,r,new qs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){hs=i})(bb),nc(new xa("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Fi(new eO(r.getProvider("auth-internal")),new iO(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),No(y_,"4.4.1",e),No(y_,"4.4.1","esm2017")})();var eF="firebase",tF="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */No(eF,tF,"app");var Fd={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const nF={apiKey:Fd.REACT_APP_Firebase_apiKey,authDomain:"overdog-577c3.firebaseapp.com",projectId:"overdog-577c3",storageBucket:"overdog-577c3.appspot.com",messagingSenderId:Fd.REACT_APP_Firebase_messagingSenderId,appId:Fd.REACT_APP_Firebase_appId},rF=hS(nF),Xi=M$(rF),iF=async t=>{const e=Yi(Xi,"likes"),n=El(e,Ui("postId","==",t));return new Promise((r,i)=>{Zg(n,o=>{const s=o.docs.map(a=>({...a.data()}));s==null&&r(0),localStorage.setItem("like",JSON.stringify(s)),r(s)},o=>{i(o)})})},oF=async t=>{const e=Yi(Xi,"likes"),n=El(e,Ui("postId","==",t.postId),Ui("userId","==",t.userId));return new Promise((r,i)=>{Zg(n,o=>{const s=o.docs.map(a=>({...a.data()}));s==null&&r(0),localStorage.setItem("userLike",JSON.stringify(s)),r(s)},o=>{i(o)})})},sF=async t=>{try{const e=Yi(Xi,"likes"),n=El(e,Ui("postId","==",t.postId),Ui("userId","==",t.userId));(await LR(n)).forEach(i=>{const o=i.ref;J$(o).then(()=>{console.log("")}).catch(s=>{console.error("Error : ",s)})})}catch(e){console.log(e)}},aF=async t=>{try{const e=Yi(Xi,"likes");await bR(e,{userId:t.userId,postId:t.postId}).then(()=>{console.log("")})}catch(e){console.log(e)}},lF=Hi({key:"likebyUserIdState",default:async t=>await oF(t)}),uF=Hi({key:"deleteLikeState",default:async t=>await sF(t)}),cF=Hi({key:"setLikeState",default:async t=>await aF(t)}),hF=Hi({key:"likebyPostIdState",default:async t=>await iF(t),effects:[({setSelf:t,onSet:e})=>{const n="like",r=localStorage.getItem(n);console.log(r),r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]});let dF={data:""},fF=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||dF,pF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mF=/\/\*[^]*?\*\/|  +/g,t0=/\n+/g,Vr=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Vr(s,o):o+"{"+Vr(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=Vr(s,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Vr.p?Vr.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},or={},MR=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+MR(t[n]);return e}return t},gF=(t,e,n,r,i)=>{let o=MR(t),s=or[o]||(or[o]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(o));if(!or[s]){let l=o!==t?t:(u=>{let c,h,d=[{}];for(;c=pF.exec(u.replace(mF,""));)c[4]?d.shift():c[3]?(h=c[3].replace(t0," ").trim(),d.unshift(d[0][h]=d[0][h]||{})):d[0][c[1]]=c[2].replace(t0," ").trim();return d[0]})(t);or[s]=Vr(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&or.g?or.g:null;return n&&(or.g=or[s]),((l,u,c,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(or[s],e,r,a),s},yF=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Vr(a,""):a===!1?"":a}return r+i+(s??"")},"");function Fh(t){let e=this||{},n=t.call?t(e.p):t;return gF(n.unshift?n.raw?yF(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,fF(e.target),e.g,e.o,e.k)}let OR,Cp,Pp;Fh.bind({g:1});let wr=Fh.bind({k:1});function vF(t,e,n,r){Vr.p=e,OR=t,Cp=n,Pp=r}function ci(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:Cp&&Cp()},a),n.o=/ *go\d+/.test(l),a.className=Fh.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let u=t;return t[0]&&(u=a.as||t,delete a.as),Pp&&u[0]&&Pp(a),OR(u,a)}return e?e(i):i}}var _F=t=>typeof t=="function",yc=(t,e)=>_F(t)?t(e):t,EF=(()=>{let t=0;return()=>(++t).toString()})(),$R=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),wF=20,Eu=new Map,SF=1e3,n0=t=>{if(Eu.has(t))return;let e=setTimeout(()=>{Eu.delete(t),Ji({type:4,toastId:t})},SF);Eu.set(t,e)},TF=t=>{let e=Eu.get(t);e&&clearTimeout(e)},kp=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,wF)};case 1:return e.toast.id&&TF(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?kp(t,{type:1,toast:n}):kp(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?n0(r):t.toasts.forEach(o=>{n0(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},wu=[],Su={toasts:[],pausedAt:void 0},Ji=t=>{Su=kp(Su,t),wu.forEach(e=>{e(Su)})},RF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},AF=(t={})=>{let[e,n]=U.useState(Su);U.useEffect(()=>(wu.push(n),()=>{let i=wu.indexOf(n);i>-1&&wu.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,s;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||RF[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},IF=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||EF()}),wl=t=>(e,n)=>{let r=IF(e,t,n);return Ji({type:2,toast:r}),r.id},dn=(t,e)=>wl("blank")(t,e);dn.error=wl("error");dn.success=wl("success");dn.loading=wl("loading");dn.custom=wl("custom");dn.dismiss=t=>{Ji({type:3,toastId:t})};dn.remove=t=>Ji({type:4,toastId:t});dn.promise=(t,e,n)=>{let r=dn.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(dn.success(yc(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{dn.error(yc(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var CF=(t,e)=>{Ji({type:1,toast:{id:t,height:e}})},PF=()=>{Ji({type:5,time:Date.now()})},kF=t=>{let{toasts:e,pausedAt:n}=AF(t);U.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&dn.dismiss(a.id);return}return setTimeout(()=>dn.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=U.useCallback(()=>{n&&Ji({type:6,time:Date.now()})},[n]),i=U.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=s||{},c=e.filter(p=>(p.position||u)===(o.position||u)&&p.height),h=c.findIndex(p=>p.id===o.id),d=c.filter((p,y)=>y<h&&p.visible).length;return c.filter(p=>p.visible).slice(...a?[d+1]:[0,d]).reduce((p,y)=>p+(y.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:CF,startPause:PF,endPause:r,calculateOffset:i}}},xF=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,NF=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VF=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,DF=ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${NF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${VF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,LF=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,bF=ci("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${LF} 1s linear infinite;
`,MF=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OF=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,$F=ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,FF=ci("div")`
  position: absolute;
`,UF=ci("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,BF=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jF=ci("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${BF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zF=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?U.createElement(jF,null,e):e:n==="blank"?null:U.createElement(UF,null,U.createElement(bF,{...r}),n!=="loading"&&U.createElement(FF,null,n==="error"?U.createElement(DF,{...r}):U.createElement($F,{...r})))},WF=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qF=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,HF="0%{opacity:0;} 100%{opacity:1;}",KF="0%{opacity:1;} 100%{opacity:0;}",GF=ci("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,QF=ci("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,YF=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=$R()?[HF,KF]:[WF(n),qF(n)];return{animation:e?`${wr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},XF=U.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?YF(t.position||e||"top-center",t.visible):{opacity:0},o=U.createElement(zF,{toast:t}),s=U.createElement(QF,{...t.ariaProps},yc(t.message,t));return U.createElement(GF,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):U.createElement(U.Fragment,null,o,s))});vF(U.createElement);var JF=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=U.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return U.createElement("div",{ref:o,className:e,style:n},i)},ZF=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:$R()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},e3=Fh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,nu=16,FR=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=kF(n);return U.createElement("div",{style:{position:"fixed",zIndex:9999,top:nu,left:nu,right:nu,bottom:nu,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,h=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),d=ZF(c,h);return U.createElement(JF,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?e3:"",style:d},u.type==="custom"?yc(u.message,u):i?i(u):U.createElement(XF,{toast:u,position:c}))}))},xp=dn;const t3=t=>{const[e,n]=U.useState(!1),[r,i]=U.useState(0),o=r===0,s=r===t.data.imageUrlList.length-1,[a,l]=U.useState(!1),u=km(),c=()=>{l(!a)},h=()=>{u("/comment")},d=()=>xp(""),p=()=>xp(""),y=()=>{try{e?(uF(g),p()):(cF(g),d()),n(!e),console.log(e)}catch(P){console.error("Error:",P)}};U.useEffect(()=>{setTimeout(()=>{const P=localStorage.getItem("like"),V=localStorage.getItem("userLike");V==null?C(1):C(JSON.parse(V)),f(JSON.parse(P))},2e3)});const E=()=>{const P=(r+1)%t.data.imageUrlList.length;i(P)},T=()=>{const P=(r-1+t.data.imageUrlList.length)%t.data.imageUrlList.length;i(P)},[m,f]=xo(hF(t.data.postId)),g={postId:t.data&&t.data.postId,userId:t.data&&t.data.userId},[A,C]=xo(lF(g));return A==null&&n(!e),k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center my-3 mx-2",children:[k.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),k.jsx("div",{className:"ml-2 text-[14px] font-bold",children:t.data.userId}),k.jsx("div",{className:"ml-2 text-blue-400 text-[14px] ",children:""}),k.jsxs("div",{className:"ml-auto",children:[k.jsx(EP,{onClick:c}),a&&k.jsx(mL,{onOpenModal:c})]})]}),k.jsxs("div",{className:"relative",children:[k.jsx("img",{src:t.data.imageUrlList[r],alt:" ",className:"w-full h-72"}),!o&&k.jsx("button",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 ml-1 text-4xl bg-white rounded-full opacity-70",onClick:T,children:k.jsx(_L,{})}),!s&&k.jsx("button",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 mr-1 text-4xl bg-white rounded-full opacity-70",onClick:E,children:k.jsx(vL,{})})]}),k.jsxs("div",{className:"flex-row ml-3 mt-3",children:[k.jsxs("div",{className:"flex justify-between",children:[k.jsxs("div",{className:"text-[14px] my-1 font-semibold",children:[" ",m==null?"0":m.length,""]}),k.jsxs("div",{className:"mx-2 text-[24px]",onClick:y,children:[k.jsx(FR,{position:"bottom-center",toastOptions:{className:"bg-black",style:{border:"2px solid #FFFFFF",padding:"10px",color:"#FFFFFF",height:"8px",width:"fit",fontSize:"12px",background:"black"}}}),e?k.jsx(yL,{}):k.jsx(gL,{})]})]}),k.jsxs("div",{className:"flex text-[14px]",children:[k.jsx("div",{className:"font-semibold",children:t.data.userId}),k.jsx("div",{className:"ml-1",children:t.data.postContent})]}),t.data.tagList.map((P,V)=>k.jsxs("span",{className:"text-[14px]",children:["#",P+" "]},V)),k.jsx("div",{className:"text-[13px] text-gray-500 cursor-pointer hover:text-black w-fit ",onClick:h,children:" 1  "}),k.jsx("div",{className:"text-[13px] text-gray-500",children:"1 "})]})]})};var ty={};Object.defineProperty(ty,"__esModule",{value:!0});var ny=ty.recoilPersist=void 0;const n3=(t={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:n=localStorage,converter:r=JSON}=t,i=({onSet:u,node:c,trigger:h,setSelf:d})=>{if(h==="get"){const p=s();typeof p.then=="function"&&p.then(y=>{y.hasOwnProperty(c.key)&&d(y[c.key])}),p.hasOwnProperty(c.key)&&d(p[c.key])}u(async(p,y,E)=>{const T=s();typeof T.then=="function"?T.then(m=>o(p,m,c.key,E)):o(p,T,c.key,E)})},o=(u,c,h,d)=>{d?delete c[h]:c[h]=u,l(c)},s=()=>{const u=n.getItem(e);return u==null?{}:typeof u=="string"?a(u):typeof u.then=="function"?u.then(a):{}},a=u=>{if(u===void 0)return{};try{return r.parse(u)}catch(c){return console.error(c),{}}},l=u=>{try{typeof n.mergeItem=="function"?n.mergeItem(e,r.stringify(u)):n.setItem(e,r.stringify(u))}catch(c){console.error(c)}};return{persistAtom:i}};ny=ty.recoilPersist=n3;const{persistAtom:r3}=ny(),i3=async t=>{const e=Yi(Xi,"posts"),n=El(e,Ui("postId","==",t),K$(1));return(await LR(n)).docs.map(o=>o.data())},o3=t=>{const e=Yi(Xi,"comments"),n=El(e,Ui("postId","==",t),H$("createdAt","desc"));return new Promise((r,i)=>{Zg(n,o=>{const s=o.docs.map(a=>({...a.data()}));localStorage.setItem("comment",JSON.stringify(s)),r(s)},o=>{i(o)})})},s3=async t=>{try{const e=Yi(Xi,"comments"),r=(await bR(e,{commentContent:t.commentContent,postId:t.postId,origin_commentId:t.originCommentId,userId:t.userId,createdAt:new Date})).id;await X$(SR(e,r),{commentId:r})}catch(e){console.log(e)}},a3=Hi({key:"postState",default:async t=>await i3(t)}),l3=Hi({key:"commentState",default:async t=>await o3(t),effects:[({setSelf:t,onSet:e})=>{const n="comment",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),u3=Hi({key:"setCommentState",default:async t=>await s3(t)}),Np=nS({key:"postIdState",default:"null",effects_UNSTABLE:[r3]}),{persistAtom:c3}=ny(),h3=nS({key:"userIdState",default:"test",effects_UNSTABLE:[c3]}),d3=()=>{window.addEventListener("fromApptoWeb",()=>{window.flutter_inappwebview.callHandler("fromApptoWeb").then(i=>{console.log(JSON.stringify(i));const o=i.postId,s=i.userId;if(o==""||o===null)return k.jsx("div",{children:" ."});const[,a]=xo(Np),[,l]=xo(h3);if(s!==null||s!="")l(s);else return k.jsx("div",{children:" ."});if(o!==null||o!="")a(o);else return k.jsx("div",{children:" ."});window.flutter_inappwebview.postMessage(JSON.stringify(i))})});const[t,e]=xo(Np);if(t==null)return k.jsx("div",{children:" ."});const n=fL(a3(t));if(n.state==="loading")return k.jsx("div",{children:" ..."});if(n.state==="hasError")return k.jsx("div",{children:" ."});const r=n.contents;return n.state==="hasValue"&&e(r[0].postId),k.jsx(U.Suspense,{fallback:"...loading",children:k.jsx("div",{className:"grid-rows-3",children:k.jsx(t3,{data:r[0]})})})},UR=t=>{const n=new Date(t.createdAt.seconds*1e3+t.createdAt.nanoseconds/1e6),i=new Date-n,o=Math.floor(i/(1e3*60));let s;return o/60>=24?s=`${Math.floor(o/60/24)} `:o>=60?s=`${Math.floor(o/60)} `:s=`${o} `,s},f3=t=>k.jsx("div",{children:t.data.map((e,n)=>k.jsxs("div",{className:"flex items-center my-3 mx-2",children:[k.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:"nickname"}),k.jsx("div",{className:"ml-2 text-[14px]",children:e.commentContent})]}),k.jsx("div",{className:"flex",children:k.jsx("div",{className:"ml-2 text-[11px]",children:UR(e)})})]})]},n))});var Sl=t=>t.type==="checkbox",So=t=>t instanceof Date,Kt=t=>t==null;const BR=t=>typeof t=="object";var Et=t=>!Kt(t)&&!Array.isArray(t)&&BR(t)&&!So(t),p3=t=>Et(t)&&t.target?Sl(t.target)?t.target.checked:t.target.value:t,m3=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,g3=(t,e)=>t.has(m3(e)),y3=t=>{const e=t.constructor&&t.constructor.prototype;return Et(e)&&e.hasOwnProperty("isPrototypeOf")},ry=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function En(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(ry&&(t instanceof Blob||t instanceof FileList))&&(n||Et(t)))if(e=n?[]:{},!n&&!y3(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=En(t[r]));else return t;return e}var Tl=t=>Array.isArray(t)?t.filter(Boolean):[],ut=t=>t===void 0,se=(t,e,n)=>{if(!e||!Et(t))return n;const r=Tl(e.split(/[,[\].]+?/)).reduce((i,o)=>Kt(i)?i:i[o],t);return ut(r)||r===t?ut(t[e])?n:t[e]:r},ur=t=>typeof t=="boolean";const r0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},bn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};_e.createContext(null);var v3=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==bn.all&&(e._proxyFormState[s]=!r||bn.all),n&&(n[s]=!0),t[s]}});return i},wn=t=>Et(t)&&!Object.keys(t).length,_3=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return wn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!r||bn.all))},Ud=t=>Array.isArray(t)?t:[t];function E3(t){const e=_e.useRef(t);e.current=t,_e.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Gn=t=>typeof t=="string",w3=(t,e,n,r,i)=>Gn(t)?(r&&e.watch.add(t),se(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),se(n,o))):(r&&(e.watchAll=!0),n),iy=t=>/^\w*$/.test(t),jR=t=>Tl(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(t,e,n)=>{let r=-1;const i=iy(e)?[e]:jR(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=t[a];l=Et(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},S3=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},i0=t=>({isOnSubmit:!t||t===bn.onSubmit,isOnBlur:t===bn.onBlur,isOnChange:t===bn.onChange,isOnAll:t===bn.all,isOnTouch:t===bn.onTouched}),o0=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ca=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=se(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)break;if(s.ref&&e(s.ref,s.name)&&!r)break;ca(a,e)}else Et(a)&&ca(a,e)}}};var T3=(t,e,n)=>{const r=Tl(se(t,n));return Je(r,"root",e[n]),Je(t,n,r),t},oy=t=>t.type==="file",Or=t=>typeof t=="function",vc=t=>{if(!ry)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Tu=t=>Gn(t),sy=t=>t.type==="radio",_c=t=>t instanceof RegExp;const s0={value:!1,isValid:!1},a0={value:!0,isValid:!0};var zR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ut(t[0].attributes.value)?ut(t[0].value)||t[0].value===""?a0:{value:t[0].value,isValid:!0}:a0:s0}return s0};const l0={isValid:!1,value:null};var WR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,l0):l0;function u0(t,e,n="validate"){if(Tu(t)||Array.isArray(t)&&t.every(Tu)||ur(t)&&!t)return{type:n,message:Tu(t)?t:"",ref:e}}var io=t=>Et(t)&&!_c(t)?t:{value:t,message:""},c0=async(t,e,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:d,validate:p,name:y,valueAsNumber:E,mount:T,disabled:m}=t._f,f=se(e,y);if(!T||m)return{};const g=s?s[0]:o,A=$=>{r&&g.reportValidity&&(g.setCustomValidity(ur($)?"":$||""),g.reportValidity())},C={},P=sy(o),V=Sl(o),W=P||V,ae=(E||oy(o))&&ut(o.value)&&ut(f)||vc(o)&&o.value===""||f===""||Array.isArray(f)&&!f.length,Z=S3.bind(null,y,n,C),Ie=($,b,ee,ue=sr.maxLength,Ae=sr.minLength)=>{const be=$?b:ee;C[y]={type:$?ue:Ae,message:be,ref:o,...Z($?ue:Ae,be)}};if(i?!Array.isArray(f)||!f.length:a&&(!W&&(ae||Kt(f))||ur(f)&&!f||V&&!zR(s).isValid||P&&!WR(s).isValid)){const{value:$,message:b}=Tu(a)?{value:!!a,message:a}:io(a);if($&&(C[y]={type:sr.required,message:b,ref:g,...Z(sr.required,b)},!n))return A(b),C}if(!ae&&(!Kt(c)||!Kt(h))){let $,b;const ee=io(h),ue=io(c);if(!Kt(f)&&!isNaN(f)){const Ae=o.valueAsNumber||f&&+f;Kt(ee.value)||($=Ae>ee.value),Kt(ue.value)||(b=Ae<ue.value)}else{const Ae=o.valueAsDate||new Date(f),be=S=>new Date(new Date().toDateString()+" "+S),j=o.type=="time",D=o.type=="week";Gn(ee.value)&&f&&($=j?be(f)>be(ee.value):D?f>ee.value:Ae>new Date(ee.value)),Gn(ue.value)&&f&&(b=j?be(f)<be(ue.value):D?f<ue.value:Ae<new Date(ue.value))}if(($||b)&&(Ie(!!$,ee.message,ue.message,sr.max,sr.min),!n))return A(C[y].message),C}if((l||u)&&!ae&&(Gn(f)||i&&Array.isArray(f))){const $=io(l),b=io(u),ee=!Kt($.value)&&f.length>+$.value,ue=!Kt(b.value)&&f.length<+b.value;if((ee||ue)&&(Ie(ee,$.message,b.message),!n))return A(C[y].message),C}if(d&&!ae&&Gn(f)){const{value:$,message:b}=io(d);if(_c($)&&!f.match($)&&(C[y]={type:sr.pattern,message:b,ref:o,...Z(sr.pattern,b)},!n))return A(b),C}if(p){if(Or(p)){const $=await p(f,e),b=u0($,g);if(b&&(C[y]={...b,...Z(sr.validate,b.message)},!n))return A(b.message),C}else if(Et(p)){let $={};for(const b in p){if(!wn($)&&!n)break;const ee=u0(await p[b](f,e),g,b);ee&&($={...ee,...Z(b,ee.message)},A(ee.message),n&&(C[y]=$))}if(!wn($)&&(C[y]={ref:g,...$},!n))return C}}return A(!0),C};function R3(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ut(t)?r++:t[e[r++]];return t}function A3(t){for(const e in t)if(t.hasOwnProperty(e)&&!ut(t[e]))return!1;return!0}function Ct(t,e){const n=Array.isArray(e)?e:iy(e)?[e]:jR(e),r=n.length===1?t:R3(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Et(r)&&wn(r)||Array.isArray(r)&&A3(r))&&Ct(t,n.slice(0,-1)),t}var Bd=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},Ec=t=>Kt(t)||!BR(t);function Ti(t,e){if(Ec(t)||Ec(e))return t===e;if(So(t)&&So(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(So(o)&&So(s)||Et(o)&&Et(s)||Array.isArray(o)&&Array.isArray(s)?!Ti(o,s):o!==s)return!1}}return!0}var qR=t=>t.type==="select-multiple",I3=t=>sy(t)||Sl(t),jd=t=>vc(t)&&t.isConnected,HR=t=>{for(const e in t)if(Or(t[e]))return!0;return!1};function wc(t,e={}){const n=Array.isArray(t);if(Et(t)||n)for(const r in t)Array.isArray(t[r])||Et(t[r])&&!HR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},wc(t[r],e[r])):Kt(t[r])||(e[r]=!0);return e}function KR(t,e,n){const r=Array.isArray(t);if(Et(t)||r)for(const i in t)Array.isArray(t[i])||Et(t[i])&&!HR(t[i])?ut(e)||Ec(n[i])?n[i]=Array.isArray(t[i])?wc(t[i],[]):{...wc(t[i])}:KR(t[i],Kt(e)?{}:e[i],n[i]):n[i]=!Ti(t[i],e[i]);return n}var zd=(t,e)=>KR(t,e,wc(e)),GR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ut(t)?t:e?t===""?NaN:t&&+t:n&&Gn(t)?new Date(t):r?r(t):t;function Wd(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return oy(e)?e.files:sy(e)?WR(t.refs).value:qR(e)?[...e.selectedOptions].map(({value:n})=>n):Sl(e)?zR(t.refs).value:GR(ut(e.value)?t.ref.value:e.value,t)}var C3=(t,e,n,r)=>{const i={};for(const o of t){const s=se(e,o);s&&Je(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ls=t=>ut(t)?t:_c(t)?t.source:Et(t)?_c(t.value)?t.value.source:t.value:t,P3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function h0(t,e,n){const r=se(t,n);if(r||iy(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=se(e,o),a=se(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var k3=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,x3=(t,e)=>!Tl(se(t,e)).length&&Ct(t,e);const N3={mode:bn.onSubmit,reValidateMode:bn.onChange,shouldFocusError:!0};function V3(t={},e){let n={...N3,...t},r={submitCount:0,isDirty:!1,isLoading:Or(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=Et(n.defaultValues)||Et(n.values)?En(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:En(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Bd(),array:Bd(),state:Bd()},p=i0(n.mode),y=i0(n.reValidateMode),E=n.criteriaMode===bn.all,T=_=>I=>{clearTimeout(c),c=setTimeout(_,I)},m=async _=>{if(h.isValid||_){const I=n.resolver?wn((await ae()).errors):await Ie(i,!0);I!==r.isValid&&d.state.next({isValid:I})}},f=_=>h.isValidating&&d.state.next({isValidating:_}),g=(_,I=[],N,G,K=!0,z=!0)=>{if(G&&N){if(a.action=!0,z&&Array.isArray(se(i,_))){const ce=N(se(i,_),G.argA,G.argB);K&&Je(i,_,ce)}if(z&&Array.isArray(se(r.errors,_))){const ce=N(se(r.errors,_),G.argA,G.argB);K&&Je(r.errors,_,ce),x3(r.errors,_)}if(h.touchedFields&&z&&Array.isArray(se(r.touchedFields,_))){const ce=N(se(r.touchedFields,_),G.argA,G.argB);K&&Je(r.touchedFields,_,ce)}h.dirtyFields&&(r.dirtyFields=zd(o,s)),d.state.next({name:_,isDirty:b(_,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(s,_,I)},A=(_,I)=>{Je(r.errors,_,I),d.state.next({errors:r.errors})},C=_=>{r.errors=_,d.state.next({errors:r.errors,isValid:!1})},P=(_,I,N,G)=>{const K=se(i,_);if(K){const z=se(s,_,ut(N)?se(o,_):N);ut(z)||G&&G.defaultChecked||I?Je(s,_,I?z:Wd(K._f)):Ae(_,z),a.mount&&m()}},V=(_,I,N,G,K)=>{let z=!1,ce=!1;const Be={name:_},ht=!!(se(i,_)&&se(i,_)._f.disabled);if(!N||G){h.isDirty&&(ce=r.isDirty,r.isDirty=Be.isDirty=b(),z=ce!==Be.isDirty);const vn=ht||Ti(se(o,_),I);ce=!!(!ht&&se(r.dirtyFields,_)),vn||ht?Ct(r.dirtyFields,_):Je(r.dirtyFields,_,!0),Be.dirtyFields=r.dirtyFields,z=z||h.dirtyFields&&ce!==!vn}if(N){const vn=se(r.touchedFields,_);vn||(Je(r.touchedFields,_,N),Be.touchedFields=r.touchedFields,z=z||h.touchedFields&&vn!==N)}return z&&K&&d.state.next(Be),z?Be:{}},W=(_,I,N,G)=>{const K=se(r.errors,_),z=h.isValid&&ur(I)&&r.isValid!==I;if(t.delayError&&N?(u=T(()=>A(_,N)),u(t.delayError)):(clearTimeout(c),u=null,N?Je(r.errors,_,N):Ct(r.errors,_)),(N?!Ti(K,N):K)||!wn(G)||z){const ce={...G,...z&&ur(I)?{isValid:I}:{},errors:r.errors,name:_};r={...r,...ce},d.state.next(ce)}f(!1)},ae=async _=>n.resolver(s,n.context,C3(_||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),Z=async _=>{const{errors:I}=await ae(_);if(_)for(const N of _){const G=se(I,N);G?Je(r.errors,N,G):Ct(r.errors,N)}else r.errors=I;return I},Ie=async(_,I,N={valid:!0})=>{for(const G in _){const K=_[G];if(K){const{_f:z,...ce}=K;if(z){const Be=l.array.has(z.name),ht=await c0(K,s,E,n.shouldUseNativeValidation&&!I,Be);if(ht[z.name]&&(N.valid=!1,I))break;!I&&(se(ht,z.name)?Be?T3(r.errors,ht,z.name):Je(r.errors,z.name,ht[z.name]):Ct(r.errors,z.name))}ce&&await Ie(ce,I,N)}}return N.valid},$=()=>{for(const _ of l.unMount){const I=se(i,_);I&&(I._f.refs?I._f.refs.every(N=>!jd(N)):!jd(I._f.ref))&&le(_)}l.unMount=new Set},b=(_,I)=>(_&&I&&Je(s,_,I),!Ti(v(),o)),ee=(_,I,N)=>w3(_,l,{...a.mount?s:ut(I)?o:Gn(_)?{[_]:I}:I},N,I),ue=_=>Tl(se(a.mount?s:o,_,t.shouldUnregister?se(o,_,[]):[])),Ae=(_,I,N={})=>{const G=se(i,_);let K=I;if(G){const z=G._f;z&&(!z.disabled&&Je(s,_,GR(I,z)),K=vc(z.ref)&&Kt(I)?"":I,qR(z.ref)?[...z.ref.options].forEach(ce=>ce.selected=K.includes(ce.value)):z.refs?Sl(z.ref)?z.refs.length>1?z.refs.forEach(ce=>(!ce.defaultChecked||!ce.disabled)&&(ce.checked=Array.isArray(K)?!!K.find(Be=>Be===ce.value):K===ce.value)):z.refs[0]&&(z.refs[0].checked=!!K):z.refs.forEach(ce=>ce.checked=ce.value===K):oy(z.ref)?z.ref.value="":(z.ref.value=K,z.ref.type||d.values.next({name:_,values:{...s}})))}(N.shouldDirty||N.shouldTouch)&&V(_,K,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&q(_)},be=(_,I,N)=>{for(const G in I){const K=I[G],z=`${_}.${G}`,ce=se(i,z);(l.array.has(_)||!Ec(K)||ce&&!ce._f)&&!So(K)?be(z,K,N):Ae(z,K,N)}},j=(_,I,N={})=>{const G=se(i,_),K=l.array.has(_),z=En(I);Je(s,_,z),K?(d.array.next({name:_,values:{...s}}),(h.isDirty||h.dirtyFields)&&N.shouldDirty&&d.state.next({name:_,dirtyFields:zd(o,s),isDirty:b(_,z)})):G&&!G._f&&!Kt(z)?be(_,z,N):Ae(_,z,N),o0(_,l)&&d.state.next({...r}),d.values.next({name:_,values:{...s}}),!a.mount&&e()},D=async _=>{const I=_.target;let N=I.name,G=!0;const K=se(i,N),z=()=>I.type?Wd(K._f):p3(_),ce=Be=>{G=Number.isNaN(Be)||Be===se(s,N,Be)};if(K){let Be,ht;const vn=z(),Ar=_.type===r0.BLUR||_.type===r0.FOCUS_OUT,Uh=!P3(K._f)&&!n.resolver&&!se(r.errors,N)&&!K._f.deps||k3(Ar,se(r.touchedFields,N),r.isSubmitted,y,p),ms=o0(N,l,Ar);Je(s,N,vn),Ar?(K._f.onBlur&&K._f.onBlur(_),u&&u(0)):K._f.onChange&&K._f.onChange(_);const Zi=V(N,vn,Ar,!1),Bh=!wn(Zi)||ms;if(!Ar&&d.values.next({name:N,type:_.type,values:{...s}}),Uh)return h.isValid&&m(),Bh&&d.state.next({name:N,...ms?{}:Zi});if(!Ar&&ms&&d.state.next({...r}),f(!0),n.resolver){const{errors:Rl}=await ae([N]);if(ce(vn),G){const R=h0(r.errors,i,N),w=h0(Rl,i,R.name||N);Be=w.error,N=w.name,ht=wn(Rl)}}else Be=(await c0(K,s,E,n.shouldUseNativeValidation))[N],ce(vn),G&&(Be?ht=!1:h.isValid&&(ht=await Ie(i,!0)));G&&(K._f.deps&&q(K._f.deps),W(N,ht,Be,Zi))}},S=(_,I)=>{if(se(r.errors,I)&&_.focus)return _.focus(),1},q=async(_,I={})=>{let N,G;const K=Ud(_);if(f(!0),n.resolver){const z=await Z(ut(_)?_:K);N=wn(z),G=_?!K.some(ce=>se(z,ce)):N}else _?(G=(await Promise.all(K.map(async z=>{const ce=se(i,z);return await Ie(ce&&ce._f?{[z]:ce}:ce)}))).every(Boolean),!(!G&&!r.isValid)&&m()):G=N=await Ie(i);return d.state.next({...!Gn(_)||h.isValid&&N!==r.isValid?{}:{name:_},...n.resolver||!_?{isValid:N}:{},errors:r.errors,isValidating:!1}),I.shouldFocus&&!G&&ca(i,S,_?K:l.mount),G},v=_=>{const I={...o,...a.mount?s:{}};return ut(_)?I:Gn(_)?se(I,_):_.map(N=>se(I,N))},x=(_,I)=>({invalid:!!se((I||r).errors,_),isDirty:!!se((I||r).dirtyFields,_),isTouched:!!se((I||r).touchedFields,_),error:se((I||r).errors,_)}),L=_=>{_&&Ud(_).forEach(I=>Ct(r.errors,I)),d.state.next({errors:_?r.errors:{}})},te=(_,I,N)=>{const G=(se(i,_,{_f:{}})._f||{}).ref;Je(r.errors,_,{...I,ref:G}),d.state.next({name:_,errors:r.errors,isValid:!1}),N&&N.shouldFocus&&G&&G.focus&&G.focus()},H=(_,I)=>Or(_)?d.values.subscribe({next:N=>_(ee(void 0,I),N)}):ee(_,I,!0),le=(_,I={})=>{for(const N of _?Ud(_):l.mount)l.mount.delete(N),l.array.delete(N),I.keepValue||(Ct(i,N),Ct(s,N)),!I.keepError&&Ct(r.errors,N),!I.keepDirty&&Ct(r.dirtyFields,N),!I.keepTouched&&Ct(r.touchedFields,N),!n.shouldUnregister&&!I.keepDefaultValue&&Ct(o,N);d.values.next({values:{...s}}),d.state.next({...r,...I.keepDirty?{isDirty:b()}:{}}),!I.keepIsValid&&m()},pe=({disabled:_,name:I,field:N,fields:G,value:K})=>{if(ur(_)){const z=_?void 0:ut(K)?Wd(N?N._f:se(G,I)._f):K;Je(s,I,z),V(I,z,!1,!1,!0)}},oe=(_,I={})=>{let N=se(i,_);const G=ur(I.disabled);return Je(i,_,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:_}},name:_,mount:!0,...I}}),l.mount.add(_),N?pe({field:N,disabled:I.disabled,name:_,value:I.value}):P(_,!0,I.value),{...G?{disabled:I.disabled}:{},...n.progressive?{required:!!I.required,min:Ls(I.min),max:Ls(I.max),minLength:Ls(I.minLength),maxLength:Ls(I.maxLength),pattern:Ls(I.pattern)}:{},name:_,onChange:D,onBlur:D,ref:K=>{if(K){oe(_,I),N=se(i,_);const z=ut(K.value)&&K.querySelectorAll&&K.querySelectorAll("input,select,textarea")[0]||K,ce=I3(z),Be=N._f.refs||[];if(ce?Be.find(ht=>ht===z):z===N._f.ref)return;Je(i,_,{_f:{...N._f,...ce?{refs:[...Be.filter(jd),z,...Array.isArray(se(o,_))?[{}]:[]],ref:{type:z.type,name:_}}:{ref:z}}}),P(_,!1,void 0,z)}else N=se(i,_,{}),N._f&&(N._f.mount=!1),(n.shouldUnregister||I.shouldUnregister)&&!(g3(l.array,_)&&a.action)&&l.unMount.add(_)}}},ke=()=>n.shouldFocusError&&ca(i,S,l.mount),xe=_=>{ur(_)&&(d.state.next({disabled:_}),ca(i,(I,N)=>{let G=_;const K=se(i,N);K&&ur(K._f.disabled)&&(G||(G=K._f.disabled)),I.disabled=G},0,!1))},Se=(_,I)=>async N=>{N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let G=En(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:K,values:z}=await ae();r.errors=K,G=z}else await Ie(i);Ct(r.errors,"root"),wn(r.errors)?(d.state.next({errors:{}}),await _(G,N)):(I&&await I({...r.errors},N),ke(),setTimeout(ke)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Ne=(_,I={})=>{se(i,_)&&(ut(I.defaultValue)?j(_,En(se(o,_))):(j(_,I.defaultValue),Je(o,_,En(I.defaultValue))),I.keepTouched||Ct(r.touchedFields,_),I.keepDirty||(Ct(r.dirtyFields,_),r.isDirty=I.defaultValue?b(_,En(se(o,_))):b()),I.keepError||(Ct(r.errors,_),h.isValid&&m()),d.state.next({...r}))},tt=(_,I={})=>{const N=_?En(_):o,G=En(N),K=_&&!wn(_)?G:o;if(I.keepDefaultValues||(o=N),!I.keepValues){if(I.keepDirtyValues)for(const z of l.mount)se(r.dirtyFields,z)?Je(K,z,se(s,z)):j(z,se(K,z));else{if(ry&&ut(_))for(const z of l.mount){const ce=se(i,z);if(ce&&ce._f){const Be=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(vc(Be)){const ht=Be.closest("form");if(ht){ht.reset();break}}}}i={}}s=t.shouldUnregister?I.keepDefaultValues?En(o):{}:En(K),d.array.next({values:{...K}}),d.values.next({values:{...K}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!I.keepIsValid,a.watch=!!t.shouldUnregister,d.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!Ti(_,o)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:I.keepDirtyValues?r.dirtyFields:I.keepDefaultValues&&_?zd(o,_):{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(_,I)=>tt(Or(_)?_(s):_,I);return{control:{register:oe,unregister:le,getFieldState:x,handleSubmit:Se,setError:te,_executeSchema:ae,_getWatch:ee,_getDirty:b,_updateValid:m,_removeUnmounted:$,_updateFieldArray:g,_updateDisabledField:pe,_getFieldArray:ue,_reset:tt,_resetDefaultValues:()=>Or(n.defaultValues)&&n.defaultValues().then(_=>{Me(_,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:_=>{r={...r,..._}},_disableForm:xe,_subjects:d,_proxyFormState:h,_setErrors:C,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(_){a=_},get _defaultValues(){return o},get _names(){return l},set _names(_){l=_},get _formState(){return r},set _formState(_){r=_},get _options(){return n},set _options(_){n={...n,..._}}},trigger:q,register:oe,handleSubmit:Se,watch:H,setValue:j,getValues:v,reset:Me,resetField:Ne,clearErrors:L,unregister:le,setError:te,setFocus:(_,I={})=>{const N=se(i,_),G=N&&N._f;if(G){const K=G.refs?G.refs[0]:G.ref;K.focus&&(K.focus(),I.shouldSelect&&K.select())}},getFieldState:x}}function D3(t={}){const e=_e.useRef(),n=_e.useRef(),[r,i]=_e.useState({isDirty:!1,isValidating:!1,isLoading:Or(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Or(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...V3(t,()=>i(s=>({...s}))),formState:r});const o=e.current.control;return o._options=t,E3({subject:o._subjects.state,next:s=>{_3(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),_e.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),_e.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),_e.useEffect(()=>{t.values&&!Ti(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),_e.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),_e.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=v3(r,o),e.current}function L3(t){return ii({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M169.64,134.33l44.77-19.46A16,16,0,0,0,213,85.07L52.92,32.8A16,16,0,0,0,32.8,52.92L85.07,213a15.83,15.83,0,0,0,14.41,11l.79,0a15.83,15.83,0,0,0,14.6-9.59h0l19.46-44.77L184,219.31a16,16,0,0,0,22.63,0l12.68-12.68a16,16,0,0,0,0-22.63Zm-69.48,73.76.06-.05Zm95.15-.09-49.66-49.67a16,16,0,0,0-26,4.94l-19.42,44.65L48,48l159.87,52.21-44.64,19.41a16,16,0,0,0-4.94,26L208,195.31ZM88,24V16a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0ZM8,96a8,8,0,0,1,8-8h8a8,8,0,0,1,0,16H16A8,8,0,0,1,8,96ZM120.85,28.42l8-16a8,8,0,0,1,14.31,7.16l-8,16a8,8,0,1,1-14.31-7.16Zm-81.69,96a8,8,0,0,1-3.58,10.74l-16,8a8,8,0,0,1-7.16-14.31l16-8A8,8,0,0,1,39.16,124.42Z"}}]})(t)}const b3=()=>{const[t]=xo(Np),[e,n]=U.useState(!1),[r,i]=U.useState(""),[o,s]=U.useState(""),[a,l]=U.useState(""),[u,c]=U.useState(Array(1e3).fill(!1)),{formState:{isSubmitting:h},handleSubmit:d,reset:p,register:y,setValue:E}=D3(),T=(P,V)=>{s(P),l(V)},m=()=>xp(""),f=()=>{p();const V={userId:1,commentContent:r.trim(),postId:t,originCommentId:a!=""?a:"null"};n(!0),u3(V),m(),setTimeout(()=>{n(!1),E("comment","")},200),s(""),l("")},[g,A]=pL(l3(t));if(g.state==="loading")return k.jsx("div",{children:" ..."});if(g.state==="hasError")return k.jsx("div",{children:" ."});const C=g.contents;return U.useEffect(()=>{setTimeout(()=>{const P=localStorage.getItem("comment");A(JSON.parse(P))},5e3)}),k.jsxs("div",{children:[C.map((P,V)=>k.jsx("div",{children:P.origin_commentId!="null"?"":k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center my-3 mx-2",children:[k.jsx("div",{className:"rounded-full overflow-hidden bg-slate-600 size-8"}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:"nickname"}),k.jsx("div",{className:"ml-2 text-[14px]",children:P.commentContent})]}),k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"ml-2 text-[11px]",children:UR(P)}),k.jsx("div",{className:"ml-2 text-[11px]",onClick:()=>T(P.userId,P.commentId),children:" "})]})]})]}),k.jsxs("div",{className:"ml-12 text-[11px]  w-fit",onClick:()=>{const W=[...u];W[V]=!W[V],c(W)},children:[k.jsx("div",{className:"text-gray-500 cursor-pointer hover:text-black",children:C.filter(W=>W.origin_commentId===P.commentId).length>0?u[V]?" ":` ${C.filter(W=>W.origin_commentId===P.commentId).length}  `:""}),u[V]&&k.jsx(f3,{data:C.filter(W=>W.origin_commentId===P.commentId)})]})]})},P.commentId)),o&&k.jsx("div",{className:"fixed bottom-12 left-0 right-0 p-4",children:k.jsxs("div",{className:"bg-white border w-fit p-1 rounded-3xl text-[14px] text-gray-500",onClick:()=>s(""),children:[o," X"]})}),k.jsx("form",{onSubmit:d(f),children:k.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 flex justify-center",children:[k.jsx("textarea",{...y("comment"),placeholder:" .",name:"",id:"comment",cols:30,rows:1,onKeyDown:P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),d(f)())},onChange:P=>i(P.target.value),required:!0,className:"border border-solid border-gray-500 p-2 rounded-xl focus:outline-none mr-2 w-full"}),k.jsxs("button",{type:"submit",disabled:h,className:`bg-black text-white py-2 px-4 rounded-full ${e&&r.trim()!==""?"bg-slate-500":""}`,onClick:()=>r.trim()==""?n(!0):"",children:[k.jsx(L3,{}),k.jsx(FR,{position:"bottom-center",toastOptions:{style:{border:"2px solid #FFFFFF",padding:"10px",color:"#FFFFFF",height:"8px",width:"fit",fontSize:"12px",background:"black"}}})]})]})})]})};function QR(t){return ii({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"}}]})(t)}var YR={exports:{}};(function(t,e){(function(n,r){t.exports=r(U)})(JR,n=>(()=>{var r={703:(a,l,u)=>{var c=u(414);function h(){}function d(){}d.resetWarningCache=h,a.exports=function(){function p(T,m,f,g,A,C){if(C!==c){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}function y(){return p}p.isRequired=p;var E={array:p,bigint:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:y,element:p,elementType:p,instanceOf:y,node:p,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:d,resetWarningCache:h};return E.PropTypes=E,E}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,o),u.exports}o.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return o.d(l,{a:l}),l},o.d=(a,l)=>{for(var u in l)o.o(l,u)&&!o.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s={};return(()=>{o.r(s),o.d(s,{default:()=>Ie});var a=o(98),l=o.n(a),u=o(697),c=o.n(u);function h(){return h=Object.assign?Object.assign.bind():function($){for(var b=1;b<arguments.length;b++){var ee=arguments[b];for(var ue in ee)Object.prototype.hasOwnProperty.call(ee,ue)&&($[ue]=ee[ue])}return $},h.apply(this,arguments)}var d=function($){var b=$.pageClassName,ee=$.pageLinkClassName,ue=$.page,Ae=$.selected,be=$.activeClassName,j=$.activeLinkClassName,D=$.getEventListener,S=$.pageSelectedHandler,q=$.href,v=$.extraAriaContext,x=$.pageLabelBuilder,L=$.rel,te=$.ariaLabel||"Page "+ue+(v?" "+v:""),H=null;return Ae&&(H="page",te=$.ariaLabel||"Page "+ue+" is your current page",b=b!==void 0?b+" "+be:be,ee!==void 0?j!==void 0&&(ee=ee+" "+j):ee=j),l().createElement("li",{className:b},l().createElement("a",h({rel:L,role:q?void 0:"button",className:ee,href:q,tabIndex:Ae?"-1":"0","aria-label":te,"aria-current":H,onKeyPress:S},D(S)),x(ue)))};d.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const p=d;function y(){return y=Object.assign?Object.assign.bind():function($){for(var b=1;b<arguments.length;b++){var ee=arguments[b];for(var ue in ee)Object.prototype.hasOwnProperty.call(ee,ue)&&($[ue]=ee[ue])}return $},y.apply(this,arguments)}var E=function($){var b=$.breakLabel,ee=$.breakAriaLabel,ue=$.breakClassName,Ae=$.breakLinkClassName,be=$.breakHandler,j=$.getEventListener,D=ue||"break";return l().createElement("li",{className:D},l().createElement("a",y({className:Ae,role:"button",tabIndex:"0","aria-label":ee,onKeyPress:be},j(be)),b))};E.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabel:c().string,breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const T=E;function m($){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return $??b}function f($){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f($)}function g(){return g=Object.assign?Object.assign.bind():function($){for(var b=1;b<arguments.length;b++){var ee=arguments[b];for(var ue in ee)Object.prototype.hasOwnProperty.call(ee,ue)&&($[ue]=ee[ue])}return $},g.apply(this,arguments)}function A($,b){for(var ee=0;ee<b.length;ee++){var ue=b[ee];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty($,ue.key,ue)}}function C($,b){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,ue){return ee.__proto__=ue,ee},C($,b)}function P($,b){if(b&&(f(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V($)}function V($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function W($){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},W($)}function ae($,b,ee){return b in $?Object.defineProperty($,b,{value:ee,enumerable:!0,configurable:!0,writable:!0}):$[b]=ee,$}var Z=function($){(function(D,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(S&&S.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),S&&C(D,S)})(j,$);var b,ee,ue,Ae,be=(ue=j,Ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,S=W(ue);if(Ae){var q=W(this).constructor;D=Reflect.construct(S,arguments,q)}else D=S.apply(this,arguments);return P(this,D)});function j(D){var S,q;return function(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}(this,j),ae(V(S=be.call(this,D)),"handlePreviousPage",function(v){var x=S.state.selected;S.handleClick(v,null,x>0?x-1:void 0,{isPrevious:!0})}),ae(V(S),"handleNextPage",function(v){var x=S.state.selected,L=S.props.pageCount;S.handleClick(v,null,x<L-1?x+1:void 0,{isNext:!0})}),ae(V(S),"handlePageSelected",function(v,x){if(S.state.selected===v)return S.callActiveCallback(v),void S.handleClick(x,null,void 0,{isActive:!0});S.handleClick(x,null,v)}),ae(V(S),"handlePageChange",function(v){S.state.selected!==v&&(S.setState({selected:v}),S.callCallback(v))}),ae(V(S),"getEventListener",function(v){return ae({},S.props.eventListener,v)}),ae(V(S),"handleClick",function(v,x,L){var te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},H=te.isPrevious,le=H!==void 0&&H,pe=te.isNext,oe=pe!==void 0&&pe,ke=te.isBreak,xe=ke!==void 0&&ke,Se=te.isActive,Ne=Se!==void 0&&Se;v.preventDefault?v.preventDefault():v.returnValue=!1;var tt=S.state.selected,Me=S.props.onClick,ze=L;if(Me){var Ue=Me({index:x,selected:tt,nextSelectedPage:L,event:v,isPrevious:le,isNext:oe,isBreak:xe,isActive:Ne});if(Ue===!1)return;Number.isInteger(Ue)&&(ze=Ue)}ze!==void 0&&S.handlePageChange(ze)}),ae(V(S),"handleBreakClick",function(v,x){var L=S.state.selected;S.handleClick(x,v,L<v?S.getForwardJump():S.getBackwardJump(),{isBreak:!0})}),ae(V(S),"callCallback",function(v){S.props.onPageChange!==void 0&&typeof S.props.onPageChange=="function"&&S.props.onPageChange({selected:v})}),ae(V(S),"callActiveCallback",function(v){S.props.onPageActive!==void 0&&typeof S.props.onPageActive=="function"&&S.props.onPageActive({selected:v})}),ae(V(S),"getElementPageRel",function(v){var x=S.state.selected,L=S.props,te=L.nextPageRel,H=L.prevPageRel,le=L.selectedPageRel;return x-1===v?H:x===v?le:x+1===v?te:void 0}),ae(V(S),"pagination",function(){var v=[],x=S.props,L=x.pageRangeDisplayed,te=x.pageCount,H=x.marginPagesDisplayed,le=x.breakLabel,pe=x.breakClassName,oe=x.breakLinkClassName,ke=x.breakAriaLabels,xe=S.state.selected;if(te<=L)for(var Se=0;Se<te;Se++)v.push(S.getPageElement(Se));else{var Ne=L/2,tt=L-Ne;xe>te-L/2?Ne=L-(tt=te-xe):xe<L/2&&(tt=L-(Ne=xe));var Me,ze,Ue=function(N){return S.getPageElement(N)},nt=[];for(Me=0;Me<te;Me++){var _=Me+1;if(_<=H)nt.push({type:"page",index:Me,display:Ue(Me)});else if(_>te-H)nt.push({type:"page",index:Me,display:Ue(Me)});else if(Me>=xe-Ne&&Me<=xe+(xe===0&&L>1?tt-1:tt))nt.push({type:"page",index:Me,display:Ue(Me)});else if(le&&nt.length>0&&nt[nt.length-1].display!==ze&&(L>0||H>0)){var I=Me<xe?ke.backward:ke.forward;ze=l().createElement(T,{key:Me,breakAriaLabel:I,breakLabel:le,breakClassName:pe,breakLinkClassName:oe,breakHandler:S.handleBreakClick.bind(null,Me),getEventListener:S.getEventListener}),nt.push({type:"break",index:Me,display:ze})}}nt.forEach(function(N,G){var K=N;N.type==="break"&&nt[G-1]&&nt[G-1].type==="page"&&nt[G+1]&&nt[G+1].type==="page"&&nt[G+1].index-nt[G-1].index<=2&&(K={type:"page",index:N.index,display:Ue(N.index)}),v.push(K.display)})}return v}),D.initialPage!==void 0&&D.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(D.initialPage,") and forcePage (").concat(D.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),q=D.initialPage?D.initialPage:D.forcePage?D.forcePage:0,S.state={selected:q},S}return b=j,(ee=[{key:"componentDidMount",value:function(){var D=this.props,S=D.initialPage,q=D.disableInitialCallback,v=D.extraAriaContext,x=D.pageCount,L=D.forcePage;S===void 0||q||this.callCallback(S),v&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(x)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(x,"). Did you forget a Math.ceil()?")),S!==void 0&&S>x-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(S," > ").concat(x-1,").")),L!==void 0&&L>x-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(L," > ").concat(x-1,")."))}},{key:"componentDidUpdate",value:function(D){this.props.forcePage!==void 0&&this.props.forcePage!==D.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(D.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var D=this.state.selected,S=this.props,q=S.pageCount,v=D+S.pageRangeDisplayed;return v>=q?q-1:v}},{key:"getBackwardJump",value:function(){var D=this.state.selected-this.props.pageRangeDisplayed;return D<0?0:D}},{key:"getElementHref",value:function(D){var S=this.props,q=S.hrefBuilder,v=S.pageCount,x=S.hrefAllControls;if(q)return x||D>=0&&D<v?q(D+1,v,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(D){var S=D===this.state.selected;if(this.props.ariaLabelBuilder&&D>=0&&D<this.props.pageCount){var q=this.props.ariaLabelBuilder(D+1,S);return this.props.extraAriaContext&&!S&&(q=q+" "+this.props.extraAriaContext),q}}},{key:"getPageElement",value:function(D){var S=this.state.selected,q=this.props,v=q.pageClassName,x=q.pageLinkClassName,L=q.activeClassName,te=q.activeLinkClassName,H=q.extraAriaContext,le=q.pageLabelBuilder;return l().createElement(p,{key:D,pageSelectedHandler:this.handlePageSelected.bind(null,D),selected:S===D,rel:this.getElementPageRel(D),pageClassName:v,pageLinkClassName:x,activeClassName:L,activeLinkClassName:te,extraAriaContext:H,href:this.getElementHref(D),ariaLabel:this.ariaLabelBuilder(D),page:D+1,pageLabelBuilder:le,getEventListener:this.getEventListener})}},{key:"render",value:function(){var D=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&D!==void 0)return D&&D(this.props);var S=this.props,q=S.disabledClassName,v=S.disabledLinkClassName,x=S.pageCount,L=S.className,te=S.containerClassName,H=S.previousLabel,le=S.previousClassName,pe=S.previousLinkClassName,oe=S.previousAriaLabel,ke=S.prevRel,xe=S.nextLabel,Se=S.nextClassName,Ne=S.nextLinkClassName,tt=S.nextAriaLabel,Me=S.nextRel,ze=this.state.selected,Ue=ze===0,nt=ze===x-1,_="".concat(m(le)).concat(Ue?" ".concat(m(q)):""),I="".concat(m(Se)).concat(nt?" ".concat(m(q)):""),N="".concat(m(pe)).concat(Ue?" ".concat(m(v)):""),G="".concat(m(Ne)).concat(nt?" ".concat(m(v)):""),K=Ue?"true":"false",z=nt?"true":"false";return l().createElement("ul",{className:L||te,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:_},l().createElement("a",g({className:N,href:this.getElementHref(ze-1),tabIndex:Ue?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":K,"aria-label":oe,rel:ke},this.getEventListener(this.handlePreviousPage)),H)),this.pagination(),l().createElement("li",{className:I},l().createElement("a",g({className:G,href:this.getElementHref(ze+1),tabIndex:nt?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":z,"aria-label":tt,rel:Me},this.getEventListener(this.handleNextPage)),xe)))}}])&&A(b.prototype,ee),Object.defineProperty(b,"prototype",{writable:!1}),j}(a.Component);ae(Z,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabels:c().shape({forward:c().string,backward:c().string}),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),ae(Z,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function($){return $},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const Ie=Z})(),s})())})(YR);var M3=YR.exports;const O3=Vp(M3),$3=()=>{const[e,n]=U.useState(0),r=[{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...1"},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...2"},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ..."},{title:" .",time:"1 ",contents:" ...3"}],i=Math.ceil(r.length/5),o=({selected:c})=>{n(c)},s=e*5,a=r.slice(s,s+5),l=km(),u=()=>{l("/notice_detail")};return k.jsxs("div",{children:[k.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:k.jsxs("div",{children:[k.jsx("img",{src:"../../public/free-icon-cool-7298816.png",width:55}),k.jsx("span",{children:"overdog"})]})}),a.map(c=>k.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[k.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"text-[13px]",children:k.jsx(QR,{})}),k.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:c.title})]}),k.jsx("span",{className:"text-gray-500 text-[11px]",children:c.time})]}),k.jsx("div",{children:k.jsx("div",{className:"flex items-center",children:k.jsx("div",{className:"flex-1",onClick:u,children:k.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.contents})})})})]})),k.jsx(O3,{pageClassName:"inline-block mx-1 p-2 rounded-full cursor-pointer  ",pageLinkClassName:"block w-8 h-8 leading-8 text-center border border-gray-300 bg-white rounded-full transition duration-300 ease-in-out hover:bg-gray-300",containerClassName:"pagination flex justify-center my-2",activeClassName:"bg-gray-300",previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:o})]})},F3=()=>k.jsxs("div",{children:[k.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:k.jsxs("div",{children:[k.jsx("img",{src:"../../public/free-icon-cool-7298816.png",width:55}),k.jsx("span",{children:"overdog"})]})}),k.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[k.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"text-[13px]",children:k.jsx(QR,{})}),k.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:" "})]}),k.jsx("span",{className:"text-gray-500 text-[11px]",children:"1 "})]}),k.jsx("div",{children:k.jsx("div",{className:"flex items-center",children:k.jsx("div",{className:"flex-1",children:k.jsx("p",{className:"text-sm font-medium text-gray-900 w-full h-[30vh]",children:" "})})})})]})]});var U3={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function B3(){return k.jsx(dL,{children:k.jsx("div",{className:"font-pretendard",children:k.jsxs(yP,{basename:U3.PUBLIC_URL,children:[k.jsx(wP,{}),k.jsxs(mP,{children:[k.jsx(Fs,{path:"/",element:k.jsx(d3,{})}),k.jsx(Fs,{path:"/comment",element:k.jsx(b3,{})}),k.jsx(Fs,{path:"/notice",element:k.jsx($3,{})}),k.jsx(Fs,{path:"/notice_detail",element:k.jsx(F3,{})})]})]})})})}qd.createRoot(document.getElementById("root")).render(k.jsx(B3,{}));
