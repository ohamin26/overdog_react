function bP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IS={exports:{}},Bd={},CS={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),AP=Symbol.for("react.portal"),IP=Symbol.for("react.fragment"),CP=Symbol.for("react.strict_mode"),PP=Symbol.for("react.profiler"),kP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),DP=Symbol.for("react.forward_ref"),VP=Symbol.for("react.suspense"),OP=Symbol.for("react.memo"),LP=Symbol.for("react.lazy"),N_=Symbol.iterator;function MP(t){return t===null||typeof t!="object"?null:(t=N_&&t[N_]||t["@@iterator"],typeof t=="function"?t:null)}var PS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kS=Object.assign,NS={};function ua(t,e,n){this.props=t,this.context=e,this.refs=NS,this.updater=n||PS}ua.prototype.isReactComponent={};ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DS(){}DS.prototype=ua.prototype;function Vv(t,e,n){this.props=t,this.context=e,this.refs=NS,this.updater=n||PS}var Ov=Vv.prototype=new DS;Ov.constructor=Vv;kS(Ov,ua.prototype);Ov.isPureReactComponent=!0;var D_=Array.isArray,VS=Object.prototype.hasOwnProperty,Lv={current:null},OS={key:!0,ref:!0,__self:!0,__source:!0};function LS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)VS.call(e,r)&&!OS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tu,type:t,key:o,ref:s,props:i,_owner:Lv.current}}function $P(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function FP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var V_=/\/+/g;function pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FP(""+t.key):e.toString(36)}function rf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Tu:case AP:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+pp(s,0):r,D_(i)?(n="",t!=null&&(n=t.replace(V_,"$&/")+"/"),rf(i,e,n,"",function(u){return u})):i!=null&&(Mv(i)&&(i=$P(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(V_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",D_(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+pp(o,a);s+=rf(o,e,n,l,i)}else if(l=MP(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+pp(o,a++),s+=rf(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function lc(t,e,n){if(t==null)return t;var r=[],i=0;return rf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function UP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},of={transition:null},jP={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:of,ReactCurrentOwner:Lv};Me.Children={map:lc,forEach:function(t,e,n){lc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lc(t,function(){e++}),e},toArray:function(t){return lc(t,function(e){return e})||[]},only:function(t){if(!Mv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=ua;Me.Fragment=IP;Me.Profiler=PP;Me.PureComponent=Vv;Me.StrictMode=CP;Me.Suspense=VP;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jP;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Lv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)VS.call(e,l)&&!OS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Tu,type:t.type,key:i,ref:o,props:r,_owner:s}};Me.createContext=function(t){return t={$$typeof:NP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kP,_context:t},t.Consumer=t};Me.createElement=LS;Me.createFactory=function(t){var e=LS.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:DP,render:t}};Me.isValidElement=Mv;Me.lazy=function(t){return{$$typeof:LP,_payload:{_status:-1,_result:t},_init:UP}};Me.memo=function(t,e){return{$$typeof:OP,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=of.transition;of.transition={};try{t()}finally{of.transition=e}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Me.useContext=function(t){return Tn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Me.useId=function(){return Tn.current.useId()};Me.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Me.useRef=function(t){return Tn.current.useRef(t)};Me.useState=function(t){return Tn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return Tn.current.useTransition()};Me.version="18.2.0";CS.exports=Me;var x=CS.exports;const ve=Dv(x),BP=bP({__proto__:null,default:ve},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=x,HP=Symbol.for("react.element"),qP=Symbol.for("react.fragment"),WP=Object.prototype.hasOwnProperty,GP=zP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function MS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)WP.call(e,r)&&!KP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HP,type:t,key:o,ref:s,props:i,_owner:GP.current}}Bd.Fragment=qP;Bd.jsx=MS;Bd.jsxs=MS;IS.exports=Bd;var P=IS.exports,Am={},$S={exports:{}},Gn={},FS={exports:{}},US={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,F){var I=z.length;z.push(F);e:for(;0<I;){var H=I-1>>>1,w=z[H];if(0<i(w,F))z[H]=F,z[I]=w,I=H;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var F=z[0],I=z.pop();if(I!==F){z[0]=I;e:for(var H=0,w=z.length,$=w>>>1;H<$;){var j=2*(H+1)-1,ne=z[j],Z=j+1,me=z[Z];if(0>i(ne,I))Z<w&&0>i(me,ne)?(z[H]=me,z[Z]=I,H=Z):(z[H]=ne,z[j]=I,H=j);else if(Z<w&&0>i(me,I))z[H]=me,z[Z]=I,H=Z;else break e}}return F}function i(z,F){var I=z.sortIndex-F.sortIndex;return I!==0?I:z.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,m=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=z)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function b(z){if(y=!1,v(z),!m)if(n(l)!==null)m=!0,Ee(C);else{var F=n(u);F!==null&&we(b,F.startTime-z)}}function C(z,F){m=!1,y&&(y=!1,g(k),k=-1),h=!0;var I=d;try{for(v(F),f=n(l);f!==null&&(!(f.expirationTime>F)||z&&!B());){var H=f.callback;if(typeof H=="function"){f.callback=null,d=f.priorityLevel;var w=H(f.expirationTime<=F);F=t.unstable_now(),typeof w=="function"?f.callback=w:f===n(l)&&r(l),v(F)}else r(l);f=n(l)}if(f!==null)var $=!0;else{var j=n(u);j!==null&&we(b,j.startTime-F),$=!1}return $}finally{f=null,d=I,h=!1}}var R=!1,S=null,k=-1,D=5,L=-1;function B(){return!(t.unstable_now()-L<D)}function N(){if(S!==null){var z=t.unstable_now();L=z;var F=!0;try{F=S(!0,z)}finally{F?M():(R=!1,S=null)}}else R=!1}var M;if(typeof p=="function")M=function(){p(N)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,te=Q.port2;Q.port1.onmessage=N,M=function(){te.postMessage(null)}}else M=function(){E(N,0)};function Ee(z){S=z,R||(R=!0,M())}function we(z,F){k=E(function(){z(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Ee(C))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var I=d;d=F;try{return z()}finally{d=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,F){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var I=d;d=z;try{return F()}finally{d=I}},t.unstable_scheduleCallback=function(z,F,I){var H=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?H+I:H):I=H,z){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=I+w,z={id:c++,callback:F,priorityLevel:z,startTime:I,expirationTime:w,sortIndex:-1},I>H?(z.sortIndex=I,e(u,z),n(l)===null&&z===n(u)&&(y?(g(k),k=-1):y=!0,we(b,I-H))):(z.sortIndex=w,e(l,z),m||h||(m=!0,Ee(C))),z},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(z){var F=d;return function(){var I=d;d=F;try{return z.apply(this,arguments)}finally{d=I}}}})(US);FS.exports=US;var QP=FS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=x,qn=QP;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BS=new Set,$l={};function Fo(t,e){Fs(t,e),Fs(t+"Capture",e)}function Fs(t,e){for($l[t]=e,t=0;t<e.length;t++)BS.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Im=Object.prototype.hasOwnProperty,YP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O_={},L_={};function XP(t){return Im.call(L_,t)?!0:Im.call(O_,t)?!1:YP.test(t)?L_[t]=!0:(O_[t]=!0,!1)}function JP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZP(t,e,n,r){if(e===null||typeof e>"u"||JP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var $v=/[\-:]([a-z])/g;function Fv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($v,Fv);en[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($v,Fv);en[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($v,Fv);en[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Uv(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZP(e,n,i,r)&&(n=null),r||i===null?XP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ii=jS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uc=Symbol.for("react.element"),fs=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),jv=Symbol.for("react.strict_mode"),Cm=Symbol.for("react.profiler"),zS=Symbol.for("react.provider"),HS=Symbol.for("react.context"),Bv=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),km=Symbol.for("react.suspense_list"),zv=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),qS=Symbol.for("react.offscreen"),M_=Symbol.iterator;function ba(t){return t===null||typeof t!="object"?null:(t=M_&&t[M_]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,mp;function Ka(t){if(mp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mp=e&&e[1]||""}return`
`+mp+t}var gp=!1;function vp(t,e){if(!t||gp)return"";gp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{gp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ka(t):""}function ek(t){switch(t.tag){case 5:return Ka(t.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 2:case 15:return t=vp(t.type,!1),t;case 11:return t=vp(t.type.render,!1),t;case 1:return t=vp(t.type,!0),t;default:return""}}function Nm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case fs:return"Portal";case Cm:return"Profiler";case jv:return"StrictMode";case Pm:return"Suspense";case km:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HS:return(t.displayName||"Context")+".Consumer";case zS:return(t._context.displayName||"Context")+".Provider";case Bv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zv:return e=t.displayName||null,e!==null?e:Nm(t.type)||"Memo";case ui:e=t._payload,t=t._init;try{return Nm(t(e))}catch{}}return null}function tk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nm(e);case 8:return e===jv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nk(t){var e=WS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cc(t){t._valueTracker||(t._valueTracker=nk(t))}function GS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dm(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KS(t,e){e=e.checked,e!=null&&Uv(t,"checked",e,!1)}function Vm(t,e){KS(t,e);var n=$i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Om(t,e.type,n):e.hasOwnProperty("defaultValue")&&Om(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Om(t,e,n){(e!=="number"||Nf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qa=Array.isArray;function xs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Qa(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$i(n)}}function QS(t,e){var n=$i(e.value),r=$i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fc,XS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rk=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(t){rk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ll[e]=ll[t]})});function JS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ll.hasOwnProperty(t)&&ll[t]?(""+e).trim():e+"px"}function ZS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ik=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $m(t,e){if(e){if(ik[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Fm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Um=null;function Hv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jm=null,As=null,Is=null;function B_(t){if(t=xu(t)){if(typeof jm!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Gd(e),jm(t.stateNode,t.type,e))}}function eT(t){As?Is?Is.push(t):Is=[t]:As=t}function tT(){if(As){var t=As,e=Is;if(Is=As=null,B_(t),e)for(t=0;t<e.length;t++)B_(e[t])}}function nT(t,e){return t(e)}function rT(){}var yp=!1;function iT(t,e,n){if(yp)return t(e,n);yp=!0;try{return nT(t,e,n)}finally{yp=!1,(As!==null||Is!==null)&&(rT(),tT())}}function Ul(t,e){var n=t.stateNode;if(n===null)return null;var r=Gd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Bm=!1;if(Xr)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Bm=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Bm=!1}function ok(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ul=!1,Df=null,Vf=!1,zm=null,sk={onError:function(t){ul=!0,Df=t}};function ak(t,e,n,r,i,o,s,a,l){ul=!1,Df=null,ok.apply(sk,arguments)}function lk(t,e,n,r,i,o,s,a,l){if(ak.apply(this,arguments),ul){if(ul){var u=Df;ul=!1,Df=null}else throw Error(J(198));Vf||(Vf=!0,zm=u)}}function Uo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z_(t){if(Uo(t)!==t)throw Error(J(188))}function uk(t){var e=t.alternate;if(!e){if(e=Uo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return z_(i),t;if(o===r)return z_(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function sT(t){return t=uk(t),t!==null?aT(t):null}function aT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aT(t);if(e!==null)return e;t=t.sibling}return null}var lT=qn.unstable_scheduleCallback,H_=qn.unstable_cancelCallback,ck=qn.unstable_shouldYield,fk=qn.unstable_requestPaint,It=qn.unstable_now,dk=qn.unstable_getCurrentPriorityLevel,qv=qn.unstable_ImmediatePriority,uT=qn.unstable_UserBlockingPriority,Of=qn.unstable_NormalPriority,hk=qn.unstable_LowPriority,cT=qn.unstable_IdlePriority,zd=null,Nr=null;function pk(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(zd,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:vk,mk=Math.log,gk=Math.LN2;function vk(t){return t>>>=0,t===0?32:31-(mk(t)/gk|0)|0}var dc=64,hc=4194304;function Ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ya(a):(o&=s,o!==0&&(r=Ya(o)))}else s=n&~i,s!==0?r=Ya(s):o!==0&&(r=Ya(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yr(e),i=1<<n,r|=t[n],e&=~i;return r}function yk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _k(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-yr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=yk(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Hm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fT(){var t=dc;return dc<<=1,!(dc&4194240)&&(dc=64),t}function _p(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ru(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function wk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Wv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ye=0;function dT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hT,Gv,pT,mT,gT,qm=!1,pc=[],Ri=null,bi=null,xi=null,jl=new Map,Bl=new Map,di=[],Ek="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q_(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(e.pointerId)}}function Aa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=xu(e),e!==null&&Gv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sk(t,e,n,r,i){switch(e){case"focusin":return Ri=Aa(Ri,t,e,n,r,i),!0;case"dragenter":return bi=Aa(bi,t,e,n,r,i),!0;case"mouseover":return xi=Aa(xi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return jl.set(o,Aa(jl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bl.set(o,Aa(Bl.get(o)||null,t,e,n,r,i)),!0}return!1}function vT(t){var e=lo(t.target);if(e!==null){var n=Uo(e);if(n!==null){if(e=n.tag,e===13){if(e=oT(n),e!==null){t.blockedOn=e,gT(t.priority,function(){pT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Um=r,n.target.dispatchEvent(r),Um=null}else return e=xu(n),e!==null&&Gv(e),t.blockedOn=n,!1;e.shift()}return!0}function W_(t,e,n){sf(t)&&n.delete(e)}function Tk(){qm=!1,Ri!==null&&sf(Ri)&&(Ri=null),bi!==null&&sf(bi)&&(bi=null),xi!==null&&sf(xi)&&(xi=null),jl.forEach(W_),Bl.forEach(W_)}function Ia(t,e){t.blockedOn===e&&(t.blockedOn=null,qm||(qm=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,Tk)))}function zl(t){function e(i){return Ia(i,t)}if(0<pc.length){Ia(pc[0],t);for(var n=1;n<pc.length;n++){var r=pc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&Ia(Ri,t),bi!==null&&Ia(bi,t),xi!==null&&Ia(xi,t),jl.forEach(e),Bl.forEach(e),n=0;n<di.length;n++)r=di[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<di.length&&(n=di[0],n.blockedOn===null);)vT(n),n.blockedOn===null&&di.shift()}var Cs=ii.ReactCurrentBatchConfig,Mf=!0;function Rk(t,e,n,r){var i=Ye,o=Cs.transition;Cs.transition=null;try{Ye=1,Kv(t,e,n,r)}finally{Ye=i,Cs.transition=o}}function bk(t,e,n,r){var i=Ye,o=Cs.transition;Cs.transition=null;try{Ye=4,Kv(t,e,n,r)}finally{Ye=i,Cs.transition=o}}function Kv(t,e,n,r){if(Mf){var i=Wm(t,e,n,r);if(i===null)Cp(t,e,r,$f,n),q_(t,r);else if(Sk(i,t,e,n,r))r.stopPropagation();else if(q_(t,r),e&4&&-1<Ek.indexOf(t)){for(;i!==null;){var o=xu(i);if(o!==null&&hT(o),o=Wm(t,e,n,r),o===null&&Cp(t,e,r,$f,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Cp(t,e,r,null,n)}}var $f=null;function Wm(t,e,n,r){if($f=null,t=Hv(r),t=lo(t),t!==null)if(e=Uo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $f=t,null}function yT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dk()){case qv:return 1;case uT:return 4;case Of:case hk:return 16;case cT:return 536870912;default:return 16}default:return 16}}var yi=null,Qv=null,af=null;function _T(){if(af)return af;var t,e=Qv,n=e.length,r,i="value"in yi?yi.value:yi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return af=i.slice(t,1<r?1-r:void 0)}function lf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mc(){return!0}function G_(){return!1}function Kn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?mc:G_,this.isPropagationStopped=G_,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),e}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yv=Kn(ca),bu=Et({},ca,{view:0,detail:0}),xk=Kn(bu),wp,Ep,Ca,Hd=Et({},bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ca&&(Ca&&t.type==="mousemove"?(wp=t.screenX-Ca.screenX,Ep=t.screenY-Ca.screenY):Ep=wp=0,Ca=t),wp)},movementY:function(t){return"movementY"in t?t.movementY:Ep}}),K_=Kn(Hd),Ak=Et({},Hd,{dataTransfer:0}),Ik=Kn(Ak),Ck=Et({},bu,{relatedTarget:0}),Sp=Kn(Ck),Pk=Et({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),kk=Kn(Pk),Nk=Et({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dk=Kn(Nk),Vk=Et({},ca,{data:0}),Q_=Kn(Vk),Ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mk[t])?!!e[t]:!1}function Xv(){return $k}var Fk=Et({},bu,{key:function(t){if(t.key){var e=Ok[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xv,charCode:function(t){return t.type==="keypress"?lf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uk=Kn(Fk),jk=Et({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y_=Kn(jk),Bk=Et({},bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xv}),zk=Kn(Bk),Hk=Et({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=Kn(Hk),Wk=Et({},Hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=Kn(Wk),Kk=[9,13,27,32],Jv=Xr&&"CompositionEvent"in window,cl=null;Xr&&"documentMode"in document&&(cl=document.documentMode);var Qk=Xr&&"TextEvent"in window&&!cl,wT=Xr&&(!Jv||cl&&8<cl&&11>=cl),X_=" ",J_=!1;function ET(t,e){switch(t){case"keyup":return Kk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ST(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function Yk(t,e){switch(t){case"compositionend":return ST(e);case"keypress":return e.which!==32?null:(J_=!0,X_);case"textInput":return t=e.data,t===X_&&J_?null:t;default:return null}}function Xk(t,e){if(hs)return t==="compositionend"||!Jv&&ET(t,e)?(t=_T(),af=Qv=yi=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wT&&e.locale!=="ko"?null:e.data;default:return null}}var Jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Jk[t.type]:e==="textarea"}function TT(t,e,n,r){eT(r),e=Ff(e,"onChange"),0<e.length&&(n=new Yv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fl=null,Hl=null;function Zk(t){VT(t,0)}function qd(t){var e=gs(t);if(GS(e))return t}function eN(t,e){if(t==="change")return e}var RT=!1;if(Xr){var Tp;if(Xr){var Rp="oninput"in document;if(!Rp){var ew=document.createElement("div");ew.setAttribute("oninput","return;"),Rp=typeof ew.oninput=="function"}Tp=Rp}else Tp=!1;RT=Tp&&(!document.documentMode||9<document.documentMode)}function tw(){fl&&(fl.detachEvent("onpropertychange",bT),Hl=fl=null)}function bT(t){if(t.propertyName==="value"&&qd(Hl)){var e=[];TT(e,Hl,t,Hv(t)),iT(Zk,e)}}function tN(t,e,n){t==="focusin"?(tw(),fl=e,Hl=n,fl.attachEvent("onpropertychange",bT)):t==="focusout"&&tw()}function nN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qd(Hl)}function rN(t,e){if(t==="click")return qd(e)}function iN(t,e){if(t==="input"||t==="change")return qd(e)}function oN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Er=typeof Object.is=="function"?Object.is:oN;function ql(t,e){if(Er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Im.call(e,i)||!Er(t[i],e[i]))return!1}return!0}function nw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rw(t,e){var n=nw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nw(n)}}function xT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AT(){for(var t=window,e=Nf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nf(t.document)}return e}function Zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sN(t){var e=AT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xT(n.ownerDocument.documentElement,n)){if(r!==null&&Zv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=rw(n,o);var s=rw(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aN=Xr&&"documentMode"in document&&11>=document.documentMode,ps=null,Gm=null,dl=null,Km=!1;function iw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Km||ps==null||ps!==Nf(r)||(r=ps,"selectionStart"in r&&Zv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&ql(dl,r)||(dl=r,r=Ff(Gm,"onSelect"),0<r.length&&(e=new Yv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ps)))}function gc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ms={animationend:gc("Animation","AnimationEnd"),animationiteration:gc("Animation","AnimationIteration"),animationstart:gc("Animation","AnimationStart"),transitionend:gc("Transition","TransitionEnd")},bp={},IT={};Xr&&(IT=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Wd(t){if(bp[t])return bp[t];if(!ms[t])return t;var e=ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IT)return bp[t]=e[n];return t}var CT=Wd("animationend"),PT=Wd("animationiteration"),kT=Wd("animationstart"),NT=Wd("transitionend"),DT=new Map,ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){DT.set(t,e),Fo(e,[t])}for(var xp=0;xp<ow.length;xp++){var Ap=ow[xp],lN=Ap.toLowerCase(),uN=Ap[0].toUpperCase()+Ap.slice(1);zi(lN,"on"+uN)}zi(CT,"onAnimationEnd");zi(PT,"onAnimationIteration");zi(kT,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(NT,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);Fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function sw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lk(r,e,void 0,t),t.currentTarget=null}function VT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;sw(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;sw(i,a,u),o=l}}}if(Vf)throw t=zm,Vf=!1,zm=null,t}function st(t,e){var n=e[Zm];n===void 0&&(n=e[Zm]=new Set);var r=t+"__bubble";n.has(r)||(OT(e,t,2,!1),n.add(r))}function Ip(t,e,n){var r=0;e&&(r|=4),OT(n,t,r,e)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Wl(t){if(!t[vc]){t[vc]=!0,BS.forEach(function(n){n!=="selectionchange"&&(cN.has(n)||Ip(n,!1,t),Ip(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vc]||(e[vc]=!0,Ip("selectionchange",!1,e))}}function OT(t,e,n,r){switch(yT(e)){case 1:var i=Rk;break;case 4:i=bk;break;default:i=Kv}n=i.bind(null,e,n,t),i=void 0,!Bm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=lo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}iT(function(){var u=o,c=Hv(n),f=[];e:{var d=DT.get(t);if(d!==void 0){var h=Yv,m=t;switch(t){case"keypress":if(lf(n)===0)break e;case"keydown":case"keyup":h=Uk;break;case"focusin":m="focus",h=Sp;break;case"focusout":m="blur",h=Sp;break;case"beforeblur":case"afterblur":h=Sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=K_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Ik;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zk;break;case CT:case PT:case kT:h=kk;break;case NT:h=qk;break;case"scroll":h=xk;break;case"wheel":h=Gk;break;case"copy":case"cut":case"paste":h=Dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Y_}var y=(e&4)!==0,E=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var p=u,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=Ul(p,g),b!=null&&y.push(Gl(p,b,v)))),E)break;p=p.return}0<y.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Um&&(m=n.relatedTarget||n.fromElement)&&(lo(m)||m[Jr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?lo(m):null,m!==null&&(E=Uo(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(y=K_,b="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Y_,b="onPointerLeave",g="onPointerEnter",p="pointer"),E=h==null?d:gs(h),v=m==null?d:gs(m),d=new y(b,p+"leave",h,n,c),d.target=E,d.relatedTarget=v,b=null,lo(c)===u&&(y=new y(g,p+"enter",m,n,c),y.target=v,y.relatedTarget=E,b=y),E=b,h&&m)t:{for(y=h,g=m,p=0,v=y;v;v=Jo(v))p++;for(v=0,b=g;b;b=Jo(b))v++;for(;0<p-v;)y=Jo(y),p--;for(;0<v-p;)g=Jo(g),v--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=Jo(y),g=Jo(g)}y=null}else y=null;h!==null&&aw(f,d,h,y,!1),m!==null&&E!==null&&aw(f,E,m,y,!0)}}e:{if(d=u?gs(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var C=eN;else if(Z_(d))if(RT)C=iN;else{C=nN;var R=tN}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=rN);if(C&&(C=C(t,u))){TT(f,C,n,c);break e}R&&R(t,d,u),t==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&Om(d,"number",d.value)}switch(R=u?gs(u):window,t){case"focusin":(Z_(R)||R.contentEditable==="true")&&(ps=R,Gm=u,dl=null);break;case"focusout":dl=Gm=ps=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,iw(f,n,c);break;case"selectionchange":if(aN)break;case"keydown":case"keyup":iw(f,n,c)}var S;if(Jv)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else hs?ET(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(wT&&n.locale!=="ko"&&(hs||k!=="onCompositionStart"?k==="onCompositionEnd"&&hs&&(S=_T()):(yi=c,Qv="value"in yi?yi.value:yi.textContent,hs=!0)),R=Ff(u,k),0<R.length&&(k=new Q_(k,t,null,n,c),f.push({event:k,listeners:R}),S?k.data=S:(S=ST(n),S!==null&&(k.data=S)))),(S=Qk?Yk(t,n):Xk(t,n))&&(u=Ff(u,"onBeforeInput"),0<u.length&&(c=new Q_("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}VT(f,e)})}function Gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ff(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ul(t,n),o!=null&&r.unshift(Gl(t,o,i)),o=Ul(t,e),o!=null&&r.push(Gl(t,o,i))),t=t.return}return r}function Jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aw(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ul(n,o),l!=null&&s.unshift(Gl(n,l,a))):i||(l=Ul(n,o),l!=null&&s.push(Gl(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var fN=/\r\n?/g,dN=/\u0000|\uFFFD/g;function lw(t){return(typeof t=="string"?t:""+t).replace(fN,`
`).replace(dN,"")}function yc(t,e,n){if(e=lw(e),lw(t)!==e&&n)throw Error(J(425))}function Uf(){}var Qm=null,Ym=null;function Xm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jm=typeof setTimeout=="function"?setTimeout:void 0,hN=typeof clearTimeout=="function"?clearTimeout:void 0,uw=typeof Promise=="function"?Promise:void 0,pN=typeof queueMicrotask=="function"?queueMicrotask:typeof uw<"u"?function(t){return uw.resolve(null).then(t).catch(mN)}:Jm;function mN(t){setTimeout(function(){throw t})}function Pp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zl(e)}function Ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),Ar="__reactFiber$"+fa,Kl="__reactProps$"+fa,Jr="__reactContainer$"+fa,Zm="__reactEvents$"+fa,gN="__reactListeners$"+fa,vN="__reactHandles$"+fa;function lo(t){var e=t[Ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[Ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cw(t);t!==null;){if(n=t[Ar])return n;t=cw(t)}return e}t=n,n=t.parentNode}return null}function xu(t){return t=t[Ar]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Gd(t){return t[Kl]||null}var eg=[],vs=-1;function Hi(t){return{current:t}}function ft(t){0>vs||(t.current=eg[vs],eg[vs]=null,vs--)}function nt(t,e){vs++,eg[vs]=t.current,t.current=e}var Fi={},mn=Hi(Fi),Pn=Hi(!1),bo=Fi;function Us(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function jf(){ft(Pn),ft(mn)}function fw(t,e,n){if(mn.current!==Fi)throw Error(J(168));nt(mn,e),nt(Pn,n)}function LT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,tk(t)||"Unknown",i));return Et({},n,r)}function Bf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,bo=mn.current,nt(mn,t),nt(Pn,Pn.current),!0}function dw(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=LT(t,e,bo),r.__reactInternalMemoizedMergedChildContext=t,ft(Pn),ft(mn),nt(mn,t)):ft(Pn),nt(Pn,n)}var Hr=null,Kd=!1,kp=!1;function MT(t){Hr===null?Hr=[t]:Hr.push(t)}function yN(t){Kd=!0,MT(t)}function qi(){if(!kp&&Hr!==null){kp=!0;var t=0,e=Ye;try{var n=Hr;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,Kd=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(t+1)),lT(qv,qi),i}finally{Ye=e,kp=!1}}return null}var ys=[],_s=0,zf=null,Hf=0,Jn=[],Zn=0,xo=null,Wr=1,Gr="";function to(t,e){ys[_s++]=Hf,ys[_s++]=zf,zf=t,Hf=e}function $T(t,e,n){Jn[Zn++]=Wr,Jn[Zn++]=Gr,Jn[Zn++]=xo,xo=t;var r=Wr;t=Gr;var i=32-yr(r)-1;r&=~(1<<i),n+=1;var o=32-yr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Wr=1<<32-yr(e)+i|n<<i|r,Gr=o+t}else Wr=1<<o|n<<i|r,Gr=t}function ey(t){t.return!==null&&(to(t,1),$T(t,1,0))}function ty(t){for(;t===zf;)zf=ys[--_s],ys[_s]=null,Hf=ys[--_s],ys[_s]=null;for(;t===xo;)xo=Jn[--Zn],Jn[Zn]=null,Gr=Jn[--Zn],Jn[Zn]=null,Wr=Jn[--Zn],Jn[Zn]=null}var Hn=null,jn=null,mt=!1,hr=null;function FT(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hn=t,jn=Ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hn=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xo!==null?{id:Wr,overflow:Gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hn=t,jn=null,!0):!1;default:return!1}}function tg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ng(t){if(mt){var e=jn;if(e){var n=e;if(!hw(t,e)){if(tg(t))throw Error(J(418));e=Ai(n.nextSibling);var r=Hn;e&&hw(t,e)?FT(r,n):(t.flags=t.flags&-4097|2,mt=!1,Hn=t)}}else{if(tg(t))throw Error(J(418));t.flags=t.flags&-4097|2,mt=!1,Hn=t}}}function pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hn=t}function _c(t){if(t!==Hn)return!1;if(!mt)return pw(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xm(t.type,t.memoizedProps)),e&&(e=jn)){if(tg(t))throw UT(),Error(J(418));for(;e;)FT(t,e),e=Ai(e.nextSibling)}if(pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=Ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=Hn?Ai(t.stateNode.nextSibling):null;return!0}function UT(){for(var t=jn;t;)t=Ai(t.nextSibling)}function js(){jn=Hn=null,mt=!1}function ny(t){hr===null?hr=[t]:hr.push(t)}var _N=ii.ReactCurrentBatchConfig;function cr(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var qf=Hi(null),Wf=null,ws=null,ry=null;function iy(){ry=ws=Wf=null}function oy(t){var e=qf.current;ft(qf),t._currentValue=e}function rg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ps(t,e){Wf=t,ry=ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(ry!==t)if(t={context:t,memoizedValue:e,next:null},ws===null){if(Wf===null)throw Error(J(308));ws=t,Wf.dependencies={lanes:0,firstContext:t}}else ws=ws.next=t;return e}var uo=null;function sy(t){uo===null?uo=[t]:uo.push(t)}function jT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zr(t,r)}function Zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ci=!1;function ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zr(t,n)}return i=r.interleaved,i===null?(e.next=e,sy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zr(t,n)}function uf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wv(t,n)}}function mw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gf(t,e,n,r){var i=t.updateQueue;ci=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(d=e,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=Et({},f,d);break e;case 2:ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Io|=s,t.lanes=s,t.memoizedState=f}}function gw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var zT=new jS.Component().refs;function ig(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qd={isMounted:function(t){return(t=t._reactInternals)?Uo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Pi(t),o=Qr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ii(t,o,i),e!==null&&(_r(e,t,i,r),uf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Pi(t),o=Qr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ii(t,o,i),e!==null&&(_r(e,t,i,r),uf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=Pi(t),i=Qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(_r(e,t,r,n),uf(e,t,r))}};function vw(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ql(n,r)||!ql(i,o):!0}function HT(t,e,n){var r=!1,i=Fi,o=e.contextType;return typeof o=="object"&&o!==null?o=ir(o):(i=kn(e)?bo:mn.current,r=e.contextTypes,o=(r=r!=null)?Us(t,i):Fi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function yw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qd.enqueueReplaceState(e,e.state,null)}function og(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=zT,ay(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ir(o):(o=kn(e)?bo:mn.current,i.context=Us(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ig(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qd.enqueueReplaceState(i,i.state,null),Gf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===zT&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function wc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _w(t){var e=t._init;return e(t._payload)}function qT(t){function e(g,p){if(t){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=ki(g,p),g.index=0,g.sibling=null,g}function o(g,p,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,b){return p===null||p.tag!==6?(p=$p(v,g.mode,b),p.return=g,p):(p=i(p,v),p.return=g,p)}function l(g,p,v,b){var C=v.type;return C===ds?c(g,p,v.props.children,b,v.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ui&&_w(C)===p.type)?(b=i(p,v.props),b.ref=Pa(g,p,v),b.return=g,b):(b=mf(v.type,v.key,v.props,null,g.mode,b),b.ref=Pa(g,p,v),b.return=g,b)}function u(g,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Fp(v,g.mode,b),p.return=g,p):(p=i(p,v.children||[]),p.return=g,p)}function c(g,p,v,b,C){return p===null||p.tag!==7?(p=yo(v,g.mode,b,C),p.return=g,p):(p=i(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=$p(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case uc:return v=mf(p.type,p.key,p.props,null,g.mode,v),v.ref=Pa(g,null,p),v.return=g,v;case fs:return p=Fp(p,g.mode,v),p.return=g,p;case ui:var b=p._init;return f(g,b(p._payload),v)}if(Qa(p)||ba(p))return p=yo(p,g.mode,v,null),p.return=g,p;wc(g,p)}return null}function d(g,p,v,b){var C=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(g,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case uc:return v.key===C?l(g,p,v,b):null;case fs:return v.key===C?u(g,p,v,b):null;case ui:return C=v._init,d(g,p,C(v._payload),b)}if(Qa(v)||ba(v))return C!==null?null:c(g,p,v,b,null);wc(g,v)}return null}function h(g,p,v,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,a(p,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case uc:return g=g.get(b.key===null?v:b.key)||null,l(p,g,b,C);case fs:return g=g.get(b.key===null?v:b.key)||null,u(p,g,b,C);case ui:var R=b._init;return h(g,p,v,R(b._payload),C)}if(Qa(b)||ba(b))return g=g.get(v)||null,c(p,g,b,C,null);wc(p,b)}return null}function m(g,p,v,b){for(var C=null,R=null,S=p,k=p=0,D=null;S!==null&&k<v.length;k++){S.index>k?(D=S,S=null):D=S.sibling;var L=d(g,S,v[k],b);if(L===null){S===null&&(S=D);break}t&&S&&L.alternate===null&&e(g,S),p=o(L,p,k),R===null?C=L:R.sibling=L,R=L,S=D}if(k===v.length)return n(g,S),mt&&to(g,k),C;if(S===null){for(;k<v.length;k++)S=f(g,v[k],b),S!==null&&(p=o(S,p,k),R===null?C=S:R.sibling=S,R=S);return mt&&to(g,k),C}for(S=r(g,S);k<v.length;k++)D=h(S,g,k,v[k],b),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?k:D.key),p=o(D,p,k),R===null?C=D:R.sibling=D,R=D);return t&&S.forEach(function(B){return e(g,B)}),mt&&to(g,k),C}function y(g,p,v,b){var C=ba(v);if(typeof C!="function")throw Error(J(150));if(v=C.call(v),v==null)throw Error(J(151));for(var R=C=null,S=p,k=p=0,D=null,L=v.next();S!==null&&!L.done;k++,L=v.next()){S.index>k?(D=S,S=null):D=S.sibling;var B=d(g,S,L.value,b);if(B===null){S===null&&(S=D);break}t&&S&&B.alternate===null&&e(g,S),p=o(B,p,k),R===null?C=B:R.sibling=B,R=B,S=D}if(L.done)return n(g,S),mt&&to(g,k),C;if(S===null){for(;!L.done;k++,L=v.next())L=f(g,L.value,b),L!==null&&(p=o(L,p,k),R===null?C=L:R.sibling=L,R=L);return mt&&to(g,k),C}for(S=r(g,S);!L.done;k++,L=v.next())L=h(S,g,k,L.value,b),L!==null&&(t&&L.alternate!==null&&S.delete(L.key===null?k:L.key),p=o(L,p,k),R===null?C=L:R.sibling=L,R=L);return t&&S.forEach(function(N){return e(g,N)}),mt&&to(g,k),C}function E(g,p,v,b){if(typeof v=="object"&&v!==null&&v.type===ds&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case uc:e:{for(var C=v.key,R=p;R!==null;){if(R.key===C){if(C=v.type,C===ds){if(R.tag===7){n(g,R.sibling),p=i(R,v.props.children),p.return=g,g=p;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ui&&_w(C)===R.type){n(g,R.sibling),p=i(R,v.props),p.ref=Pa(g,R,v),p.return=g,g=p;break e}n(g,R);break}else e(g,R);R=R.sibling}v.type===ds?(p=yo(v.props.children,g.mode,b,v.key),p.return=g,g=p):(b=mf(v.type,v.key,v.props,null,g.mode,b),b.ref=Pa(g,p,v),b.return=g,g=b)}return s(g);case fs:e:{for(R=v.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=i(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Fp(v,g.mode,b),p.return=g,g=p}return s(g);case ui:return R=v._init,E(g,p,R(v._payload),b)}if(Qa(v))return m(g,p,v,b);if(ba(v))return y(g,p,v,b);wc(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,v),p.return=g,g=p):(n(g,p),p=$p(v,g.mode,b),p.return=g,g=p),s(g)):n(g,p)}return E}var Bs=qT(!0),WT=qT(!1),Au={},Dr=Hi(Au),Ql=Hi(Au),Yl=Hi(Au);function co(t){if(t===Au)throw Error(J(174));return t}function ly(t,e){switch(nt(Yl,e),nt(Ql,t),nt(Dr,Au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mm(e,t)}ft(Dr),nt(Dr,e)}function zs(){ft(Dr),ft(Ql),ft(Yl)}function GT(t){co(Yl.current);var e=co(Dr.current),n=Mm(e,t.type);e!==n&&(nt(Ql,t),nt(Dr,n))}function uy(t){Ql.current===t&&(ft(Dr),ft(Ql))}var _t=Hi(0);function Kf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Np=[];function cy(){for(var t=0;t<Np.length;t++)Np[t]._workInProgressVersionPrimary=null;Np.length=0}var cf=ii.ReactCurrentDispatcher,Dp=ii.ReactCurrentBatchConfig,Ao=0,wt=null,Dt=null,jt=null,Qf=!1,hl=!1,Xl=0,wN=0;function rn(){throw Error(J(321))}function fy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Er(t[n],e[n]))return!1;return!0}function dy(t,e,n,r,i,o){if(Ao=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cf.current=t===null||t.memoizedState===null?RN:bN,t=n(r,i),hl){o=0;do{if(hl=!1,Xl=0,25<=o)throw Error(J(301));o+=1,jt=Dt=null,e.updateQueue=null,cf.current=xN,t=n(r,i)}while(hl)}if(cf.current=Yf,e=Dt!==null&&Dt.next!==null,Ao=0,jt=Dt=wt=null,Qf=!1,e)throw Error(J(300));return t}function hy(){var t=Xl!==0;return Xl=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?wt.memoizedState=jt=t:jt=jt.next=t,jt}function or(){if(Dt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=jt===null?wt.memoizedState:jt.next;if(e!==null)jt=e,Dt=t;else{if(t===null)throw Error(J(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},jt===null?wt.memoizedState=jt=t:jt=jt.next=t}return jt}function Jl(t,e){return typeof e=="function"?e(t):e}function Vp(t){var e=or(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Ao&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,wt.lanes|=c,Io|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Er(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,wt.lanes|=o,Io|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Op(t){var e=or(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Er(o,e.memoizedState)||(In=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function KT(){}function QT(t,e){var n=wt,r=or(),i=e(),o=!Er(r.memoizedState,i);if(o&&(r.memoizedState=i,In=!0),r=r.queue,py(JT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Zl(9,XT.bind(null,n,r,i,e),void 0,null),Bt===null)throw Error(J(349));Ao&30||YT(n,e,i)}return i}function YT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XT(t,e,n,r){e.value=n,e.getSnapshot=r,ZT(e)&&eR(t)}function JT(t,e,n){return n(function(){ZT(e)&&eR(t)})}function ZT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Er(t,n)}catch{return!0}}function eR(t){var e=Zr(t,1);e!==null&&_r(e,t,1,-1)}function ww(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:t},e.queue=t,t=t.dispatch=TN.bind(null,wt,t),[e.memoizedState,t]}function Zl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tR(){return or().memoizedState}function ff(t,e,n,r){var i=xr();wt.flags|=t,i.memoizedState=Zl(1|e,n,void 0,r===void 0?null:r)}function Yd(t,e,n,r){var i=or();r=r===void 0?null:r;var o=void 0;if(Dt!==null){var s=Dt.memoizedState;if(o=s.destroy,r!==null&&fy(r,s.deps)){i.memoizedState=Zl(e,n,o,r);return}}wt.flags|=t,i.memoizedState=Zl(1|e,n,o,r)}function Ew(t,e){return ff(8390656,8,t,e)}function py(t,e){return Yd(2048,8,t,e)}function nR(t,e){return Yd(4,2,t,e)}function rR(t,e){return Yd(4,4,t,e)}function iR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oR(t,e,n){return n=n!=null?n.concat([t]):null,Yd(4,4,iR.bind(null,e,t),n)}function my(){}function sR(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aR(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lR(t,e,n){return Ao&21?(Er(n,e)||(n=fT(),wt.lanes|=n,Io|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function EN(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=Dp.transition;Dp.transition={};try{t(!1),e()}finally{Ye=n,Dp.transition=r}}function uR(){return or().memoizedState}function SN(t,e,n){var r=Pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cR(t))fR(e,n);else if(n=jT(t,e,n,r),n!==null){var i=Sn();_r(n,t,r,i),dR(n,e,r)}}function TN(t,e,n){var r=Pi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cR(t))fR(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Er(a,s)){var l=e.interleaved;l===null?(i.next=i,sy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jT(t,e,i,r),n!==null&&(i=Sn(),_r(n,t,r,i),dR(n,e,r))}}function cR(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function fR(t,e){hl=Qf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wv(t,n)}}var Yf={readContext:ir,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},RN={readContext:ir,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:Ew,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ff(4194308,4,iR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ff(4194308,4,t,e)},useInsertionEffect:function(t,e){return ff(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SN.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:ww,useDebugValue:my,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=ww(!1),e=t[0];return t=EN.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=xr();if(mt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Bt===null)throw Error(J(349));Ao&30||YT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ew(JT.bind(null,r,o,t),[t]),r.flags|=2048,Zl(9,XT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xr(),e=Bt.identifierPrefix;if(mt){var n=Gr,r=Wr;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bN={readContext:ir,useCallback:sR,useContext:ir,useEffect:py,useImperativeHandle:oR,useInsertionEffect:nR,useLayoutEffect:rR,useMemo:aR,useReducer:Vp,useRef:tR,useState:function(){return Vp(Jl)},useDebugValue:my,useDeferredValue:function(t){var e=or();return lR(e,Dt.memoizedState,t)},useTransition:function(){var t=Vp(Jl)[0],e=or().memoizedState;return[t,e]},useMutableSource:KT,useSyncExternalStore:QT,useId:uR,unstable_isNewReconciler:!1},xN={readContext:ir,useCallback:sR,useContext:ir,useEffect:py,useImperativeHandle:oR,useInsertionEffect:nR,useLayoutEffect:rR,useMemo:aR,useReducer:Op,useRef:tR,useState:function(){return Op(Jl)},useDebugValue:my,useDeferredValue:function(t){var e=or();return Dt===null?e.memoizedState=t:lR(e,Dt.memoizedState,t)},useTransition:function(){var t=Op(Jl)[0],e=or().memoizedState;return[t,e]},useMutableSource:KT,useSyncExternalStore:QT,useId:uR,unstable_isNewReconciler:!1};function Hs(t,e){try{var n="",r=e;do n+=ek(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Lp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AN=typeof WeakMap=="function"?WeakMap:Map;function hR(t,e,n){n=Qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jf||(Jf=!0,gg=r),sg(t,e)},n}function pR(t,e,n){n=Qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){sg(t,e),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Sw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jN.bind(null,t,e,n),e.then(t,t))}function Tw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qr(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var IN=ii.ReactCurrentOwner,In=!1;function yn(t,e,n,r){e.child=t===null?WT(e,null,n,r):Bs(e,t.child,n,r)}function bw(t,e,n,r,i){n=n.render;var o=e.ref;return Ps(e,i),r=dy(t,e,n,r,o,i),n=hy(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(mt&&n&&ey(e),e.flags|=1,yn(t,e,r,i),e.child)}function xw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ty(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,mR(t,e,o,r,i)):(t=mf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ql,n(s,r)&&t.ref===e.ref)return ei(t,e,i)}return e.flags|=1,t=ki(o,r),t.ref=e.ref,t.return=e,e.child=t}function mR(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ql(o,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,ei(t,e,i)}return ag(t,e,n,r,i)}function gR(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Ss,Un),Un|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Ss,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,nt(Ss,Un),Un|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,nt(Ss,Un),Un|=r;return yn(t,e,i,n),e.child}function vR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ag(t,e,n,r,i){var o=kn(n)?bo:mn.current;return o=Us(e,o),Ps(e,i),n=dy(t,e,n,r,o,i),r=hy(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(mt&&r&&ey(e),e.flags|=1,yn(t,e,n,i),e.child)}function Aw(t,e,n,r,i){if(kn(n)){var o=!0;Bf(e)}else o=!1;if(Ps(e,i),e.stateNode===null)df(t,e),HT(e,n,r),og(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=kn(n)?bo:mn.current,u=Us(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&yw(e,s,r,u),ci=!1;var d=e.memoizedState;s.state=d,Gf(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Pn.current||ci?(typeof c=="function"&&(ig(e,n,c,r),l=e.memoizedState),(a=ci||vw(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,BT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:cr(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ir(l):(l=kn(n)?bo:mn.current,l=Us(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&yw(e,s,r,l),ci=!1,d=e.memoizedState,s.state=d,Gf(e,r,s,i);var m=e.memoizedState;a!==f||d!==m||Pn.current||ci?(typeof h=="function"&&(ig(e,n,h,r),m=e.memoizedState),(u=ci||vw(e,n,u,r,d,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return lg(t,e,n,r,o,i)}function lg(t,e,n,r,i,o){vR(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&dw(e,n,!1),ei(t,e,o);r=e.stateNode,IN.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Bs(e,t.child,null,o),e.child=Bs(e,null,a,o)):yn(t,e,a,o),e.memoizedState=r.state,i&&dw(e,n,!0),e.child}function yR(t){var e=t.stateNode;e.pendingContext?fw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fw(t,e.context,!1),ly(t,e.containerInfo)}function Iw(t,e,n,r,i){return js(),ny(i),e.flags|=256,yn(t,e,n,r),e.child}var ug={dehydrated:null,treeContext:null,retryLane:0};function cg(t){return{baseLanes:t,cachePool:null,transitions:null}}function _R(t,e,n){var r=e.pendingProps,i=_t.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(_t,i&1),t===null)return ng(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Zd(s,r,0,null),t=yo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=cg(n),e.memoizedState=ug,t):gy(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CN(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ki(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ki(a,o):(o=yo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?cg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=ug,r}return o=t.child,t=o.sibling,r=ki(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gy(t,e){return e=Zd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ec(t,e,n,r){return r!==null&&ny(r),Bs(e,t.child,null,n),t=gy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CN(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Lp(Error(J(422))),Ec(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Zd({mode:"visible",children:r.children},i,0,null),o=yo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Bs(e,t.child,null,s),e.child.memoizedState=cg(s),e.memoizedState=ug,o);if(!(e.mode&1))return Ec(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(J(419)),r=Lp(o,r,void 0),Ec(t,e,s,r)}if(a=(s&t.childLanes)!==0,In||a){if(r=Bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zr(t,i),_r(r,t,i,-1))}return Sy(),r=Lp(Error(J(421))),Ec(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BN.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,jn=Ai(i.nextSibling),Hn=e,mt=!0,hr=null,t!==null&&(Jn[Zn++]=Wr,Jn[Zn++]=Gr,Jn[Zn++]=xo,Wr=t.id,Gr=t.overflow,xo=e),e=gy(e,r.children),e.flags|=4096,e)}function Cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rg(t.return,e,n)}function Mp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function wR(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(yn(t,e,r.children,n),r=_t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cw(t,n,e);else if(t.tag===19)Cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(_t,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mp(e,!0,n,null,o);break;case"together":Mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Io|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PN(t,e,n){switch(e.tag){case 3:yR(e),js();break;case 5:GT(e);break;case 1:kn(e.type)&&Bf(e);break;case 4:ly(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(qf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?_R(t,e,n):(nt(_t,_t.current&1),t=ei(t,e,n),t!==null?t.sibling:null);nt(_t,_t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(_t,_t.current),r)break;return null;case 22:case 23:return e.lanes=0,gR(t,e,n)}return ei(t,e,n)}var ER,fg,SR,TR;ER=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fg=function(){};SR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,co(Dr.current);var o=null;switch(n){case"input":i=Dm(t,i),r=Dm(t,r),o=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),o=[];break;case"textarea":i=Lm(t,i),r=Lm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uf)}$m(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($l.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($l.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};TR=function(t,e,n,r){n!==r&&(e.flags|=4)};function ka(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kN(t,e,n){var r=e.pendingProps;switch(ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return kn(e.type)&&jf(),on(e),null;case 3:return r=e.stateNode,zs(),ft(Pn),ft(mn),cy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_c(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(_g(hr),hr=null))),fg(t,e),on(e),null;case 5:uy(e);var i=co(Yl.current);if(n=e.type,t!==null&&e.stateNode!=null)SR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return on(e),null}if(t=co(Dr.current),_c(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ar]=e,r[Kl]=o,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<Xa.length;i++)st(Xa[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":$_(r,o),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},st("invalid",r);break;case"textarea":U_(r,o),st("invalid",r)}$m(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&yc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&yc(r.textContent,a,t),i=["children",""+a]):$l.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&st("scroll",r)}switch(n){case"input":cc(r),F_(r,o,!0);break;case"textarea":cc(r),j_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Uf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ar]=e,t[Kl]=r,ER(t,e,!1,!1),e.stateNode=t;e:{switch(s=Fm(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xa.length;i++)st(Xa[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":$_(t,r),i=Dm(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),st("invalid",t);break;case"textarea":U_(t,r),i=Lm(t,r),st("invalid",t);break;default:i=r}$m(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?ZS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fl(t,l):typeof l=="number"&&Fl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($l.hasOwnProperty(o)?l!=null&&o==="onScroll"&&st("scroll",t):l!=null&&Uv(t,o,l,s))}switch(n){case"input":cc(t),F_(t,r,!1);break;case"textarea":cc(t),j_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$i(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?xs(t,!!r.multiple,o,!1):r.defaultValue!=null&&xs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(t&&e.stateNode!=null)TR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=co(Yl.current),co(Dr.current),_c(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ar]=e,(o=r.nodeValue!==n)&&(t=Hn,t!==null))switch(t.tag){case 3:yc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=e,e.stateNode=r}return on(e),null;case 13:if(ft(_t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&jn!==null&&e.mode&1&&!(e.flags&128))UT(),js(),e.flags|=98560,o=!1;else if(o=_c(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Ar]=e}else js(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),o=!1}else hr!==null&&(_g(hr),hr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Vt===0&&(Vt=3):Sy())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return zs(),fg(t,e),t===null&&Wl(e.stateNode.containerInfo),on(e),null;case 10:return oy(e.type._context),on(e),null;case 17:return kn(e.type)&&jf(),on(e),null;case 19:if(ft(_t),o=e.memoizedState,o===null)return on(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ka(o,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Kf(t),s!==null){for(e.flags|=128,ka(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(_t,_t.current&1|2),e.child}t=t.sibling}o.tail!==null&&It()>qs&&(e.flags|=128,r=!0,ka(o,!1),e.lanes=4194304)}else{if(!r)if(t=Kf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!mt)return on(e),null}else 2*It()-o.renderingStartTime>qs&&n!==1073741824&&(e.flags|=128,r=!0,ka(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=It(),e.sibling=null,n=_t.current,nt(_t,r?n&1|2:n&1),e):(on(e),null);case 22:case 23:return Ey(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Un&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function NN(t,e){switch(ty(e),e.tag){case 1:return kn(e.type)&&jf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zs(),ft(Pn),ft(mn),cy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uy(e),null;case 13:if(ft(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(_t),null;case 4:return zs(),null;case 10:return oy(e.type._context),null;case 22:case 23:return Ey(),null;case 24:return null;default:return null}}var Sc=!1,cn=!1,DN=typeof WeakSet=="function"?WeakSet:Set,he=null;function Es(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function dg(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var Pw=!1;function VN(t,e){if(Qm=Mf,t=AT(),Zv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ym={focusedElem:t,selectionRange:n},Mf=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,E=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:cr(e.type,y),E);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){Rt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return m=Pw,Pw=!1,m}function pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&dg(e,n,o)}i=i.next}while(i!==r)}}function Xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RR(t){var e=t.alternate;e!==null&&(t.alternate=null,RR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[Kl],delete e[Zm],delete e[gN],delete e[vN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bR(t){return t.tag===5||t.tag===3||t.tag===4}function kw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uf));else if(r!==4&&(t=t.child,t!==null))for(pg(t,e,n),t=t.sibling;t!==null;)pg(t,e,n),t=t.sibling}function mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mg(t,e,n),t=t.sibling;t!==null;)mg(t,e,n),t=t.sibling}var Wt=null,dr=!1;function li(t,e,n){for(n=n.child;n!==null;)xR(t,e,n),n=n.sibling}function xR(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(zd,n)}catch{}switch(n.tag){case 5:cn||Es(n,e);case 6:var r=Wt,i=dr;Wt=null,li(t,e,n),Wt=r,dr=i,Wt!==null&&(dr?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(dr?(t=Wt,n=n.stateNode,t.nodeType===8?Pp(t.parentNode,n):t.nodeType===1&&Pp(t,n),zl(t)):Pp(Wt,n.stateNode));break;case 4:r=Wt,i=dr,Wt=n.stateNode.containerInfo,dr=!0,li(t,e,n),Wt=r,dr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&dg(n,e,s),i=i.next}while(i!==r)}li(t,e,n);break;case 1:if(!cn&&(Es(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}li(t,e,n);break;case 21:li(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,li(t,e,n),cn=r):li(t,e,n);break;default:li(t,e,n)}}function Nw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DN),e.forEach(function(r){var i=zN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Wt=a.stateNode,dr=!1;break e;case 3:Wt=a.stateNode.containerInfo,dr=!0;break e;case 4:Wt=a.stateNode.containerInfo,dr=!0;break e}a=a.return}if(Wt===null)throw Error(J(160));xR(o,s,i),Wt=null,dr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AR(e,t),e=e.sibling}function AR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),Rr(t),r&4){try{pl(3,t,t.return),Xd(3,t)}catch(y){Rt(t,t.return,y)}try{pl(5,t,t.return)}catch(y){Rt(t,t.return,y)}}break;case 1:lr(e,t),Rr(t),r&512&&n!==null&&Es(n,n.return);break;case 5:if(lr(e,t),Rr(t),r&512&&n!==null&&Es(n,n.return),t.flags&32){var i=t.stateNode;try{Fl(i,"")}catch(y){Rt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&KS(i,o),Fm(a,s);var u=Fm(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?ZS(i,f):c==="dangerouslySetInnerHTML"?XS(i,f):c==="children"?Fl(i,f):Uv(i,c,f,u)}switch(a){case"input":Vm(i,o);break;case"textarea":QS(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?xs(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?xs(i,!!o.multiple,o.defaultValue,!0):xs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Kl]=o}catch(y){Rt(t,t.return,y)}}break;case 6:if(lr(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Rt(t,t.return,y)}}break;case 3:if(lr(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zl(e.containerInfo)}catch(y){Rt(t,t.return,y)}break;case 4:lr(e,t),Rr(t);break;case 13:lr(e,t),Rr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(_y=It())),r&4&&Nw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(u=cn)||c,lr(e,t),cn=u):lr(e,t),Rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(he=t,c=t.child;c!==null;){for(f=he=c;he!==null;){switch(d=he,h=d.child,d.tag){case 0:case 11:case 14:case 15:pl(4,d,d.return);break;case 1:Es(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Rt(r,n,y)}}break;case 5:Es(d,d.return);break;case 22:if(d.memoizedState!==null){Vw(f);continue}}h!==null?(h.return=d,he=h):Vw(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JS("display",s))}catch(y){Rt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Rt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lr(e,t),Rr(t),r&4&&Nw(t);break;case 21:break;default:lr(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bR(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fl(i,""),r.flags&=-33);var o=kw(t);mg(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=kw(t);pg(t,a,s);break;default:throw Error(J(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ON(t,e,n){he=t,IR(t)}function IR(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Sc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||cn;a=Sc;var u=cn;if(Sc=s,(cn=l)&&!u)for(he=i;he!==null;)s=he,l=s.child,s.tag===22&&s.memoizedState!==null?Ow(i):l!==null?(l.return=s,he=l):Ow(i);for(;o!==null;)he=o,IR(o),o=o.sibling;he=i,Sc=a,cn=u}Dw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,he=o):Dw(t)}}function Dw(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||Xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&gw(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gw(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&zl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}cn||e.flags&512&&hg(e)}catch(d){Rt(e,e.return,d)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function Vw(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function Ow(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xd(4,e)}catch(l){Rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rt(e,i,l)}}var o=e.return;try{hg(e)}catch(l){Rt(e,o,l)}break;case 5:var s=e.return;try{hg(e)}catch(l){Rt(e,s,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var LN=Math.ceil,Xf=ii.ReactCurrentDispatcher,vy=ii.ReactCurrentOwner,nr=ii.ReactCurrentBatchConfig,ze=0,Bt=null,kt=null,Xt=0,Un=0,Ss=Hi(0),Vt=0,eu=null,Io=0,Jd=0,yy=0,ml=null,xn=null,_y=0,qs=1/0,zr=null,Jf=!1,gg=null,Ci=null,Tc=!1,_i=null,Zf=0,gl=0,vg=null,hf=-1,pf=0;function Sn(){return ze&6?It():hf!==-1?hf:hf=It()}function Pi(t){return t.mode&1?ze&2&&Xt!==0?Xt&-Xt:_N.transition!==null?(pf===0&&(pf=fT()),pf):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:yT(t.type)),t):1}function _r(t,e,n,r){if(50<gl)throw gl=0,vg=null,Error(J(185));Ru(t,n,r),(!(ze&2)||t!==Bt)&&(t===Bt&&(!(ze&2)&&(Jd|=n),Vt===4&&hi(t,Xt)),Nn(t,r),n===1&&ze===0&&!(e.mode&1)&&(qs=It()+500,Kd&&qi()))}function Nn(t,e){var n=t.callbackNode;_k(t,e);var r=Lf(t,t===Bt?Xt:0);if(r===0)n!==null&&H_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&H_(n),e===1)t.tag===0?yN(Lw.bind(null,t)):MT(Lw.bind(null,t)),pN(function(){!(ze&6)&&qi()}),n=null;else{switch(dT(r)){case 1:n=qv;break;case 4:n=uT;break;case 16:n=Of;break;case 536870912:n=cT;break;default:n=Of}n=LR(n,CR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CR(t,e){if(hf=-1,pf=0,ze&6)throw Error(J(327));var n=t.callbackNode;if(ks()&&t.callbackNode!==n)return null;var r=Lf(t,t===Bt?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ed(t,r);else{e=r;var i=ze;ze|=2;var o=kR();(Bt!==t||Xt!==e)&&(zr=null,qs=It()+500,vo(t,e));do try{FN();break}catch(a){PR(t,a)}while(!0);iy(),Xf.current=o,ze=i,kt!==null?e=0:(Bt=null,Xt=0,e=Vt)}if(e!==0){if(e===2&&(i=Hm(t),i!==0&&(r=i,e=yg(t,i))),e===1)throw n=eu,vo(t,0),hi(t,r),Nn(t,It()),n;if(e===6)hi(t,r);else{if(i=t.current.alternate,!(r&30)&&!MN(i)&&(e=ed(t,r),e===2&&(o=Hm(t),o!==0&&(r=o,e=yg(t,o))),e===1))throw n=eu,vo(t,0),hi(t,r),Nn(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:no(t,xn,zr);break;case 3:if(hi(t,r),(r&130023424)===r&&(e=_y+500-It(),10<e)){if(Lf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jm(no.bind(null,t,xn,zr),e);break}no(t,xn,zr);break;case 4:if(hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-yr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LN(r/1960))-r,10<r){t.timeoutHandle=Jm(no.bind(null,t,xn,zr),r);break}no(t,xn,zr);break;case 5:no(t,xn,zr);break;default:throw Error(J(329))}}}return Nn(t,It()),t.callbackNode===n?CR.bind(null,t):null}function yg(t,e){var n=ml;return t.current.memoizedState.isDehydrated&&(vo(t,e).flags|=256),t=ed(t,e),t!==2&&(e=xn,xn=n,e!==null&&_g(e)),t}function _g(t){xn===null?xn=t:xn.push.apply(xn,t)}function MN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Er(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hi(t,e){for(e&=~yy,e&=~Jd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),r=1<<n;t[n]=-1,e&=~r}}function Lw(t){if(ze&6)throw Error(J(327));ks();var e=Lf(t,0);if(!(e&1))return Nn(t,It()),null;var n=ed(t,e);if(t.tag!==0&&n===2){var r=Hm(t);r!==0&&(e=r,n=yg(t,r))}if(n===1)throw n=eu,vo(t,0),hi(t,e),Nn(t,It()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,no(t,xn,zr),Nn(t,It()),null}function wy(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(qs=It()+500,Kd&&qi())}}function Co(t){_i!==null&&_i.tag===0&&!(ze&6)&&ks();var e=ze;ze|=1;var n=nr.transition,r=Ye;try{if(nr.transition=null,Ye=1,t)return t()}finally{Ye=r,nr.transition=n,ze=e,!(ze&6)&&qi()}}function Ey(){Un=Ss.current,ft(Ss)}function vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hN(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jf();break;case 3:zs(),ft(Pn),ft(mn),cy();break;case 5:uy(r);break;case 4:zs();break;case 13:ft(_t);break;case 19:ft(_t);break;case 10:oy(r.type._context);break;case 22:case 23:Ey()}n=n.return}if(Bt=t,kt=t=ki(t.current,null),Xt=Un=e,Vt=0,eu=null,yy=Jd=Io=0,xn=ml=null,uo!==null){for(e=0;e<uo.length;e++)if(n=uo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}uo=null}return t}function PR(t,e){do{var n=kt;try{if(iy(),cf.current=Yf,Qf){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qf=!1}if(Ao=0,jt=Dt=wt=null,hl=!1,Xl=0,vy.current=null,n===null||n.return===null){Vt=1,eu=e,kt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Tw(s);if(h!==null){h.flags&=-257,Rw(h,s,a,o,e),h.mode&1&&Sw(o,u,e),e=h,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){Sw(o,u,e),Sy();break e}l=Error(J(426))}}else if(mt&&a.mode&1){var E=Tw(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Rw(E,s,a,o,e),ny(Hs(l,a));break e}}o=l=Hs(l,a),Vt!==4&&(Vt=2),ml===null?ml=[o]:ml.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=hR(o,l,e);mw(o,g);break e;case 1:a=l;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ci===null||!Ci.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=pR(o,a,e);mw(o,b);break e}}o=o.return}while(o!==null)}DR(n)}catch(C){e=C,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function kR(){var t=Xf.current;return Xf.current=Yf,t===null?Yf:t}function Sy(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Bt===null||!(Io&268435455)&&!(Jd&268435455)||hi(Bt,Xt)}function ed(t,e){var n=ze;ze|=2;var r=kR();(Bt!==t||Xt!==e)&&(zr=null,vo(t,e));do try{$N();break}catch(i){PR(t,i)}while(!0);if(iy(),ze=n,Xf.current=r,kt!==null)throw Error(J(261));return Bt=null,Xt=0,Vt}function $N(){for(;kt!==null;)NR(kt)}function FN(){for(;kt!==null&&!ck();)NR(kt)}function NR(t){var e=OR(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?DR(t):kt=e,vy.current=null}function DR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NN(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,kt=null;return}}else if(n=kN(n,e,Un),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Vt===0&&(Vt=5)}function no(t,e,n){var r=Ye,i=nr.transition;try{nr.transition=null,Ye=1,UN(t,e,n,r)}finally{nr.transition=i,Ye=r}return null}function UN(t,e,n,r){do ks();while(_i!==null);if(ze&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(wk(t,o),t===Bt&&(kt=Bt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tc||(Tc=!0,LR(Of,function(){return ks(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nr.transition,nr.transition=null;var s=Ye;Ye=1;var a=ze;ze|=4,vy.current=null,VN(t,n),AR(n,t),sN(Ym),Mf=!!Qm,Ym=Qm=null,t.current=n,ON(n),fk(),ze=a,Ye=s,nr.transition=o}else t.current=n;if(Tc&&(Tc=!1,_i=t,Zf=i),o=t.pendingLanes,o===0&&(Ci=null),pk(n.stateNode),Nn(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jf)throw Jf=!1,t=gg,gg=null,t;return Zf&1&&t.tag!==0&&ks(),o=t.pendingLanes,o&1?t===vg?gl++:(gl=0,vg=t):gl=0,qi(),null}function ks(){if(_i!==null){var t=dT(Zf),e=nr.transition,n=Ye;try{if(nr.transition=null,Ye=16>t?16:t,_i===null)var r=!1;else{if(t=_i,_i=null,Zf=0,ze&6)throw Error(J(331));var i=ze;for(ze|=4,he=t.current;he!==null;){var o=he,s=o.child;if(he.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(he=u;he!==null;){var c=he;switch(c.tag){case 0:case 11:case 15:pl(8,c,o)}var f=c.child;if(f!==null)f.return=c,he=f;else for(;he!==null;){c=he;var d=c.sibling,h=c.return;if(RR(c),c===u){he=null;break}if(d!==null){d.return=h,he=d;break}he=h}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}he=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,he=s;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pl(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,he=g;break e}he=o.return}}var p=t.current;for(he=p;he!==null;){s=he;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,he=v;else e:for(s=p;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xd(9,a)}}catch(C){Rt(a,a.return,C)}if(a===s){he=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,he=b;break e}he=a.return}}if(ze=i,qi(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(zd,t)}catch{}r=!0}return r}finally{Ye=n,nr.transition=e}}return!1}function Mw(t,e,n){e=Hs(n,e),e=hR(t,e,1),t=Ii(t,e,1),e=Sn(),t!==null&&(Ru(t,1,e),Nn(t,e))}function Rt(t,e,n){if(t.tag===3)Mw(t,t,n);else for(;e!==null;){if(e.tag===3){Mw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){t=Hs(n,t),t=pR(e,t,1),e=Ii(e,t,1),t=Sn(),e!==null&&(Ru(e,1,t),Nn(e,t));break}}e=e.return}}function jN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Bt===t&&(Xt&n)===n&&(Vt===4||Vt===3&&(Xt&130023424)===Xt&&500>It()-_y?vo(t,0):yy|=n),Nn(t,e)}function VR(t,e){e===0&&(t.mode&1?(e=hc,hc<<=1,!(hc&130023424)&&(hc=4194304)):e=1);var n=Sn();t=Zr(t,e),t!==null&&(Ru(t,e,n),Nn(t,n))}function BN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VR(t,n)}function zN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),VR(t,n)}var OR;OR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,PN(t,e,n);In=!!(t.flags&131072)}else In=!1,mt&&e.flags&1048576&&$T(e,Hf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;df(t,e),t=e.pendingProps;var i=Us(e,mn.current);Ps(e,n),i=dy(null,e,r,t,i,n);var o=hy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(r)?(o=!0,Bf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ay(e),i.updater=Qd,e.stateNode=i,i._reactInternals=e,og(e,r,t,n),e=lg(null,e,r,!0,o,n)):(e.tag=0,mt&&o&&ey(e),yn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(df(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qN(r),t=cr(r,t),i){case 0:e=ag(null,e,r,t,n);break e;case 1:e=Aw(null,e,r,t,n);break e;case 11:e=bw(null,e,r,t,n);break e;case 14:e=xw(null,e,r,cr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),ag(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),Aw(t,e,r,i,n);case 3:e:{if(yR(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,BT(t,e),Gf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Hs(Error(J(423)),e),e=Iw(t,e,r,n,i);break e}else if(r!==i){i=Hs(Error(J(424)),e),e=Iw(t,e,r,n,i);break e}else for(jn=Ai(e.stateNode.containerInfo.firstChild),Hn=e,mt=!0,hr=null,n=WT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(js(),r===i){e=ei(t,e,n);break e}yn(t,e,r,n)}e=e.child}return e;case 5:return GT(e),t===null&&ng(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Xm(r,i)?s=null:o!==null&&Xm(r,o)&&(e.flags|=32),vR(t,e),yn(t,e,s,n),e.child;case 6:return t===null&&ng(e),null;case 13:return _R(t,e,n);case 4:return ly(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bs(e,null,r,n):yn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),bw(t,e,r,i,n);case 7:return yn(t,e,e.pendingProps,n),e.child;case 8:return yn(t,e,e.pendingProps.children,n),e.child;case 12:return yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,nt(qf,r._currentValue),r._currentValue=s,o!==null)if(Er(o.value,s)){if(o.children===i.children&&!Pn.current){e=ei(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Qr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),rg(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(J(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),rg(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}yn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ps(e,n),i=ir(i),r=r(i),e.flags|=1,yn(t,e,r,n),e.child;case 14:return r=e.type,i=cr(r,e.pendingProps),i=cr(r.type,i),xw(t,e,r,i,n);case 15:return mR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),df(t,e),e.tag=1,kn(r)?(t=!0,Bf(e)):t=!1,Ps(e,n),HT(e,r,i),og(e,r,i,n),lg(null,e,r,!0,t,n);case 19:return wR(t,e,n);case 22:return gR(t,e,n)}throw Error(J(156,e.tag))};function LR(t,e){return lT(t,e)}function HN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new HN(t,e,n,r)}function Ty(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qN(t){if(typeof t=="function")return Ty(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bv)return 11;if(t===zv)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ty(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ds:return yo(n.children,i,o,e);case jv:s=8,i|=8;break;case Cm:return t=tr(12,n,e,i|2),t.elementType=Cm,t.lanes=o,t;case Pm:return t=tr(13,n,e,i),t.elementType=Pm,t.lanes=o,t;case km:return t=tr(19,n,e,i),t.elementType=km,t.lanes=o,t;case qS:return Zd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zS:s=10;break e;case HS:s=9;break e;case Bv:s=11;break e;case zv:s=14;break e;case ui:s=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=tr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function yo(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function Zd(t,e,n,r){return t=tr(22,t,r,e),t.elementType=qS,t.lanes=n,t.stateNode={isHidden:!1},t}function $p(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function Fp(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_p(0),this.expirationTimes=_p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_p(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ry(t,e,n,r,i,o,s,a,l){return t=new WN(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(o),t}function GN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function MR(t){if(!t)return Fi;t=t._reactInternals;e:{if(Uo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(kn(n))return LT(t,n,e)}return e}function $R(t,e,n,r,i,o,s,a,l){return t=Ry(n,r,!0,t,i,o,s,a,l),t.context=MR(null),n=t.current,r=Sn(),i=Pi(n),o=Qr(r,i),o.callback=e??null,Ii(n,o,i),t.current.lanes=i,Ru(t,i,r),Nn(t,r),t}function eh(t,e,n,r){var i=e.current,o=Sn(),s=Pi(i);return n=MR(n),e.context===null?e.context=n:e.pendingContext=n,e=Qr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,s),t!==null&&(_r(t,i,s,o),uf(t,i,s)),s}function td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $w(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function by(t,e){$w(t,e),(t=t.alternate)&&$w(t,e)}function KN(){return null}var FR=typeof reportError=="function"?reportError:function(t){console.error(t)};function xy(t){this._internalRoot=t}th.prototype.render=xy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));eh(t,e,null,null)};th.prototype.unmount=xy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Co(function(){eh(null,t,null,null)}),e[Jr]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var e=mT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<di.length&&e!==0&&e<di[n].priority;n++);di.splice(n,0,t),n===0&&vT(t)}};function Ay(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fw(){}function QN(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=td(s);o.call(u)}}var s=$R(e,r,t,0,null,!1,!1,"",Fw);return t._reactRootContainer=s,t[Jr]=s.current,Wl(t.nodeType===8?t.parentNode:t),Co(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=td(l);a.call(u)}}var l=Ry(t,0,!1,null,null,!1,!1,"",Fw);return t._reactRootContainer=l,t[Jr]=l.current,Wl(t.nodeType===8?t.parentNode:t),Co(function(){eh(e,l,n,r)}),l}function rh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=td(s);a.call(l)}}eh(e,s,t,i)}else s=QN(n,e,t,i,r);return td(s)}hT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ya(e.pendingLanes);n!==0&&(Wv(e,n|1),Nn(e,It()),!(ze&6)&&(qs=It()+500,qi()))}break;case 13:Co(function(){var r=Zr(t,1);if(r!==null){var i=Sn();_r(r,t,1,i)}}),by(t,1)}};Gv=function(t){if(t.tag===13){var e=Zr(t,134217728);if(e!==null){var n=Sn();_r(e,t,134217728,n)}by(t,134217728)}};pT=function(t){if(t.tag===13){var e=Pi(t),n=Zr(t,e);if(n!==null){var r=Sn();_r(n,t,e,r)}by(t,e)}};mT=function(){return Ye};gT=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};jm=function(t,e,n){switch(e){case"input":if(Vm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gd(r);if(!i)throw Error(J(90));GS(r),Vm(r,i)}}}break;case"textarea":QS(t,n);break;case"select":e=n.value,e!=null&&xs(t,!!n.multiple,e,!1)}};nT=wy;rT=Co;var YN={usingClientEntryPoint:!1,Events:[xu,gs,Gd,eT,tT,wy]},Na={findFiberByHostInstance:lo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XN={bundleType:Na.bundleType,version:Na.version,rendererPackageName:Na.rendererPackageName,rendererConfig:Na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sT(t),t===null?null:t.stateNode},findFiberByHostInstance:Na.findFiberByHostInstance||KN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{zd=Rc.inject(XN),Nr=Rc}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YN;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ay(e))throw Error(J(200));return GN(t,e,null,n)};Gn.createRoot=function(t,e){if(!Ay(t))throw Error(J(299));var n=!1,r="",i=FR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ry(t,1,!1,null,null,n,!1,r,i),t[Jr]=e.current,Wl(t.nodeType===8?t.parentNode:t),new xy(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=sT(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return Co(t)};Gn.hydrate=function(t,e,n){if(!nh(e))throw Error(J(200));return rh(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!Ay(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=FR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=$R(e,null,t,1,n??null,i,!1,o,s),t[Jr]=e.current,Wl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new th(e)};Gn.render=function(t,e,n){if(!nh(e))throw Error(J(200));return rh(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!nh(t))throw Error(J(40));return t._reactRootContainer?(Co(function(){rh(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};Gn.unstable_batchedUpdates=wy;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nh(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return rh(t,e,n,!1,r)};Gn.version="18.2.0-next-9e3b772b8-20220608";function UR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UR)}catch(t){console.error(t)}}UR(),$S.exports=Gn;var Iy=$S.exports;const JN=Dv(Iy);var Uw=Iy;Am.createRoot=Uw.createRoot,Am.hydrateRoot=Uw.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}var wi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wi||(wi={}));const jw="popstate";function ZN(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=jo(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),wg("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:jR(o))}function r(i,o){ih(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return t2(e,n,r,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ih(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e2(){return Math.random().toString(36).substr(2,8)}function Bw(t,e){return{usr:t.state,key:t.key,idx:e}}function wg(t,e,n,r){return n===void 0&&(n=null),tu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jo(e):e,{state:n,key:e&&e.key||r||e2()})}function jR(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function t2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=wi.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(tu({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=wi.Pop;let E=c(),g=E==null?null:E-u;u=E,l&&l({action:a,location:y.location,delta:g})}function d(E,g){a=wi.Push;let p=wg(y.location,E,g);n&&n(p,E),u=c()+1;let v=Bw(p,u),b=y.createHref(p);try{s.pushState(v,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(b)}o&&l&&l({action:a,location:y.location,delta:1})}function h(E,g){a=wi.Replace;let p=wg(y.location,E,g);n&&n(p,E),u=c();let v=Bw(p,u),b=y.createHref(p);s.replaceState(v,"",b),o&&l&&l({action:a,location:y.location,delta:0})}function m(E){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:jR(E);return Ot(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jw,f),l=E,()=>{i.removeEventListener(jw,f),l=null}},createHref(E){return e(i,E)},createURL:m,encodeLocation(E){let g=m(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(E){return s.go(E)}};return y}var zw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zw||(zw={}));function n2(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?jo(e):e,i=HR(r.pathname||"/",n);if(i==null)return null;let o=BR(t);r2(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=d2(o[a],m2(i));return s}function BR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=_o([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ot(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),BR(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:c2(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of zR(o.path))i(o,s,l)}),e}function zR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=zR(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function r2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i2=/^:\w+$/,o2=3,s2=2,a2=1,l2=10,u2=-2,Hw=t=>t==="*";function c2(t,e){let n=t.split("/"),r=n.length;return n.some(Hw)&&(r+=u2),e&&(r+=s2),n.filter(i=>!Hw(i)).reduce((i,o)=>i+(i2.test(o)?o2:o===""?a2:l2),r)}function f2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function d2(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=h2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:_o([i,c.pathname]),pathnameBase:S2(_o([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=_o([i,c.pathnameBase]))}return o}function h2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=g2(m||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function p2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ih(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m2(t){try{return decodeURI(t)}catch(e){return ih(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function g2(t,e){try{return decodeURIComponent(t)}catch(n){return ih(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function HR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function v2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?jo(t):t;return{pathname:n?n.startsWith("/")?n:y2(n,e):e,search:T2(r),hash:R2(i)}}function y2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Up(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w2(t,e){let n=_2(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function E2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=jo(t):(i=tu({},t),Ot(!i.pathname||!i.pathname.includes("?"),Up("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),Up("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),Up("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=v2(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const _o=t=>t.join("/").replace(/\/\/+/g,"/"),S2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qR=["post","put","patch","delete"];new Set(qR);const x2=["get",...qR];new Set(x2);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(this,arguments)}const Cy=x.createContext(null),A2=x.createContext(null),oh=x.createContext(null),sh=x.createContext(null),da=x.createContext({outlet:null,matches:[],isDataRoute:!1}),WR=x.createContext(null);function ah(){return x.useContext(sh)!=null}function Iu(){return ah()||Ot(!1),x.useContext(sh).location}function GR(t){x.useContext(oh).static||x.useLayoutEffect(t)}function Cu(){let{isDataRoute:t}=x.useContext(da);return t?U2():I2()}function I2(){ah()||Ot(!1);let t=x.useContext(Cy),{basename:e,future:n,navigator:r}=x.useContext(oh),{matches:i}=x.useContext(da),{pathname:o}=Iu(),s=JSON.stringify(w2(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return GR(()=>{a.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=E2(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:_o([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function C2(t,e){return P2(t,e)}function P2(t,e,n,r){ah()||Ot(!1);let{navigator:i}=x.useContext(oh),{matches:o}=x.useContext(da),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Iu(),c;if(e){var f;let E=typeof e=="string"?jo(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||Ot(!1),c=E}else c=u;let d=c.pathname||"/",h=l==="/"?d:d.slice(l.length)||"/",m=n2(t,{pathname:h}),y=O2(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:_o([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:_o([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&y?x.createElement(sh.Provider,{value:{location:nu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:wi.Pop}},y):y}function k2(){let t=F2(),e=b2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const N2=x.createElement(k2,null);class D2 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(da.Provider,{value:this.props.routeContext},x.createElement(WR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V2(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(Cy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(da.Provider,{value:e},r)}function O2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Ot(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let h,m=!1,y=null,E=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||N2,l&&(u<0&&d===0?(j2("route-fallback",!1),m=!0,E=null):u===d&&(m=!0,E=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,d+1)),p=()=>{let v;return h?v=y:m?v=E:f.route.Component?v=x.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=c,x.createElement(V2,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?x.createElement(D2,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var KR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KR||{}),nd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nd||{});function L2(t){let e=x.useContext(Cy);return e||Ot(!1),e}function M2(t){let e=x.useContext(A2);return e||Ot(!1),e}function $2(t){let e=x.useContext(da);return e||Ot(!1),e}function QR(t){let e=$2(),n=e.matches[e.matches.length-1];return n.route.id||Ot(!1),n.route.id}function F2(){var t;let e=x.useContext(WR),n=M2(nd.UseRouteError),r=QR(nd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function U2(){let{router:t}=L2(KR.UseNavigateStable),e=QR(nd.UseNavigateStable),n=x.useRef(!1);return GR(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,nu({fromRouteId:e},o)))},[t,e])}const qw={};function j2(t,e,n){!e&&!qw[t]&&(qw[t]=!0)}function ro(t){Ot(!1)}function B2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=wi.Pop,navigator:o,static:s=!1,future:a}=t;ah()&&Ot(!1);let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:o,static:s,future:nu({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=jo(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:m="default"}=r,y=x.useMemo(()=>{let E=HR(c,l);return E==null?null:{location:{pathname:E,search:f,hash:d,state:h,key:m},navigationType:i}},[l,c,f,d,h,m,i]);return y==null?null:x.createElement(oh.Provider,{value:u},x.createElement(sh.Provider,{children:n,value:y}))}function z2(t){let{children:e,location:n}=t;return C2(Eg(e),n)}new Promise(()=>{});function Eg(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Eg(r.props.children,o));return}r.type!==ro&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Eg(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function H2(t,e){let n=Sg(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}const q2="startTransition",Ww=BP[q2];function W2(t){let{basename:e,children:n,future:r,window:i}=t,o=x.useRef();o.current==null&&(o.current=ZN({window:i,v5Compat:!0}));let s=o.current,[a,l]=x.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=x.useCallback(f=>{u&&Ww?Ww(()=>l(f)):l(f)},[l,u]);return x.useLayoutEffect(()=>s.listen(c),[s,c]),x.createElement(B2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Gw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gw||(Gw={}));var Kw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kw||(Kw={}));function G2(t){let e=x.useRef(Sg(t)),n=x.useRef(!1),r=Iu(),i=x.useMemo(()=>H2(r.search,n.current?null:e.current),[r.search]),o=Cu(),s=x.useCallback((a,l)=>{const u=Sg(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}var YR={};function K2(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var Q2=K2,Ne=Q2;function Y2(t){return!!t&&typeof t.then=="function"}var ct=Y2;function X2(t,e){if(t!=null)return t;throw Ne(e??"Got unexpected null or undefined")}var gt=X2;function Ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class lh{getValue(){throw Ne("BaseLoadable")}toPromise(){throw Ne("BaseLoadable")}valueMaybe(){throw Ne("BaseLoadable")}valueOrThrow(){throw Ne(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Ne("BaseLoadable")}promiseOrThrow(){throw Ne(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Ne("BaseLoadable")}errorOrThrow(){throw Ne(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Ne("BaseLoadable")}}class J2 extends lh{constructor(e){super(),Ie(this,"state","hasValue"),Ie(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return ct(n)?Po(n):Ws(n)?n:Pu(n)}catch(n){return ct(n)?Po(n.next(()=>this.map(e))):uh(n)}}}class Z2 extends lh{constructor(e){super(),Ie(this,"state","hasError"),Ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class XR extends lh{constructor(e){super(),Ie(this,"state","loading"),Ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Po(this.contents.then(n=>{const r=e(n);if(Ws(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(ct(n))return n.then(()=>this.map(e).contents);throw n}))}}function Pu(t){return Object.freeze(new J2(t))}function uh(t){return Object.freeze(new Z2(t))}function Po(t){return Object.freeze(new XR(t))}function JR(){return Object.freeze(new XR(new Promise(()=>{})))}function eD(t){return t.every(e=>e.state==="hasValue")?Pu(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?uh(gt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Po(Promise.all(t.map(e=>e.contents)))}function ZR(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Ws(i)?i:ct(i)?Po(i):Pu(i)),r=eD(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:i[a]}),{}))}function Ws(t){return t instanceof lh}const tD={of:t=>ct(t)?Po(t):Ws(t)?t:Pu(t),error:t=>uh(t),loading:()=>JR(),all:ZR,isLoadable:Ws};var Bo={loadableWithValue:Pu,loadableWithError:uh,loadableWithPromise:Po,loadableLoading:JR,loadableAll:ZR,isLoadable:Ws,RecoilLoadable:tD},nD=Bo.loadableWithValue,rD=Bo.loadableWithError,iD=Bo.loadableWithPromise,oD=Bo.loadableLoading,sD=Bo.loadableAll,aD=Bo.isLoadable,lD=Bo.RecoilLoadable,ku=Object.freeze({__proto__:null,loadableWithValue:nD,loadableWithError:rD,loadableWithPromise:iD,loadableLoading:oD,loadableAll:sD,isLoadable:aD,RecoilLoadable:lD});const Tg={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function uD(t,e){var n,r;const i=(n=YR[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Ne(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function cD(t,e){var n;const r=(n=YR[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function fD(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(uD("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Tg.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),cD("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{Tg.RECOIL_GKS_ENABLED.add(n)})}))}fD();var ha=Tg;function ch(t){return ha.RECOIL_GKS_ENABLED.has(t)}ch.setPass=t=>{ha.RECOIL_GKS_ENABLED.add(t)};ch.setFail=t=>{ha.RECOIL_GKS_ENABLED.delete(t)};ch.clear=()=>{ha.RECOIL_GKS_ENABLED.clear()};var tt=ch;function dD(t,e,{error:n}={}){return null}var hD=dD,Py=hD,jp,Bp,zp;const pD=(jp=ve.createMutableSource)!==null&&jp!==void 0?jp:ve.unstable_createMutableSource,eb=(Bp=ve.useMutableSource)!==null&&Bp!==void 0?Bp:ve.unstable_useMutableSource,tb=(zp=ve.useSyncExternalStore)!==null&&zp!==void 0?zp:ve.unstable_useSyncExternalStore;function mD(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function gD(){return tt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:tt("recoil_sync_external_store")&&tb!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:tt("recoil_mutable_source")&&eb!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?tt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:tt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function vD(){return!1}var Nu={createMutableSource:pD,useMutableSource:eb,useSyncExternalStore:tb,currentRendererSupportsUseSyncExternalStore:mD,reactMode:gD,isFastRefreshEnabled:vD};class ky{constructor(e){Ie(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class nb extends ky{}class rb extends ky{}function yD(t){return t instanceof nb||t instanceof rb}var fh={AbstractRecoilValue:ky,RecoilState:nb,RecoilValueReadOnly:rb,isRecoilValue:yD},_D=fh.AbstractRecoilValue,wD=fh.RecoilState,ED=fh.RecoilValueReadOnly,SD=fh.isRecoilValue,Gs=Object.freeze({__proto__:null,AbstractRecoilValue:_D,RecoilState:wD,RecoilValueReadOnly:ED,isRecoilValue:SD});function TD(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var dh=TD;class ib{}const RD=new ib,ko=new Map,Ny=new Map;function bD(t){return dh(t,e=>gt(Ny.get(e)))}function xD(t){if(ko.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function AD(t){ha.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&xD(t.key),ko.set(t.key,t);const e=t.set==null?new Gs.RecoilValueReadOnly(t.key):new Gs.RecoilState(t.key);return Ny.set(t.key,e),e}class ob extends Error{}function ID(t){const e=ko.get(t);if(e==null)throw new ob(`Missing definition for RecoilValue: "${t}""`);return e}function CD(t){return ko.get(t)}const rd=new Map;function PD(t){var e;if(!tt("recoil_memory_managament_2020"))return;const n=ko.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;ko.delete(t),(r=sb(t))===null||r===void 0||r(),rd.delete(t)}}function kD(t,e){tt("recoil_memory_managament_2020")&&(e===void 0?rd.delete(t):rd.set(t,e))}function sb(t){return rd.get(t)}var $n={nodes:ko,recoilValues:Ny,registerNode:AD,getNode:ID,getNodeMaybe:CD,deleteNodeConfigIfPossible:PD,setConfigDeletionHandler:kD,getConfigDeletionHandler:sb,recoilValuesForKeys:bD,NodeMissingError:ob,DefaultValue:ib,DEFAULT_VALUE:RD};function ND(t,e){e()}var DD={enqueueExecution:ND};function VD(t,e){return e={exports:{}},t(e,e.exports),e.exports}var OD=VD(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,l={},u=function(T){return function(){return T}},c=n.hash=function(_){var T=typeof _>"u"?"undefined":e(_);if(T==="number")return _;T!=="string"&&(_+="");for(var V=0,W=0,Y=_.length;W<Y;++W){var X=_.charCodeAt(W);V=(V<<5)-V+X|0}return V},f=function(T){return T-=T>>1&1431655765,T=(T&858993459)+(T>>2&858993459),T=T+(T>>4)&252645135,T+=T>>8,T+=T>>16,T&127},d=function(T,V){return V>>>T&o},h=function(T){return 1<<T},m=function(T,V){return f(T&V-1)},y=function(T,V,W,Y){var X=Y;if(!T){var le=Y.length;X=new Array(le);for(var ue=0;ue<le;++ue)X[ue]=Y[ue]}return X[V]=W,X},E=function(T,V,W){var Y=W.length-1,X=0,le=0,ue=W;if(T)X=le=V;else for(ue=new Array(Y);X<V;)ue[le++]=W[X++];for(++X;X<=Y;)ue[le++]=W[X++];return T&&(ue.length=Y),ue},g=function(T,V,W,Y){var X=Y.length;if(T){for(var le=X;le>=V;)Y[le--]=Y[le];return Y[V]=W,Y}for(var ue=0,ce=0,oe=new Array(X+1);ue<V;)oe[ce++]=Y[ue++];for(oe[V]=W;ue<X;)oe[++ce]=Y[ue++];return oe},p=1,v=2,b=3,C=4,R={__hamt_isEmpty:!0},S=function(T){return T===R||T&&T.__hamt_isEmpty},k=function(T,V,W,Y){return{type:p,edit:T,hash:V,key:W,value:Y,_modify:z}},D=function(T,V,W){return{type:v,edit:T,hash:V,children:W,_modify:F}},L=function(T,V,W){return{type:b,edit:T,mask:V,children:W,_modify:I}},B=function(T,V,W){return{type:C,edit:T,size:V,children:W,_modify:H}},N=function(T){return T===R||T.type===p||T.type===v},M=function(T,V,W,Y,X){for(var le=[],ue=Y,ce=0,oe=0;ue;++oe)ue&1&&(le[oe]=X[ce++]),ue>>>=1;return le[V]=W,B(T,ce+1,le)},Q=function(T,V,W,Y){for(var X=new Array(V-1),le=0,ue=0,ce=0,oe=Y.length;ce<oe;++ce)if(ce!==W){var ye=Y[ce];ye&&!S(ye)&&(X[le++]=ye,ue|=1<<ce)}return L(T,ue,X)},te=function _(T,V,W,Y,X,le){if(W===X)return D(T,W,[le,Y]);var ue=d(V,W),ce=d(V,X);return L(T,h(ue)|h(ce),ue===ce?[_(T,V+r,W,Y,X,le)]:ue<ce?[Y,le]:[le,Y])},Ee=function(T,V,W,Y,X,le,ue,ce){for(var oe=X.length,ye=0;ye<oe;++ye){var et=X[ye];if(W(ue,et.key)){var ot=et.value,ht=le(ot);return ht===ot?X:ht===l?(--ce.value,E(T,ye,X)):y(T,ye,k(V,Y,ue,ht),X)}}var Qe=le();return Qe===l?X:(++ce.value,y(T,oe,k(V,Y,ue,Qe),X))},we=function(T,V){return T===V.edit},z=function(T,V,W,Y,X,le,ue){if(V(le,this.key)){var ce=Y(this.value);return ce===this.value?this:ce===l?(--ue.value,R):we(T,this)?(this.value=ce,this):k(T,X,le,ce)}var oe=Y();return oe===l?this:(++ue.value,te(T,W,this.hash,this,X,k(T,X,le,oe)))},F=function(T,V,W,Y,X,le,ue){if(X===this.hash){var ce=we(T,this),oe=Ee(ce,T,V,this.hash,this.children,Y,le,ue);return oe===this.children?this:oe.length>1?D(T,this.hash,oe):oe[0]}var ye=Y();return ye===l?this:(++ue.value,te(T,W,this.hash,this,X,k(T,X,le,ye)))},I=function(T,V,W,Y,X,le,ue){var ce=this.mask,oe=this.children,ye=d(W,X),et=h(ye),ot=m(ce,et),ht=ce&et,Qe=ht?oe[ot]:R,$t=Qe._modify(T,V,W+r,Y,X,le,ue);if(Qe===$t)return this;var bn=we(T,this),xt=ce,Fn=void 0;if(ht&&S($t)){if(xt&=~et,!xt)return R;if(oe.length<=2&&N(oe[ot^1]))return oe[ot^1];Fn=E(bn,ot,oe)}else if(!ht&&!S($t)){if(oe.length>=s)return M(T,ye,$t,ce,oe);xt|=et,Fn=g(bn,ot,$t,oe)}else Fn=y(bn,ot,$t,oe);return bn?(this.mask=xt,this.children=Fn,this):L(T,xt,Fn)},H=function(T,V,W,Y,X,le,ue){var ce=this.size,oe=this.children,ye=d(W,X),et=oe[ye],ot=(et||R)._modify(T,V,W+r,Y,X,le,ue);if(et===ot)return this;var ht=we(T,this),Qe=void 0;if(S(et)&&!S(ot))++ce,Qe=y(ht,ye,ot,oe);else if(!S(et)&&S(ot)){if(--ce,ce<=a)return Q(T,ce,ye,oe);Qe=y(ht,ye,R,oe)}else Qe=y(ht,ye,ot,oe);return ht?(this.size=ce,this.children=Qe,this):B(T,ce,Qe)};R._modify=function(_,T,V,W,Y,X,le){var ue=W();return ue===l?R:(++le.value,k(_,Y,X,ue))};function w(_,T,V,W,Y){this._editable=_,this._edit=T,this._config=V,this._root=W,this._size=Y}w.prototype.setTree=function(_,T){return this._editable?(this._root=_,this._size=T,this):_===this._root?this:new w(this._editable,this._edit,this._config,_,T)};var $=n.tryGetHash=function(_,T,V,W){for(var Y=W._root,X=0,le=W._config.keyEq;;)switch(Y.type){case p:return le(V,Y.key)?Y.value:_;case v:{if(T===Y.hash)for(var ue=Y.children,ce=0,oe=ue.length;ce<oe;++ce){var ye=ue[ce];if(le(V,ye.key))return ye.value}return _}case b:{var et=d(X,T),ot=h(et);if(Y.mask&ot){Y=Y.children[m(Y.mask,ot)],X+=r;break}return _}case C:{if(Y=Y.children[d(X,T)],Y){X+=r;break}return _}default:return _}};w.prototype.tryGetHash=function(_,T,V){return $(_,T,V,this)};var j=n.tryGet=function(_,T,V){return $(_,V._config.hash(T),T,V)};w.prototype.tryGet=function(_,T){return j(_,T,this)};var ne=n.getHash=function(_,T,V){return $(void 0,_,T,V)};w.prototype.getHash=function(_,T){return ne(_,T,this)},n.get=function(_,T){return $(void 0,T._config.hash(_),_,T)},w.prototype.get=function(_,T){return j(T,_,this)};var Z=n.has=function(_,T,V){return $(l,_,T,V)!==l};w.prototype.hasHash=function(_,T){return Z(_,T,this)};var me=n.has=function(_,T){return Z(T._config.hash(_),_,T)};w.prototype.has=function(_){return me(_,this)};var Se=function(T,V){return T===V};n.make=function(_){return new w(0,0,{keyEq:_&&_.keyEq||Se,hash:_&&_.hash||c},R,0)},n.empty=n.make();var pe=n.isEmpty=function(_){return _&&!!S(_._root)};w.prototype.isEmpty=function(){return pe(this)};var De=n.modifyHash=function(_,T,V,W){var Y={value:W._size},X=W._root._modify(W._editable?W._edit:NaN,W._config.keyEq,0,_,T,V,Y);return W.setTree(X,Y.value)};w.prototype.modifyHash=function(_,T,V){return De(V,_,T,this)};var Ve=n.modify=function(_,T,V){return De(_,V._config.hash(T),T,V)};w.prototype.modify=function(_,T){return Ve(T,_,this)};var Te=n.setHash=function(_,T,V,W){return De(u(V),_,T,W)};w.prototype.setHash=function(_,T,V){return Te(_,T,V,this)};var Pe=n.set=function(_,T,V){return Te(V._config.hash(_),_,T,V)};w.prototype.set=function(_,T){return Pe(_,T,this)};var Ze=u(l),ke=n.removeHash=function(_,T,V){return De(Ze,_,T,V)};w.prototype.removeHash=w.prototype.deleteHash=function(_,T){return ke(_,T,this)};var je=n.remove=function(_,T){return ke(T._config.hash(_),_,T)};w.prototype.remove=w.prototype.delete=function(_){return je(_,this)};var $e=n.beginMutation=function(_){return new w(_._editable+1,_._edit+1,_._config,_._root,_._size)};w.prototype.beginMutation=function(){return $e(this)};var Ge=n.endMutation=function(_){return _._editable=_._editable&&_._editable-1,_};w.prototype.endMutation=function(){return Ge(this)};var A=n.mutate=function(_,T){var V=$e(T);return _(V),Ge(V)};w.prototype.mutate=function(_){return A(_,this)};var O=function(T){return T&&U(T[0],T[1],T[2],T[3],T[4])},U=function(T,V,W,Y,X){for(;W<T;){var le=V[W++];if(le&&!S(le))return re(le,Y,[T,V,W,Y,X])}return O(X)},re=function(T,V,W){switch(T.type){case p:return{value:V(T),rest:W};case v:case C:case b:var Y=T.children;return U(Y.length,Y,0,V,W);default:return O(W)}},ee={done:!0};function K(_){this.v=_}K.prototype.next=function(){if(!this.v)return ee;var _=this.v;return this.v=O(_.rest),_},K.prototype[Symbol.iterator]=function(){return this};var de=function(T,V){return new K(re(T._root,V))},Re=function(T){return[T.key,T.value]},it=n.entries=function(_){return de(_,Re)};w.prototype.entries=w.prototype[Symbol.iterator]=function(){return it(this)};var vt=function(T){return T.key},dt=n.keys=function(_){return de(_,vt)};w.prototype.keys=function(){return dt(this)};var Qo=function(T){return T.value},Zi=n.values=w.prototype.values=function(_){return de(_,Qo)};w.prototype.values=function(){return Zi(this)};var vn=n.fold=function(_,T,V){var W=V._root;if(W.type===p)return _(T,W.value,W.key);for(var Y=[W.children],X=void 0;X=Y.pop();)for(var le=0,ue=X.length;le<ue;){var ce=X[le++];ce&&ce.type&&(ce.type===p?T=_(T,ce.value,ce.key):Y.push(ce.children))}return T};w.prototype.fold=function(_,T){return vn(_,T,this)};var ai=n.forEach=function(_,T){return vn(function(V,W,Y){return _(W,Y,T)},null,T)};w.prototype.forEach=function(_){return ai(_,this)};var Yo=n.count=function(_){return _._size};w.prototype.count=function(){return Yo(this)},Object.defineProperty(w.prototype,"size",{get:w.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class LD{constructor(e){Ie(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Vy(this)}toMap(){return new Map(this._map)}}class Dy{constructor(e){if(Ie(this,"_hamt",OD.empty.beginMutation()),e instanceof Dy){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Vy(this)}toMap(){return new Map(this._hamt)}}function Vy(t){return tt("recoil_hamt_2020")?new Dy(t):new LD(t)}var MD={persistentMap:Vy},$D=MD.persistentMap,FD=Object.freeze({__proto__:null,persistentMap:$D});function UD(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var vl=UD;function jD(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var id=jD;function BD(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function zD(t){return{nodeDeps:id(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:id(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Hp(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;i.set(t,e);const a=s==null?e:vl(e,s);for(const l of a)o.has(l)||o.set(l,new Set),gt(o.get(l)).add(t);if(s){const l=vl(s,e);for(const u of l){if(!o.has(u))return;const c=gt(o.get(u));c.delete(t),c.size===0&&o.delete(u)}}}function HD(t,e,n,r){var i,o,s,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((o=l.previousTree)===null||o===void 0||o.version);const u=n.getGraph(r);if(Hp(t,e,u),r===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const f=n.getGraph(l.currentTree.version);Hp(t,e,f,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const f=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(f!==void 0){const d=n.getGraph(f);Hp(t,e,d,u)}}}var Du={cloneGraph:zD,graph:BD,saveDepsToStore:HD};let qD=0;const WD=()=>qD++;let GD=0;const KD=()=>GD++;let QD=0;const YD=()=>QD++;var hh={getNextTreeStateVersion:WD,getNextStoreID:KD,getNextComponentID:YD};const{persistentMap:Qw}=FD,{graph:XD}=Du,{getNextTreeStateVersion:ab}=hh;function lb(){const t=ab();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Qw(),nonvalidatedAtoms:Qw()}}function JD(){const t=lb();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,XD()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var ub={makeEmptyTreeState:lb,makeEmptyStoreState:JD,getNextTreeStateVersion:ab};class cb{}function ZD(){return new cb}var ph={RetentionZone:cb,retentionZone:ZD};function eV(t,e){const n=new Set(t);return n.add(e),n}function tV(t,e){const n=new Set(t);return n.delete(e),n}function nV(t,e,n){const r=new Map(t);return r.set(e,n),r}function rV(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function iV(t,e){const n=new Map(t);return n.delete(e),n}function oV(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var fb={setByAddingToSet:eV,setByDeletingFromSet:tV,mapBySettingInMap:nV,mapByUpdatingInMap:rV,mapByDeletingFromMap:iV,mapByDeletingMultipleFromMap:oV};function*sV(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Oy=sV;function aV(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var db=aV;const{getNode:Vu,getNodeMaybe:lV,recoilValuesForKeys:Yw}=$n,{RetentionZone:Xw}=ph,{setByAddingToSet:uV}=fb,cV=Object.freeze(new Set);class fV extends Error{}function dV(t,e,n){if(!tt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof Xw)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!tt("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof Xw)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function Ly(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Vu(n),s=dV(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function hV(t,e,n){Ly(t,t.getState().currentTree,e,n)}function pV(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function mV(t,e,n){return Ly(t,e,n,"get"),Vu(n).get(t,e)}function hb(t,e,n){return Vu(n).peek(t,e)}function gV(t,e,n){var r;const i=lV(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:uV(t.dirtyAtoms,e)}}function vV(t,e,n,r){const i=Vu(n);if(i.set==null)throw new fV(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return Ly(t,e,n,"set"),o(t,e,r)}function yV(t,e,n){const r=t.getState(),i=t.getGraph(e.version),o=Vu(n).nodeType;return db({type:o},{loadable:()=>hb(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return Yw((s=i.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:Yw(Oy(pb(t,e,new Set([n])),l=>l!==n)),components:dh((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function pb(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:cV;for(const u of l)r.has(u)||i.push(u)}return r}var Wi={getNodeLoadable:mV,peekNodeLoadable:hb,setNodeValue:vV,initializeNode:hV,cleanUpNode:pV,setUnvalidatedAtomValue_DEPRECATED:gV,peekNodeInfo:yV,getDownstreamNodes:pb};let mb=null;function _V(t){mb=t}function wV(){var t;(t=mb)===null||t===void 0||t()}var gb={setInvalidateMemoizedSnapshot:_V,invalidateMemoizedSnapshot:wV};const{getDownstreamNodes:EV,getNodeLoadable:vb,setNodeValue:SV}=Wi,{getNextComponentID:TV}=hh,{getNode:RV,getNodeMaybe:yb}=$n,{DefaultValue:My}=$n,{reactMode:bV}=Nu,{AbstractRecoilValue:xV,RecoilState:AV,RecoilValueReadOnly:IV,isRecoilValue:CV}=Gs,{invalidateMemoizedSnapshot:PV}=gb;function kV(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=o.previousTree)===null||i===void 0||i.version);const s=vb(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function NV(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof My?n.delete(i):n.set(i,r)}),n}function DV(t,e,{key:n},r){if(typeof r=="function"){const i=vb(t,e,n);if(i.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Ne(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function VV(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=DV(t,e,i,o),a=SV(t,e,i.key,s);for(const[l,u]of a.entries())Rg(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;Rg(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=yb(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else Py(`Unknown action ${n.type}`)}function Rg(t,e,n){n.state==="hasValue"&&n.contents instanceof My?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function _b(t,e){t.replaceState(n=>{const r=wb(n);for(const i of e)VV(t,r,i);return Eb(t,r),PV(),r})}function mh(t,e){if(yl.length){const n=yl[yl.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else _b(t,[e])}const yl=[];function OV(){const t=new Map;return yl.push(t),()=>{for(const[e,n]of t)_b(e,n);yl.pop()}}function wb(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function Eb(t,e){const n=EV(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=yb(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function Sb(t,e,n){mh(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function LV(t,e,n){if(n instanceof My)return Sb(t,e,n);mh(t,{type:"setLoadable",recoilValue:e,loadable:n})}function MV(t,e){mh(t,{type:"markModified",recoilValue:e})}function $V(t,e,n){mh(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function FV(t,{key:e},n,r=null){const i=TV(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),gt(o.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const s=bV();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function UV(t,e){var n;const{currentTree:r}=t.getState(),i=RV(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Fr={RecoilValueReadOnly:IV,AbstractRecoilValue:xV,RecoilState:AV,getRecoilValueAsLoadable:kV,setRecoilValue:Sb,setRecoilValueLoadable:LV,markRecoilValueModified:MV,setUnvalidatedRecoilValue:$V,subscribeToRecoilValue:FV,isRecoilValue:CV,applyAtomValueWrites:NV,batchStart:OV,writeLoadableToTreeState:Rg,invalidateDownstreams:Eb,copyTreeState:wb,refreshRecoilValue:UV};function jV(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var BV=jV;const{cleanUpNode:zV}=Wi,{deleteNodeConfigIfPossible:HV,getNode:Tb}=$n,{RetentionZone:Rb}=ph,qV=12e4,bb=new Set;function xb(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const s of e)if(s instanceof Rb)for(const a of QV(n,s))i.add(a);else i.add(s);const o=WV(t,i);for(const s of o)KV(t,r,s)}function WV(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(l){const u=new Set,c=GV(t,r,l,o,s);for(const m of c){var f;if(Tb(m).retainedBy==="recoilRoot"){s.add(m);continue}if(((f=n.retention.referenceCounts.get(m))!==null&&f!==void 0?f:0)>0){s.add(m);continue}if(Ab(m).some(E=>n.retention.referenceCounts.get(E))){s.add(m);continue}const y=i.nodeToNodeSubscriptions.get(m);if(y&&BV(y,E=>s.has(E))){s.add(m);continue}o.add(m),u.add(m)}const d=new Set;for(const m of u)for(const y of(h=i.nodeDeps.get(m))!==null&&h!==void 0?h:bb){var h;o.has(y)||d.add(y)}d.size&&a(d)}}function GV(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(gt(n.values().next().value));return s;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=o.nodeToNodeSubscriptions.get(u);if(c)for(const f of c)l(f);a.add(u),n.delete(u),s.push(u)}}function KV(t,e,n){if(!tt("recoil_memory_managament_2020"))return;zV(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=Ab(n);for(const l of i){var o;(o=r.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const u of l){var a;(a=s.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}HV(n)}function QV(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:bb}function Ab(t){const e=Tb(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof Rb?[e]:e}function YV(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):xb(t,new Set([e]))}function XV(t,e,n){var r;if(!tt("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?Ib(t,e):i.set(e,o)}function Ib(t,e){if(!tt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),YV(t,e)}function JV(t){if(!tt("recoil_memory_managament_2020"))return;const e=t.getState();xb(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function ZV(t){return t===void 0?"recoilRoot":t}var zo={SUSPENSE_TIMEOUT_MS:qV,updateRetainCount:XV,updateRetainCountToZero:Ib,releaseScheduledRetainablesNow:JV,retainedByOptionWithDefault:ZV};const{unstable_batchedUpdates:eO}=JN;var tO={unstable_batchedUpdates:eO};const{unstable_batchedUpdates:nO}=tO;var rO={unstable_batchedUpdates:nO};const{batchStart:iO}=Fr,{unstable_batchedUpdates:oO}=rO;let $y=oO||(t=>t());const sO=t=>{$y=t},aO=()=>$y,lO=t=>{$y(()=>{let e=()=>{};try{e=iO(),t()}finally{e()}})};var gh={getBatcher:aO,setBatcher:sO,batchUpdates:lO};function*uO(t){for(const e of t)for(const n of e)yield n}var Cb=uO;const Pb=typeof Window>"u"||typeof window>"u",cO=t=>!Pb&&(t===window||t instanceof Window),fO=typeof navigator<"u"&&navigator.product==="ReactNative";var vh={isSSR:Pb,isReactNative:fO,isWindow:cO};function dO(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function hO(t,e){let n,r;return(...i)=>{const o=e(...i);return n===o||(n=o,r=t(...i)),r}}function pO(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var mO={memoizeWithArgsHash:dO,memoizeOneWithArgsHash:hO,memoizeOneWithArgsHashAndInvalidation:pO};const{batchUpdates:bg}=gh,{initializeNode:gO,peekNodeInfo:vO}=Wi,{graph:yO}=Du,{getNextStoreID:_O}=hh,{DEFAULT_VALUE:wO,recoilValues:Jw,recoilValuesForKeys:Zw}=$n,{AbstractRecoilValue:EO,getRecoilValueAsLoadable:SO,setRecoilValue:eE,setUnvalidatedRecoilValue:TO}=Fr,{updateRetainCount:gf}=zo,{setInvalidateMemoizedSnapshot:RO}=gb,{getNextTreeStateVersion:bO,makeEmptyStoreState:xO}=ub,{isSSR:AO}=vh,{memoizeOneWithArgsHashAndInvalidation:IO}=mO;class yh{constructor(e,n){Ie(this,"_store",void 0),Ie(this,"_refCount",1),Ie(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),SO(this._store,r))),Ie(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Ie(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return Zw(s.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?Jw.values():r.isInitialized===!0?Zw(Cb([i,o])):Oy(Jw.values(),({key:s})=>!i.has(s)&&!o.has(s))}),Ie(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),vO(this._store,this._store.getState().currentTree,r))),Ie(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new xg(this,bg);return r(i),i}),Ie(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new xg(this,bg);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:_O(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return gt(i.get(r));const o=yO();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Ne("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)gO(this._store,r,"get"),gf(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){AO||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!tt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){tt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function kb(t,e,n=!1){const r=t.getState(),i=n?bO():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(dh(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function CO(t){const e=new yh(xO());return t!=null?e.map(t):e}const[tE,Nb]=IO((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:gt(r.previousTree);return new yh(kb(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});RO(Nb);function PO(t,e="latest"){const n=tE(t,e);return n.isRetained()?n:(Nb(),tE(t,e))}class xg extends yh{constructor(e,n){super(kb(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ie(this,"_batch",void 0),Ie(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{gf(o,r.key,1),eE(this.getStore_INTERNAL(),r,i)})}),Ie(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{gf(i,r.key,1),eE(this.getStore_INTERNAL(),r,wO)})}),Ie(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();bg(()=>{for(const[o,s]of r.entries())gf(i,o,1),TO(i,new EO(o),s)})}),this._batch=n}}var _h={Snapshot:yh,MutableSnapshot:xg,freshSnapshot:CO,cloneSnapshot:PO},kO=_h.Snapshot,NO=_h.MutableSnapshot,DO=_h.freshSnapshot,VO=_h.cloneSnapshot,wh=Object.freeze({__proto__:null,Snapshot:kO,MutableSnapshot:NO,freshSnapshot:DO,cloneSnapshot:VO});function OO(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var LO=OO;const{useRef:MO}=ve;function $O(t){const e=MO(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var nE=$O;const{getNextTreeStateVersion:FO,makeEmptyStoreState:Db}=ub,{cleanUpNode:UO,getDownstreamNodes:jO,initializeNode:BO,setNodeValue:zO,setUnvalidatedAtomValue_DEPRECATED:HO}=Wi,{graph:qO}=Du,{cloneGraph:WO}=Du,{getNextStoreID:Vb}=hh,{createMutableSource:qp,reactMode:Ob}=Nu,{applyAtomValueWrites:GO}=Fr,{releaseScheduledRetainablesNow:Lb}=zo,{freshSnapshot:KO}=wh,{useCallback:QO,useContext:Mb,useEffect:Ag,useMemo:YO,useRef:XO,useState:JO}=ve;function Da(){throw Ne("This component must be used inside a <RecoilRoot> component.")}const $b=Object.freeze({storeID:Vb(),getState:Da,replaceState:Da,getGraph:Da,subscribeToTransactions:Da,addTransactionMetadata:Da});let Ig=!1;function rE(t){if(Ig)throw Ne("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){tt("recoil_memory_managament_2020")&&tt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Lb(t);const n=e.currentTree.version,r=FO();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,WO(gt(e.graphsByVersion.get(n))))}}const Fb=ve.createContext({current:$b}),Eh=()=>Mb(Fb),Ub=ve.createContext(null);function ZO(){return Mb(Ub)}function Fy(t,e,n){const r=jO(t,n,n.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[s,[a,l]]of o)l(n)}}function jb(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[s,a]of o)a(t);for(const[i,o]of e.transactionSubscriptions)o(t);(!Ob().early||e.suspendedComponentResolvers.size>0)&&(Fy(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function eL(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,jb(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Py("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,tt("recoil_memory_managament_2020")&&n==null&&Lb(t)}finally{e.commitDepth--}}function tL({setNotifyBatcherOfChange:t}){const e=Eh(),[,n]=JO([]);return t(()=>n({})),Ag(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Ag(()=>{DD.enqueueExecution("Batcher",()=>{eL(e.current)})}),null}function nL(t,e){const n=Db();return e({set:(r,i)=>{const o=n.currentTree,s=zO(t,o,r.key,i),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...o,dirtyAtoms:LO(o.dirtyAtoms,a),atomValues:GO(o.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=HO(n.currentTree,o,i)})}}),n}function rL(t){const e=KO(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let iE=0;function iL({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const o=h=>{const m=i.current.graphsByVersion;if(m.has(h))return gt(m.get(h));const y=qO();return m.set(h,y),y},s=(h,m)=>{if(m==null){const{transactionSubscriptions:y}=f.current.getState(),E=iE++;return y.set(E,h),{release:()=>{y.delete(E)}}}else{const{nodeTransactionSubscriptions:y}=f.current.getState();y.has(m)||y.set(m,new Map);const E=iE++;return gt(y.get(m)).set(E,h),{release:()=>{const g=y.get(m);g&&(g.delete(E),g.size===0&&y.delete(m))}}}},a=h=>{rE(f.current);for(const m of Object.keys(h))gt(f.current.getState().nextTree).transactionMetadata[m]=h[m]},l=h=>{rE(f.current);const m=gt(i.current.nextTree);let y;try{Ig=!0,y=h(m)}finally{Ig=!1}y!==m&&(i.current.nextTree=y,Ob().early&&Fy(f.current,i.current,y),gt(u.current)())},u=XO(null),c=QO(h=>{u.current=h},[u]),f=nE(()=>n??{storeID:Vb(),getState:()=>i.current,replaceState:l,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(f.current=n),i=nE(()=>t!=null?nL(f.current,t):e!=null?rL(e):Db());const d=YO(()=>qp==null?void 0:qp(i,()=>i.current.currentTree.version),[i]);return Ag(()=>{const h=f.current;for(const m of new Set(h.getState().knownAtoms))BO(h,m,"get");return()=>{for(const m of h.getState().knownAtoms)UO(h,m)}},[f]),ve.createElement(Fb.Provider,{value:f},ve.createElement(Ub.Provider,{value:d},ve.createElement(tL,{setNotifyBatcherOfChange:c}),r))}function oL(t){const{override:e,...n}=t,r=Eh();return e===!1&&r.current!==$b?t.children:ve.createElement(iL,n)}function sL(){return Eh().current.storeID}var oi={RecoilRoot:oL,useStoreRef:Eh,useRecoilMutableSource:ZO,useRecoilStoreID:sL,notifyComponents_FOR_TESTING:Fy,sendEndOfBatchNotifications_FOR_TESTING:jb};function aL(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var lL=aL;const{useEffect:uL,useRef:cL}=ve;function fL(t){const e=cL();return uL(()=>{e.current=t}),e.current}var Bb=fL;const{useStoreRef:dL}=oi,{SUSPENSE_TIMEOUT_MS:hL}=zo,{updateRetainCount:Va}=zo,{RetentionZone:pL}=ph,{useEffect:mL,useRef:gL}=ve,{isSSR:oE}=vh;function vL(t){if(tt("recoil_memory_managament_2020"))return yL(t)}function yL(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof pL?s:s.key),r=dL();mL(()=>{if(!tt("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!oE)window.clearTimeout(i.current),i.current=null;else for(const a of n)Va(s,a,1);return()=>{for(const a of n)Va(s,a,-1)}},[r,...n]);const i=gL(),o=Bb(n);if(!oE&&(o===void 0||!lL(o,n))){const s=r.current;for(const a of n)Va(s,a,1);if(o)for(const a of o)Va(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Va(s,a,-1)},hL)}}var Uy=vL;function _L(){return"<component name not available>"}var Ou=_L;const{batchUpdates:wL}=gh,{DEFAULT_VALUE:zb}=$n,{currentRendererSupportsUseSyncExternalStore:EL,reactMode:pa,useMutableSource:SL,useSyncExternalStore:TL}=Nu,{useRecoilMutableSource:RL,useStoreRef:Ur}=oi,{AbstractRecoilValue:Cg,getRecoilValueAsLoadable:Lu,setRecoilValue:od,setUnvalidatedRecoilValue:bL,subscribeToRecoilValue:Ks}=Fr,{useCallback:Dn,useEffect:Qs,useMemo:Hb,useRef:_l,useState:jy}=ve,{setByAddingToSet:xL}=fb,{isSSR:AL}=vh;function By(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const o=n.current.getState().suspendedComponentResolvers;o.add(i),AL&&ct(t.contents)&&t.contents.finally(()=>{o.delete(i)})}):t.state==="hasError"?t.contents:Ne(`Invalid value of loadable atom "${e.key}"`)}function IL(){const t=Ou(),e=Ur(),[,n]=jy([]),r=_l(new Set);r.current=new Set;const i=_l(new Set),o=_l(new Map),s=Dn(l=>{const u=o.current.get(l);u&&(u.release(),o.current.delete(l))},[o]),a=Dn((l,u)=>{o.current.has(u)&&n([])},[]);return Qs(()=>{const l=e.current;vl(r.current,i.current).forEach(u=>{if(o.current.has(u))return;const c=Ks(l,new Cg(u),d=>a(d,u),t);o.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),vl(i.current,r.current).forEach(u=>{s(u)}),i.current=r.current}),Qs(()=>{const l=o.current;return vl(r.current,new Set(l.keys())).forEach(u=>{const c=Ks(e.current,new Cg(u),f=>a(f,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>s(c))},[t,e,s,a]),Hb(()=>{function l(m){return y=>{od(e.current,m,y)}}function u(m){return()=>od(e.current,m,zb)}function c(m){var y;r.current.has(m.key)||(r.current=xL(r.current,m.key));const E=e.current.getState();return Lu(e.current,m,pa().early&&(y=E.nextTree)!==null&&y!==void 0?y:E.currentTree)}function f(m){const y=c(m);return By(y,m,e)}function d(m){return[f(m),l(m)]}function h(m){return[c(m),l(m)]}return{getRecoilValue:f,getRecoilValueLoadable:c,getRecoilState:d,getRecoilStateLoadable:h,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const CL={current:0};function PL(t){const e=Ur(),n=Ou(),r=Dn(()=>{var a;const l=e.current,u=l.getState(),c=pa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:Lu(l,t,c),key:t.key}},[e,t]),i=Dn(a=>{let l;return()=>{var u,c;const f=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(f.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===f.key?l:(l=f,f)}},[]),o=Hb(()=>i(r),[r,i]),s=Dn(a=>{const l=e.current;return Ks(l,t,a,n).release},[e,t,n]);return TL(s,o,o).loadable}function kL(t){const e=Ur(),n=Dn(()=>{var u;const c=e.current,f=c.getState(),d=pa().early&&(u=f.nextTree)!==null&&u!==void 0?u:f.currentTree;return Lu(c,t,d)},[e,t]),r=Dn(()=>n(),[n]),i=Ou(),o=Dn((u,c)=>{const f=e.current;return Ks(f,t,()=>{if(!tt("recoil_suppress_rerender_in_callback"))return c();const h=n();l.current.is(h)||c(),l.current=h},i).release},[e,t,i,n]),s=RL();if(s==null)throw Ne("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=SL(s,r,o),l=_l(a);return Qs(()=>{l.current=a}),a}function Pg(t){const e=Ur(),n=Ou(),r=Dn(()=>{var l;const u=e.current,c=u.getState(),f=pa().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return Lu(u,t,f)},[e,t]),i=Dn(()=>({loadable:r(),key:t.key}),[r,t.key]),o=Dn(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);Qs(()=>{const l=Ks(e.current,t,u=>{a(o)},n);return a(o),l.release},[n,t,e,o]);const[s,a]=jy(i);return s.key!==t.key?i().loadable:s.loadable}function NL(t){const e=Ur(),[,n]=jy([]),r=Ou(),i=Dn(()=>{var a;const l=e.current,u=l.getState(),c=pa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return Lu(l,t,c)},[e,t]),o=i(),s=_l(o);return Qs(()=>{s.current=o}),Qs(()=>{const a=e.current,l=a.getState(),u=Ks(a,t,f=>{var d;if(!tt("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(d=s.current)!==null&&d!==void 0&&d.is(h)||n(h),s.current=h},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var c;if(!tt("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(c=s.current)!==null&&c!==void 0&&c.is(f)||n(f),s.current=f}return u.release},[r,i,t,e]),o}function zy(t){return tt("recoil_memory_managament_2020")&&Uy(t),{TRANSITION_SUPPORT:Pg,SYNC_EXTERNAL_STORE:EL()?PL:Pg,MUTABLE_SOURCE:kL,LEGACY:NL}[pa().mode](t)}function qb(t){const e=Ur(),n=zy(t);return By(n,t,e)}function Sh(t){const e=Ur();return Dn(n=>{od(e.current,t,n)},[e,t])}function DL(t){const e=Ur();return Dn(()=>{od(e.current,t,zb)},[e,t])}function VL(t){return[qb(t),Sh(t)]}function OL(t){return[zy(t),Sh(t)]}function LL(){const t=Ur();return(e,n={})=>{wL(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>bL(t.current,new Cg(i),r))})}}function Wb(t){return tt("recoil_memory_managament_2020")&&Uy(t),Pg(t)}function Gb(t){const e=Ur(),n=Wb(t);return By(n,t,e)}function ML(t){return[Gb(t),Sh(t)]}var $L={recoilComponentGetRecoilValueCount_FOR_TESTING:CL,useRecoilInterface:IL,useRecoilState:VL,useRecoilStateLoadable:OL,useRecoilValue:qb,useRecoilValueLoadable:zy,useResetRecoilState:DL,useSetRecoilState:Sh,useSetUnvalidatedAtomValues:LL,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Wb,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Gb,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:ML};function FL(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var UL=FL;function jL(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var BL=jL;function zL(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var HL=zL;const{batchUpdates:qL}=gh,{DEFAULT_VALUE:WL,getNode:Kb,nodes:GL}=$n,{useStoreRef:Hy}=oi,{AbstractRecoilValue:KL,setRecoilValueLoadable:QL}=Fr,{SUSPENSE_TIMEOUT_MS:YL}=zo,{cloneSnapshot:sd}=wh,{useCallback:Th,useEffect:Qb,useRef:sE,useState:XL}=ve,{isSSR:aE}=vh;function Rh(t){const e=Hy();Qb(()=>e.current.subscribeToTransactions(t).release,[t,e])}function lE(t){const e=t.atomValues.toMap(),n=id(UL(e,(r,i)=>{const s=Kb(i).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return HL(t.nonvalidatedAtoms.toMap(),n)}function JL(t){Rh(Th(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=lE(r),o=lE(n),s=id(GL,l=>{var u,c,f,d;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(f=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.backButton)!==null&&f!==void 0?f:!1}}}),a=BL(r.dirtyAtoms,l=>i.has(l)||o.has(l));t({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function ZL(t){Rh(Th(e=>{const n=sd(e,"latest"),r=sd(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function eM(){const t=Hy(),[e,n]=XL(()=>sd(t.current)),r=Bb(e),i=sE(),o=sE();if(Rh(Th(a=>n(sd(a)),[])),Qb(()=>{const a=e.retain();if(i.current&&!aE){var l;window.clearTimeout(i.current),i.current=null,(l=o.current)===null||l===void 0||l.call(o),o.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!aE){if(i.current){var s;window.clearTimeout(i.current),i.current=null,(s=o.current)===null||s===void 0||s.call(o),o.current=null}o.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=o.current)===null||a===void 0||a.call(o),o.current=null},YL)}return e}function Yb(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;qL(()=>{const s=new Set;for(const u of[i.atomValues.keys(),o.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&Kb(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(u=>{QL(t,new KL(u),o.atomValues.has(u)?gt(o.atomValues.get(u)):WL)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function tM(){const t=Hy();return Th(e=>Yb(t.current,e),[t])}var Xb={useRecoilSnapshot:eM,gotoSnapshot:Yb,useGotoRecoilSnapshot:tM,useRecoilTransactionObserver:ZL,useTransactionObservation_DEPRECATED:JL,useTransactionSubscription_DEPRECATED:Rh};const{peekNodeInfo:nM}=Wi,{useStoreRef:rM}=oi;function iM(){const t=rM();return({key:e})=>nM(t.current,t.current.getState().currentTree,e)}var oM=iM;const{reactMode:sM}=Nu,{RecoilRoot:aM,useStoreRef:lM}=oi,{useMemo:uM}=ve;function cM(){sM().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=lM().current;return uM(()=>{function e({children:n}){return ve.createElement(aM,{store_INTERNAL:t},n)}return e},[t])}var fM=cM;const{loadableWithValue:dM}=ku,{initializeNode:hM}=Wi,{DEFAULT_VALUE:pM,getNode:mM}=$n,{copyTreeState:gM,getRecoilValueAsLoadable:vM,invalidateDownstreams:yM,writeLoadableToTreeState:_M}=Fr;function uE(t){return mM(t.key).nodeType==="atom"}class wM{constructor(e,n){Ie(this,"_store",void 0),Ie(this,"_treeState",void 0),Ie(this,"_changes",void 0),Ie(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!uE(r))throw Ne("Reading selectors within atomicUpdate is not supported");const i=vM(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Ne(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Ie(this,"set",(r,i)=>{if(!uE(r))throw Ne("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else hM(this._store,r.key,"set"),this._changes.set(r.key,i)}),Ie(this,"reset",r=>{this.set(r,pM)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=gM(this._treeState);for(const[n,r]of this._changes)_M(e,n,dM(r));return yM(this._store,e),e}}function EM(t){return e=>{t.replaceState(n=>{const r=new wM(t,n);return e(r),r.newTreeState_INTERNAL()})}}var SM={atomicUpdater:EM},TM=SM.atomicUpdater,Jb=Object.freeze({__proto__:null,atomicUpdater:TM});function RM(t,e){if(!t)throw new Error(e)}var bM=RM,Ja=bM;const{atomicUpdater:xM}=Jb,{batchUpdates:AM}=gh,{DEFAULT_VALUE:IM}=$n,{useStoreRef:CM}=oi,{refreshRecoilValue:PM,setRecoilValue:cE}=Fr,{cloneSnapshot:kM}=wh,{gotoSnapshot:NM}=Xb,{useCallback:DM}=ve;class Zb{}const VM=new Zb;function ex(t,e,n,r){let i=VM,o;if(AM(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Ne(a);const l=db({...r??{},set:(c,f)=>cE(t,c,f),reset:c=>cE(t,c,IM),refresh:c=>PM(t,c),gotoSnapshot:c=>NM(t,c),transact_UNSTABLE:c=>xM(t)(c)},{snapshot:()=>{const c=kM(t);return o=c.retain(),c}}),u=e(l);if(typeof u!="function")throw Ne(a);i=u(...n)}),i instanceof Zb&&Ja(!1),ct(i))i=i.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return i}function OM(t,e){const n=CM();return DM((...r)=>ex(n.current,t,r),e!=null?[...e,n]:void 0)}var tx={recoilCallback:ex,useRecoilCallback:OM};const{useStoreRef:LM}=oi,{refreshRecoilValue:MM}=Fr,{useCallback:$M}=ve;function FM(t){const e=LM();return $M(()=>{const n=e.current;MM(n,t)},[t,e])}var UM=FM;const{atomicUpdater:jM}=Jb,{useStoreRef:BM}=oi,{useMemo:zM}=ve;function HM(t,e){const n=BM();return zM(()=>(...r)=>{jM(n.current)(o=>{t(o)(...r)})},e!=null?[...e,n]:void 0)}var qM=HM;class WM{constructor(e){Ie(this,"value",void 0),this.value=e}}var GM={WrappedValue:WM},KM=GM.WrappedValue,nx=Object.freeze({__proto__:null,WrappedValue:KM});const{isFastRefreshEnabled:QM}=Nu;class fE extends Error{}class YM{constructor(e){var n,r,i;Ie(this,"_name",void 0),Ie(this,"_numLeafs",void 0),Ie(this,"_root",void 0),Ie(this,"_onHit",void 0),Ie(this,"_onSet",void 0),Ie(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var o,s,a,l;let u,c;for(const[E,g]of e){var f,d,h;const p=this._root;if((p==null?void 0:p.type)==="leaf")throw this.invalidCacheError();const v=u;if(u=v?v.branches.get(c):p,u=(f=u)!==null&&f!==void 0?f:{type:"branch",nodeKey:E,parent:v,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==E)throw this.invalidCacheError();v==null||v.branches.set(c,u),r==null||(d=r.onNodeVisit)===null||d===void 0||d.call(r,u),c=this._mapNodeValue(g),this._root=(h=this._root)!==null&&h!==void 0?h:u}const m=u?(o=u)===null||o===void 0?void 0:o.branches.get(c):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==c))throw this.invalidCacheError();const y={type:"leaf",value:n,parent:u,branchKey:c};(s=u)===null||s===void 0||s.branches.set(c,y),this._root=(a=this._root)!==null&&a!==void 0?a:y,this._numLeafs++,this._onSet(y),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,y)};try{i()}catch(o){if(o instanceof fE)this.clear(),i();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=QM()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Py(e+(this._name!=null?` - ${this._name}`:"")),new fE}}var XM={TreeCache:YM},JM=XM.TreeCache,rx=Object.freeze({__proto__:null,TreeCache:JM});class ZM{constructor(e){var n;Ie(this,"_maxSize",void 0),Ie(this,"_size",void 0),Ie(this,"_head",void 0),Ie(this,"_tail",void 0),Ie(this,"_map",void 0),Ie(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=gt(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var e$={LRUCache:ZM},t$=e$.LRUCache,ix=Object.freeze({__proto__:null,LRUCache:t$});const{LRUCache:n$}=ix,{TreeCache:r$}=rx;function i$({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new n$({maxSize:e}),i=new r$({name:t,mapNodeValue:n,onHit:o=>{r.set(o,!0)},onSet:o=>{const s=r.tail();r.set(o,!0),s&&i.size()>e&&i.delete(s.key)}});return i}var dE=i$;function ur(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Ne("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(ct(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>ur(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return ur(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:ur(o,e)]=s;return ur(i,e,n)}return t instanceof Set?ur(Array.from(t).sort((i,o)=>ur(i,e).localeCompare(ur(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?ur(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${ur(i,e)}:${ur(t[i],e,i)}`).join(",")}}`}function o$(t,e={allowFunctions:!1}){return ur(t,e)}var bh=o$;const{TreeCache:s$}=rx,bc={equality:"reference",eviction:"keep-all",maxSize:1/0};function a$({equality:t=bc.equality,eviction:e=bc.eviction,maxSize:n=bc.maxSize}=bc,r){const i=l$(t);return u$(e,n,i,r)}function l$(t){switch(t){case"reference":return e=>e;case"value":return e=>bh(e)}throw Ne(`Unrecognized equality policy ${t}`)}function u$(t,e,n,r){switch(t){case"keep-all":return new s$({name:r,mapNodeValue:n});case"lru":return dE({name:r,maxSize:gt(e),mapNodeValue:n});case"most-recent":return dE({name:r,maxSize:1,mapNodeValue:n})}throw Ne(`Unrecognized eviction policy ${t}`)}var c$=a$;function f$(t){return()=>null}var d$={startPerfBlock:f$};const{isLoadable:h$,loadableWithError:xc,loadableWithPromise:p$,loadableWithValue:Wp}=ku,{WrappedValue:ox}=nx,{getNodeLoadable:Ac,peekNodeLoadable:m$,setNodeValue:g$}=Wi,{saveDepsToStore:v$}=Du,{DEFAULT_VALUE:y$,getConfigDeletionHandler:_$,getNode:w$,registerNode:hE}=$n,{isRecoilValue:E$}=Gs,{markRecoilValueModified:pE}=Fr,{retainedByOptionWithDefault:S$}=zo,{recoilCallback:T$}=tx,{startPerfBlock:R$}=d$;class sx{}const Oa=new sx,La=[],Ic=new Map,b$=(()=>{let t=0;return()=>t++})();function ax(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,o=t.set!=null?t.set:void 0,s=new Set,a=c$(i??{equality:"reference",eviction:"keep-all"},n),l=S$(t.retainedBy_UNSTABLE),u=new Map;let c=0;function f(){return!tt("recoil_memory_managament_2020")||c>0}function d(w){return w.getState().knownSelectors.add(n),c++,()=>{c--}}function h(){return _$(n)!==void 0&&!f()}function m(w,$,j,ne,Z){Ee($,ne,Z),y(w,j)}function y(w,$){Q(w,$)&&M(w),g($,!0)}function E(w,$){Q(w,$)&&(gt(L(w)).stateVersions.clear(),g($,!1))}function g(w,$){const j=Ic.get(w);if(j!=null){for(const ne of j)pE(ne,gt(e));$&&Ic.delete(w)}}function p(w,$){let j=Ic.get($);j==null&&Ic.set($,j=new Set),j.add(w)}function v(w,$,j,ne,Z,me){return $.then(Se=>{if(!f())throw M(w),Oa;const pe=Wp(Se);return m(w,j,Z,pe,ne),Se}).catch(Se=>{if(!f())throw M(w),Oa;if(ct(Se))return b(w,Se,j,ne,Z,me);const pe=xc(Se);throw m(w,j,Z,pe,ne),Se})}function b(w,$,j,ne,Z,me){return $.then(Se=>{if(!f())throw M(w),Oa;me.loadingDepKey!=null&&me.loadingDepPromise===$?j.atomValues.set(me.loadingDepKey,Wp(Se)):w.getState().knownSelectors.forEach(Te=>{j.atomValues.delete(Te)});const pe=S(w,j);if(pe&&pe.state!=="loading"){if((Q(w,Z)||L(w)==null)&&y(w,Z),pe.state==="hasValue")return pe.contents;throw pe.contents}if(!Q(w,Z)){const Te=D(w,j);if(Te!=null)return Te.loadingLoadable.contents}const[De,Ve]=R(w,j,Z);if(De.state!=="loading"&&m(w,j,Z,De,Ve),De.state==="hasError")throw De.contents;return De.contents}).catch(Se=>{if(Se instanceof sx)throw Oa;if(!f())throw M(w),Oa;const pe=xc(Se);throw m(w,j,Z,pe,ne),Se})}function C(w,$,j,ne){var Z,me,Se,pe;if(Q(w,ne)||$.version===((Z=w.getState())===null||Z===void 0||(me=Z.currentTree)===null||me===void 0?void 0:me.version)||$.version===((Se=w.getState())===null||Se===void 0||(pe=Se.nextTree)===null||pe===void 0?void 0:pe.version)){var De,Ve,Te;v$(n,j,w,(De=(Ve=w.getState())===null||Ve===void 0||(Te=Ve.nextTree)===null||Te===void 0?void 0:Te.version)!==null&&De!==void 0?De:w.getState().currentTree.version)}for(const Pe of j)s.add(Pe)}function R(w,$,j){const ne=R$(n);let Z=!0,me=!0;const Se=()=>{ne(),me=!1};let pe,De=!1,Ve;const Te={loadingDepKey:null,loadingDepPromise:null},Pe=new Map;function Ze({key:je}){const $e=Ac(w,$,je);switch(Pe.set(je,$e),Z||(C(w,$,new Set(Pe.keys()),j),E(w,j)),$e.state){case"hasValue":return $e.contents;case"hasError":throw $e.contents;case"loading":throw Te.loadingDepKey=je,Te.loadingDepPromise=$e.contents,$e.contents}throw Ne("Invalid Loadable state")}const ke=je=>(...$e)=>{if(me)throw Ne("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Ja(!1),T$(w,je,$e,{node:e})};try{pe=r({get:Ze,getCallback:ke}),pe=E$(pe)?Ze(pe):pe,h$(pe)&&(pe.state==="hasError"&&(De=!0),pe=pe.contents),ct(pe)?pe=v(w,pe,$,Pe,j,Te).finally(Se):Se(),pe=pe instanceof ox?pe.value:pe}catch(je){pe=je,ct(pe)?pe=b(w,pe,$,Pe,j,Te).finally(Se):(De=!0,Se())}return De?Ve=xc(pe):ct(pe)?Ve=p$(pe):Ve=Wp(pe),Z=!1,N(w,j,Pe),C(w,$,new Set(Pe.keys()),j),[Ve,Pe]}function S(w,$){let j=$.atomValues.get(n);if(j!=null)return j;const ne=new Set;try{j=a.get(me=>(typeof me!="string"&&Ja(!1),Ac(w,$,me).contents),{onNodeVisit:me=>{me.type==="branch"&&me.nodeKey!==n&&ne.add(me.nodeKey)}})}catch(me){throw Ne(`Problem with cache lookup for selector "${n}": ${me.message}`)}if(j){var Z;$.atomValues.set(n,j),C(w,$,ne,(Z=L(w))===null||Z===void 0?void 0:Z.executionID)}return j}function k(w,$){const j=S(w,$);if(j!=null)return M(w),j;const ne=D(w,$);if(ne!=null){var Z;return((Z=ne.loadingLoadable)===null||Z===void 0?void 0:Z.state)==="loading"&&p(w,ne.executionID),ne.loadingLoadable}const me=b$(),[Se,pe]=R(w,$,me);return Se.state==="loading"?(B(w,me,Se,pe,$),p(w,me)):(M(w),Ee($,Se,pe)),Se}function D(w,$){const j=Cb([u.has(w)?[gt(u.get(w))]:[],dh(Oy(u,([Z])=>Z!==w),([,Z])=>Z)]);function ne(Z){for(const[me,Se]of Z)if(!Ac(w,$,me).is(Se))return!0;return!1}for(const Z of j){if(Z.stateVersions.get($.version)||!ne(Z.depValuesDiscoveredSoFarDuringAsyncWork))return Z.stateVersions.set($.version,!0),Z;Z.stateVersions.set($.version,!1)}}function L(w){return u.get(w)}function B(w,$,j,ne,Z){u.set(w,{depValuesDiscoveredSoFarDuringAsyncWork:ne,executionID:$,loadingLoadable:j,stateVersions:new Map([[Z.version,!0]])})}function N(w,$,j){if(Q(w,$)){const ne=L(w);ne!=null&&(ne.depValuesDiscoveredSoFarDuringAsyncWork=j)}}function M(w){u.delete(w)}function Q(w,$){var j;return $===((j=L(w))===null||j===void 0?void 0:j.executionID)}function te(w){return Array.from(w.entries()).map(([$,j])=>[$,j.contents])}function Ee(w,$,j){w.atomValues.set(n,$);try{a.set(te(j),$)}catch(ne){throw Ne(`Problem with setting cache for selector "${n}": ${ne.message}`)}}function we(w){if(La.includes(n)){const $=`Recoil selector has circular dependencies: ${La.slice(La.indexOf(n)).join(" → ")}`;return xc(Ne($))}La.push(n);try{return w()}finally{La.pop()}}function z(w,$){const j=$.atomValues.get(n);return j??a.get(ne=>{var Z;return typeof ne!="string"&&Ja(!1),(Z=m$(w,$,ne))===null||Z===void 0?void 0:Z.contents})}function F(w,$){return we(()=>k(w,$))}function I(w){w.atomValues.delete(n)}function H(w,$){e==null&&Ja(!1);for(const ne of s){var j;const Z=w$(ne);(j=Z.clearCache)===null||j===void 0||j.call(Z,w,$)}s.clear(),I($),a.clear(),pE(w,e)}return o!=null?e=hE({key:n,nodeType:"selector",peek:z,get:F,set:($,j,ne)=>{let Z=!1;const me=new Map;function Se({key:Te}){if(Z)throw Ne("Recoil: Async selector sets are not currently supported.");const Pe=Ac($,j,Te);if(Pe.state==="hasValue")return Pe.contents;if(Pe.state==="loading"){const Ze=`Getting value of asynchronous atom or selector "${Te}" in a pending state while setting selector "${n}" is not yet supported.`;throw Ne(Ze)}else throw Pe.contents}function pe(Te,Pe){if(Z)throw Ne("Recoil: Async selector sets are not currently supported.");const Ze=typeof Pe=="function"?Pe(Se(Te)):Pe;g$($,j,Te.key,Ze).forEach((je,$e)=>me.set($e,je))}function De(Te){pe(Te,y$)}const Ve=o({set:pe,get:Se,reset:De},ne);if(Ve!==void 0)throw ct(Ve)?Ne("Recoil: Async selector sets are not currently supported."):Ne("Recoil: selector set should be a void function.");return Z=!0,me},init:d,invalidate:I,clearCache:H,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=hE({key:n,nodeType:"selector",peek:z,get:F,init:d,invalidate:I,clearCache:H,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}ax.value=t=>new ox(t);var Ys=ax;const{isLoadable:x$,loadableWithError:Gp,loadableWithPromise:Kp,loadableWithValue:Zo}=ku,{WrappedValue:lx}=nx,{peekNodeInfo:A$}=Wi,{DEFAULT_VALUE:so,DefaultValue:fi,getConfigDeletionHandler:ux,registerNode:I$,setConfigDeletionHandler:C$}=$n,{isRecoilValue:P$}=Gs,{getRecoilValueAsLoadable:k$,markRecoilValueModified:N$,setRecoilValue:mE,setRecoilValueLoadable:D$}=Fr,{retainedByOptionWithDefault:V$}=zo,Ma=t=>t instanceof lx?t.value:t;function O$(t){const{key:e,persistence_UNSTABLE:n}=t,r=V$(t.retainedBy_UNSTABLE);let i=0;function o(p){return Kp(p.then(v=>(s=Zo(v),v)).catch(v=>{throw s=Gp(v),v}))}let s=ct(t.default)?o(t.default):x$(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:Zo(Ma(t.default));s.contents;let a;const l=new Map;function u(p){return p}function c(p,v){const b=v.then(C=>{var R,S;return((S=((R=p.getState().nextTree)!==null&&R!==void 0?R:p.getState().currentTree).atomValues.get(e))===null||S===void 0?void 0:S.contents)===b&&mE(p,g,C),C}).catch(C=>{var R,S;throw((S=((R=p.getState().nextTree)!==null&&R!==void 0?R:p.getState().currentTree).atomValues.get(e))===null||S===void 0?void 0:S.contents)===b&&D$(p,g,Gp(C)),C});return b}function f(p,v,b){var C;i++;const R=()=>{var L;i--,(L=l.get(p))===null||L===void 0||L.forEach(B=>B()),l.delete(p)};if(p.getState().knownAtoms.add(e),s.state==="loading"){const L=()=>{var B;((B=p.getState().nextTree)!==null&&B!==void 0?B:p.getState().currentTree).atomValues.has(e)||N$(p,g)};s.contents.finally(L)}const S=(C=t.effects)!==null&&C!==void 0?C:t.effects_UNSTABLE;if(S!=null){let L=function(I){if(Q&&I.key===e){const H=M;return H instanceof fi?d(p,v):ct(H)?Kp(H.then(w=>w instanceof fi?s.toPromise():w)):Zo(H)}return k$(p,I)},B=function(I){return L(I).toPromise()},N=function(I){var H;const w=A$(p,(H=p.getState().nextTree)!==null&&H!==void 0?H:p.getState().currentTree,I.key);return Q&&I.key===e&&!(M instanceof fi)?{...w,isSet:!0,loadable:L(I)}:w},M=so,Q=!0,te=!1,Ee=null;const we=I=>H=>{if(Q){const w=L(g),$=w.state==="hasValue"?w.contents:so;M=typeof H=="function"?H($):H,ct(M)&&(M=M.then(j=>(Ee={effect:I,value:j},j)))}else{if(ct(H))throw Ne("Setting atoms to async values is not implemented.");typeof H!="function"&&(Ee={effect:I,value:Ma(H)}),mE(p,g,typeof H=="function"?w=>{const $=Ma(H(w));return Ee={effect:I,value:$},$}:Ma(H))}},z=I=>()=>we(I)(so),F=I=>H=>{var w;const{release:$}=p.subscribeToTransactions(j=>{var ne;let{currentTree:Z,previousTree:me}=j.getState();me||(me=Z);const Se=(ne=Z.atomValues.get(e))!==null&&ne!==void 0?ne:s;if(Se.state==="hasValue"){var pe,De,Ve,Te;const Pe=Se.contents,Ze=(pe=me.atomValues.get(e))!==null&&pe!==void 0?pe:s,ke=Ze.state==="hasValue"?Ze.contents:so;((De=Ee)===null||De===void 0?void 0:De.effect)!==I||((Ve=Ee)===null||Ve===void 0?void 0:Ve.value)!==Pe?H(Pe,ke,!Z.atomValues.has(e)):((Te=Ee)===null||Te===void 0?void 0:Te.effect)===I&&(Ee=null)}},e);l.set(p,[...(w=l.get(p))!==null&&w!==void 0?w:[],$])};for(const I of S)try{const H=I({node:g,storeID:p.storeID,parentStoreID_UNSTABLE:p.parentStoreID,trigger:b,setSelf:we(I),resetSelf:z(I),onSet:F(I),getPromise:B,getLoadable:L,getInfo_UNSTABLE:N});if(H!=null){var k;l.set(p,[...(k=l.get(p))!==null&&k!==void 0?k:[],H])}}catch(H){M=H,te=!0}if(Q=!1,!(M instanceof fi)){var D;const I=te?Gp(M):ct(M)?Kp(c(p,M)):Zo(Ma(M));I.contents,v.atomValues.set(e,I),(D=p.getState().nextTree)===null||D===void 0||D.atomValues.set(e,I)}}return R}function d(p,v){var b,C;return(b=(C=v.atomValues.get(e))!==null&&C!==void 0?C:a)!==null&&b!==void 0?b:s}function h(p,v){if(v.atomValues.has(e))return gt(v.atomValues.get(e));if(v.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const b=v.nonvalidatedAtoms.get(e),C=n.validator(b,so);return a=C instanceof fi?s:Zo(C),a}else return s}function m(){a=void 0}function y(p,v,b){if(v.atomValues.has(e)){const C=gt(v.atomValues.get(e));if(C.state==="hasValue"&&b===C.contents)return new Map}else if(!v.nonvalidatedAtoms.has(e)&&b instanceof fi)return new Map;return a=void 0,new Map().set(e,Zo(b))}function E(){return ux(e)!==void 0&&i<=0}const g=I$({key:e,nodeType:"atom",peek:d,get:h,set:y,init:f,invalidate:m,shouldDeleteConfigOnRelease:E,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return g}function qy(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return P$(n)?L$({...e,default:n}):O$({...e,default:n})}function L$(t){const e=qy({...t,default:so,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof fi?r:gt(t.persistence_UNSTABLE).validator(r,so)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Ys({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof fi?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return C$(n.key,ux(t.key)),n}qy.value=t=>new lx(t);var cx=qy;class M${constructor(e){var n;Ie(this,"_map",void 0),Ie(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var $$={MapCache:M$},F$=$$.MapCache,U$=Object.freeze({__proto__:null,MapCache:F$});const{LRUCache:gE}=ix,{MapCache:j$}=U$,Cc={equality:"reference",eviction:"none",maxSize:1/0};function B$({equality:t=Cc.equality,eviction:e=Cc.eviction,maxSize:n=Cc.maxSize}=Cc){const r=z$(t);return H$(e,n,r)}function z$(t){switch(t){case"reference":return e=>e;case"value":return e=>bh(e)}throw Ne(`Unrecognized equality policy ${t}`)}function H$(t,e,n){switch(t){case"keep-all":return new j$({mapKey:n});case"lru":return new gE({mapKey:n,maxSize:gt(e)});case"most-recent":return new gE({mapKey:n,maxSize:1})}throw Ne(`Unrecognized eviction policy ${t}`)}var fx=B$;const{setConfigDeletionHandler:q$}=$n;function W$(t){var e,n;const r=fx({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,s;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),f=cx({...u,key:`${t.key}__${(o=bh(i))!==null&&o!==void 0?o:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(i,f),q$(f.key,()=>{r.delete(i)}),f}}var G$=W$;const{setConfigDeletionHandler:K$}=$n;let Q$=0;function Y$(t){var e,n;const r=fx({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let s;try{s=r.get(i)}catch(d){throw Ne(`Problem with cache lookup for selector ${t.key}: ${d.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=bh(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${Q$++}`,l=d=>t.get(i)(d),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let f;if(t.set!=null){const d=t.set;f=Ys({key:a,get:l,set:(m,y)=>d(i)(m,y),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else f=Ys({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,f),K$(f.key,()=>{r.delete(i)}),f}}var Gi=Y$;const X$=Gi({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function J$(t){return X$(t)}var Z$=J$;const e4=Gi({key:"__error",get:t=>()=>{throw Ne(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function t4(t){return e4(t)}var n4=t4;function r4(t){return t}var i4=r4;const{loadableWithError:dx,loadableWithPromise:hx,loadableWithValue:px}=ku;function xh(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function o4(t){return t!=null&&!ct(t)}function Ah(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function kg(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function Ns(t,e,n){const r=n.map((i,o)=>i==null?px(e[o]):ct(i)?hx(i):dx(i));return kg(t,r)}function s4(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const a4=Gi({key:"__waitForNone",get:t=>({get:e})=>{const n=Ah(t),[r,i]=xh(e,n);return Ns(t,r,i)},dangerouslyAllowMutability:!0}),l4=Gi({key:"__waitForAny",get:t=>({get:e})=>{const n=Ah(t),[r,i]=xh(e,n);return i.some(o=>!ct(o))?Ns(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())ct(a)&&a.then(l=>{r[s]=l,i[s]=void 0,o(Ns(t,r,i))}).catch(l=>{i[s]=l,o(Ns(t,r,i))})})},dangerouslyAllowMutability:!0}),u4=Gi({key:"__waitForAll",get:t=>({get:e})=>{const n=Ah(t),[r,i]=xh(e,n);if(i.every(s=>s==null))return kg(t,r);const o=i.find(o4);if(o!=null)throw o;return Promise.all(i).then(s=>kg(t,s4(r,s)))},dangerouslyAllowMutability:!0}),c4=Gi({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Ah(t),[r,i]=xh(e,n);return i.every(o=>!ct(o))?Ns(t,r,i):Promise.all(i.map((o,s)=>ct(o)?o.then(a=>{r[s]=a,i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>Ns(t,r,i))},dangerouslyAllowMutability:!0}),f4=Gi({key:"__noWait",get:t=>({get:e})=>{try{return Ys.value(px(e(t)))}catch(n){return Ys.value(ct(n)?hx(n):dx(n))}},dangerouslyAllowMutability:!0});var d4={waitForNone:a4,waitForAny:l4,waitForAll:u4,waitForAllSettled:c4,noWait:f4};const{RecoilLoadable:h4}=ku,{DefaultValue:p4}=$n,{RecoilRoot:m4,useRecoilStoreID:g4}=oi,{isRecoilValue:v4}=Gs,{retentionZone:y4}=ph,{freshSnapshot:_4}=wh,{useRecoilState:w4,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:E4,useRecoilStateLoadable:S4,useRecoilValue:T4,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:R4,useRecoilValueLoadable:b4,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:x4,useResetRecoilState:A4,useSetRecoilState:I4}=$L,{useGotoRecoilSnapshot:C4,useRecoilSnapshot:P4,useRecoilTransactionObserver:k4}=Xb,{useRecoilCallback:N4}=tx,{noWait:D4,waitForAll:V4,waitForAllSettled:O4,waitForAny:L4,waitForNone:M4}=d4;var ma={DefaultValue:p4,isRecoilValue:v4,RecoilLoadable:h4,RecoilEnv:ha,RecoilRoot:m4,useRecoilStoreID:g4,useRecoilBridgeAcrossReactRoots_UNSTABLE:fM,atom:cx,selector:Ys,atomFamily:G$,selectorFamily:Gi,constSelector:Z$,errorSelector:n4,readOnlySelector:i4,noWait:D4,waitForNone:M4,waitForAny:L4,waitForAll:V4,waitForAllSettled:O4,useRecoilValue:T4,useRecoilValueLoadable:b4,useRecoilState:w4,useRecoilStateLoadable:S4,useSetRecoilState:I4,useResetRecoilState:A4,useGetRecoilValueInfo_UNSTABLE:oM,useRecoilRefresher_UNSTABLE:UM,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:x4,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:R4,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:E4,useRecoilCallback:N4,useRecoilTransaction_UNSTABLE:qM,useGotoRecoilSnapshot:C4,useRecoilSnapshot:P4,useRecoilTransactionObserver_UNSTABLE:k4,snapshot_UNSTABLE:_4,useRetain:Uy,retentionZone:y4},$4=ma.RecoilRoot,mx=ma.atom,sr=ma.atomFamily,Wy=ma.useRecoilValueLoadable,pr=ma.useRecoilState,ad=ma.useRecoilStateLoadable,gx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vE=ve.createContext&&ve.createContext(gx),Ni=function(){return Ni=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ni.apply(this,arguments)},F4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function vx(t){return t&&t.map(function(e,n){return ve.createElement(e.tag,Ni({key:n},e.attr),vx(e.child))})}function Ki(t){return function(e){return ve.createElement(U4,Ni({attr:Ni({},t.attr)},e),vx(t.child))}}function U4(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=F4(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ve.createElement("svg",Ni({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Ni(Ni({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ve.createElement("title",null,o),t.children)};return vE!==void 0?ve.createElement(vE.Consumer,null,function(n){return e(n)}):e(gx)}function j4(t){return Ki({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.8 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM102 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM410 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38z"}}]})(t)}var yE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},B4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new z4;const d=o<<2|a>>4;if(r.push(d),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H4=function(t){const e=yx(t);return _x.encodeByteArray(e,!0)},ld=function(t){return H4(t).replace(/\./g,"")},q4=function(t){try{return _x.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=()=>W4().__FIREBASE_DEFAULTS__,K4=()=>{if(typeof process>"u"||typeof yE>"u")return;const t=yE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q4(t[1]);return e&&JSON.parse(e)},Gy=()=>{try{return G4()||K4()||Q4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Y4=t=>{var e,n;return(n=(e=Gy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wx=t=>{const e=Y4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ex=()=>{var t;return(t=Gy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ld(JSON.stringify(n)),ld(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J4(){var t;const e=(t=Gy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z4(){return!J4()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tx(){try{return typeof indexedDB=="object"}catch{return!1}}function eF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="FirebaseError";class Ho extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tF,Object.setPrototypeOf(this,Ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rx.prototype.create)}}class Rx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?nF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ho(i,a,r)}}function nF(t,e){return t.replace(rF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rF=/\{\$([^}]+)}/g;function Ng(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(_E(o)&&_E(s)){if(!Ng(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _E(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new X4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sF(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oF(t){return t===io?void 0:t}function sF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const lF={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},uF=Be.INFO,cF={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},fF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bx{constructor(e){this.name=e,this._logLevel=uF,this._logHandler=fF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const dF=(t,e)=>e.some(n=>t instanceof n);let wE,EE;function hF(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pF(){return EE||(EE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xx=new WeakMap,Dg=new WeakMap,Ax=new WeakMap,Qp=new WeakMap,Ky=new WeakMap;function mF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Di(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&xx.set(n,t)}).catch(()=>{}),Ky.set(e,t),e}function gF(t){if(Dg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Dg.set(t,e)}let Vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ax.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vF(t){Vg=t(Vg)}function yF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yp(this),e,...n);return Ax.set(r,e.sort?e.sort():[e]),Di(r)}:pF().includes(t)?function(...e){return t.apply(Yp(this),e),Di(xx.get(this))}:function(...e){return Di(t.apply(Yp(this),e))}}function _F(t){return typeof t=="function"?yF(t):(t instanceof IDBTransaction&&gF(t),dF(t,hF())?new Proxy(t,Vg):t)}function Di(t){if(t instanceof IDBRequest)return mF(t);if(Qp.has(t))return Qp.get(t);const e=_F(t);return e!==t&&(Qp.set(t,e),Ky.set(e,t)),e}const Yp=t=>Ky.get(t);function wF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Di(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Di(s.result),l.oldVersion,l.newVersion,Di(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const EF=["get","getKey","getAll","getAllKeys","count"],SF=["put","add","delete","clear"],Xp=new Map;function SE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xp.get(e))return Xp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=SF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EF.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Xp.set(e,o),o}vF(t=>({...t,get:(e,n,r)=>SE(e,n)||t.get(e,n,r),has:(e,n)=>!!SE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Og="@firebase/app",TE="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new bx("@firebase/app"),bF="@firebase/app-compat",xF="@firebase/analytics-compat",AF="@firebase/analytics",IF="@firebase/app-check-compat",CF="@firebase/app-check",PF="@firebase/auth",kF="@firebase/auth-compat",NF="@firebase/database",DF="@firebase/database-compat",VF="@firebase/functions",OF="@firebase/functions-compat",LF="@firebase/installations",MF="@firebase/installations-compat",$F="@firebase/messaging",FF="@firebase/messaging-compat",UF="@firebase/performance",jF="@firebase/performance-compat",BF="@firebase/remote-config",zF="@firebase/remote-config-compat",HF="@firebase/storage",qF="@firebase/storage-compat",WF="@firebase/firestore",GF="@firebase/firestore-compat",KF="firebase",QF="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="[DEFAULT]",YF={[Og]:"fire-core",[bF]:"fire-core-compat",[AF]:"fire-analytics",[xF]:"fire-analytics-compat",[CF]:"fire-app-check",[IF]:"fire-app-check-compat",[PF]:"fire-auth",[kF]:"fire-auth-compat",[NF]:"fire-rtdb",[DF]:"fire-rtdb-compat",[VF]:"fire-fn",[OF]:"fire-fn-compat",[LF]:"fire-iid",[MF]:"fire-iid-compat",[$F]:"fire-fcm",[FF]:"fire-fcm-compat",[UF]:"fire-perf",[jF]:"fire-perf-compat",[BF]:"fire-rc",[zF]:"fire-rc-compat",[HF]:"fire-gcs",[qF]:"fire-gcs-compat",[WF]:"fire-fst",[GF]:"fire-fst-compat","fire-js":"fire-js",[KF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Map,Mg=new Map;function XF(t,e){try{t.container.addComponent(e)}catch(n){No.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ru(t){const e=t.name;if(Mg.has(e))return No.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,t);for(const n of cd.values())XF(n,t);return!0}function Ix(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vi=new Rx("app","Firebase",JF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=QF;function Px(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(n||(n=Ex()),!n)throw Vi.create("no-options");const o=cd.get(i);if(o){if(Ng(n,o.options)&&Ng(r,o.config))return o;throw Vi.create("duplicate-app",{appName:i})}const s=new aF(i);for(const l of Mg.values())s.addComponent(l);const a=new ZF(n,r,s);return cd.set(i,a),a}function kx(t=Lg){const e=cd.get(t);if(!e&&t===Lg&&Ex())return Px();if(!e)throw Vi.create("no-app",{appName:t});return e}function Oi(t,e,n){var r;let i=(r=YF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),No.warn(a.join(" "));return}ru(new Xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="firebase-heartbeat-database",tU=1,iu="firebase-heartbeat-store";let Jp=null;function Nx(){return Jp||(Jp=wF(eU,tU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),Jp}async function nU(t){try{return await(await Nx()).transaction(iu).objectStore(iu).get(Dx(t))}catch(e){if(e instanceof Ho)No.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});No.warn(n.message)}}}async function RE(t,e){try{const r=(await Nx()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,Dx(t)),await r.done}catch(n){if(n instanceof Ho)No.warn(n.message);else{const r=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});No.warn(r.message)}}}function Dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=1024,iU=30*24*60*60*1e3;class oU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=iU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bE(),{heartbeatsToSend:r,unsentEntries:i}=sU(this._heartbeatsCache.heartbeats),o=ld(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function bE(){return new Date().toISOString().substring(0,10)}function sU(t,e=rU){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),xE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tx()?eF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xE(t){return ld(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t){ru(new Xs("platform-logger",e=>new TF(e),"PRIVATE")),ru(new Xs("heartbeat",e=>new oU(e),"PRIVATE")),Oi(Og,TE,t),Oi(Og,TE,"esm2017"),Oi("fire-js","")}lU("");var uU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae,Qy=Qy||{},xe=uU||self;function Ih(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Mu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cU(t){return Object.prototype.hasOwnProperty.call(t,Zp)&&t[Zp]||(t[Zp]=++fU)}var Zp="closure_uid_"+(1e9*Math.random()>>>0),fU=0;function dU(t,e,n){return t.call.apply(t.bind,arguments)}function hU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dn=dU:dn=hU,dn.apply(null,arguments)}function Pc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ht(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Qi(){this.s=this.s,this.o=this.o}var pU=0;Qi.prototype.s=!1;Qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),pU!=0)&&cU(this)};Qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Yy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function AE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ih(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function hn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var mU=function(){if(!xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};xe.addEventListener("test",n,e),xe.removeEventListener("test",n,e)}catch{}return t}();function ou(t){return/^[\s\xa0]*$/.test(t)}function Ch(){var t=xe.navigator;return t&&(t=t.userAgent)?t:""}function Ir(t){return Ch().indexOf(t)!=-1}function Xy(t){return Xy[" "](t),t}Xy[" "]=function(){};function gU(t,e){var n=lj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var vU=Ir("Opera"),Js=Ir("Trident")||Ir("MSIE"),Ox=Ir("Edge"),$g=Ox||Js,Lx=Ir("Gecko")&&!(Ch().toLowerCase().indexOf("webkit")!=-1&&!Ir("Edge"))&&!(Ir("Trident")||Ir("MSIE"))&&!Ir("Edge"),yU=Ch().toLowerCase().indexOf("webkit")!=-1&&!Ir("Edge");function Mx(){var t=xe.document;return t?t.documentMode:void 0}var Fg;e:{var em="",tm=function(){var t=Ch();if(Lx)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ox)return/Edge\/([\d\.]+)/.exec(t);if(Js)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(yU)return/WebKit\/(\S+)/.exec(t);if(vU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tm&&(em=tm?tm[1]:""),Js){var nm=Mx();if(nm!=null&&nm>parseFloat(em)){Fg=String(nm);break e}}Fg=em}var Ug;if(xe.document&&Js){var IE=Mx();Ug=IE||parseInt(Fg,10)||void 0}else Ug=void 0;var _U=Ug;function su(t,e){if(hn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Lx){e:{try{Xy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:wU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&su.$.h.call(this)}}Ht(su,hn);var wU={2:"touch",3:"pen",4:"mouse"};su.prototype.h=function(){su.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $u="closure_listenable_"+(1e6*Math.random()|0),EU=0;function SU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++EU,this.fa=this.ia=!1}function Ph(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Jy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function TU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function $x(t){const e={};for(const n in t)e[n]=t[n];return e}const CE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<CE.length;o++)n=CE[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kh(t){this.src=t,this.g={},this.h=0}kh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Bg(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new SU(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function jg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Vx(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Ph(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Bg(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Zy="closure_lm_"+(1e6*Math.random()|0),rm={};function Ux(t,e,n,r,i){if(r&&r.once)return Bx(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ux(t,e[o],n,r,i);return null}return n=n0(n),t&&t[$u]?t.O(e,n,Mu(r)?!!r.capture:!!r,i):jx(t,e,n,!1,r,i)}function jx(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Mu(i)?!!i.capture:!!i,a=t0(t);if(a||(t[Zy]=a=new kh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=RU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mU||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Hx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function RU(){function t(n){return e.call(t.src,t.listener,n)}const e=bU;return t}function Bx(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bx(t,e[o],n,r,i);return null}return n=n0(n),t&&t[$u]?t.P(e,n,Mu(r)?!!r.capture:!!r,i):jx(t,e,n,!0,r,i)}function zx(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)zx(t,e[o],n,r,i);else r=Mu(r)?!!r.capture:!!r,n=n0(n),t&&t[$u]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Bg(o,n,r,i),-1<n&&(Ph(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=t0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bg(e,n,r,i)),(n=-1<t?e[t]:null)&&e0(n))}function e0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[$u])jg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Hx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=t0(e))?(jg(n,t),n.h==0&&(n.src=null,e[Zy]=null)):Ph(t)}}}function Hx(t){return t in rm?rm[t]:rm[t]="on"+t}function bU(t,e){if(t.fa)t=!0;else{e=new su(e,this);var n=t.listener,r=t.la||t.src;t.ia&&e0(t),t=n.call(r,e)}return t}function t0(t){return t=t[Zy],t instanceof kh?t:null}var im="__closure_events_fn_"+(1e9*Math.random()>>>0);function n0(t){return typeof t=="function"?t:(t[im]||(t[im]=function(e){return t.handleEvent(e)}),t[im])}function zt(){Qi.call(this),this.i=new kh(this),this.S=this,this.J=null}Ht(zt,Qi);zt.prototype[$u]=!0;zt.prototype.removeEventListener=function(t,e,n,r){zx(this,t,e,n,r)};function Jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new hn(e,t);else if(e instanceof hn)e.target=e.target||t;else{var i=e;e=new hn(r,t),Fx(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=kc(s,r,!0,e)&&i}if(s=e.g=t,i=kc(s,r,!0,e)&&i,i=kc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=kc(s,r,!1,e)&&i}zt.prototype.N=function(){if(zt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ph(n[r]);delete t.g[e],t.h--}}this.J=null};zt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};zt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function kc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&jg(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var r0=xe.JSON.stringify;class xU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function AU(){var t=i0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class IU{constructor(){this.h=this.g=null}add(e,n){const r=qx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var qx=new xU(()=>new CU,t=>t.reset());class CU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function PU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function kU(t){xe.setTimeout(()=>{throw t},0)}let au,lu=!1,i0=new IU,Wx=()=>{const t=xe.Promise.resolve(void 0);au=()=>{t.then(NU)}};var NU=()=>{for(var t;t=AU();){try{t.h.call(t.g)}catch(n){kU(n)}var e=qx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lu=!1};function Nh(t,e){zt.call(this),this.h=t||1,this.g=e||xe,this.j=dn(this.qb,this),this.l=Date.now()}Ht(Nh,zt);ae=Nh.prototype;ae.ga=!1;ae.T=null;ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jt(this,"tick"),this.ga&&(o0(this),this.start()))}};ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function o0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ae.N=function(){Nh.$.N.call(this),o0(this),delete this.g};function s0(t,e,n){if(typeof t=="function")n&&(t=dn(t,n));else if(t&&typeof t.handleEvent=="function")t=dn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:xe.setTimeout(t,e||0)}function Gx(t){t.g=s0(()=>{t.g=null,t.i&&(t.i=!1,Gx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class DU extends Qi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gx(this)}N(){super.N(),this.g&&(xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uu(t){Qi.call(this),this.h=t,this.g={}}Ht(uu,Qi);var PE=[];function Kx(t,e,n,r){Array.isArray(n)||(n&&(PE[0]=n.toString()),n=PE);for(var i=0;i<n.length;i++){var o=Ux(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Qx(t){Jy(t.g,function(e,n){this.g.hasOwnProperty(n)&&e0(e)},t),t.g={}}uu.prototype.N=function(){uu.$.N.call(this),Qx(this)};uu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Dh(){this.g=!0}Dh.prototype.Ea=function(){this.g=!1};function VU(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function OU(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Ts(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+MU(t,n)+(r?" "+r:"")})}function LU(t,e){t.info(function(){return"TIMEOUT: "+e})}Dh.prototype.info=function(){};function MU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return r0(n)}catch{return e}}var qo={},kE=null;function Vh(){return kE=kE||new zt}qo.Ta="serverreachability";function Yx(t){hn.call(this,qo.Ta,t)}Ht(Yx,hn);function cu(t){const e=Vh();Jt(e,new Yx(e))}qo.STAT_EVENT="statevent";function Xx(t,e){hn.call(this,qo.STAT_EVENT,t),this.stat=e}Ht(Xx,hn);function wn(t){const e=Vh();Jt(e,new Xx(e,t))}qo.Ua="timingevent";function Jx(t,e){hn.call(this,qo.Ua,t),this.size=e}Ht(Jx,hn);function Fu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return xe.setTimeout(function(){t()},e)}var Oh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Zx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function a0(){}a0.prototype.h=null;function NE(t){return t.h||(t.h=t.i())}function eA(){}var Uu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function l0(){hn.call(this,"d")}Ht(l0,hn);function u0(){hn.call(this,"c")}Ht(u0,hn);var zg;function Lh(){}Ht(Lh,a0);Lh.prototype.g=function(){return new XMLHttpRequest};Lh.prototype.i=function(){return{}};zg=new Lh;function ju(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new uu(this),this.P=$U,t=$g?125:void 0,this.V=new Nh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tA}function tA(){this.i=null,this.g="",this.h=!1}var $U=45e3,nA={},Hg={};ae=ju.prototype;ae.setTimeout=function(t){this.P=t};function qg(t,e,n){t.L=1,t.A=$h(ti(e)),t.u=n,t.S=!0,rA(t,null)}function rA(t,e){t.G=Date.now(),Bu(t),t.B=ti(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),fA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new tA,t.g=NA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new DU(dn(t.Pa,t,t.g),t.O)),Kx(t.U,t.g,"readystatechange",t.nb),e=t.I?$x(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),cu(),VU(t.j,t.v,t.B,t.m,t.W,t.u)}ae.nb=function(t){t=t.target;const e=this.M;e&&Cr(t)==3?e.l():this.Pa(t)};ae.Pa=function(t){try{if(t==this.g)e:{const c=Cr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||$g||this.g&&(this.h.h||this.g.ja()||LE(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?cu(3):cu(2)),Mh(this);var n=this.g.da();this.ca=n;t:if(iA(this)){var r=LE(this.g);t="";var i=r.length,o=Cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fo(this),wl(this);var s="";break t}this.h.i=new xe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,OU(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ou(a)){var u=a;break t}}u=null}if(n=u)Ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wg(this,n);else{this.i=!1,this.s=3,wn(12),fo(this),wl(this);break e}}this.S?(oA(this,c,s),$g&&this.i&&c==3&&(Kx(this.U,this.V,"tick",this.mb),this.V.start())):(Ts(this.j,this.m,s,null),Wg(this,s)),c==4&&fo(this),this.i&&!this.J&&(c==4?IA(this.l,this):(this.i=!1,Bu(this)))}else oj(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),fo(this),wl(this)}}}catch{}finally{}};function iA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function oA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=FU(t,n),i==Hg){e==4&&(t.s=4,wn(14),r=!1),Ts(t.j,t.m,null,"[Incomplete Response]");break}else if(i==nA){t.s=4,wn(15),Ts(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ts(t.j,t.m,i,null),Wg(t,i);iA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),m0(e),e.M=!0,wn(11))):(Ts(t.j,t.m,n,"[Invalid Chunked Response]"),fo(t),wl(t))}ae.mb=function(){if(this.g){var t=Cr(this.g),e=this.g.ja();this.o<e.length&&(Mh(this),oA(this,t,e),this.i&&t!=4&&Bu(this))}};function FU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Hg:(n=Number(e.substring(n,r)),isNaN(n)?nA:(r+=1,r+n>e.length?Hg:(e=e.slice(r,r+n),t.o=r+n,e)))}ae.cancel=function(){this.J=!0,fo(this)};function Bu(t){t.Y=Date.now()+t.P,sA(t,t.P)}function sA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Fu(dn(t.lb,t),e)}function Mh(t){t.C&&(xe.clearTimeout(t.C),t.C=null)}ae.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(LU(this.j,this.B),this.L!=2&&(cu(),wn(17)),fo(this),this.s=2,wl(this)):sA(this,this.Y-t)};function wl(t){t.l.H==0||t.J||IA(t.l,t)}function fo(t){Mh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,o0(t.V),Qx(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Wg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Gg(n.i,t))){if(!t.K&&Gg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)hd(n),Bh(n);else break e;p0(n),wn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Fu(dn(n.ib,n),6e3));if(1>=pA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ho(n,11)}else if((t.K||n.g==t)&&hd(n),!ou(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const m=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(c0(o,o.h),o.h=null))}if(r.F){const y=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,lt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=kA(r,r.J?r.pa:null,r.Y),s.K){mA(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Mh(a),Bu(a)),r.g=s}else xA(r);0<n.j.length&&zh(n)}else u[0]!="stop"&&u[0]!="close"||ho(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ho(n,7):h0(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}cu(4)}catch{}}function UU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ih(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function jU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ih(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function aA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ih(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=jU(t),r=UU(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var lA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function wo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof wo){this.h=t.h,fd(this,t.j),this.s=t.s,this.g=t.g,dd(this,t.m),this.l=t.l;var e=t.i,n=new fu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),DE(this,n),this.o=t.o}else t&&(e=String(t).match(lA))?(this.h=!1,fd(this,e[1]||"",!0),this.s=Za(e[2]||""),this.g=Za(e[3]||"",!0),dd(this,e[4]),this.l=Za(e[5]||"",!0),DE(this,e[6]||"",!0),this.o=Za(e[7]||"")):(this.h=!1,this.i=new fu(null,this.h))}wo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(el(e,VE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(el(e,VE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(el(n,n.charAt(0)=="/"?qU:HU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",el(n,GU)),t.join("")};function ti(t){return new wo(t)}function fd(t,e,n){t.j=n?Za(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function dd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function DE(t,e,n){e instanceof fu?(t.i=e,KU(t.i,t.h)):(n||(e=el(e,WU)),t.i=new fu(e,t.h))}function lt(t,e,n){t.i.set(e,n)}function $h(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Za(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function el(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,zU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var VE=/[#\/\?@]/g,HU=/[#\?:]/g,qU=/[#\?]/g,WU=/[#\?@]/g,GU=/#/g;function fu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yi(t){t.g||(t.g=new Map,t.h=0,t.i&&BU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ae=fu.prototype;ae.add=function(t,e){Yi(this),this.i=null,t=ga(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function uA(t,e){Yi(t),e=ga(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cA(t,e){return Yi(t),e=ga(t,e),t.g.has(e)}ae.forEach=function(t,e){Yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ae.ta=function(){Yi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ae.Z=function(t){Yi(this);let e=[];if(typeof t=="string")cA(this,t)&&(e=e.concat(this.g.get(ga(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ae.set=function(t,e){return Yi(this),this.i=null,t=ga(this,t),cA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function fA(t,e,n){uA(t,e),0<n.length&&(t.i=null,t.g.set(ga(t,e),Yy(n)),t.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ga(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function KU(t,e){e&&!t.j&&(Yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(uA(this,r),fA(this,i,n))},t)),t.j=e}var QU=class{constructor(t,e){this.g=t,this.map=e}};function dA(t){this.l=t||YU,xe.PerformanceNavigationTiming?(t=xe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(xe.g&&xe.g.Ka&&xe.g.Ka()&&xe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var YU=10;function hA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function pA(t){return t.h?1:t.g?t.g.size:0}function Gg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function c0(t,e){t.g?t.g.add(e):t.h=e}function mA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}dA.prototype.cancel=function(){if(this.i=gA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function gA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Yy(t.i)}var XU=class{stringify(t){return xe.JSON.stringify(t,void 0)}parse(t){return xe.JSON.parse(t,void 0)}};function JU(){this.g=new XU}function ZU(t,e,n){const r=n||"";try{aA(t,function(i,o){let s=i;Mu(i)&&(s=r0(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ej(t,e){const n=new Dh;if(xe.Image){const r=new Image;r.onload=Pc(Nc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pc(Nc,n,r,"TestLoadImage: error",!1,e),r.onabort=Pc(Nc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pc(Nc,n,r,"TestLoadImage: timeout",!1,e),xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Nc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fh(t){this.l=t.ec||null,this.j=t.ob||!1}Ht(Fh,a0);Fh.prototype.g=function(){return new Uh(this.l,this.j)};Fh.prototype.i=function(t){return function(){return t}}({});function Uh(t,e){zt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=f0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ht(Uh,zt);var f0=0;ae=Uh.prototype;ae.open=function(t,e){if(this.readyState!=f0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,du(this)};ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||xe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zu(this)),this.readyState=f0};ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,du(this)),this.g&&(this.readyState=3,du(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof xe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function vA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zu(this):du(this),this.readyState==3&&vA(this)}};ae.Za=function(t){this.g&&(this.response=this.responseText=t,zu(this))};ae.Ya=function(t){this.g&&(this.response=t,zu(this))};ae.ka=function(){this.g&&zu(this)};function zu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,du(t)}ae.setRequestHeader=function(t,e){this.v.append(t,e)};ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function du(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var tj=xe.JSON.parse;function bt(t){zt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yA,this.L=this.M=!1}Ht(bt,zt);var yA="",nj=/^https?$/i,rj=["POST","PUT"];ae=bt.prototype;ae.Oa=function(t){this.M=t};ae.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zg.g(),this.C=this.u?NE(this.u):NE(zg),this.g.onreadystatechange=dn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){OE(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=xe.FormData&&t instanceof xe.FormData,!(0<=Vx(rj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EA(this),0<this.B&&((this.L=ij(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.ua,this)):this.A=s0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){OE(this,o)}};function ij(t){return Js&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ae.ua=function(){typeof Qy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))};function OE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_A(t),jh(t)}function _A(t){t.F||(t.F=!0,Jt(t,"complete"),Jt(t,"error"))}ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jt(this,"complete"),Jt(this,"abort"),jh(this))};ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jh(this,!0)),bt.$.N.call(this)};ae.La=function(){this.s||(this.G||this.v||this.l?wA(this):this.kb())};ae.kb=function(){wA(this)};function wA(t){if(t.h&&typeof Qy<"u"&&(!t.C[1]||Cr(t)!=4||t.da()!=2)){if(t.v&&Cr(t)==4)s0(t.La,0,t);else if(Jt(t,"readystatechange"),Cr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(lA)[1]||null;!i&&xe.self&&xe.self.location&&(i=xe.self.location.protocol.slice(0,-1)),r=!nj.test(i?i.toLowerCase():"")}n=r}if(n)Jt(t,"complete"),Jt(t,"success");else{t.m=6;try{var o=2<Cr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",_A(t)}}finally{jh(t)}}}}function jh(t,e){if(t.g){EA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function EA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(xe.clearTimeout(t.A),t.A=null)}ae.isActive=function(){return!!this.g};function Cr(t){return t.g?t.g.readyState:0}ae.da=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}};ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),tj(e)}};function LE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case yA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function oj(t){const e={};t=(t.g&&2<=Cr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ou(t[r]))continue;var n=PU(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}TU(e,function(r){return r.join(", ")})}ae.Ia=function(){return this.m};ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function SA(t){let e="";return Jy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function d0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=SA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):lt(t,e,n))}function $a(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function TA(t){this.Ga=0,this.j=[],this.l=new Dh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$a("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$a("baseRetryDelayMs",5e3,t),this.hb=$a("retryDelaySeedMs",1e4,t),this.eb=$a("forwardChannelMaxRetries",2,t),this.xa=$a("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new dA(t&&t.concurrentRequestLimit),this.Ja=new JU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ae=TA.prototype;ae.ra=8;ae.H=1;function h0(t){if(RA(t),t.H==3){var e=t.W++,n=ti(t.I);if(lt(n,"SID",t.K),lt(n,"RID",e),lt(n,"TYPE","terminate"),Hu(t,n),e=new ju(t,t.l,e),e.L=2,e.A=$h(ti(n)),n=!1,xe.navigator&&xe.navigator.sendBeacon)try{n=xe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&xe.Image&&(new Image().src=e.A,n=!0),n||(e.g=NA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Bu(e)}PA(t)}function Bh(t){t.g&&(m0(t),t.g.cancel(),t.g=null)}function RA(t){Bh(t),t.u&&(xe.clearTimeout(t.u),t.u=null),hd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&xe.clearTimeout(t.m),t.m=null)}function zh(t){if(!hA(t.i)&&!t.m){t.m=!0;var e=t.Na;au||Wx(),lu||(au(),lu=!0),i0.add(e,t),t.C=0}}function sj(t,e){return pA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Fu(dn(t.Na,t,e),CA(t,t.C)),t.C++,!0)}ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ju(this,this.l,t);let o=this.s;if(this.U&&(o?(o=$x(o),Fx(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=bA(this,i,e),n=ti(this.I),lt(n,"RID",t),lt(n,"CVER",22),this.F&&lt(n,"X-HTTP-Session-Id",this.F),Hu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(SA(o)))+"&"+e:this.o&&d0(n,this.o,o)),c0(this.i,i),this.bb&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",e),lt(n,"SID","null"),i.aa=!0,qg(i,n,null)):qg(i,n,e),this.H=2}}else this.H==3&&(t?ME(this,t):this.j.length==0||hA(this.i)||ME(this))};function ME(t,e){var n;e?n=e.m:n=t.W++;const r=ti(t.I);lt(r,"SID",t.K),lt(r,"RID",n),lt(r,"AID",t.V),Hu(t,r),t.o&&t.s&&d0(r,t.o,t.s),n=new ju(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=bA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),c0(t.i,n),qg(n,r,e)}function Hu(t,e){t.na&&Jy(t.na,function(n,r){lt(e,r,n)}),t.h&&aA({},function(n,r){lt(e,r,n)})}function bA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{ZU(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function xA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;au||Wx(),lu||(au(),lu=!0),i0.add(e,t),t.A=0}}function p0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Fu(dn(t.Ma,t),CA(t,t.A)),t.A++,!0)}ae.Ma=function(){if(this.u=null,AA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fu(dn(this.jb,this),t)}};ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wn(10),Bh(this),AA(this))};function m0(t){t.B!=null&&(xe.clearTimeout(t.B),t.B=null)}function AA(t){t.g=new ju(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ti(t.wa);lt(e,"RID","rpc"),lt(e,"SID",t.K),lt(e,"AID",t.V),lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&lt(e,"TO",t.qa),lt(e,"TYPE","xmlhttp"),Hu(t,e),t.o&&t.s&&d0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=$h(ti(e)),n.u=null,n.S=!0,rA(n,t)}ae.ib=function(){this.v!=null&&(this.v=null,Bh(this),p0(this),wn(19))};function hd(t){t.v!=null&&(xe.clearTimeout(t.v),t.v=null)}function IA(t,e){var n=null;if(t.g==e){hd(t),m0(t),t.g=null;var r=2}else if(Gg(t.i,e))n=e.F,mA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Vh(),Jt(r,new Jx(r,n)),zh(t)}else xA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&sj(t,e)||r==2&&p0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ho(t,5);break;case 4:ho(t,10);break;case 3:ho(t,6);break;default:ho(t,2)}}}function CA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ho(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dn(t.pb,t);n||(n=new wo("//www.google.com/images/cleardot.gif"),xe.location&&xe.location.protocol=="http"||fd(n,"https"),$h(n)),ej(n.toString(),r)}else wn(2);t.H=0,t.h&&t.h.za(e),PA(t),RA(t)}ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),wn(2)):(this.l.info("Failed to ping google.com"),wn(1))};function PA(t){if(t.H=0,t.ma=[],t.h){const e=gA(t.i);(e.length!=0||t.j.length!=0)&&(AE(t.ma,e),AE(t.ma,t.j),t.i.i.length=0,Yy(t.j),t.j.length=0),t.h.ya()}}function kA(t,e,n){var r=n instanceof wo?ti(n):new wo(n);if(r.g!="")e&&(r.g=e+"."+r.g),dd(r,r.m);else{var i=xe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new wo(null);r&&fd(o,r),e&&(o.g=e),i&&dd(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&lt(r,n,e),lt(r,"VER",t.ra),Hu(t,r),r}function NA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new bt(new Fh({ob:n})):new bt(t.va),e.Oa(t.J),e}ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function DA(){}ae=DA.prototype;ae.Ba=function(){};ae.Aa=function(){};ae.za=function(){};ae.ya=function(){};ae.isActive=function(){return!0};ae.Va=function(){};function pd(){if(Js&&!(10<=Number(_U)))throw Error("Environmental error: no available transport.")}pd.prototype.g=function(t,e){return new Wn(t,e)};function Wn(t,e){zt.call(this),this.g=new TA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ou(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ou(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new va(this)}Ht(Wn,zt);Wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;wn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=kA(t,null,t.Y),zh(t)};Wn.prototype.close=function(){h0(this.g)};Wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=r0(t),t=n);e.j.push(new QU(e.fb++,t)),e.H==3&&zh(e)};Wn.prototype.N=function(){this.g.h=null,delete this.j,h0(this.g),delete this.g,Wn.$.N.call(this)};function VA(t){l0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ht(VA,l0);function OA(){u0.call(this),this.status=1}Ht(OA,u0);function va(t){this.g=t}Ht(va,DA);va.prototype.Ba=function(){Jt(this.g,"a")};va.prototype.Aa=function(t){Jt(this.g,new VA(t))};va.prototype.za=function(t){Jt(this.g,new OA)};va.prototype.ya=function(){Jt(this.g,"b")};function aj(){this.blockSize=-1}function Sr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ht(Sr,aj);Sr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function om(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Sr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)om(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){om(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){om(this,r),i=0;break}}this.h=i,this.i+=e};Sr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var lj={};function g0(t){return-128<=t&&128>t?gU(t,function(e){return new Xe([e|0],0>e?-1:0)}):new Xe([t|0],0>t?-1:0)}function Pr(t){if(isNaN(t)||!isFinite(t))return Ds;if(0>t)return Qt(Pr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Kg;return new Xe(e,0)}function LA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Qt(LA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pr(Math.pow(e,8)),r=Ds,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Pr(Math.pow(e,o)),r=r.R(o).add(Pr(s))):(r=r.R(n),r=r.add(Pr(s)))}return r}var Kg=4294967296,Ds=g0(0),Qg=g0(1),$E=g0(16777216);ae=Xe.prototype;ae.ea=function(){if(er(this))return-Qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Kg+r)*e,e*=Kg}return t};ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Kr(this))return"0";if(er(this))return"-"+Qt(this).toString(t);for(var e=Pr(Math.pow(t,6)),n=this,r="";;){var i=gd(n,e).g;n=md(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Kr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Kr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function er(t){return t.h==-1}ae.X=function(t){return t=md(this,t),er(t)?-1:Kr(t)?0:1};function Qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Xe(n,~t.h).add(Qg)}ae.abs=function(){return er(this)?Qt(this):this};ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Xe(n,n[n.length-1]&-2147483648?-1:0)};function md(t,e){return t.add(Qt(e))}ae.R=function(t){if(Kr(this)||Kr(t))return Ds;if(er(this))return er(t)?Qt(this).R(Qt(t)):Qt(Qt(this).R(t));if(er(t))return Qt(this.R(Qt(t)));if(0>this.X($E)&&0>t.X($E))return Pr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Dc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Dc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Dc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Dc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Xe(n,0)};function Dc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fa(t,e){this.g=t,this.h=e}function gd(t,e){if(Kr(e))throw Error("division by zero");if(Kr(t))return new Fa(Ds,Ds);if(er(t))return e=gd(Qt(t),e),new Fa(Qt(e.g),Qt(e.h));if(er(e))return e=gd(t,Qt(e)),new Fa(Qt(e.g),e.h);if(30<t.g.length){if(er(t)||er(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Qg,r=e;0>=r.X(t);)n=FE(n),r=FE(r);var i=es(n,1),o=es(r,1);for(r=es(r,2),n=es(n,2);!Kr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=es(r,1),n=es(n,1)}return e=md(t,i.R(e)),new Fa(i,e)}for(i=Ds;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Pr(n),s=o.R(e);er(s)||0<s.X(t);)n-=r,o=Pr(n),s=o.R(e);Kr(o)&&(o=Qg),i=i.add(o),t=md(t,s)}return new Fa(i,t)}ae.gb=function(t){return gd(this,t).h};ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Xe(n,this.h&t.h)};ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Xe(n,this.h|t.h)};ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Xe(n,this.h^t.h)};function FE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Xe(n,t.h)}function es(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Xe(i,t.h)}pd.prototype.createWebChannel=pd.prototype.g;Wn.prototype.send=Wn.prototype.u;Wn.prototype.open=Wn.prototype.m;Wn.prototype.close=Wn.prototype.close;Oh.NO_ERROR=0;Oh.TIMEOUT=8;Oh.HTTP_ERROR=6;Zx.COMPLETE="complete";eA.EventType=Uu;Uu.OPEN="a";Uu.CLOSE="b";Uu.ERROR="c";Uu.MESSAGE="d";zt.prototype.listen=zt.prototype.O;bt.prototype.listenOnce=bt.prototype.P;bt.prototype.getLastError=bt.prototype.Sa;bt.prototype.getLastErrorCode=bt.prototype.Ia;bt.prototype.getStatus=bt.prototype.da;bt.prototype.getResponseJson=bt.prototype.Wa;bt.prototype.getResponseText=bt.prototype.ja;bt.prototype.send=bt.prototype.ha;bt.prototype.setWithCredentials=bt.prototype.Oa;Sr.prototype.digest=Sr.prototype.l;Sr.prototype.reset=Sr.prototype.reset;Sr.prototype.update=Sr.prototype.j;Xe.prototype.add=Xe.prototype.add;Xe.prototype.multiply=Xe.prototype.R;Xe.prototype.modulo=Xe.prototype.gb;Xe.prototype.compare=Xe.prototype.X;Xe.prototype.toNumber=Xe.prototype.ea;Xe.prototype.toString=Xe.prototype.toString;Xe.prototype.getBits=Xe.prototype.D;Xe.fromNumber=Pr;Xe.fromString=LA;var uj=function(){return new pd},cj=function(){return Vh()},sm=Oh,fj=Zx,dj=qo,UE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vc=eA,hj=bt,pj=Sr,Vs=Xe;const jE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new bx("@firebase/firestore");function Ua(){return Do.logLevel}function se(t,...e){if(Do.logLevel<=Be.DEBUG){const n=e.map(v0);Do.debug(`Firestore (${ya}): ${t}`,...n)}}function Mr(t,...e){if(Do.logLevel<=Be.ERROR){const n=e.map(v0);Do.error(`Firestore (${ya}): ${t}`,...n)}}function Zs(t,...e){if(Do.logLevel<=Be.WARN){const n=e.map(v0);Do.warn(`Firestore (${ya}): ${t}`,...n)}}function v0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+t;throw Mr(e),new Error(e)}function rt(t,e){t||be()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ho{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class gj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vj{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new MA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new un(e)}}class yj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _j{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ej{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new wj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Sj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Lt(0,0))}static max(){return new Ae(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends hu{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const Tj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends hu{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return Tj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new fe(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new fe(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}function Rj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Ui(i,_e.empty(),e)}function bj(t){return new Ui(t.readTime,t.key,-1)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(Ae.min(),_e.empty(),-1)}static max(){return new Ui(Ae.max(),_e.empty(),-1)}}function xj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ij{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==Aj)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(i=>i?G.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new G((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new G((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Yr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new El(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=_0(r.target.error);this.V.reject(new El(e,i))}}static open(e,n,r,i){try{return new y0(n,e.transaction(i,r))}catch(o){throw new El(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Pj(n)}}class po{constructor(e,n,r){this.name=e,this.version=n,this.p=r,po.S(ud())===12.2&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),ao(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Tx())return!1;if(po.C())return!0;const e=ud(),n=po.S(e),r=0<n&&n<10,i=po.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(se("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new El(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new fe(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new fe(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new El(e,s))},i.onupgradeneeded=o=>{se("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{se("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=y0.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),G.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(se("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Cj{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ao(this.k.delete())}}class El extends fe{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Wu(t){return t.name==="IndexedDbTransactionError"}class Pj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(se("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ao(r)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),ao(this.store.add(e))}get(e){return ao(this.store.get(e)).next(n=>(n===void 0&&(n=null),se("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),ao(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),ao(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new G((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new G((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new G((r,i)=>{n.onerror=o=>{const s=_0(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new G((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new Cj(a),u=n(a.primaryKey,a.value,l);if(u instanceof G){const c=u.catch(f=>(l.done(),G.reject(f)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>G.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ao(t){return new G((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=_0(r.target.error);n(i)}})}let BE=!1;function _0(t){const e=po.S(ud());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return BE||(BE=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}w0._e=-1;function Hh(t){return t==null}function vd(t){return t===0&&1/t==-1/0}function kj(t){return typeof t=="number"&&Number.isInteger(t)&&!vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=o??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Zt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new UA("Invalid base64 string: "+o):o}}(e);return new gn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const Nj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(rt(!!t),typeof t=="string"){let e=0;const n=Nj.exec(t);if(rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vo(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function S0(t){const e=t.mapValue.fields.__previous_value__;return E0(e)?S0(e):e}function pu(t){const e=ji(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class mu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E0(t)?4:Vj(t)?9007199254740991:10:be()}function $r(t,e){if(t===e)return!0;const n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ji(i.timestampValue),a=ji(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Vo(i.bytesValue).isEqual(Vo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Pt(i.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pt(i.integerValue)===Pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Pt(i.doubleValue),a=Pt(o.doubleValue);return s===a?vd(s)===vd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ea(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(zE(s)!==zE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!$r(s[l],a[l])))return!1;return!0}(t,e);default:return be()}}function gu(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function ta(t,e){if(t===e)return 0;const n=Oo(t),r=Oo(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Pt(o.integerValue||o.doubleValue),l=Pt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qE(t.timestampValue,e.timestampValue);case 4:return qE(pu(t),pu(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Vo(o),l=Vo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=qe(a[u],l[u]);if(c!==0)return c}return qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=qe(Pt(o.latitude),Pt(s.latitude));return a!==0?a:qe(Pt(o.longitude),Pt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ta(a[u],l[u]);if(c)return c}return qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Lc.mapValue&&s===Lc.mapValue)return 0;if(o===Lc.mapValue)return 1;if(s===Lc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=qe(l[f],c[f]);if(d!==0)return d;const h=ta(a[l[f]],u[c[f]]);if(h!==0)return h}return qe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw be()}}function qE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=ji(t),r=ji(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function na(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Yg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Yg(n.fields[s])}`;return i+"}"}(t.mapValue):be()}function WE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xg(t){return!!t&&"integerValue"in t}function T0(t){return!!t&&"arrayValue"in t}function GE(t){return!!t&&"nullValue"in t}function KE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vf(t){return!!t&&"mapValue"in t}function Sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Vj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Sl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new An(Sl(this.value))}}function jA(t){const e=[];return Wo(t.fields,(n,r)=>{const i=new Yt([n]);if(vf(r)){const o=jA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new fn(e,0,Ae.min(),Ae.min(),Ae.min(),An.empty(),0)}static newFoundDocument(e,n,r,i){return new fn(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new fn(e,2,n,Ae.min(),Ae.min(),An.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ae.min(),Ae.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.position=e,this.inclusive=n}}function QE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(s.referenceValue),n.key):r=ta(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Oj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{}class Nt extends BA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mj(e,n,r):n==="array-contains"?new Uj(e,r):n==="in"?new jj(e,r):n==="not-in"?new Bj(e,r):n==="array-contains-any"?new zj(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $j(e,r):new Fj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ta(n,this.value)):n!==null&&Oo(this.value)===Oo(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends BA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Tr(e,n)}matches(e){return zA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function zA(t){return t.op==="and"}function HA(t){return Lj(t)&&zA(t)}function Lj(t){for(const e of t.filters)if(e instanceof Tr)return!1;return!0}function Jg(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+na(t.value);if(HA(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function qA(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof Tr?function(r,i){return i instanceof Tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qA(s,i.filters[a]),!0):!1}(t,e):void be()}function WA(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`}(t):t instanceof Tr?function(n){return n.op.toString()+" {"+n.getFilters().map(WA).join(" ,")+"}"}(t):"Filter"}class Mj extends Nt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class $j extends Nt{constructor(e,n){super(e,"in",n),this.keys=GA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fj extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=GA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Uj extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return T0(n)&&gu(n.arrayValue,this.value)}}class jj extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class Bj extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gu(this.value.arrayValue,n)}}class zj extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!T0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function XE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Hj(t,e,n,r,i,o,s)}function R0(t){const e=Ce(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),e.ce=n}return e.ce}function b0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Oj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YE(t.startAt,e.startAt)&&YE(t.endAt,e.endAt)}function Zg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function qj(t,e,n,r,i,o,s,a){return new _a(t,e,n,r,i,o,s,a)}function x0(t){return new _a(t)}function JE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KA(t){return t.collectionGroup!==null}function Tl(t){const e=Ce(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new vu(o,r))}),n.has(Yt.keyField().canonicalString())||e.le.push(new vu(Yt.keyField(),r))}return e.le}function Vr(t){const e=Ce(t);return e.he||(e.he=Wj(e,Tl(t))),e.he}function Wj(t,e){if(t.limitType==="F")return XE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new vu(i.field,o)});const n=t.endAt?new yd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yd(t.startAt.position,t.startAt.inclusive):null;return XE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e){const n=t.filters.concat([e]);return new _a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _d(t,e,n){return new _a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qh(t,e){return b0(Vr(t),Vr(e))&&t.limitType===e.limitType}function QA(t){return`${R0(Vr(t))}|lt:${t.limitType}`}function as(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WA(i)).join(", ")}]`),Hh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>na(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>na(i)).join(",")),`Target(${r})`}(Vr(t))}; limitType=${t.limitType})`}function Wh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Tl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=QE(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Tl(r),i)||r.endAt&&!function(s,a,l){const u=QE(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Tl(r),i))}(t,e)}function Gj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YA(t){return(e,n)=>{let r=!1;for(const i of Tl(t)){const o=Kj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Kj(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ta(l,u):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return FA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=new St(_e.comparator);function ni(){return Qj}const XA=new St(_e.comparator);function tl(...t){let e=XA;for(const n of t)e=e.insert(n.key,n);return e}function JA(t){let e=XA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return Rl()}function ZA(){return Rl()}function Rl(){return new wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const Yj=new St(_e.comparator),Xj=new Zt(_e.comparator);function Le(...t){let e=Xj;for(const n of t)e=e.add(n);return e}const Jj=new Zt(qe);function Zj(){return Jj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function tI(t){return{integerValue:""+t}}function e3(t,e){return kj(e)?tI(e):eI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function t3(t,e,n){return t instanceof wd?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&E0(o)&&(o=S0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof yu?rI(t,e):t instanceof _u?iI(t,e):function(i,o){const s=nI(i,o),a=ZE(s)+ZE(i.Ie);return Xg(s)&&Xg(i.Ie)?tI(a):eI(i.serializer,a)}(t,e)}function n3(t,e,n){return t instanceof yu?rI(t,e):t instanceof _u?iI(t,e):n}function nI(t,e){return t instanceof Ed?function(r){return Xg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class wd extends Gh{}class yu extends Gh{constructor(e){super(),this.elements=e}}function rI(t,e){const n=oI(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class _u extends Gh{constructor(e){super(),this.elements=e}}function iI(t,e){let n=oI(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class Ed extends Gh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ZE(t){return Pt(t.integerValue||t.doubleValue)}function oI(t){return T0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function r3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yu&&i instanceof yu||r instanceof _u&&i instanceof _u?ea(r.elements,i.elements,$r):r instanceof Ed&&i instanceof Ed?$r(r.Ie,i.Ie):r instanceof wd&&i instanceof wd}(t.transform,e.transform)}class i3{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kh{}function sI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new A0(t.key,wr.none()):new Gu(t.key,t.data,wr.none());{const n=t.data,r=An.empty();let i=new Zt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Xi(t.key,r,new Bn(i.toArray()),wr.none())}}function o3(t,e,n){t instanceof Gu?function(i,o,s){const a=i.value.clone(),l=t1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xi?function(i,o,s){if(!yf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=t1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(aI(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bl(t,e,n,r){return t instanceof Gu?function(o,s,a,l){if(!yf(o.precondition,s))return a;const u=o.value.clone(),c=n1(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xi?function(o,s,a,l){if(!yf(o.precondition,s))return a;const u=n1(o.fieldTransforms,l,s),c=s.data;return c.setAll(aI(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return yf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function s3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=nI(r.transform,i||null);o!=null&&(n===null&&(n=An.empty()),n.set(r.field,o))}return n||null}function e1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ea(r,i,(o,s)=>r3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gu extends Kh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xi extends Kh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function t1(t,e,n){const r=new Map;rt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,n3(s,a,n[i]))}return r}function n1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,t3(o,s,e))}return r}class A0 extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a3 extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&o3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=sI(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(n,r)=>e1(n,r))&&ea(this.baseMutations,e.baseMutations,(n,r)=>e1(n,r))}}class I0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length);let i=function(){return Yj}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new I0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ue;function f3(t){switch(t){default:return be();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function lI(t){if(t===void 0)return Mr("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ct.OK:return q.OK;case Ct.CANCELLED:return q.CANCELLED;case Ct.UNKNOWN:return q.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return q.INTERNAL;case Ct.UNAVAILABLE:return q.UNAVAILABLE;case Ct.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ct.NOT_FOUND:return q.NOT_FOUND;case Ct.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ct.ABORTED:return q.ABORTED;case Ct.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ct.DATA_LOSS:return q.DATA_LOSS;default:return be()}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Vs([4294967295,4294967295],0);function r1(t){const e=d3().encode(t),n=new pj;return n.update(e),new Uint8Array(n.digest())}function i1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Vs([n,r],0),new Vs([i,o],0)]}class C0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nl(`Invalid padding: ${n}`);if(r<0)throw new nl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Vs.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Vs.fromNumber(r)));return i.compare(h3)===1&&(i=new Vs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=r1(e),[r,i]=i1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new C0(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=r1(e),[r,i]=i1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qh(Ae.min(),i,new St(qe),ni(),Le())}}class Ku{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ku(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class uI{constructor(e,n){this.targetId=e,this.fe=n}}class cI{constructor(e,n,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class o1{constructor(){this.ge=0,this.pe=a1(),this.ye=gn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Le(),n=Le(),r=Le();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new Ku(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=a1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,rt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class p3{constructor(e){this.Le=e,this.ke=new Map,this.qe=ni(),this.Qe=s1(),this.Ke=new St(qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Zg(o))if(r===0){const s=new _e(o.path);this.We(n,s,fn.newNoDocument(s,Ae.min()))}else rt(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Vo(r).toUint8Array()}catch(l){if(l instanceof UA)return Zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new C0(s,i,o)}catch(l){return Zs(l instanceof nl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Zg(a.target)){const l=new _e(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,fn.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Le();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Qh(e,n,this.Ke,this.qe,r);return this.qe=ni(),this.Qe=s1(),this.Ke=new St(qe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new o1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Zt(qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new o1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function s1(){return new St(_e.comparator)}function a1(){return new St(_e.comparator)}const m3={asc:"ASCENDING",desc:"DESCENDING"},g3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v3={and:"AND",or:"OR"};class y3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tv(t,e){return t.useProto3Json||Hh(e)?e:{value:e}}function Sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _3(t,e){return Sd(t,e.toTimestamp())}function Or(t){return rt(!!t),Ae.fromTimestamp(function(n){const r=ji(n);return new Lt(r.seconds,r.nanos)}(t))}function P0(t,e){return nv(t,e).canonicalString()}function nv(t,e){const n=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dI(t){const e=ut.fromString(t);return rt(vI(e)),e}function rv(t,e){return P0(t.databaseId,e.path)}function am(t,e){const n=dI(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(pI(n))}function hI(t,e){return P0(t.databaseId,e)}function w3(t){const e=dI(t);return e.length===4?ut.emptyPath():pI(e)}function iv(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pI(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l1(t,e,n){return{name:rv(t,e),fields:n.value.mapValue.fields}}function E3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(rt(c===void 0||typeof c=="string"),gn.fromBase64String(c||"")):(rt(c===void 0||c instanceof Uint8Array),gn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?q.UNKNOWN:lI(u.code);return new fe(c,u.message||"")}(s);n=new cI(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=am(t,r.document.name),o=Or(r.document.updateTime),s=r.document.createTime?Or(r.document.createTime):Ae.min(),a=new An({mapValue:{fields:r.document.fields}}),l=fn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new _f(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=am(t,r.document),o=r.readTime?Or(r.readTime):Ae.min(),s=fn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new _f([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=am(t,r.document),o=r.removedTargetIds||[];n=new _f([],o,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new c3(i,o),a=r.targetId;n=new uI(a,s)}}return n}function S3(t,e){let n;if(e instanceof Gu)n={update:l1(t,e.key,e.value)};else if(e instanceof A0)n={delete:rv(t,e.key)};else if(e instanceof Xi)n={update:l1(t,e.key,e.data),updateMask:k3(e.fieldMask)};else{if(!(e instanceof a3))return be();n={verify:rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof wd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _u)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ed)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(t,e.precondition)),n}function T3(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Or(i.updateTime):Or(o);return s.isEqual(Ae.min())&&(s=Or(o)),new i3(s,i.transformResults||[])}(n,e))):[]}function R3(t,e){return{documents:[hI(t,e.path)]}}function b3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hI(t,i);const o=function(u){if(u.length!==0)return gI(Tr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:ls(d.field),direction:I3(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=tv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function x3(t){let e=w3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=mI(f);return d instanceof Tr&&HA(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(m){return new vu(us(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Hh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new yd(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,h=f.values||[];return new yd(h,d)}(n.endAt)),qj(e,i,s,o,a,"F",l,u)}function A3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=us(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=us(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=us(n.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=us(n.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tr.create(n.compositeFilter.filters.map(r=>mI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function I3(t){return m3[t]}function C3(t){return g3[t]}function P3(t){return v3[t]}function ls(t){return{fieldPath:t.canonicalString()}}function us(t){return Yt.fromServerFormat(t.fieldPath)}function gI(t){return t instanceof Nt?function(n){if(n.op==="=="){if(KE(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NAN"}};if(GE(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KE(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NOT_NAN"}};if(GE(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(n.field),op:C3(n.op),value:n.value}}}(t):t instanceof Tr?function(n){const r=n.getFilters().map(i=>gI(i));return r.length===1?r[0]:{compositeFilter:{op:P3(n.op),filters:r}}}(t):be()}function k3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r,i,o=Ae.min(),s=Ae.min(),a=gn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.ct=e}}function D3(t){const e=x3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_d(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this._n=new O3}addToCollectionParentIndex(e,n){return this._n.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Ui.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class O3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(ut.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ra(0)}static Bn(){return new ra(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.changes=new wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bl(r.mutation,i,Bn.empty(),Lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const i=mo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=tl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ni();const s=Rl(),a=function(){return Rl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Xi)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),bl(c.mutation,u,c.mutation.getFieldMask(),Lt.now())):s.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new M3(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Rl();let i=new St((s,a)=>s-a),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Bn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Le()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=ZA();c.forEach(d=>{if(!o.has(d)){const h=sI(n.get(d),r.get(d));h!==null&&f.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return G.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):G.resolve(mo());let a=-1,l=o;return s.next(u=>G.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?G.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Le())).next(c=>({batchId:a,changes:JA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=tl();return this.indexManager.getCollectionParents(e,o).next(a=>G.forEach(a,l=>{const u=function(f,d){return new _a(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,fn.newInvalidDocument(c)))});let a=tl();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&bl(c.mutation,u,Bn.empty(),Lt.now()),Wh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return G.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:D3(i.bundledQuery),readTime:Or(i.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.overlays=new St(_e.comparator),this.hr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mo();return G.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const i=mo(),o=n.length+1,s=new _e(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new St((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=mo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=mo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return G.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new u3(n,r));let o=this.hr.get(n);o===void 0&&(o=Le(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.Pr=new Zt(Ut.Ir),this.Tr=new Zt(Ut.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ut(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new _e(new ut([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new _e(new ut([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=Le();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return _e.comparator(e.key,n.key)||qe(e.pr,n.pr)}static Er(e,n){return qe(e.pr,n.pr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Zt(Ut.Ir)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new l3(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(s)}lookupMutationBatch(e,n){return G.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(qe);return n.forEach(i=>{const o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),G.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const s=new Ut(new _e(o),0);let a=new Zt(qe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),G.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return G.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ut(n,0),i=this.wr.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.vr=e,this.docs=function(){return new St(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=ni();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ni();const s=n.path,a=new _e(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||xj(bj(c),r)<=0||(i.has(c.key)||Wh(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,n,r,i){be()}Fr(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new z3(this)}getSize(e){return G.resolve(this.size)}}class z3 extends L3{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.persistence=e,this.Mr=new wa(n=>R0(n),b0),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Or=0,this.Nr=new k0,this.targetCount=0,this.Br=ra.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),G.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ra(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.qn(n),G.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),G.waitFor(o).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.Lr={},this.overlays={},this.kr=new w0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new H3(this),this.indexManager=new V3,this.remoteDocumentCache=function(i){return new B3(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new N3(n),this.$r=new F3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new j3(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new W3(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return G.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class W3 extends Ij{constructor(e){super(),this.currentSequenceNumber=e}}class N0{constructor(e){this.persistence=e,this.zr=new k0,this.jr=null}static Hr(e){return new N0(e)}get Jr(){if(this.jr)return this.jr;throw be()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),G.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Jr,r=>{const i=_e.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Ae.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return G.or([()=>G.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Le(),i=Le();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new D0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Z4()?8:po.v(ud())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new G3;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ua()<=Be.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",as(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),G.resolve()):(Ua()<=Be.DEBUG&&se("QueryEngine","Query:",as(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ua()<=Be.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",as(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):G.resolve())}ji(e,n){if(JE(n))return G.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_d(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Le(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,_d(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return JE(n)||i.isEqual(Ae.min())?G.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?G.resolve(null):(Ua()<=Be.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),as(n)),this.es(e,s,n,Rj(i,-1)).next(a=>a))})}Zi(e,n){let r=new Zt(YA(e));return n.forEach((i,o)=>{Wh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ua()<=Be.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",as(n)),this.zi.getDocumentsMatchingQuery(e,n,Ui.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new St(qe),this.rs=new wa(o=>R0(o),b0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $3(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Y3(t,e,n,r){return new Q3(t,e,n,r)}async function yI(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Le();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function X3(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let h=G.resolve();return d.forEach(m=>{h=h.next(()=>c.getEntry(l,m)).next(y=>{const E=u.docVersions.get(m);rt(E!==null),y.version.compareTo(E)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Le();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _I(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function J3(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,f)));let h=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(gn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(y,E,g){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(o,h))});let l=ni(),u=Le();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Z3(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Ae.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return G.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function Z3(t,e,n){let r=Le(),i=Le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ni();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function e9(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t9(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,G.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Ei(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ov(t,e,n){const r=Ce(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Wu(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function u1(t,e,n){const r=Ce(t);let i=Ae.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Ce(l),d=f.rs.get(c);return d!==void 0?G.resolve(f.ns.get(d)):f.Qr.getTargetData(u,c)}(r,s,Vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Ae.min(),n?o:Le())).next(a=>(n9(r,Gj(e),a),{documents:a,hs:o})))}function n9(t,e,n){let r=t.ss.get(e)||Ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class c1{constructor(){this.activeTargetIds=Zj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r9{constructor(){this.no=new c1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new c1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function lm(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class a9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=lm(),l=this.bo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(se("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Zs("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=o9[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=lm();return new Promise((s,a)=>{const l=new hj;l.setWithCredentials(!0),l.listenOnce(fj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sm.NO_ERROR:const c=l.getResponseJson();se(sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case sm.TIMEOUT:se(sn,`RPC '${e}' ${o} timed out`),a(new fe(q.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const f=l.getStatus();if(se(sn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const m=function(E){const g=E.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(g)>=0?g:q.UNKNOWN}(h.status);a(new fe(m,h.message))}else a(new fe(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(q.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{se(sn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);se(sn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=lm(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=uj(),a=cj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");se(sn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let d=!1,h=!1;const m=new s9({lo:E=>{h?se(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(d||(se(sn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),se(sn,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},ho:()=>f.close()}),y=(E,g,p)=>{E.listen(g,v=>{try{p(v)}catch(b){setTimeout(()=>{throw b},0)}})};return y(f,Vc.EventType.OPEN,()=>{h||se(sn,`RPC '${e}' stream ${i} transport opened.`)}),y(f,Vc.EventType.CLOSE,()=>{h||(h=!0,se(sn,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),y(f,Vc.EventType.ERROR,E=>{h||(h=!0,Zs(sn,`RPC '${e}' stream ${i} transport errored:`,E),m.Vo(new fe(q.UNAVAILABLE,"The operation could not be completed")))}),y(f,Vc.EventType.MESSAGE,E=>{var g;if(!h){const p=E.data[0];rt(!!p);const v=p,b=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(b){se(sn,`RPC '${e}' stream ${i} received error:`,b);const C=b.status;let R=function(D){const L=Ct[D];if(L!==void 0)return lI(L)}(C),S=b.message;R===void 0&&(R=q.INTERNAL,S="Unknown error status: "+C+" with message "+b.message),h=!0,m.Vo(new fe(R,S)),f.close()}else se(sn,`RPC '${e}' stream ${i} received:`,p),m.mo(p)}}),y(a,dj.STAT_EVENT,E=>{E.stat===UE.PROXY?se(sn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===UE.NOPROXY&&se(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t){return new y3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new wI(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new fe(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l9 extends EI{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=E3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ae.min():s.readTime?Or(s.readTime):Ae.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=iv(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Zg(l)?{documents:R3(o,l)}:{query:b3(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=fI(o,s.resumeToken);const u=tv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ae.min())>0){a.readTime=Sd(o,s.snapshotVersion.toTimestamp());const u=tv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=A3(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=iv(this.serializer),n.removeTarget=e,this.t_(n)}}class u9 extends EI{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=T3(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.T_(r,n)}return rt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=iv(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>S3(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new fe(q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,nv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(q.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,nv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(q.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class f9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Mr(n),this.g_=!1):se("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Go(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.v_.add(4),await Qu(u),u.x_.set("Unknown"),u.v_.delete(4),await Xh(u)}(this))})}),this.x_=new f9(r,i)}}async function Xh(t){if(Go(t))for(const e of t.F_)await e(!0)}async function Qu(t){for(const e of t.F_)await e(!1)}function SI(t,e){const n=Ce(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),L0(n)?O0(n):Ea(n).Jo()&&V0(n,e))}function TI(t,e){const n=Ce(t),r=Ea(n);n.C_.delete(e),r.Jo()&&RI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Go(n)&&n.x_.set("Unknown"))}function V0(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ea(t).c_(e)}function RI(t,e){t.O_.Oe(e),Ea(t).l_(e)}function O0(t){t.O_=new p3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ea(t).start(),t.x_.p_()}function L0(t){return Go(t)&&!Ea(t).Ho()&&t.C_.size>0}function Go(t){return Ce(t).v_.size===0}function bI(t){t.O_=void 0}async function h9(t){t.C_.forEach((e,n)=>{V0(t,e)})}async function p9(t,e){bI(t),L0(t)?(t.x_.S_(e),O0(t)):t.x_.set("Unknown")}async function m9(t,e,n){if(t.x_.set("Online"),e instanceof cI&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Td(t,r)}else if(e instanceof _f?t.O_.$e(e):e instanceof uI?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ae.min()))try{const r=await _I(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(gn.EMPTY_BYTE_STRING,c.snapshotVersion)),RI(o,l);const f=new Ei(c.target,l,u,c.sequenceNumber);V0(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await Td(t,r)}}async function Td(t,e,n){if(!Wu(e))throw e;t.v_.add(1),await Qu(t),t.x_.set("Offline"),n||(n=()=>_I(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Xh(t)})}function xI(t,e){return e().catch(n=>Td(t,n,e))}async function Jh(t){const e=Ce(t),n=Bi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;g9(e);)try{const i=await e9(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,v9(e,i)}catch(i){await Td(e,i)}AI(e)&&II(e)}function g9(t){return Go(t)&&t.D_.length<10}function v9(t,e){t.D_.push(e);const n=Bi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function AI(t){return Go(t)&&!Bi(t).Ho()&&t.D_.length>0}function II(t){Bi(t).start()}async function y9(t){Bi(t).d_()}async function _9(t){const e=Bi(t);for(const n of t.D_)e.I_(n.mutations)}async function w9(t,e,n){const r=t.D_.shift(),i=I0.from(r,e,n);await xI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jh(t)}async function E9(t,e){e&&Bi(t).P_&&await async function(r,i){if(function(s){return f3(s)&&s!==q.ABORTED}(i.code)){const o=r.D_.shift();Bi(r).Zo(),await xI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Jh(r)}}(t,e),AI(t)&&II(t)}async function d1(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Go(n);n.v_.add(3),await Qu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Xh(n)}async function S9(t,e){const n=Ce(t);e?(n.v_.delete(2),await Xh(n)):e||(n.v_.add(2),await Qu(n),n.x_.set("Unknown"))}function Ea(t){return t.N_||(t.N_=function(n,r,i){const o=Ce(n);return o.R_(),new l9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:h9.bind(null,t),To:p9.bind(null,t),u_:m9.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),L0(t)?O0(t):t.x_.set("Unknown")):(await t.N_.stop(),bI(t))})),t.N_}function Bi(t){return t.B_||(t.B_=function(n,r,i){const o=Ce(n);return o.R_(),new u9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:y9.bind(null,t),To:E9.bind(null,t),E_:_9.bind(null,t),T_:w9.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Jh(t)):(await t.B_.stop(),t.D_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new M0(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $0(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),Wu(t))return new fe(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=tl(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new Os(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Os)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Os;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.L_=new St(_e.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):be():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ia{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ia(e,n,Os.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.q_=void 0,this.Q_=[]}}class R9{constructor(){this.queries=new wa(e=>QA(e),qh),this.onlineState="Unknown",this.K_=new Set}}async function CI(t,e){const n=Ce(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new T9),i)try{o.q_=await n.onListen(r)}catch(s){const a=$0(s,`Initialization of query '${as(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&F0(n)}async function PI(t,e){const n=Ce(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function b9(t,e){const n=Ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&F0(n)}function x9(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function F0(t){t.K_.forEach(e=>{e.next()})}class kI{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.key=e}}class DI{constructor(e){this.key=e}}class A9{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Le(),this.mutatedKeys=Le(),this.ua=YA(e),this.ca=new Os(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new h1,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),h=Wh(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let E=!1;d&&h?d.data.isEqual(h.data)?m!==y&&(r.track({type:3,doc:h}),E=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),E=!0,(l&&this.ua(h,l)>0||u&&this.ua(h,u)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),E=!0):d&&!h&&(r.track({type:1,doc:d}),E=!0,(l||u)&&(a=!0)),E&&(h?(s=s.add(h),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,f)=>function(h,m){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return y(h)-y(m)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new ia(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new h1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Le(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new DI(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new NI(r))}),n}Ra(e){this.oa=e.hs,this.aa=Le();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ia.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class I9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C9{constructor(e){this.key=e,this.ma=!1}}class P9{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new wa(a=>QA(a),qh),this.pa=new Map,this.ya=new Set,this.wa=new St(_e.comparator),this.Sa=new Map,this.ba=new k0,this.Da={},this.Ca=new Map,this.va=ra.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function k9(t,e){const n=j9(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await t9(n.localStore,Vr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await N9(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&SI(n.remoteStore,s)}return i}async function N9(t,e,n,r,i){t.Ma=(f,d,h)=>async function(y,E,g,p){let v=E.view.ha(g);v.Xi&&(v=await u1(y.localStore,E.query,!1).then(({documents:S})=>E.view.ha(S,v)));const b=p&&p.targetChanges.get(E.targetId),C=p&&p.targetMismatches.get(E.targetId)!=null,R=E.view.applyChanges(v,y.isPrimaryClient,b,C);return m1(y,E.targetId,R.da),R.snapshot}(t,f,d,h);const o=await u1(t.localStore,e,!0),s=new A9(e,o.hs),a=s.ha(o.documents),l=Ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);m1(t,n,u.da);const c=new I9(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function D9(t,e){const n=Ce(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!qh(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ov(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),TI(n.remoteStore,r.targetId),sv(n,r.targetId)}).catch(qu)):(sv(n,r.targetId),await ov(n.localStore,r.targetId,!0))}async function V9(t,e,n){const r=B9(t);try{const i=await function(s,a){const l=Ce(s),u=Lt.now(),c=a.reduce((h,m)=>h.add(m.key),Le());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=ni(),y=Le();return l.os.getEntries(h,c).next(E=>{m=E,m.forEach((g,p)=>{p.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,m)).next(E=>{f=E;const g=[];for(const p of a){const v=s3(p,f.get(p.key).overlayedDocument);v!=null&&g.push(new Xi(p.key,v,jA(v.value.mapValue),wr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,g,a)}).next(E=>{d=E;const g=E.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(h,E.batchId,g)})}).then(()=>({batchId:d.batchId,changes:JA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new St(qe)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await Yu(r,i.changes),await Jh(r.remoteStore)}catch(i){const o=$0(i,"Failed to persist write");n.reject(o)}}async function VI(t,e){const n=Ce(t);try{const r=await J3(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?rt(s.ma):i.removedDocuments.size>0&&(rt(s.ma),s.ma=!1))}),await Yu(n,r,e)}catch(r){await qu(r)}}function p1(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ce(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.Q_)d.U_(a)&&(u=!0)}),u&&F0(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O9(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new St(_e.comparator);s=s.insert(o,fn.newNoDocument(o,Ae.min()));const a=Le().add(o),l=new Qh(Ae.min(),new Map,new St(qe),s,a);await VI(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),U0(r)}else await ov(r.localStore,e,!1).then(()=>sv(r,e,n)).catch(qu)}async function L9(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await X3(n.localStore,e);LI(n,r,null),OI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yu(n,i)}catch(i){await qu(i)}}async function M9(t,e,n){const r=Ce(t);try{const i=await function(s,a){const l=Ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(rt(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);LI(r,e,n),OI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yu(r,i)}catch(i){await qu(i)}}function OI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function LI(t,e,n){const r=Ce(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function sv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||MI(t,r)})}function MI(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(TI(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),U0(t))}function m1(t,e,n){for(const r of n)r instanceof NI?(t.ba.addReference(r.key,e),$9(t,r)):r instanceof DI?(se("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||MI(t,r.key)):be()}function $9(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(se("SyncEngine","New document in limbo: "+n),t.ya.add(r),U0(t))}function U0(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new _e(ut.fromString(e)),r=t.va.next();t.Sa.set(r,new C9(n)),t.wa=t.wa.insert(n,r),SI(t.remoteStore,new Ei(Vr(x0(n.path)),r,"TargetPurposeLimboResolution",w0._e))}}async function Yu(t,e,n){const r=Ce(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=D0.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>G.forEach(u,d=>G.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>G.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Wu(f))throw f;se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),m=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(m);c.ns=c.ns.insert(d,y)}}}(r.localStore,o))}async function F9(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await yI(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new fe(q.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yu(n,r.us)}}function U9(t,e){const n=Ce(t),r=n.Sa.get(e);if(r&&r.ma)return Le().add(r.key);{let i=Le();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function j9(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O9.bind(null,e),e.fa.u_=b9.bind(null,e.eventManager),e.fa.xa=x9.bind(null,e.eventManager),e}function B9(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M9.bind(null,e),e}class g1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Y3(this.persistence,new K3,e.initialUser,this.serializer)}createPersistence(e){return new q3(N0.Hr,this.serializer)}createSharedClientState(e){return new r9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class z9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F9.bind(null,this.syncEngine),await S9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new R9}()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),r=function(o){return new a9(o)}(e.databaseInfo);return function(o,s,a,l){return new c9(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new d9(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>p1(this.syncEngine,n,0),function(){return f1.D()?new f1:new i9}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new P9(i,o,s,a,l,u);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ce(r);se("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Qu(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=$A.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cm(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W9(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>d1(e.remoteStore,i)),t._onlineComponents=e}function q9(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function W9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await cm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!q9(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await cm(t,new g1)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await cm(t,new g1);return t._offlineComponents}async function FI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await v1(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await v1(t,new z9))),t._onlineComponents}function G9(t){return FI(t).then(e=>e.syncEngine)}async function av(t){const e=await FI(t),n=e.eventManager;return n.onListen=k9.bind(null,e.syncEngine),n.onUnlisten=D9.bind(null,e.syncEngine),n}function K9(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new $I({next:d=>{s.enqueueAndForget(()=>PI(o,f)),d.fromCache&&l.source==="server"?u.reject(new fe(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new kI(a,c,{includeMetadataChanges:!0,Z_:!0});return CI(o,f)}(await av(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e,n){if(!n)throw new fe(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q9(t,e,n,r){if(e===!0&&r===!0)throw new fe(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _1(t){if(!_e.isDocumentKey(t))throw new fe(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w1(t){if(_e.isDocumentKey(t))throw new fe(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(t);throw new fe(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Y9(t,e){if(e<=0)throw new fe(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ep{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new fe(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mj;switch(r.type){case"firstParty":return new _j(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y1.get(n);r&&(se("ComponentProvider","Removing Datastore"),y1.delete(n),r.terminate())}(this),Promise.resolve()}}function X9(t,e,n,r={}){var i;const o=(t=Lr(t,ep))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=un.MOCK_USER;else{a=Sx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new fe(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new un(u)}t._authCredentials=new gj(new MA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new si(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Li extends si{constructor(e,n,r){super(e,n,x0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new _e(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function On(t,e,...n){if(t=Mn(t),jI("collection","path",e),t instanceof ep){const r=ut.fromString(e,...n);return w1(r),new Li(t,null,r)}{if(!(t instanceof Vn||t instanceof Li))throw new fe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return w1(r),new Li(t.firestore,null,r)}}function j0(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=$A.newId()),jI("doc","path",e),t instanceof ep){const r=ut.fromString(e,...n);return _1(r),new Vn(t,null,new _e(r))}{if(!(t instanceof Vn||t instanceof Li))throw new fe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return _1(r),new Vn(t.firestore,t instanceof Li?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new wI(this,"async_queue_retry"),this._u=()=>{const n=um();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=um();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Yr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Wu(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=M0.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&be()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function S1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Lo extends ep{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new J9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BI(this),this._firestoreClient.terminate()}}function Z9(t,e){const n=typeof t=="object"?t:kx(),r=typeof t=="string"?t:e||"(default)",i=Ix(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=wx("firestore");o&&X9(i,...o)}return i}function B0(t){return t._firestoreClient||BI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BI(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Dj(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,UI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new H9(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(gn.fromBase64String(e))}catch(n){throw new fe(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=/^__.*__$/;class t6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gu(e,this.data,n,this.fieldTransforms)}}class zI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class q0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new q0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Rd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(HI(this.du)&&e6.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class n6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yh(e)}Su(e,n,r,i=!1){return new q0({du:e,methodName:n,wu:r,path:Yt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W0(t){const e=t._freezeSettings(),n=Yh(t._databaseId);return new n6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r6(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);G0("Data must be an object, but it was:",s,r);const a=qI(r,s);let l,u;if(o.merge)l=new Bn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=lv(e,f,n);if(!s.contains(d))throw new fe(q.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);GI(c,d)||c.push(d)}l=new Bn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new t6(new An(a),l,u)}class np extends z0{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof np}}function i6(t,e,n,r){const i=t.Su(1,e,n);G0("Data must be an object, but it was:",i,r);const o=[],s=An.empty();Wo(r,(l,u)=>{const c=K0(e,l,n);u=Mn(u);const f=i.fu(c);if(u instanceof np)o.push(c);else{const d=Xu(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new Bn(o);return new zI(s,a,i.fieldTransforms)}function o6(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[lv(e,r,n)],l=[i];if(o.length%2!=0)throw new fe(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(lv(e,o[d])),l.push(o[d+1]);const u=[],c=An.empty();for(let d=a.length-1;d>=0;--d)if(!GI(u,a[d])){const h=a[d];let m=l[d];m=Mn(m);const y=s.fu(h);if(m instanceof np)u.push(h);else{const E=Xu(m,y);E!=null&&(u.push(h),c.set(h,E))}}const f=new Bn(u);return new zI(c,f,s.fieldTransforms)}function s6(t,e,n,r=!1){return Xu(n,t.Su(r?4:3,e))}function Xu(t,e){if(WI(t=Mn(t)))return G0("Unsupported field value:",e,t),qI(t,e);if(t instanceof z0)return function(r,i){if(!HI(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Xu(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Lt.fromDate(r);return{timestampValue:Sd(i.serializer,o)}}if(r instanceof Lt){const o=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sd(i.serializer,o)}}if(r instanceof H0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:fI(i.serializer,r._byteString)};if(r instanceof Vn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:P0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Zh(r)}`)}(t,e)}function qI(t,e){const n={};return FA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,(r,i)=>{const o=Xu(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function WI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof H0||t instanceof oa||t instanceof Vn||t instanceof z0)}function G0(t,e,n){if(!WI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function lv(t,e,n){if((e=Mn(e))instanceof tp)return e._internalPath;if(typeof e=="string")return K0(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const a6=new RegExp("[~\\*/\\[\\]]");function K0(t,e,n){if(e.search(a6)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tp(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new fe(q.INVALID_ARGUMENT,a+t+l)}function GI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l6 extends KI{data(){return super.data()}}function rp(t,e){return typeof e=="string"?K0(t,e):e instanceof tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q0{}class Y0 extends Q0{}function rr(t,e,...n){let r=[];e instanceof Q0&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof X0).length,a=o.filter(l=>l instanceof ip).length;if(s>1||s>0&&a>0)throw new fe(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ip extends Y0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ip(e,n,r)}_apply(e){const n=this._parse(e);return YI(e._query,n),new si(e.firestore,e.converter,ev(e._query,n))}_parse(e){const n=W0(e.firestore);return function(o,s,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new fe(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){R1(f,c);const h=[];for(const m of f)h.push(T1(l,o,m));d={arrayValue:{values:h}}}else d=T1(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||R1(f,c),d=s6(a,s,f,c==="in"||c==="not-in");return Nt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pn(t,e,n){const r=e,i=rp("where",t);return ip._create(i,r,n)}class X0 extends Q0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new X0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)YI(s,l),s=ev(s,l)}(e._query,n),new si(e.firestore,e.converter,ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class J0 extends Y0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new J0(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new fe(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(o,s)}(e._query,this._field,this._direction);return new si(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new _a(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function u6(t,e="asc"){const n=e,r=rp("orderBy",t);return J0._create(r,n)}class Z0 extends Y0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Z0(e,n,r)}_apply(e){return new si(e.firestore,e.converter,_d(e._query,this._limit,this._limitType))}}function c6(t){return Y9("limit",t),Z0._create("limit",t,"F")}function T1(t,e,n){if(typeof(n=Mn(n))=="string"){if(n==="")throw new fe(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KA(e)&&n.indexOf("/")!==-1)throw new fe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!_e.isDocumentKey(r))throw new fe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return WE(t,new _e(r))}if(n instanceof Vn)return WE(t,n._key);throw new fe(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function R1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YI(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class f6{convertValue(e,n="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new H0(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=S0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=ji(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);rt(vI(r));const i=new mu(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||Mr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XI extends KI{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wf extends XI{data(e={}){return super.data(e)}}class JI{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wf(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new wf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new wf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:h6(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function h6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class e_ extends f6{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function Mi(t){t=Lr(t,si);const e=Lr(t.firestore,Lo),n=B0(e),r=new e_(e);return QI(t._query),K9(n,t._query).then(i=>new JI(e,r,t,i))}function ZI(t,e,n,...r){t=Lr(t,Vn);const i=Lr(t.firestore,Lo),o=W0(i);let s;return s=typeof(e=Mn(e))=="string"||e instanceof tp?o6(o,"updateDoc",t._key,e,n,r):i6(o,"updateDoc",t._key,e),n_(i,[s.toMutation(t._key,wr.exists(!0))])}function xl(t){return n_(Lr(t.firestore,Lo),[new A0(t._key,wr.none())])}function t_(t,e){const n=Lr(t.firestore,Lo),r=j0(t),i=d6(t.converter,e);return n_(n,[r6(W0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wr.exists(!1))]).then(()=>r)}function op(t,...e){var n,r,i;t=Mn(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||S1(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(S1(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof Vn)u=Lr(t.firestore,Lo),c=x0(t._key.path),l={next:f=>{e[s]&&e[s](p6(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Lr(t,si);u=Lr(f.firestore,Lo),c=f._query;const d=new e_(u);l={next:h=>{e[s]&&e[s](new JI(u,d,f,h))},error:e[s+1],complete:e[s+2]},QI(t._query)}return function(d,h,m,y){const E=new $I(y),g=new kI(h,E,m);return d.asyncQueue.enqueueAndForget(async()=>CI(await av(d),g)),()=>{E.La(),d.asyncQueue.enqueueAndForget(async()=>PI(await av(d),g))}}(B0(u),c,a,l)}function n_(t,e){return function(r,i){const o=new Yr;return r.asyncQueue.enqueueAndForget(async()=>V9(await G9(r),i,o)),o.promise}(B0(t),e)}function p6(t,e,n){const r=n.docs.get(e._key),i=new e_(t);return new XI(t,i,e._key,r,new rl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ya=i})(Cx),ru(new Xs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Lo(new vj(r.getProvider("auth-internal")),new Ej(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Oi(jE,"4.4.1",e),Oi(jE,"4.4.1","esm2017")})();var m6="firebase",g6="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(m6,g6,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebasestorage.googleapis.com",tC="storageBucket",v6=2*60*1e3,y6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends Ho{constructor(e,n,r=0){super(fm(e),`Firebase Storage: ${n} (${fm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function fm(t){return"storage/"+t}function nC(){const t="An unknown error occurred, please check the error payload for server response.";return new nn(tn.UNKNOWN,t)}function _6(t){return new nn(tn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function w6(t){return new nn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function E6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nn(tn.UNAUTHENTICATED,t)}function S6(){return new nn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function T6(t){return new nn(tn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function R6(){return new nn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function b6(){return new nn(tn.CANCELED,"User canceled the upload/download.")}function x6(t){return new nn(tn.INVALID_URL,"Invalid URL '"+t+"'.")}function A6(t){return new nn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function I6(){return new nn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tC+"' property when initializing the app?")}function uv(t){return new nn(tn.INVALID_ARGUMENT,t)}function rC(){return new nn(tn.APP_DELETED,"The Firebase app was deleted.")}function C6(t){return new nn(tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ja(t){throw new nn(tn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(r.path==="")return r;throw A6(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),m={bucket:1,path:3},y=n===eC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${E}`,"i"),v=[{regex:a,indices:l,postModify:o},{regex:h,indices:m,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<v.length;b++){const C=v[b],R=C.regex.exec(e);if(R){const S=R[C.indices.bucket];let k=R[C.indices.path];k||(k=""),r=new Cn(S,k),C.postModify(r);break}}if(r==null)throw x6(e);return r}}class P6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function f(E){i=setTimeout(()=>{i=null,t(h,l())},E)}function d(){o&&clearTimeout(o)}function h(E,...g){if(u){d();return}if(E){d(),c.call(null,E,...g);return}if(l()||s){d(),c.call(null,E,...g);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,f(v)}let m=!1;function y(E){m||(m=!0,d(),!u&&(i!==null?(E||(a=2),clearTimeout(i),f(0)):E||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}function N6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){return t!==void 0}function V6(t){return typeof t=="object"&&!Array.isArray(t)}function cv(t,e,n,r){if(r<e)throw uv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw uv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function O6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Eo||(Eo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r,i,o,s,a,l,u,c,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,m)=>{this.resolve_=h,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new $c(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Eo.NO_ERROR,l=o.getStatus();if(!a||L6(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Eo.ABORT;r(!1,new $c(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new $c(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());D6(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=nC();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?rC():b6();s(l)}else{const l=R6();s(l)}};this.canceled_?n(!1,new $c(!1,null,!0)):this.backoffId_=k6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&N6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $c{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function F6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function U6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function j6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function B6(t,e,n,r,i,o,s=!0){const a=O6(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return U6(u,e),$6(u,n),F6(u,o),j6(u,r),new M6(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){let e;try{e=JSON.parse(t)}catch{return null}return V6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function q6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function W6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="prefixes",x1="items";function G6(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[b1])for(const i of n[b1]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Cn(e,o));r.prefixes.push(s)}if(n[x1])for(const i of n[x1]){const o=t._makeStorageReference(new Cn(e,i.name));r.items.push(o)}return r}function K6(t,e,n){const r=z6(n);return r===null?null:G6(t,e,r)}class oC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t){if(!t)throw nC()}function Y6(t,e){function n(r,i){const o=K6(t,e,i);return Q6(o!==null),o}return n}function sC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=S6():i=E6():n.getStatus()===402?i=w6(t.bucket):n.getStatus()===403?i=T6(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function X6(t){const e=sC(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=_6(t.path)),o.serverResponse=i.serverResponse,o}return n}function J6(t,e,n,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=e.bucketOnlyServerUrl(),a=iC(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,c=new oC(a,l,Y6(t,e.bucket),u);return c.urlParams=o,c.errorHandler=sC(e),c}function Z6(t,e){const n=e.fullServerUrl(),r=iC(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,u){}const a=new oC(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=X6(e),a}class eB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Eo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Eo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Eo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ja("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ja("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ja("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ja("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ja("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tB extends eB{initXhr(){this.xhr_.responseType="text"}}function aC(){return new tB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mo(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W6(this._location.path)}get storage(){return this._service}get parent(){const e=H6(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new Mo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C6(e)}}function nB(t){const e={prefixes:[],items:[]};return lC(t,e).then(()=>e)}async function lC(t,e,n){const i=await rB(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await lC(t,e,i.nextPageToken)}function rB(t,e){e!=null&&typeof e.maxResults=="number"&&cv("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=J6(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,aC)}function iB(t){t._throwIfRoot("deleteObject");const e=Z6(t.storage,t._location);return t.storage.makeRequestWithTokens(e,aC)}function oB(t,e){const n=q6(t._location.path,e),r=new Cn(t._location.bucket,n);return new Mo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){return/^[A-Za-z]+:\/\//.test(t)}function aB(t,e){return new Mo(t,e)}function uC(t,e){if(t instanceof r_){const n=t;if(n._bucket==null)throw I6();const r=new Mo(n,n._bucket);return e!=null?uC(r,e):r}else return e!==void 0?oB(t,e):t}function lB(t,e){if(e&&sB(e)){if(t instanceof r_)return aB(t,e);throw uv("To use ref(service, url), the first argument must be a Storage instance.")}else return uC(t,e)}function A1(t,e){const n=e==null?void 0:e[tC];return n==null?null:Cn.makeFromBucketSpec(n,t)}function uB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Sx(i,t.app.options.projectId))}class r_{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=eC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=v6,this._maxUploadRetryTime=y6,this._requests=new Set,i!=null?this._bucket=Cn.makeFromBucketSpec(i,this._host):this._bucket=A1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=A1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mo(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new P6(rC());{const s=B6(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const I1="@firebase/storage",C1="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="storage";function cB(t){return t=Mn(t),nB(t)}function fB(t){return t=Mn(t),iB(t)}function dB(t,e){return t=Mn(t),lB(t,e)}function hB(t=kx(),e){t=Mn(t);const r=Ix(t,cC).getImmediate({identifier:e}),i=wx("storage");return i&&pB(r,...i),r}function pB(t,e,n,r={}){uB(t,e,n,r)}function mB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new r_(n,r,i,e,Cx)}function gB(){ru(new Xs(cC,mB,"PUBLIC").setMultipleInstances(!0)),Oi(I1,C1,""),Oi(I1,C1,"esm2017")}gB();var dm={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const vB={apiKey:dm.REACT_APP_Firebase_apiKey,authDomain:"overdog-577c3.firebaseapp.com",projectId:"overdog-577c3",storageBucket:"overdog-577c3.appspot.com",messagingSenderId:dm.REACT_APP_Firebase_messagingSenderId,appId:dm.REACT_APP_Firebase_appId},fC=Px(vB),yB=hB(fC),Ln=Z9(fC);var i_={};Object.defineProperty(i_,"__esModule",{value:!0});var o_=i_.recoilPersist=void 0;const _B=(t={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:n=localStorage,converter:r=JSON}=t,i=({onSet:u,node:c,trigger:f,setSelf:d})=>{if(f==="get"){const h=s();typeof h.then=="function"&&h.then(m=>{m.hasOwnProperty(c.key)&&d(m[c.key])}),h.hasOwnProperty(c.key)&&d(h[c.key])}u(async(h,m,y)=>{const E=s();typeof E.then=="function"?E.then(g=>o(h,g,c.key,y)):o(h,E,c.key,y)})},o=(u,c,f,d)=>{d?delete c[f]:c[f]=u,l(c)},s=()=>{const u=n.getItem(e);return u==null?{}:typeof u=="string"?a(u):typeof u.then=="function"?u.then(a):{}},a=u=>{if(u===void 0)return{};try{return r.parse(u)}catch(c){return console.error(c),{}}},l=u=>{try{typeof n.mergeItem=="function"?n.mergeItem(e,r.stringify(u)):n.setItem(e,r.stringify(u))}catch(c){console.error(c)}};return{persistAtom:i}};o_=i_.recoilPersist=_B;o_();const wB=async t=>{const e=On(Ln,"posts"),n=rr(e,pn("postId","==",t),c6(1));return(await Mi(n)).docs.map(o=>o.data())},EB=async t=>{const e=On(Ln,"posts"),n=rr(e,pn("userId","==",t));return(await Mi(n)).docs.map(o=>o.data())},SB=t=>{const e=On(Ln,"comments"),n=rr(e,pn("postId","==",t),u6("createdAt","desc"));return new Promise((r,i)=>{op(n,o=>{const s=o.docs.map(a=>({...a.data()}));localStorage.setItem("comment",JSON.stringify(s)),r(s)},o=>{i(o)})})},TB=async t=>{try{const e=On(Ln,"comments"),r=(await t_(e,{commentContent:t.commentContent,postId:t.postId,origin_commentId:t.originCommentId,userId:t.userId,createdAt:new Date})).id;await ZI(j0(e,r),{commentId:r})}catch(e){console.log(e)}},RB=async t=>{try{const e=dB(yB,`posts/${t.postId}`);cB(e).then(f=>{f.items.forEach(async d=>{await fB(d)})}).catch(f=>{console.error("Error get image: ",f)});const n=On(Ln,"comments"),r=rr(n,pn("postId","==",t.postId));(await Mi(r)).forEach(f=>{const d=f.ref;xl(d).then(()=>{}).catch(h=>{console.error("Error : ",h)})});const o=On(Ln,"likes"),s=rr(o,pn("postId","==",t.postId));(await Mi(s)).forEach(f=>{const d=f.ref;xl(d).then(()=>{}).catch(h=>{console.error("Error : ",h)})});const l=On(Ln,"posts"),u=rr(l,pn("postId","==",t.postId));(await Mi(u)).forEach(f=>{const d=f.ref;xl(d).then(()=>{}).catch(h=>{console.error("Error : ",h)})})}catch(e){console.log(e)}},bB=sr({key:"deletePostState",default:async t=>await RB(t)}),s_=sr({key:"postState",default:async t=>await wB(t)}),xB=sr({key:"postByUserIdState",default:async t=>await EB(t)}),fv=sr({key:"commentState",default:async t=>await SB(t),effects:[({setSelf:t,onSet:e})=>{const n="comment",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),AB=sr({key:"setCommentState",default:async t=>await TB(t)}),Ju=mx({key:"postIdState",default:"null"}),IB=({onOpenModal:t})=>{const e=x.useRef(null),[n]=pr(Ju),r=Wy(s_(n));if(r.state==="loading")return P.jsx("div",{children:"로딩 중..."});if(r.state==="hasError")return P.jsx("div",{children:"에러가 발생했습니다."});const i=r.contents;x.useEffect(()=>{const s=a=>{e.current&&!e.current.contains(a.target)&&t()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[t]);const o=()=>{window.confirm("삭제하시겠습니까?")&&bB(i[0])};return P.jsx("div",{className:"h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-70 text-center z-50",children:P.jsxs("div",{ref:e,className:"bg-white rounded w-10/12 md:w-1/3",children:[P.jsx("div",{className:"border-b px-4 py-2",children:P.jsx("h3",{className:"text-red-600 text-center cursor-pointer",onClick:o,children:"삭제하기"})}),P.jsx("div",{className:"border-b px-4 py-2",children:P.jsx("h3",{className:"text-center",children:"수정하기"})}),P.jsx("div",{className:"border-b px-4 py-2",children:P.jsx("h3",{className:"text-center cursor-pointer",onClick:t,children:"닫기"})})]})})};function CB(t){return Ki({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2zM4 10h2v9H4v-9zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7v1.819z"}}]})(t)}function PB(t){return Ki({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21h1V8H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2zM20 8h-7l1.122-3.368A2 2 0 0 0 12.225 2H12L7 7.438V21h11l3.912-8.596L22 12v-2a2 2 0 0 0-2-2z"}}]})(t)}function kB(t){return Ki({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"}}]})(t)}function NB(t){return Ki({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"}}]})(t)}const DB=async t=>{const e=On(Ln,"likes"),n=rr(e,pn("postId","==",t));return new Promise((r,i)=>{op(n,o=>{const s=o.docs.map(a=>({...a.data()}));s==null&&r(0),localStorage.setItem("like",JSON.stringify(s)),r(s)},o=>{i(o)})})},VB=async t=>{const e=On(Ln,"likes"),n=rr(e,pn("postId","==",t.postId),pn("userId","==",t.userId));return new Promise((r,i)=>{op(n,o=>{const s=o.docs.map(a=>({...a.data()}));s==null&&r(0),localStorage.setItem("userLike",JSON.stringify(s)),r(s)},o=>{i(o)})})},OB=async t=>{try{const e=On(Ln,"likes"),n=rr(e,pn("postId","==",t.postId),pn("userId","==",t.userId));(await Mi(n)).forEach(i=>{const o=i.ref;xl(o).then(()=>{}).catch(s=>{console.error("Error : ",s)})})}catch(e){console.log(e)}},LB=async t=>{try{const e=On(Ln,"likes");await t_(e,{userId:t.userId,postId:t.postId}).then(()=>{})}catch(e){console.log(e)}},MB=sr({key:"likebyUserIdState",default:async t=>await VB(t)}),$B=sr({key:"deleteLikeState",default:async t=>await OB(t)}),FB=sr({key:"setLikeState",default:async t=>await LB(t)}),UB=sr({key:"likebyPostIdState",default:async t=>await DB(t),effects:[({setSelf:t,onSet:e})=>{const n="like",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]});let jB={data:""},BB=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||jB,zB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,HB=/\/\*[^]*?\*\/|  +/g,P1=/\n+/g,pi=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?pi(s,o):o+"{"+pi(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=pi(s,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=pi.p?pi.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},jr={},dC=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+dC(t[n]);return e}return t},qB=(t,e,n,r,i)=>{let o=dC(t),s=jr[o]||(jr[o]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(o));if(!jr[s]){let l=o!==t?t:(u=>{let c,f,d=[{}];for(;c=zB.exec(u.replace(HB,""));)c[4]?d.shift():c[3]?(f=c[3].replace(P1," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][c[1]]=c[2].replace(P1," ").trim();return d[0]})(t);jr[s]=pi(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&jr.g?jr.g:null;return n&&(jr.g=jr[s]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(jr[s],e,r,a),s},WB=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":pi(a,""):a===!1?"":a}return r+i+(s??"")},"");function sp(t){let e=this||{},n=t.call?t(e.p):t;return qB(n.unshift?n.raw?WB(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,BB(e.target),e.g,e.o,e.k)}let hC,dv,hv;sp.bind({g:1});let ri=sp.bind({k:1});function GB(t,e,n,r){pi.p=e,hC=t,dv=n,hv=r}function Ji(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:dv&&dv()},a),n.o=/ *go\d+/.test(l),a.className=sp.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let u=t;return t[0]&&(u=a.as||t,delete a.as),hv&&u[0]&&hv(a),hC(u,a)}return e?e(i):i}}var KB=t=>typeof t=="function",bd=(t,e)=>KB(t)?t(e):t,QB=(()=>{let t=0;return()=>(++t).toString()})(),pC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),YB=20,Ef=new Map,XB=1e3,k1=t=>{if(Ef.has(t))return;let e=setTimeout(()=>{Ef.delete(t),Ko({type:4,toastId:t})},XB);Ef.set(t,e)},JB=t=>{let e=Ef.get(t);e&&clearTimeout(e)},pv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,YB)};case 1:return e.toast.id&&JB(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?pv(t,{type:1,toast:n}):pv(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?k1(r):t.toasts.forEach(o=>{k1(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Sf=[],Tf={toasts:[],pausedAt:void 0},Ko=t=>{Tf=pv(Tf,t),Sf.forEach(e=>{e(Tf)})},ZB={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},e5=(t={})=>{let[e,n]=x.useState(Tf);x.useEffect(()=>(Sf.push(n),()=>{let i=Sf.indexOf(n);i>-1&&Sf.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,s;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||ZB[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},t5=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||QB()}),Zu=t=>(e,n)=>{let r=t5(e,t,n);return Ko({type:2,toast:r}),r.id},zn=(t,e)=>Zu("blank")(t,e);zn.error=Zu("error");zn.success=Zu("success");zn.loading=Zu("loading");zn.custom=Zu("custom");zn.dismiss=t=>{Ko({type:3,toastId:t})};zn.remove=t=>Ko({type:4,toastId:t});zn.promise=(t,e,n)=>{let r=zn.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(zn.success(bd(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{zn.error(bd(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var n5=(t,e)=>{Ko({type:1,toast:{id:t,height:e}})},r5=()=>{Ko({type:5,time:Date.now()})},i5=t=>{let{toasts:e,pausedAt:n}=e5(t);x.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&zn.dismiss(a.id);return}return setTimeout(()=>zn.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=x.useCallback(()=>{n&&Ko({type:6,time:Date.now()})},[n]),i=x.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=s||{},c=e.filter(h=>(h.position||u)===(o.position||u)&&h.height),f=c.findIndex(h=>h.id===o.id),d=c.filter((h,m)=>m<f&&h.visible).length;return c.filter(h=>h.visible).slice(...a?[d+1]:[0,d]).reduce((h,m)=>h+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:n5,startPause:r5,endPause:r,calculateOffset:i}}},o5=ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,s5=ri`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,a5=ri`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,l5=Ji("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${o5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${s5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${a5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,u5=ri`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,c5=Ji("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${u5} 1s linear infinite;
`,f5=ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,d5=ri`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,h5=Ji("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${f5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${d5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,p5=Ji("div")`
  position: absolute;
`,m5=Ji("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,g5=ri`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,v5=Ji("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${g5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,y5=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?x.createElement(v5,null,e):e:n==="blank"?null:x.createElement(m5,null,x.createElement(c5,{...r}),n!=="loading"&&x.createElement(p5,null,n==="error"?x.createElement(l5,{...r}):x.createElement(h5,{...r})))},_5=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,w5=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,E5="0%{opacity:0;} 100%{opacity:1;}",S5="0%{opacity:1;} 100%{opacity:0;}",T5=Ji("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,R5=Ji("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,b5=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=pC()?[E5,S5]:[_5(n),w5(n)];return{animation:e?`${ri(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ri(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},x5=x.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?b5(t.position||e||"top-center",t.visible):{opacity:0},o=x.createElement(y5,{toast:t}),s=x.createElement(R5,{...t.ariaProps},bd(t.message,t));return x.createElement(T5,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):x.createElement(x.Fragment,null,o,s))});GB(x.createElement);var A5=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=x.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return x.createElement("div",{ref:o,className:e,style:n},i)},I5=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},C5=sp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fc=16,mC=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=i5(n);return x.createElement("div",{style:{position:"fixed",zIndex:9999,top:Fc,left:Fc,right:Fc,bottom:Fc,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,f=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),d=I5(c,f);return x.createElement(A5,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?C5:"",style:d},u.type==="custom"?bd(u.message,u):i?i(u):x.createElement(x5,{toast:u,position:c}))}))},mv=zn;const P5=t=>{const e=On(Ln,"follows"),n=rr(e,pn("followerId","==",t.followerId),pn("followingId","==",t.followingId));return new Promise((r,i)=>{op(n,o=>{const s=o.docs.map(a=>({...a.data()}));localStorage.setItem("following",JSON.stringify(s)),r(s)},o=>{i(o)})})},k5=async t=>{try{const e=On(Ln,"follows"),n=rr(e,pn("followerId","==",t.followerId),pn("followingId","==",t.followingId));(await Mi(n)).forEach(i=>{const o=i.ref;xl(o).then(()=>{}).catch(s=>{console.error("Error : ",s)})})}catch(e){console.log(e)}},N5=async t=>{try{const e=On(Ln,"follows"),n=rr(e,pn("followerId","==",t.followerId));if((await Mi(n)).docs.find(o=>o.data().followingId===t.followingId))console.log("이미 동일한 followerId 및 followingId를 가진 문서가 존재합니다");else{const s=(await t_(e,{followerId:t.followerId,followingId:t.followingId})).id;await ZI(j0(e,s),{followId:s})}}catch(e){console.error(e)}},D5=sr({key:"setFollowState",default:async t=>await N5(t)}),V5=sr({key:"deleteFollowState",default:async t=>await k5(t)}),O5=sr({key:"followState",default:async t=>await P5(t),effects:[({setSelf:t,onSet:e})=>{const n="following",r=localStorage.getItem(n);r!=null&&t(JSON.parse(r)),e((i,o,s)=>{r==null&&s?localStorage.setItem(n,JSON.stringify(i)):s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),{persistAtom:L5}=o_(),a_=mx({key:"userIdState",default:"test",effects_UNSTABLE:[L5]});var M5=$5()?x.useLayoutEffect:x.useEffect;function $5(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function F5(){var t=x.useState(Object.create(null)),e=t[1];return x.useCallback(function(){e(Object.create(null))},[])}var U5=function(e){var n=e.children,r=e.type,i=r===void 0?"reach-portal":r,o=x.useRef(null),s=x.useRef(null),a=F5();return M5(function(){if(o.current){var l=o.current.ownerDocument;return s.current=l==null?void 0:l.createElement(i),l.body.appendChild(s.current),a(),function(){s.current&&s.current.ownerDocument&&s.current.ownerDocument.body.removeChild(s.current)}}},[i,a]),s.current?Iy.createPortal(n,s.current):x.createElement("span",{ref:o})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ie=function(){return ie=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ie.apply(this,arguments)};function l_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fe(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function at(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Je;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(Je||(Je={}));var sa;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(sa||(sa={}));var gv=Je.Start,u_=Je.Stop,ec=Je.Raise,ap=Je.Send,gC=Je.Cancel,j5=Je.NullEvent,c_=Je.Assign;Je.After;Je.DoneState;var vC=Je.Log,B5=Je.Init,vv=Je.Invoke;Je.ErrorExecution;var N1=Je.ErrorPlatform,z5=Je.ErrorCustom,yC=Je.Update,H5=Je.Choose,q5=Je.Pure,_C=".",D1={},yv="xstate.guard",W5="",Uc;function f_(t,e,n){n===void 0&&(n=_C);var r=Al(t,n),i=Al(e,n);return Ke(i)?Ke(r)?i===r:!1:Ke(r)?r in i:Object.keys(r).every(function(o){return o in i?f_(r[o],i[o]):!1})}function wC(t){try{return Ke(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function _v(t,e){try{return Sa(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function G5(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function Al(t,e){if(G5(t))return t.value;if(Sa(t))return xd(t);if(typeof t!="string")return t;var n=_v(t,e);return xd(n)}function xd(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function il(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];n[o]=e(t[o],o,t,i)}return n}function V1(t,e,n){var r,i,o={};try{for(var s=Fe(Object.keys(t)),a=s.next();!a.done;a=s.next()){var l=a.value,u=t[l];n(u)&&(o[l]=e(u,l,t))}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}var K5=function(t){return function(e){var n,r,i=e;try{for(var o=Fe(t),s=o.next();!s.done;s=o.next()){var a=s.value;i=i[a]}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function Q5(t,e){return function(n){var r,i,o=n;try{for(var s=Fe(t),a=s.next();!a.done;a=s.next()){var l=a.value;o=o[e][l]}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}}function Rf(t){if(!t)return[[]];if(Ke(t))return[[t]];var e=yt(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:Rf(t[n]).map(function(i){return[n].concat(i)})}));return e}function yt(t){var e;return(e=[]).concat.apply(e,at([],He(t),!1))}function EC(t){return Sa(t)?t:[t]}function fr(t){return t===void 0?[]:EC(t)}function Ad(t,e,n){var r,i;if(We(t))return t(e,n.data);var o={};try{for(var s=Fe(Object.keys(t)),a=s.next();!a.done;a=s.next()){var l=a.value,u=t[l];We(u)?o[l]=u(e,n.data):o[l]=u}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function Y5(t){return/^(done|error)\./.test(t)}function O1(t){return!!(t instanceof Promise||t!==null&&(We(t)||typeof t=="object")&&We(t.then))}function X5(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function J5(t,e){var n,r,i=He([[],[]],2),o=i[0],s=i[1];try{for(var a=Fe(t),l=a.next();!l.done;l=a.next()){var u=l.value;e(u)?o.push(u):s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[o,s]}function SC(t,e){return il(t.states,function(n,r){if(n){var i=(Ke(e)?void 0:e[r])||(n?n.current:void 0);if(i)return{current:i,states:SC(n,i)}}})}function Z5(t,e){return{current:e,states:SC(t,e)}}function L1(t,e,n,r){var i=t&&n.reduce(function(o,s){var a,l,u=s.assignment,c={state:r,action:s,_event:e},f={};if(We(u))f=u(o,e.data,c);else try{for(var d=Fe(Object.keys(u)),h=d.next();!h.done;h=d.next()){var m=h.value,y=u[m];f[m]=We(y)?y(o,e.data,c):y}}catch(E){a={error:E}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}return Object.assign({},o,f)},t);return i}var ez=function(){};function Sa(t){return Array.isArray(t)}function We(t){return typeof t=="function"}function Ke(t){return typeof t=="string"}function TC(t,e){if(t)return Ke(t)?{type:yv,name:t,predicate:e?e[t]:void 0}:We(t)?{type:yv,name:t.name,predicate:t}:t}function tz(t){try{return"subscribe"in t&&We(t.subscribe)}catch{return!1}}var mi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Uc={},Uc[mi]=function(){return this},Uc[Symbol.observable]=function(){return this};function aa(t){return!!t&&"__xstatenode"in t}function nz(t){return!!t&&typeof t.send=="function"}function lp(t,e){return Ke(t)||typeof t=="number"?ie({type:t},e):t}function Gt(t,e){if(!Ke(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=lp(t);return ie({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function ts(t,e){var n=EC(e).map(function(r){return typeof r>"u"||typeof r=="string"||aa(r)?{target:r,event:t}:ie(ie({},r),{event:t})});return n}function rz(t){if(!(t===void 0||t===W5))return fr(t)}function RC(t,e,n,r,i){var o=t.options.guards,s={state:i,cond:e,_event:r};if(e.type===yv)return((o==null?void 0:o[e.name])||e.predicate)(n,r.data,s);var a=o==null?void 0:o[e.type];if(!a)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return a(n,r.data,s)}function bC(t){return typeof t=="string"?{type:t}:t}function bf(t,e,n){var r=function(){},i=typeof t=="object",o=i?t:null;return{next:((i?t.next:t)||r).bind(o),error:((i?t.error:e)||r).bind(o),complete:((i?t.complete:n)||r).bind(o)}}function jc(t,e){return"".concat(t,":invocation[").concat(e,"]")}function wv(t){return(t.type===ec||t.type===ap&&t.to===sa.Internal)&&typeof t.delay!="number"}var Ls=Gt({type:B5});function Ev(t,e){return e&&e[t]||void 0}function wu(t,e){var n;if(Ke(t)||typeof t=="number"){var r=Ev(t,e);We(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(We(t))n={type:t.name||t.toString(),exec:t};else{var r=Ev(t.type,e);if(We(r))n=ie(ie({},t),{exec:r});else if(r){var i=r.type||t.type;n=ie(ie(ie({},r),t),{type:i})}else n=t}return n}var gi=function(t,e){if(!t)return[];var n=Sa(t)?t:[t];return n.map(function(r){return wu(r,e)})};function d_(t){var e=wu(t);return ie(ie({id:Ke(t)?t:e.id},e),{type:e.type})}function iz(t,e){return{type:ec,event:typeof t=="function"?t:lp(t),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function oz(t,e,n,r){var i={_event:n},o=Gt(We(t.event)?t.event(e,n.data,i):t.event),s;if(Ke(t.delay)){var a=r&&r[t.delay];s=We(a)?a(e,n.data,i):a}else s=We(t.delay)?t.delay(e,n.data,i):t.delay;return ie(ie({},t),{type:ec,_event:o,delay:s})}function sz(t,e){return{to:e?e.to:void 0,type:ap,event:We(t)?t:lp(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:We(t)?t.name:wC(t)}}function az(t,e,n,r){var i={_event:n},o=Gt(We(t.event)?t.event(e,n.data,i):t.event),s;if(Ke(t.delay)){var a=r&&r[t.delay];s=We(a)?a(e,n.data,i):a}else s=We(t.delay)?t.delay(e,n.data,i):t.delay;var l=We(t.to)?t.to(e,n.data,i):t.to;return ie(ie({},t),{to:l,_event:o,event:o.data,delay:s})}var lz=function(t,e,n){return ie(ie({},t),{value:Ke(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},uz=function(t){return{type:gC,sendId:t}};function cz(t){var e=d_(t);return{type:Je.Start,activity:e,exec:void 0}}function fz(t){var e=We(t)?t:d_(t);return{type:Je.Stop,activity:e,exec:void 0}}function dz(t,e,n){var r=We(t.activity)?t.activity(e,n.data):t.activity,i=typeof r=="string"?{id:r}:r,o={type:Je.Stop,activity:i};return o}var hz=function(t){return{type:c_,assignment:t}};function pz(t,e){var n=e?"#".concat(e):"";return"".concat(Je.After,"(").concat(t,")").concat(n)}function Bc(t,e){var n="".concat(Je.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function xf(t,e){var n="".concat(Je.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function ol(t,e){var n="".concat(Je.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var mz=function(t){var e,n,r=[];try{for(var i=Fe(t),o=i.next();!o.done;o=i.next())for(var s=o.value,a=0;a<s.actions.length;){if(s.actions[a].type===c_){r.push(s.actions[a]),s.actions.splice(a,1);continue}a++}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r};function Id(t,e,n,r,i,o,s){s===void 0&&(s=!1);var a=s?[]:mz(i),l=a.length?L1(n,r,a,e):n,u=s?[n]:void 0,c=[];function f(m,y){var E;switch(y.type){case ec:{var g=oz(y,l,r,t.options.delays);return o&&typeof g.delay=="number"&&o(g,l,r),g}case ap:var p=az(y,l,r,t.options.delays);return o&&p.to!==sa.Internal&&(m==="entry"?c.push(p):o(p,l,r)),p;case vC:{var v=lz(y,l,r);return o==null||o(v,l,r),v}case H5:{var b=y,C=(E=b.conds.find(function(Ee){var we=TC(Ee.cond,t.options.guards);return!we||RC(t,we,l,r,o?void 0:e)}))===null||E===void 0?void 0:E.actions;if(!C)return[];var R=He(Id(t,e,l,r,[{type:m,actions:gi(fr(C),t.options.actions)}],o,s),2),S=R[0],k=R[1];return l=k,u==null||u.push(l),S}case q5:{var C=y.get(l,r.data);if(!C)return[];var D=He(Id(t,e,l,r,[{type:m,actions:gi(fr(C),t.options.actions)}],o,s),2),L=D[0],B=D[1];return l=B,u==null||u.push(l),L}case u_:{var v=dz(y,l,r);return o==null||o(v,n,r),v}case c_:{l=L1(l,r,[y],o?void 0:e),u==null||u.push(l);break}default:var N=wu(y,t.options.actions),M=N.exec;if(o)o(N,l,r);else if(M&&u){var Q=u.length-1,te=ie(ie({},N),{exec:function(Ee){for(var we=[],z=1;z<arguments.length;z++)we[z-1]=arguments[z];M.apply(void 0,at([u[Q]],He(we),!1))}});N=te}return N}}function d(m){var y,E,g=[];try{for(var p=Fe(m.actions),v=p.next();!v.done;v=p.next()){var b=v.value,C=f(m.type,b);C&&(g=g.concat(C))}}catch(R){y={error:R}}finally{try{v&&!v.done&&(E=p.return)&&E.call(p)}finally{if(y)throw y.error}}return c.forEach(function(R){o(R,l,r)}),c.length=0,g}var h=yt(i.map(d));return[h,l]}var cs=function(t,e){var n=e(t);return n};function xC(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[mi]=function(){return this},e}function gz(t,e,n,r){var i,o=bC(t.src),s=(i=e==null?void 0:e.options.services)===null||i===void 0?void 0:i[o.type],a=t.data?Ad(t.data,n,r):void 0,l=s?AC(s,t.id,a):xC(t.id);return l.meta=t,l}function AC(t,e,n){var r=xC(e);if(r.deferred=!0,aa(t)){var i=r.state=cs(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return i}}return r}function vz(t){try{return typeof t.send=="function"}catch{return!1}}function yz(t){return vz(t)&&"id"in t}function _z(t){var e;return ie((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[mi]=function(){return this},e),t)}var Cd=function(t){return t.type==="atomic"||t.type==="final"};function IC(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function Eu(t){return IC(t).filter(function(e){return e.type!=="history"})}function CC(t){var e=[t];return Cd(t)?e:e.concat(yt(Eu(t).map(CC)))}function sl(t,e){var n,r,i,o,s,a,l,u,c=new Set(t),f=Sv(c),d=new Set(e);try{for(var h=Fe(d),m=h.next();!m.done;m=h.next())for(var y=m.value,E=y.parent;E&&!d.has(E);)d.add(E),E=E.parent}catch(D){n={error:D}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var g=Sv(d);try{for(var p=Fe(d),v=p.next();!v.done;v=p.next()){var y=v.value;if(y.type==="compound"&&(!g.get(y)||!g.get(y).length))f.get(y)?f.get(y).forEach(function(L){return d.add(L)}):y.initialStateNodes.forEach(function(L){return d.add(L)});else if(y.type==="parallel")try{for(var b=(s=void 0,Fe(Eu(y))),C=b.next();!C.done;C=b.next()){var R=C.value;d.has(R)||(d.add(R),f.get(R)?f.get(R).forEach(function(L){return d.add(L)}):R.initialStateNodes.forEach(function(L){return d.add(L)}))}}catch(L){s={error:L}}finally{try{C&&!C.done&&(a=b.return)&&a.call(b)}finally{if(s)throw s.error}}}}catch(D){i={error:D}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}try{for(var S=Fe(d),k=S.next();!k.done;k=S.next())for(var y=k.value,E=y.parent;E&&!d.has(E);)d.add(E),E=E.parent}catch(D){l={error:D}}finally{try{k&&!k.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}return d}function PC(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(Cd(r))return r.key}else return{}}var i={};return n.forEach(function(o){i[o.key]=PC(o,e)}),i}function Sv(t){var e,n,r=new Map;try{for(var i=Fe(t),o=i.next();!o.done;o=i.next()){var s=o.value;r.has(s)||r.set(s,[]),s.parent&&(r.has(s.parent)||r.set(s.parent,[]),r.get(s.parent).push(s))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function wz(t,e){var n=sl([t],e);return PC(t,Sv(n))}function al(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function Ez(t){return at([],He(new Set(yt(at([],He(t.map(function(e){return e.ownEvents})),!1)))),!1)}function Af(t,e){return e.type==="compound"?Eu(e).some(function(n){return n.type==="final"&&al(t,n)}):e.type==="parallel"?Eu(e).every(function(n){return Af(t,n)}):!1}function Sz(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function M1(t){return new Set(yt(t.map(function(e){return e.tags})))}function kC(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(Ke(t)||Ke(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(i){return kC(t[i],e[i])})}function Tz(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function Rz(t,e){var n=t.exec,r=ie(ie({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var Yn=function(){function t(e){var n=this,r;this.actions=[],this.activities=D1,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||D1,this.meta=Sz(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return Ez(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var r=Ls;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=Ls;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),Ke(e))return[e];var i=Object.keys(e);return i.concat.apply(i,at([],He(i.map(function(o){return r.toStrings(e[o],n).map(function(s){return o+n+s})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=l_(e,["configuration","transitions","tags","machine"]);return ie(ie({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return f_(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n;ez(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},t}(),bz={deferEvents:!1},$1=function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=ie(ie({},bz),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t}(),hm=new Map,xz=0,Ba={bookId:function(){return"x:".concat(xz++)},register:function(t,e){return hm.set(t,e),t},get:function(t){return hm.get(t)},free:function(t){hm.delete(t)}};function h_(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Az(){var t=h_();if(t&&"__xstate__"in t)return t.__xstate__}function Iz(t){if(h_()){var e=Az();e&&e.register(t)}}function Cz(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,i=[],o=!1,s=function(){if(!o){for(o=!0;i.length>0;){var u=i.shift();n=t.transition(n,u,l),r.forEach(function(c){return c.next(n)})}o=!1}},a=_z({id:e.id,send:function(u){i.push(u),s()},getSnapshot:function(){return n},subscribe:function(u,c,f){var d=bf(u,c,f);return r.add(d),d.next(n),{unsubscribe:function(){r.delete(d)}}}}),l={parent:e.parent,self:a,id:e.id||"anonymous",observers:r};return n=t.start?t.start(l):n,a}var Pz={sync:!1,autoForward:!1},Ft;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(Ft||(Ft={}));var kz=function(){function t(e,n){n===void 0&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Ft.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(c,f){if(Sa(c))return r.batch(c),r.state;var d=Gt(lp(c,f));if(r.status===Ft.Stopped)return r.state;if(r.status!==Ft.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(d.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(d.data)));return r.scheduler.schedule(function(){r.forward(d);var h=r._nextState(d);r.update(h,d)}),r._state},this.sendTo=function(c,f,d){var h=r.parent&&(f===sa.Parent||r.parent.id===f),m=h?r.parent:Ke(f)?f===sa.Internal?r:r.children.get(f)||Ba.get(f):nz(f)?f:void 0;if(!m){if(!h)throw new Error("Unable to send event to child '".concat(f,"' from service '").concat(r.id,"'."));return}if("machine"in m){if(r.status!==Ft.Stopped||r.parent!==m||r.state.done){var y=ie(ie({},c),{name:c.name===z5?"".concat(ol(r.id)):c.name,origin:r.sessionId});!d&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([m,y]):m.send(y)}}else!d&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([m,c.data]):m.send(c.data)},this._exec=function(c,f,d,h){h===void 0&&(h=r.machine.options.actions);var m=c.exec||Ev(c.type,h),y=We(m)?m:m?m.exec:c.exec;if(y)try{return y(f,d.data,r.machine.config.predictableActionArguments?{action:c,_event:d}:{action:c,state:r.state,_event:d})}catch(Q){throw r.parent&&r.parent.send({type:"xstate.error",data:Q}),Q}switch(c.type){case ec:{var E=c;r.defer(E);break}case ap:var g=c;if(typeof g.delay=="number"){r.defer(g);return}else g.to?r.sendTo(g._event,g.to,d===Ls):r.send(g._event);break;case gC:r.cancel(c.sendId);break;case gv:{if(r.status!==Ft.Running)return;var p=c.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[p.id||p.type])break;if(p.type===Je.Invoke){var v=bC(p.src),b=r.machine.options.services?r.machine.options.services[v.type]:void 0,C=p.id,R=p.data,S="autoForward"in p?p.autoForward:!!p.forward;if(!b)return;var k=R?Ad(R,f,d):void 0;if(typeof b=="string")return;var D=We(b)?b(f,d.data,{data:k,src:v,meta:p.meta}):b;if(!D)return;var L=void 0;aa(D)&&(D=k?D.withContext(k):D,L={autoForward:S}),r.spawn(D,C,L)}else r.spawnActivity(p);break}case u_:{r.stopChild(c.activity.id);break}case vC:var B=c,N=B.label,M=B.value;N?r.logger(N,M):r.logger(M);break}};var i=ie(ie({},t.defaultOptions),n),o=i.clock,s=i.logger,a=i.parent,l=i.id,u=l!==void 0?l:e.id;this.id=u,this.logger=s,this.clock=o,this.parent=a,this.options=i,this.scheduler=new $1({deferEvents:this.options.deferEvents}),this.sessionId=Ba.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:cs(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,i;try{for(var o=Fe(e.actions),s=o.next();!s.done;s=o.next()){var a=s.value;this.exec(a,e,n)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,i,o,s,a,l,u,c,f=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||n===Ls)&&this.options.execute)this.execute(this.state);else for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);if(this.children.forEach(function(D){f.state.children[D.id]=D}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var h=Fe(this.eventListeners),m=h.next();!m.done;m=h.next()){var y=m.value;y(e.event)}}catch(D){r={error:D}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}try{for(var E=Fe(this.listeners),g=E.next();!g.done;g=E.next()){var y=g.value;y(e,e.event)}}catch(D){o={error:D}}finally{try{g&&!g.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}try{for(var p=Fe(this.contextListeners),v=p.next();!v.done;v=p.next()){var b=v.value;b(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(D){a={error:D}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}if(this.state.done){var C=e.configuration.find(function(D){return D.type==="final"&&D.parent===f.machine}),R=C&&C.doneData?Ad(C.doneData,e.context,n):void 0;this._doneEvent=xf(this.id,R);try{for(var S=Fe(this.doneListeners),k=S.next();!k.done;k=S.next()){var y=k.value;y(this._doneEvent)}}catch(D){u={error:D}}finally{try{k&&!k.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}this._stop(),this._stopChildren(),Ba.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Ft.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var i=this,o=bf(e,n,r);this.listeners.add(o.next),this.status!==Ft.NotStarted&&o.next(this.state);var s=function(){i.doneListeners.delete(s),i.stopListeners.delete(s),o.complete()};return this.status===Ft.Stopped?o.complete():(this.onDone(s),this.onStop(s)),{unsubscribe:function(){i.listeners.delete(o.next),i.doneListeners.delete(s),i.stopListeners.delete(s)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===Ft.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===Ft.Running)return this;this.machine._init(),Ba.register(this.sessionId,this),this.initialized=!0,this.status=Ft.Running;var r=e===void 0?this.initialState:cs(this,function(){return Tz(e)?n.machine.resolveState(e):n.machine.resolveState(Yn.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Ls)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){We(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,n,r,i,o,s,a,l,u,c;try{for(var f=Fe(this.listeners),d=f.next();!d.done;d=f.next()){var h=d.value;this.listeners.delete(h)}}catch(S){e={error:S}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}try{for(var m=Fe(this.stopListeners),y=m.next();!y.done;y=m.next()){var h=y.value;h(),this.stopListeners.delete(h)}}catch(S){r={error:S}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}try{for(var E=Fe(this.contextListeners),g=E.next();!g.done;g=E.next()){var h=g.value;this.contextListeners.delete(h)}}catch(S){o={error:S}}finally{try{g&&!g.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}try{for(var p=Fe(this.doneListeners),v=p.next();!v.done;v=p.next()){var h=v.value;this.doneListeners.delete(h)}}catch(S){a={error:S}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Ft.Stopped,this._initialState=void 0;try{for(var b=Fe(Object.keys(this.delayedEventsMap)),C=b.next();!C.done;C=b.next()){var R=C.value;this.clock.clearTimeout(this.delayedEventsMap[R])}}catch(S){u={error:S}}finally{try{C&&!C.done&&(c=b.return)&&c.call(b)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new $1({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r;if(!(!((r=e._state)===null||r===void 0)&&r.done)){var i=Gt({type:"xstate.stop"}),o=cs(e,function(){var s=yt(at([],He(e.state.configuration),!1).sort(function(f,d){return d.order-f.order}).map(function(f){return gi(f.onExit,e.machine.options.actions)})),a=He(Id(e.machine,e.state,e.state.context,i,[{type:"exit",actions:s}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),l=a[0],u=a[1],c=new Yn({value:e.state.value,context:u,_event:i,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:l.filter(function(f){return!wv(f)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return c.changed=!0,c});e.update(o,i),e._stopChildren(),Ba.free(e.sessionId)}}),this},t.prototype.batch=function(e){var n=this;if(!(this.status===Ft.NotStarted&&this.options.deferEvents)){if(this.status!==Ft.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,o,s=n.state,a=!1,l=[],u=function(h){var m=Gt(h);n.forward(m),s=cs(n,function(){return n.machine.transition(s,m,void 0,r||void 0)}),l.push.apply(l,at([],He(n.machine.config.predictableActionArguments?s.actions:s.actions.map(function(y){return Rz(y,s)})),!1)),a=a||!!s.changed};try{for(var c=Fe(e),f=c.next();!f.done;f=c.next()){var d=f.value;u(d)}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}s.changed=a,s.actions=l,n.update(s,Gt(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var i=Gt(e);if(i.name.indexOf(N1)===0&&!this.state.nextEvents.some(function(s){return s.indexOf(N1)===0}))throw i.data.data;var o=cs(this,function(){return r.machine.transition(r.state,i,void 0,n||void 0)});return o},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var n,r;try{for(var i=Fe(this.forwardTo),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.children.get(s);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(s,"'."));a.send(e)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this,r=this.clock.setTimeout(function(){"to"in e&&e.to?n.sendTo(e._event,e.to,!0):n.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(e,n.context,n._event,r)},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);n&&(this.removeChild(e),We(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(this.status!==Ft.Running)return AC(e,n);if(O1(e))return this.spawnPromise(Promise.resolve(e),n);if(We(e))return this.spawnCallback(e,n);if(yz(e))return this.spawnActor(e,n);if(tz(e))return this.spawnObservable(e,n);if(aa(e))return this.spawnMachine(e,ie(ie({},r),{id:n}));if(X5(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var i=new t(e,ie(ie({},this.options),{parent:this,id:n.id||e.id})),o=ie(ie({},Pz),n);o.sync&&i.onTransition(function(a){r.send(yC,{state:a,id:i.id})});var s=i;return this.children.set(i.id,s),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(a){r.removeChild(i.id),r.send(Gt(a,{origin:i.id}))}).start(),s},t.prototype.spawnBehavior=function(e,n){var r=Cz(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,i=this,o=!1,s;e.then(function(l){o||(s=l,i.removeChild(n),i.send(Gt(xf(n,l),{origin:n})))},function(l){if(!o){i.removeChild(n);var u=ol(n,l);try{i.send(Gt(u,{origin:n}))}catch{i.devTools&&i.devTools.send(u,i.state),i.machine.strict&&i.stop()}}});var a=(r={id:n,send:function(){},subscribe:function(l,u,c){var f=bf(l,u,c),d=!1;return e.then(function(h){d||(f.next(h),!d&&f.complete())},function(h){d||f.error(h)}),{unsubscribe:function(){return d=!0}}},stop:function(){o=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return s}},r[mi]=function(){return this},r);return this.children.set(n,a),a},t.prototype.spawnCallback=function(e,n){var r,i=this,o=!1,s=new Set,a=new Set,l,u=function(d){l=d,a.forEach(function(h){return h(d)}),!o&&i.send(Gt(d,{origin:n}))},c;try{c=e(u,function(d){s.add(d)})}catch(d){this.send(ol(n,d))}if(O1(c))return this.spawnPromise(c,n);var f=(r={id:n,send:function(d){return s.forEach(function(h){return h(d)})},subscribe:function(d){var h=bf(d);return a.add(h.next),{unsubscribe:function(){a.delete(h.next)}}},stop:function(){o=!0,We(c)&&c()},toJSON:function(){return{id:n}},getSnapshot:function(){return l}},r[mi]=function(){return this},r);return this.children.set(n,f),f},t.prototype.spawnObservable=function(e,n){var r,i=this,o,s=e.subscribe(function(l){o=l,i.send(Gt(l,{origin:n}))},function(l){i.removeChild(n),i.send(Gt(ol(n,l),{origin:n}))},function(){i.removeChild(n),i.send(Gt(xf(n),{origin:n}))}),a=(r={id:n,send:function(){},subscribe:function(l,u,c){return e.subscribe(l,u,c)},stop:function(){return s.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:n}}},r[mi]=function(){return this},r);return this.children.set(n,a),a},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(n){var r=n(this.state.context,e);this.spawnEffect(e.id,r)}},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[mi]=function(){return this},r))},t.prototype.attachDev=function(){var e=h_();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(ie(ie({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:ie({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}Iz(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[mi]=function(){return this},t.prototype.getSnapshot=function(){return this.status===Ft.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=NC,t}();function NC(t,e){var n=new kz(t,e);return n}function Nz(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function zc(t){return ie(ie({type:vv},t),{toJSON:function(){t.onDone,t.onError;var e=l_(t,["onDone","onError"]);return ie(ie({},e),{type:vv,src:Nz(t.src)})}})}var Hc="",Tv="#",pm="*",ns={},rs=function(t){return t[0]===Tv},Dz=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},Vz=function(){function t(e,n,r,i){r===void 0&&(r="context"in e?e.context:void 0);var o=this,s;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(Dz(),n),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:_C),this.id=this.config.id||at([this.machine.key],He(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(s=this.config.schema)!==null&&s!==void 0?s:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?il(this.config.states,function(u,c){var f,d=new t(u,{},void 0,{parent:o,key:c});return Object.assign(o.idMap,ie((f={},f[d.id]=d,f),d.idMap)),d}):ns;var a=0;function l(u){var c,f;u.order=a++;try{for(var d=Fe(IC(u)),h=d.next();!h.done;h=d.next()){var m=h.value;l(m)}}catch(y){c={error:y}}finally{try{h&&!h.done&&(f=d.return)&&f.call(d)}finally{if(c)throw c.error}}}l(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(u){var c=u.event;return c===Hc}):Hc in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=fr(this.config.entry||this.config.onEntry).map(function(u){return wu(u)}),this.onExit=fr(this.config.exit||this.config.onExit).map(function(u){return wu(u)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=fr(this.config.invoke).map(function(u,c){var f,d;if(aa(u)){var h=jc(o.id,c);return o.machine.options.services=ie((f={},f[h]=u,f),o.machine.options.services),zc({src:h,id:h})}else if(Ke(u.src)){var h=u.id||jc(o.id,c);return zc(ie(ie({},u),{id:h,src:u.src}))}else if(aa(u.src)||We(u.src)){var h=u.id||jc(o.id,c);return o.machine.options.services=ie((d={},d[h]=u.src,d),o.machine.options.services),zc(ie(ie({id:h},u),{src:h}))}else{var m=u.src;return zc(ie(ie({id:jc(o.id,c)},u),{src:m}))}}),this.activities=fr(this.config.activities).concat(this.invoke).map(function(u){return d_(u)}),this.transition=this.transition.bind(this),this.tags=fr(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||CC(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,i=r.actions,o=r.activities,s=r.guards,a=r.services,l=r.delays;return new t(this.config,{actions:ie(ie({},i),e.actions),activities:ie(ie({},o),e.activities),guards:ie(ie({},s),e.guards),services:ie(ie({},a),e.services),delays:ie(ie({},l),e.delays)},n??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return We(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:il(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===Hc,r=this.transitions.filter(function(i){var o=i.eventType===e;return n?o:o||i.eventType===pm});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(o,s){var a=We(o)?"".concat(e.id,":delay[").concat(s,"]"):o,l=pz(a,e.id);return e.onEntry.push(sz(l,{delay:o})),e.onExit.push(uz(l)),l},i=Sa(n)?n.map(function(o,s){var a=r(o.delay,s);return ie(ie({},o),{event:a})}):yt(Object.keys(n).map(function(o,s){var a=n[o],l=Ke(a)?{target:a}:a,u=isNaN(+o)?o:+o,c=r(u,s);return fr(l).map(function(f){return ie(ie({},f),{event:c,delay:u})})}));return i.map(function(o){var s=o.delay;return ie(ie({},e.formatTransition(o)),{delay:s})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var i=e instanceof Yn?e.value:Al(e,this.delimiter);if(Ke(i)){var o=this.getStateNode(i).initial;return o!==void 0?this.getStateNodes((n={},n[i]=o,n)):[this,this.states[i]]}var s=Object.keys(i),a=[this];return a.push.apply(a,at([],He(yt(s.map(function(l){return r.getStateNode(l).getStateNodes(i[l])}))),!1)),a},t.prototype.handles=function(e){var n=wC(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof Yn?e:Yn.create(e),r=Array.from(sl([],this.getStateNodes(n.value)));return new Yn(ie(ie({},n),{value:this.resolve(n.value),configuration:r,done:Af(r,this),tags:M1(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var i=this.getStateNode(e),o=i.next(n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionCompoundNode=function(e,n,r){var i=Object.keys(e),o=this.getStateNode(i[0]),s=o._transition(e[i[0]],n,r);return!s||!s.transitions.length?this.next(n,r):s},t.prototype.transitionParallelNode=function(e,n,r){var i,o,s={};try{for(var a=Fe(Object.keys(e)),l=a.next();!l.done;l=a.next()){var u=l.value,c=e[u];if(c){var f=this.getStateNode(u),d=f._transition(c,n,r);d&&(s[u]=d)}}}catch(g){i={error:g}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}var h=Object.keys(s).map(function(g){return s[g]}),m=yt(h.map(function(g){return g.transitions})),y=h.some(function(g){return g.transitions.length>0});if(!y)return this.next(n,r);var E=yt(Object.keys(s).map(function(g){return s[g].configuration}));return{transitions:m,exitSet:yt(h.map(function(g){return g.exitSet})),configuration:E,source:n,actions:yt(Object.keys(s).map(function(g){return s[g].actions}))}},t.prototype._transition=function(e,n,r){return Ke(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,Gt(n))},t.prototype.next=function(e,n){var r,i,o=this,s=n.name,a=[],l=[],u;try{for(var c=Fe(this.getCandidates(s)),f=c.next();!f.done;f=c.next()){var d=f.value,h=d.cond,m=d.in,y=e.context,E=m?Ke(m)&&rs(m)?e.matches(Al(this.getStateNodeById(m).path,this.delimiter)):f_(Al(m,this.delimiter),K5(this.path.slice(0,-2))(e.value)):!0,g=!1;try{g=!h||RC(this.machine,h,y,n,e)}catch(b){throw new Error("Unable to evaluate guard '".concat(h.name||h.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,`':
`).concat(b.message))}if(g&&E){d.target!==void 0&&(l=d.target),a.push.apply(a,at([],He(d.actions),!1)),u=d;break}}}catch(b){r={error:b}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}if(u){if(!l.length)return{transitions:[u],exitSet:[],configuration:e.value?[this]:[],source:e,actions:a};var p=yt(l.map(function(b){return o.getRelativeStateNodes(b,e.historyValue)})),v=!!u.internal;return{transitions:[u],exitSet:v?[]:yt(l.map(function(b){return o.getPotentiallyReenteringNodes(b)})),configuration:p,source:e,actions:a}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var n=[],r=this,i=e;r&&r!==i;)n.push(r),r=r.parent;return r!==i?[]:(n.push(i),n)},t.prototype.getActions=function(e,n,r,i,o,s,a){var l,u,c,f,d=this,h=s?sl([],this.getStateNodes(s.value)):[],m=new Set;try{for(var y=Fe(Array.from(e).sort(function(B,N){return B.order-N.order})),E=y.next();!E.done;E=y.next()){var g=E.value;(!al(h,g)||al(r.exitSet,g)||g.parent&&m.has(g.parent))&&m.add(g)}}catch(B){l={error:B}}finally{try{E&&!E.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}try{for(var p=Fe(h),v=p.next();!v.done;v=p.next()){var g=v.value;(!al(e,g)||al(r.exitSet,g.parent))&&r.exitSet.push(g)}}catch(B){c={error:B}}finally{try{v&&!v.done&&(f=p.return)&&f.call(p)}finally{if(c)throw c.error}}r.exitSet.sort(function(B,N){return N.order-B.order});var b=Array.from(m).sort(function(B,N){return B.order-N.order}),C=new Set(r.exitSet),R=yt(b.map(function(B){var N=[];if(B.type!=="final")return N;var M=B.parent;if(!M.parent)return N;N.push(Bc(B.id,B.doneData),Bc(M.id,B.doneData?Ad(B.doneData,i,o):void 0));var Q=M.parent;return Q.type==="parallel"&&Eu(Q).every(function(te){return Af(r.configuration,te)})&&N.push(Bc(Q.id)),N})),S=b.map(function(B){var N=B.onEntry,M=B.activities.map(function(Q){return cz(Q)});return{type:"entry",actions:gi(a?at(at([],He(N),!1),He(M),!1):at(at([],He(M),!1),He(N),!1),d.machine.options.actions)}}).concat({type:"state_done",actions:R.map(function(B){return iz(B)})}),k=Array.from(C).map(function(B){return{type:"exit",actions:gi(at(at([],He(B.onExit),!1),He(B.activities.map(function(N){return fz(N)})),!1),d.machine.options.actions)}}),D=k.concat({type:"transition",actions:gi(r.actions,this.machine.options.actions)}).concat(S);if(n){var L=gi(yt(at([],He(e),!1).sort(function(B,N){return N.order-B.order}).map(function(B){return B.onExit})),this.machine.options.actions).filter(function(B){return!wv(B)});return D.concat({type:"stop",actions:L})}return D},t.prototype.transition=function(e,n,r,i){e===void 0&&(e=this.initialState);var o=Gt(n),s;if(e instanceof Yn)s=r===void 0?e:this.resolveState(Yn.from(e,r));else{var a=Ke(e)?this.resolve(xd(this.getResolvedPath(e))):this.resolve(e),l=r??this.machine.context;s=this.resolveState(Yn.from(a,l))}if(this.strict&&!this.events.includes(o.name)&&!Y5(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var u=this._transition(s.value,s,o)||{transitions:[],configuration:[],exitSet:[],source:s,actions:[]},c=sl([],this.getStateNodes(s.value)),f=u.configuration.length?sl(c,u.configuration):c;return u.configuration=at([],He(f),!1),this.resolveTransition(u,s,s.context,i,o)},t.prototype.resolveRaisedTransition=function(e,n,r,i){var o,s=e.actions;return e=this.transition(e,n,void 0,i),e._event=r,e.event=r.data,(o=e.actions).unshift.apply(o,at([],He(s),!1)),e},t.prototype.resolveTransition=function(e,n,r,i,o){var s,a,l,u,c=this;o===void 0&&(o=Ls);var f=e.configuration,d=!n||e.transitions.length>0,h=d?e.configuration:n?n.configuration:[],m=Af(h,this),y=d?wz(this.machine,f):void 0,E=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,g=this.getActions(new Set(h),m,e,r,o,n,i),p=n?ie({},n.activities):{};try{for(var v=Fe(g),b=v.next();!b.done;b=v.next()){var C=b.value;try{for(var R=(l=void 0,Fe(C.actions)),S=R.next();!S.done;S=R.next()){var k=S.value;k.type===gv?p[k.activity.id||k.activity.type]=k:k.type===u_&&(p[k.activity.id||k.activity.type]=!1)}}catch(j){l={error:j}}finally{try{S&&!S.done&&(u=R.return)&&u.call(R)}finally{if(l)throw l.error}}}}catch(j){s={error:j}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}var D=He(Id(this,n,r,o,g,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),L=D[0],B=D[1],N=He(J5(L,wv),2),M=N[0],Q=N[1],te=L.filter(function(j){var ne;return j.type===gv&&((ne=j.activity)===null||ne===void 0?void 0:ne.type)===vv}),Ee=te.reduce(function(j,ne){return j[ne.activity.id]=gz(ne.activity,c.machine,B,o),j},n?ie({},n.children):{}),we=new Yn({value:y||n.value,context:B,_event:o,_sessionid:n?n._sessionid:null,historyValue:y?E?Z5(E,y):void 0:n?n.historyValue:void 0,history:!y||e.source?n:void 0,actions:y?Q:[],activities:y?p:n?n.activities:{},events:[],configuration:h,transitions:e.transitions,children:Ee,done:m,tags:M1(h),machine:this}),z=r!==B;we.changed=o.name===yC||z;var F=we.history;F&&delete F.history;var I=!m&&(this._transient||f.some(function(j){return j._transient}));if(!d&&(!I||o.name===Hc))return we;var H=we;if(!m)for(I&&(H=this.resolveRaisedTransition(H,{type:j5},o,i));M.length;){var w=M.shift();H=this.resolveRaisedTransition(H,w._event,o,i)}var $=H.changed||(F?!!H.actions.length||z||typeof F.value!=typeof H.value||!kC(H.value,F.value):void 0);return H.changed=$,H.history=F,H},t.prototype.getStateNode=function(e){if(rs(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=rs(e)?e.slice(Tv.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&rs(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=_v(e,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||ns;switch(this.type){case"parallel":return il(this.initialStateValue,function(o,s){return o?r.getStateNode(s).resolve(e[s]||o):ns});case"compound":if(Ke(e)){var i=this.getStateNode(e);return i.type==="parallel"||i.type==="compound"?(n={},n[e]=i.initialStateValue,n):e}return Object.keys(e).length?il(e,function(o,s){return o?r.getStateNode(s).resolve(o):ns}):this.initialStateValue||{};default:return e||ns}},t.prototype.getResolvedPath=function(e){if(rs(e)){var n=this.machine.idMap[e.slice(Tv.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return _v(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=V1(this.states,function(r){return r.initialStateValue||ns},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=Cd(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;Ke(n.target)?e=rs(n.target)?xd(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(Cd(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=Rf(this.initialStateValue);return yt(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=He(e),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var o=this.getStateNode(r);if(o.type==="history")return o.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:V1(this.states,function(n,r){if(!e)return n.historyValue();var i=Ke(e)?void 0:e[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var i=this.target;return i?yt(Rf(i).map(function(s){return r.getFromRelativePath(s)})):r.initialStateNodes}var o=Q5(r.path,"states")(e).current;return Ke(o)?[r.getStateNode(o)]:yt(Rf(o).map(function(s){return n.history==="deep"?r.getFromRelativePath(s):[r.states[s[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=yt(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,i;if(this.__cache.events)return this.__cache.events;var o=this.states,s=new Set(this.ownEvents);if(o)try{for(var a=Fe(Object.keys(o)),l=a.next();!l.done;l=a.next()){var u=l.value,c=o[u];if(c.states)try{for(var f=(r=void 0,Fe(c.events)),d=f.next();!d.done;d=f.next()){var h=d.value;s.add("".concat(h))}}catch(m){r={error:m}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!Ke(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var o=i?n.key+r:r;if(n.parent)try{var s=n.parent.getStateNodeByPath(o);return s}catch(a){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(a.message))}else return n.getStateNodeByPath(o)})},t.prototype.formatTransition=function(e){var n=this,r=rz(e.target),i="internal"in e?e.internal:r?r.some(function(l){return Ke(l)&&l[0]===n.delimiter}):!0,o=this.machine.options.guards,s=this.resolveTarget(r),a=ie(ie({},e),{actions:gi(fr(e.actions)),cond:TC(e.cond,o),target:s,source:this,internal:i,eventType:e.event,toJSON:function(){return ie(ie({},a),{target:a.target?a.target.map(function(l){return"#".concat(l.id)}):void 0,source:"#".concat(n.id)})}});return a},t.prototype.formatTransitions=function(){var e,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var o=this.config.on,s=pm,a=o[s],l=a===void 0?[]:a,u=l_(o,[typeof s=="symbol"?s:s+""]);i=yt(Object.keys(u).map(function(p){var v=ts(p,u[p]);return v}).concat(ts(pm,l)))}var c=this.config.always?ts("",this.config.always):[],f=this.config.onDone?ts(String(Bc(this.id)),this.config.onDone):[],d=yt(this.invoke.map(function(p){var v=[];return p.onDone&&v.push.apply(v,at([],He(ts(String(xf(p.id)),p.onDone)),!1)),p.onError&&v.push.apply(v,at([],He(ts(String(ol(p.id)),p.onError)),!1)),v})),h=this.after,m=yt(at(at(at(at([],He(f),!1),He(d),!1),He(i),!1),He(c),!1).map(function(p){return fr(p).map(function(v){return r.formatTransition(v)})}));try{for(var y=Fe(h),E=y.next();!E.done;E=y.next()){var g=E.value;m.push(g)}}catch(p){e={error:p}}finally{try{E&&!E.done&&(n=y.return)&&n.call(y)}finally{if(e)throw e.error}}return m},t}();function Oz(t,e,n){return n===void 0&&(n=t.context),new Vz(t,e,n)}var Lz=hz,Rv;(function(t){t[t.Effect=1]="Effect",t[t.LayoutEffect=2]="LayoutEffect"})(Rv||(Rv={}));var Il=x.useLayoutEffect;function F1(t){var e=x.useRef();return e.current||(e.current={v:t()}),e.current.v}var Mz=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},$z=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Fz(t,e){var n,r,i=Mz([[],[]],2),o=i[0],s=i[1];try{for(var a=$z(t),l=a.next();!l.done;l=a.next()){var u=l.value;e(u)?o.push(u):s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[o,s]}var za=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},U1=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function j1(t,e){var n=t.exec,r=n(e.context,e._event.data,{action:t,state:e,_event:e._event});r()}function Uz(t){var e=x.useRef([]),n=x.useRef([]);Il(function(){var r=t.subscribe(function(i){var o,s;if(i.actions.length){var a=i.actions.filter(function(f){return typeof f.exec=="function"&&"__effect"in f.exec}),l=za(Fz(a,function(f){return f.exec.__effect===Rv.Effect}),2),u=l[0],c=l[1];(o=e.current).push.apply(o,U1([],za(u.map(function(f){return[f,i]})),!1)),(s=n.current).push.apply(s,U1([],za(c.map(function(f){return[f,i]})),!1))}});return function(){r.unsubscribe()}},[]),Il(function(){for(;n.current.length;){var r=za(n.current.shift(),2),i=r[0],o=r[1];j1(i,o)}}),x.useEffect(function(){for(;e.current.length;){var r=za(e.current.shift(),2),i=r[0],o=r[1];j1(i,o)}})}var Cl=function(){return Cl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cl.apply(this,arguments)},jz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Bz(t,e,n){if(typeof t=="object")return t;var r=function(){};return{next:t,error:e||r,complete:n||r}}function zz(t,e,n){e===void 0&&(e={});var r=F1(function(){return typeof t=="function"?t():t}),i=e.context,o=e.guards,s=e.actions,a=e.activities,l=e.services,u=e.delays,c=e.state,f=jz(e,["context","guards","actions","activities","services","delays","state"]),d=F1(function(){var h={context:i,guards:o,actions:s,activities:a,services:l,delays:u},m=r.withConfig(h,function(){return Cl(Cl({},r.context),i)});return NC(m,Cl({deferEvents:!0},f))});return Il(function(){var h;return n&&(h=d.subscribe(Bz(n))),function(){h==null||h.unsubscribe()}},[n]),Il(function(){return d.start(c?Yn.create(c):void 0),function(){d.stop()}},[]),Il(function(){Object.assign(d.machine.options.actions,s),Object.assign(d.machine.options.guards,o),Object.assign(d.machine.options.activities,a),Object.assign(d.machine.options.services,l),Object.assign(d.machine.options.delays,u)},[s,o,a,l,u]),Uz(d),d}var Hz=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o};function qz(t,e){e===void 0&&(e={});var n=x.useCallback(function(a){var l=a.changed===void 0&&Object.keys(a.children).length;(a.changed||l)&&s(a)},[]),r=zz(t,e,n),i=Hz(x.useState(function(){var a=r.machine.initialState;return e.state?Yn.create(e.state):a}),2),o=i[0],s=i[1];return[o,r.send,r]}function Tt(){return Tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tt.apply(this,arguments)}function Ms(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Oe={arr:Array.isArray,obj:t=>Object.prototype.toString.call(t)==="[object Object]",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,nul:t=>t===null,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,e){if(typeof t!=typeof e)return!1;if(Oe.str(t)||Oe.num(t))return t===e;if(Oe.obj(t)&&Oe.obj(e)&&Object.keys(t).length+Object.keys(e).length===0)return!0;let n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return Oe.und(n)?t===e:!0}};function Wz(t,e){return e===void 0&&(e=!0),n=>(Oe.arr(n)?n:Object.keys(n)).reduce((r,i)=>{const o=e?i[0].toLowerCase()+i.substring(1):i;return r[o]=t(o),r},t)}function Gz(){const t=x.useState(!1),e=t[1];return x.useCallback(()=>e(r=>!r),[])}function eo(t,e){return Oe.und(t)||Oe.nul(t)?e:t}function qc(t){return Oe.und(t)?[]:Oe.arr(t)?t:[t]}function Rs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Oe.fun(t)?t(...n):t}function Kz(t){return t.to,t.from,t.config,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.delay,t.attach,t.destroyed,t.interpolateTo,t.ref,t.lazy,Ms(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}function mm(t){const e=Kz(t);if(Oe.und(e))return Tt({to:e},t);const n=Object.keys(t).reduce((r,i)=>Oe.und(e[i])?Tt({},r,{[i]:t[i]}):r,{});return Tt({to:e},n)}function Qz(t,e){return e&&(Oe.fun(e)?e(t):Oe.obj(e)&&(e.current=t)),t}class mr{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){this.children.length===0&&this.attach(),this.children.push(e)}removeChild(e){const n=this.children.indexOf(e);this.children.splice(n,1),this.children.length===0&&this.detach()}}class bv extends mr{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof mr&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof mr&&e.removeChild(this))}}class DC extends mr{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof mr&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof mr&&e.removeChild(this))}getValue(e){e===void 0&&(e=!1);const n={};for(const r in this.payload){const i=this.payload[r];e&&!(i instanceof mr)||(n[r]=i instanceof mr?i[e?"getAnimatedValue":"getValue"]():i)}return n}getAnimatedValue(){return this.getValue(!0)}}let p_;function Yz(t,e){p_={fn:t,transform:e}}let VC;function Xz(t){VC=t}let OC=t=>typeof window<"u"?window.requestAnimationFrame(t):-1,Pd;function Jz(t){Pd=t}let LC=()=>Date.now(),Zz=t=>t.current,MC;function e8(t){MC=t}class t8 extends DC{constructor(e,n){super(),this.update=void 0,this.payload=e.style?Tt({},e,{style:MC(e.style)}):e,this.update=n,this.attach()}}const n8=t=>Oe.fun(t)&&!(t.prototype instanceof ve.Component),r8=t=>x.forwardRef((n,r)=>{const i=Gz(),o=x.useRef(!0),s=x.useRef(null),a=x.useRef(null),l=x.useCallback(d=>{const h=s.current,m=()=>{let y=!1;a.current&&(y=p_.fn(a.current,s.current.getAnimatedValue())),(!a.current||y===!1)&&i()};s.current=new t8(d,m),h&&h.detach()},[]);x.useEffect(()=>()=>{o.current=!1,s.current&&s.current.detach()},[]),x.useImperativeHandle(r,()=>Zz(a)),l(n);const u=s.current.getValue();u.scrollTop,u.scrollLeft;const c=Ms(u,["scrollTop","scrollLeft"]),f=n8(t)?void 0:d=>a.current=Qz(d,r);return ve.createElement(t,Tt({},c,{ref:f}))});let Pl=!1;const So=new Set,$C=()=>{if(!Pl)return!1;let t=LC();for(let e of So){let n=!1;for(let r=0;r<e.configs.length;r++){let i=e.configs[r],o,s;for(let a=0;a<i.animatedValues.length;a++){let l=i.animatedValues[a];if(l.done)continue;let u=i.fromValues[a],c=i.toValues[a],f=l.lastPosition,d=c instanceof mr,h=Array.isArray(i.initialVelocity)?i.initialVelocity[a]:i.initialVelocity;if(d&&(c=c.getValue()),i.immediate){l.setValue(c),l.done=!0;continue}if(typeof u=="string"||typeof c=="string"){l.setValue(c),l.done=!0;continue}if(i.duration!==void 0)f=u+i.easing((t-l.startTime)/i.duration)*(c-u),o=t>=l.startTime+i.duration;else if(i.decay)f=u+h/(1-.998)*(1-Math.exp(-(1-.998)*(t-l.startTime))),o=Math.abs(l.lastPosition-f)<.1,o&&(c=f);else{s=l.lastTime!==void 0?l.lastTime:t,h=l.lastVelocity!==void 0?l.lastVelocity:i.initialVelocity,t>s+64&&(s=t);let m=Math.floor(t-s);for(let p=0;p<m;++p){let v=-i.tension*(f-c),b=-i.friction*h,C=(v+b)/i.mass;h=h+C*1/1e3,f=f+h*1/1e3}let y=i.clamp&&i.tension!==0?u<c?f>c:f<c:!1,E=Math.abs(h)<=i.precision,g=i.tension!==0?Math.abs(c-f)<=i.precision:!0;o=y||E&&g,l.lastVelocity=h,l.lastTime=t}d&&!i.toValues[a].done&&(o=!1),o?(l.value!==c&&(f=c),l.done=!0):n=!0,l.setValue(f),l.lastPosition=f}e.props.onFrame&&(e.values[i.name]=i.interpolation.getValue())}e.props.onFrame&&e.props.onFrame(e.values),n||(So.delete(e),e.stop(!0))}return So.size?OC($C):Pl=!1,Pl},i8=t=>{So.has(t)||So.add(t),Pl||(Pl=!0,OC($C))},o8=t=>{So.has(t)&&So.delete(t)};function kd(t,e,n){if(typeof t=="function")return t;if(Array.isArray(t))return kd({range:t,output:e,extrapolate:n});if(Pd&&typeof t.output[0]=="string")return Pd(t);const r=t,i=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=a8(u,o);return s8(u,o[c],o[c+1],i[c],i[c+1],l,s,a,r.map)}}function s8(t,e,n,r,i,o,s,a,l){let u=l?l(t):t;if(u<e){if(s==="identity")return u;s==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=o(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function a8(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}class la extends bv{constructor(e,n,r,i){super(),this.calc=void 0,this.payload=e instanceof bv&&!(e instanceof la)?e.getPayload():Array.isArray(e)?e:[e],this.calc=kd(n,r,i)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,n,r){this.calc=kd(e,n,r)}interpolate(e,n,r){return new la(this,e,n,r)}}const is=(t,e,n)=>t&&new la(t,e,n),l8={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};function FC(t,e){"update"in t?e.add(t):t.getChildren().forEach(n=>FC(n,e))}class xv extends mr{constructor(e){var n;super(),n=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(r,i){i===void 0&&(i=!0),n.value=r,i&&n.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){this.animatedStyles.size===0&&FC(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,n,r){return new la(this,e,n,r)}}class u8 extends bv{constructor(e){super(),this.payload=e.map(n=>new xv(n))}setValue(e,n){n===void 0&&(n=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((r,i)=>this.payload[i].setValue(r,n)):this.payload.forEach(r=>r.setValue(e,n))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,n){return new la(this,e,n)}}let c8=0,f8=class{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=c8++}update(e){if(!e)return this;const n=mm(e),r=n.delay,i=r===void 0?0:r,o=n.to,s=Ms(n,["delay","to"]);if(Oe.arr(o)||Oe.fun(o))this.queue.push(Tt({},s,{delay:i,to:o}));else if(o){let a={};Object.entries(o).forEach(l=>{let u=l[0],c=l[1];const f=Tt({to:{[u]:c},delay:Rs(i,u)},s),d=a[f.delay]&&a[f.delay].to;a[f.delay]=Tt({},a[f.delay],f,{to:Tt({},d,f.to)})}),this.queue=Object.values(a)}return this.queue=this.queue.sort((a,l)=>a.delay-l.delay),this.diff(s),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(i=>{let o=i.from,s=o===void 0?{}:o,a=i.to,l=a===void 0?{}:a;Oe.obj(s)&&(this.merged=Tt({},s,this.merged)),Oe.obj(l)&&(this.merged=Tt({},this.merged,l))});const n=this.local=++this.guid,r=this.localQueue=this.queue;this.queue=[],r.forEach((i,o)=>{let s=i.delay,a=Ms(i,["delay"]);const l=c=>{o===r.length-1&&n===this.guid&&c&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let u=Oe.arr(a.to)||Oe.fun(a.to);s?setTimeout(()=>{n===this.guid&&(u?this.runAsync(a,l):this.diff(a).start(l))},s):u?this.runAsync(a,l):this.diff(a).start(l)})}else Oe.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),i8(this);return this}stop(e){return this.listeners.forEach(n=>n(e)),this.listeners=[],this}pause(e){return this.stop(!0),e&&o8(this),this}runAsync(e,n){var r=this;e.delay;let i=Ms(e,["delay"]);const o=this.local;let s=Promise.resolve(void 0);if(Oe.arr(i.to))for(let a=0;a<i.to.length;a++){const l=a,u=Tt({},i,mm(i.to[l]));Oe.arr(u.config)&&(u.config=u.config[l]),s=s.then(()=>{if(o===this.guid)return new Promise(c=>this.diff(u).start(c))})}else if(Oe.fun(i.to)){let a=0,l;s=s.then(()=>i.to(u=>{const c=Tt({},i,mm(u));if(Oe.arr(c.config)&&(c.config=c.config[a]),a++,o===this.guid)return l=new Promise(f=>this.diff(c).start(f))},function(u){return u===void 0&&(u=!0),r.stop(u)}).then(()=>l))}s.then(n)}diff(e){this.props=Tt({},this.props,e);let n=this.props,r=n.from,i=r===void 0?{}:r,o=n.to,s=o===void 0?{}:o,a=n.config,l=a===void 0?{}:a,u=n.reverse,c=n.attach,f=n.reset,d=n.immediate;if(u){var h=[s,i];i=h[0],s=h[1]}this.merged=Tt({},i,this.merged,s),this.hasChanged=!1;let m=c&&c(this);if(this.animations=Object.entries(this.merged).reduce((y,E)=>{let g=E[0],p=E[1],v=y[g]||{};const b=Oe.num(p),C=Oe.str(p)&&!p.startsWith("#")&&!/\d/.test(p)&&!VC[p],R=Oe.arr(p),S=!b&&!R&&!C;let k=Oe.und(i[g])?p:i[g],D=b||R||C?p:1,L=Rs(l,g);m&&(D=m.animations[g].parent);let B=v.parent,N=v.interpolation,M=qc(m?D.getPayload():D),Q,te=p;S&&(te=Pd({range:[0,1],output:[p,p]})(1));let Ee=N&&N.getValue();const z=!Oe.und(B)&&v.animatedValues.some(w=>!w.done),F=!Oe.equ(te,Ee),I=!Oe.equ(te,v.previous),H=!Oe.equ(L,v.config);if(f||I&&F||H){if(b||C)B=N=v.parent||new xv(k);else if(R)B=N=v.parent||new u8(k);else if(S){let w=v.interpolation&&v.interpolation.calc(v.parent.value);w=w!==void 0&&!f?w:k,v.parent?(B=v.parent,B.setValue(0,!1)):B=new xv(0);const $={output:[w,p]};v.interpolation?(N=v.interpolation,v.interpolation.updateConfig($)):N=B.interpolate($)}return M=qc(m?D.getPayload():D),Q=qc(B.getPayload()),f&&!S&&B.setValue(k,!1),this.hasChanged=!0,Q.forEach(w=>{w.startPosition=w.value,w.lastPosition=w.value,w.lastVelocity=z?w.lastVelocity:void 0,w.lastTime=z?w.lastTime:void 0,w.startTime=LC(),w.done=!1,w.animatedStyles.clear()}),Rs(d,g)&&B.setValue(S?D:p,!1),Tt({},y,{[g]:Tt({},v,{name:g,parent:B,interpolation:N,animatedValues:Q,toValues:M,previous:te,config:L,fromValues:qc(B.getValue()),immediate:Rs(d,g),initialVelocity:eo(L.velocity,0),clamp:eo(L.clamp,!1),precision:eo(L.precision,.01),tension:eo(L.tension,170),friction:eo(L.friction,26),mass:eo(L.mass,1),duration:L.duration,easing:eo(L.easing,w=>w),decay:L.decay})})}else return F?y:(S&&(B.setValue(1,!1),N.updateConfig({output:[te,te]})),B.done=!0,this.hasChanged=!0,Tt({},y,{[g]:Tt({},y[g],{previous:te})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let y in this.animations)this.interpolations[y]=this.animations[y].interpolation,this.values[y]=this.animations[y].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}};const d8=(t,e)=>{const n=x.useRef(!1),r=x.useRef(),i=Oe.fun(e),o=x.useMemo(()=>{r.current&&(r.current.map(f=>f.destroy()),r.current=void 0);let c;return[new Array(t).fill().map((f,d)=>{const h=new f8,m=i?Rs(e,d,h):e[d];return d===0&&(c=m.ref),h.update(m),c||h.start(),h}),c]},[t]),s=o[0],a=o[1];r.current=s,x.useImperativeHandle(a,()=>({start:()=>Promise.all(r.current.map(c=>new Promise(f=>c.start(f)))),stop:c=>r.current.forEach(f=>f.stop(c)),get controllers(){return r.current}}));const l=x.useMemo(()=>c=>r.current.map((f,d)=>{f.update(i?Rs(c,d,f):c[d]),a||f.start()}),[t]);x.useEffect(()=>{n.current?i||l(e):a||r.current.forEach(c=>c.start())}),x.useEffect(()=>(n.current=!0,()=>r.current.forEach(c=>c.destroy())),[]);const u=r.current.map(c=>c.getValues());return i?[u,l,c=>r.current.forEach(f=>f.pause(c))]:u},h8=t=>{const e=Oe.fun(t),n=d8(1,e?t:[t]),r=n[0],i=n[1],o=n[2];return e?[r[0],i,o]:r};class p8 extends DC{constructor(e){e===void 0&&(e={}),super(),e.transform&&!(e.transform instanceof mr)&&(e=p_.transform(e)),this.payload=e}}const Nd={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},vr="[-+]?\\d*\\.?\\d+",Dd=vr+"%";function up(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const m8=new RegExp("rgb"+up(vr,vr,vr)),g8=new RegExp("rgba"+up(vr,vr,vr,vr)),v8=new RegExp("hsl"+up(vr,Dd,Dd)),y8=new RegExp("hsla"+up(vr,Dd,Dd,vr)),_8=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,w8=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,E8=/^#([0-9a-fA-F]{6})$/,S8=/^#([0-9a-fA-F]{8})$/;function T8(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=E8.exec(t))?parseInt(e[1]+"ff",16)>>>0:Nd.hasOwnProperty(t)?Nd[t]:(e=m8.exec(t))?(os(e[1])<<24|os(e[2])<<16|os(e[3])<<8|255)>>>0:(e=g8.exec(t))?(os(e[1])<<24|os(e[2])<<16|os(e[3])<<8|H1(e[4]))>>>0:(e=_8.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=S8.exec(t))?parseInt(e[1],16)>>>0:(e=w8.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=v8.exec(t))?(B1(z1(e[1]),Wc(e[2]),Wc(e[3]))|255)>>>0:(e=y8.exec(t))?(B1(z1(e[1]),Wc(e[2]),Wc(e[3]))|H1(e[4]))>>>0:null}function gm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B1(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=gm(i,r,t+1/3),s=gm(i,r,t),a=gm(i,r,t-1/3);return Math.round(o*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function os(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function z1(t){return(parseFloat(t)%360+360)%360/360}function H1(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Wc(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function q1(t){let e=T8(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,o=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${o})`}const Gc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,R8=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,b8=new RegExp(`(${Object.keys(Nd).join("|")})`,"g"),x8=t=>{const e=t.output.map(i=>i.replace(R8,q1)).map(i=>i.replace(b8,q1)),n=e[0].match(Gc).map(()=>[]);e.forEach(i=>{i.match(Gc).forEach((o,s)=>n[s].push(+o))});const r=e[0].match(Gc).map((i,o)=>kd(Tt({},t,{output:n[o]})));return i=>{let o=0;return e[0].replace(Gc,()=>r[o++](i)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(s,a,l,u,c)=>`rgba(${Math.round(a)}, ${Math.round(l)}, ${Math.round(u)}, ${c})`)}};let kl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const A8=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),I8=["Webkit","Ms","Moz","O"];kl=Object.keys(kl).reduce((t,e)=>(I8.forEach(n=>t[A8(n,e)]=t[e]),t),kl);function C8(t,e,n){return e==null||typeof e=="boolean"||e===""?"":!n&&typeof e=="number"&&e!==0&&!(kl.hasOwnProperty(t)&&kl[t])?e+"px":(""+e).trim()}const W1={};e8(t=>new p8(t));Jz(x8);Xz(Nd);Yz((t,e)=>{if(t.nodeType&&t.setAttribute!==void 0){const i=e.style,o=e.children,s=e.scrollTop,a=e.scrollLeft,l=Ms(e,["style","children","scrollTop","scrollLeft"]),u=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter";s!==void 0&&(t.scrollTop=s),a!==void 0&&(t.scrollLeft=a),o!==void 0&&(t.textContent=o);for(let c in i)if(i.hasOwnProperty(c)){var n=c.indexOf("--")===0,r=C8(c,i[c],n);c==="float"&&(c="cssFloat"),n?t.style.setProperty(c,r):t.style[c]=r}for(let c in l){const f=u?c:W1[c]||(W1[c]=c.replace(/([A-Z])/g,d=>"-"+d.toLowerCase()));typeof t.getAttribute(f)<"u"&&t.setAttribute(f,l[c])}return}else return!1},t=>t);const P8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],k8=Wz(r8,!1),N8=k8(P8);function G1(t,e){return t.map(function(n,r){return n+e[r]})}function UC(t,e){return t.map(function(n,r){return n-e[r]})}function Av(t){return Math.hypot.apply(Math,t)}function D8(t,e,n){var r=Av(e),i=r===0?0:1/r,o=n===0?0:1/n,s=o*r,a=e.map(function(c){return o*c}),l=e.map(function(c){return i*c}),u=Av(t);return{velocities:a,velocity:s,distance:u,direction:l}}function Iv(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function V8(t,e,n){return Math.max(e,Math.min(t,n))}function O8(t,e){return Math.pow(t,e*5)}function K1(t,e,n){return e===0||Math.abs(e)===1/0?O8(t,n):t*e*n/(e+n*t)}function Nl(t,e,n,r){return r===void 0&&(r=.15),r===0?V8(t,e,n):t<e?-K1(e-t,n-e,r)+e:t>n?+K1(t-n,n-e,r)+n:t}function Q1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L8(t,e,n){return e&&Q1(t.prototype,e),n&&Q1(t,n),t}function En(){return En=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},En.apply(this,arguments)}function jC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function M8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Kc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $8(t,e){if(t){if(typeof t=="string")return Y1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y1(t,e)}}function Y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cp(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=$8(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=t[Symbol.iterator](),n.next.bind(n)}function BC(){}function zC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?BC:e.length===1?e[0]:function(){for(var r,i=cp(e),o;!(o=i()).done;){var s=o.value;r=s.apply(this,arguments)||r}return r}}function vi(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function Qc(t){if(typeof t=="function"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}else return t}function m_(t,e){t===void 0&&(t={});for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];switch(typeof a){case"function":n[s]=a.call(n,t[s],s,t);break;case"object":n[s]=m_(t[s],a);break;case"boolean":a&&(n[s]=t[s]);break}}return n}var F8=180,U8=.15,j8=.5,B8=60,z8={threshold:function(e){return e===void 0&&(e=0),vi(e)},rubberband:function(e){switch(e===void 0&&(e=0),e){case!0:return vi(U8);case!1:return vi(0);default:return vi(e)}},enabled:function(e){return e===void 0&&(e=!0),e},triggerAllEvents:function(e){return e===void 0&&(e=!1),e},initial:function(e){return e===void 0&&(e=0),typeof e=="function"?e:vi(e)}},HC=En({},z8,{axis:!0,lockDirection:function(e){return e===void 0&&(e=!1),e},bounds:function(e){if(e===void 0&&(e={}),typeof e=="function")return function(f){return HC.bounds(e(f))};var n=e,r=n.left,i=r===void 0?-1/0:r,o=n.right,s=o===void 0?1/0:o,a=n.top,l=a===void 0?-1/0:a,u=n.bottom,c=u===void 0?1/0:u;return[[i,s],[l,c]]}}),H8=typeof window<"u"&&window.document&&window.document.createElement,q8={enabled:function(e){return e===void 0&&(e=!0),e},domTarget:!0,window:function(t){function e(n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return t===void 0&&(t=H8?window:void 0),t}),eventOptions:function(e){var n=e===void 0?{}:e,r=n.passive,i=r===void 0?!0:r,o=n.capture,s=o===void 0?!1:o;return{passive:i,capture:s}}},W8=En({},HC,{threshold:function(e,n,r){var i=r.filterTaps,o=i===void 0?!1:i,s=r.lockDirection,a=s===void 0?!1:s,l=r.axis,u=l===void 0?void 0:l,c=vi(e,o?3:a||u?1:0);return this.filterTaps=o||c[0]+c[1]>0,c},swipeVelocity:function(e){return e===void 0&&(e=j8),vi(e)},swipeDistance:function(e){return e===void 0&&(e=B8),vi(e)},delay:function(e){switch(e===void 0&&(e=0),e){case!0:return F8;case!1:return 0;default:return e}}});function G8(t){return t===void 0&&(t={}),m_(t,q8)}function K8(t){return t===void 0&&(t={}),m_(t,W8)}function Q8(t){var e=t.domTarget,n=t.eventOptions,r=t.window,i=t.enabled,o=M8(t,["domTarget","eventOptions","window","enabled"]),s=G8({domTarget:e,eventOptions:n,window:r,enabled:i});return s.drag=K8(o),s}function Ha(t){return En({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:BC,canceled:!1,memo:void 0,args:void 0},t)}function qC(){var t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},e=Ha({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),n=Ha({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),r=Ha({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=Ha({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),o=Ha({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:n,wheel:r,move:i,scroll:o}}var oo=new Map,Y8=function(){function t(n,r){var i=this;r===void 0&&(r=[]),this.controller=n,this.args=r,this.debounced=!0,this.setTimeout=function(o,s){var a;s===void 0&&(s=140),clearTimeout(i.controller.timeouts[i.stateKey]);for(var l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];i.controller.timeouts[i.stateKey]=(a=window).setTimeout.apply(a,[o,s].concat(u))},this.clearTimeout=function(){clearTimeout(i.controller.timeouts[i.stateKey])},this.fireGestureHandler=function(o){if(o===void 0&&(o=!1),i.state._blocked)return i.debounced||(i.state._active=!1,i.clean()),null;if(!o&&!i.state.intentional&&!i.config.triggerAllEvents)return null;if(i.state.intentional){var s=i.state.active,a=i.state._active;i.state.active=a,i.state.first=a&&!s,i.state.last=s&&!a,i.controller.state.shared[i.ingKey]=a}var l=En({},i.controller.state.shared,i.state,i.mapStateValues(i.state)),u=i.handler(l);return i.state.memo=u!==void 0?u:i.state.memo,i.state._active||i.clean(),l}}var e=t.prototype;return e.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},e.updateGestureState=function(r){Object.assign(this.state,r)},e.checkIntentionality=function(r,i){return{_intentional:r,_blocked:!1}},e.getMovement=function(r){var i=this.config,o=i.initial,s=i.bounds,a=i.rubberband,l=i.threshold,u=this.state,c=u._bounds,f=u._initial,d=u._active,h=u._intentional,m=u.lastOffset,y=u.movement,E=this.getInternalMovement(r,this.state),g=h[0]===!1?X1(E[0],l[0]):h[0],p=h[1]===!1?X1(E[1],l[1]):h[1],v=this.checkIntentionality([g,p],E);if(v._blocked)return En({},v,{_movement:E,delta:[0,0]});var b=v._intentional,C=E,R,S;if(b[0]!==!1&&h[0]===!1&&(S=Qc(o,this.state),R=Qc(s,this.state),f[0]=S[0],c[0]=R[0]),b[1]!==!1&&h[1]===!1){var k,D;S=(k=S)!=null?k:Qc(o,this.state),R=(D=R)!=null?D:Qc(s,this.state),f[1]=S[1],c[1]=R[1]}var L=[b[0]!==!1?E[0]-b[0]:f[0],b[1]!==!1?E[1]-b[1]:f[1]],B=G1(L,m),N=d?a:[0,0];return L=J1(c,G1(L,f),N),En({},v,{intentional:b[0]!==!1||b[1]!==!1,_initial:f,_movement:C,movement:L,values:r,offset:J1(c,B,N),delta:UC(L,y)})},e.clean=function(){this.clearTimeout()},L8(t,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}]),t}();function X1(t,e){return Math.abs(t)>=e?Iv(t)*e:!1}function J1(t,e,n){var r=e[0],i=e[1],o=n[0],s=n[1],a=t[0],l=a[0],u=a[1],c=t[1],f=c[0],d=c[1];return[Nl(r,l,u,o),Nl(i,f,d,s)]}function vm(t,e,n){var r=t.state,i=t.args,o=e.timeStamp,s=e.type,a=r.values,l=n?0:o-r.startTime;return{_lastEventType:s,event:e,timeStamp:o,elapsedTime:l,args:i,previous:a}}function X8(t,e,n){var r=t.state.offset,i=n.timeStamp;return En({},qC()[t.stateKey],{_active:!0,values:e,initial:e,offset:r,lastOffset:r,startTime:i})}function J8(t,e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.call.apply(t,[this,En({},e,{event:n})].concat(i))}}var Z8=function(e){var n=this;this.classes=e,this.bind=function(){for(var r={},i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];for(var a=cp(n.classes),l;!(l=a()).done;){var u=l.value;new u(n,o).addBindings(r)}for(var c=0,f=Object.entries(n.nativeRefs);c<f.length;c++){var d=f[c],h=d[0],m=d[1];Cv(r,h,J8(m,En({},n.state.shared,{args:o})))}return n.config.domTarget?r7(n,r):i7(n,r)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var r=GC(n.config),i=n.config.eventOptions;r&&tc(r,WC(n.domListeners),i),Object.values(n.timeouts).forEach(clearTimeout),e7(n)},this.state=qC(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function e7(t){var e=t.config,n=e.window,r=e.eventOptions,i=t.windowListeners;if(n){for(var o in i){var s=i[o];tc(n,s,r)}t.windowListeners={}}}function t7(t,e){var n=t.config,r=t.windowListeners;n.window&&(tc(n.window,r[e],n.eventOptions),delete r[e])}function n7(t,e,n){var r=t.config,i=t.windowListeners;n===void 0&&(n=[]),r.window&&(tc(r.window,i[e],r.eventOptions),KC(r.window,i[e]=n,r.eventOptions))}function r7(t,e){var n=t.config,r=t.domListeners,i=GC(n);if(!i)throw new Error("domTarget must be defined");var o=n.eventOptions;tc(i,WC(r),o);for(var s=0,a=Object.entries(e);s<a.length;s++){var l=a[s],u=l[0],c=l[1],f=u.slice(2).toLowerCase();r.push([f,zC.apply(void 0,c)])}KC(i,r,o)}function i7(t,e){for(var n=t.config,r={},i=n.eventOptions.capture?"Capture":"",o=0,s=Object.entries(e);o<s.length;o++){var a=s[o],l=a[0],u=a[1],c=Array.isArray(u)?u:[u],f=l+i;r[f]=zC.apply(void 0,c)}return r}function WC(t){return t===void 0&&(t=[]),t.splice(0,t.length)}function GC(t){var e=t.domTarget;return e&&"current"in e?e.current:e}function Cv(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function KC(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=cp(e),i;!(i=r()).done;){var o=i.value,s=o[0],a=o[1];t.addEventListener(s,a,n)}}function tc(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=cp(e),i;!(i=r()).done;){var o=i.value,s=o[0],a=o[1];t.removeEventListener(s,a,n)}}function o7(t,e,n){n===void 0&&(n={});var r=a7(t),i=ve.useMemo(function(){return new Z8(r)},[]);return i.config=e,i.handlers=t,i.nativeRefs=n,ve.useEffect(i.effect,[]),i.config.domTarget?s7:i.bind}function s7(){}function a7(t){var e=new Set;return t.drag&&e.add(oo.get("drag")),t.wheel&&e.add(oo.get("wheel")),t.scroll&&e.add(oo.get("scroll")),t.move&&e.add(oo.get("move")),t.pinch&&e.add(oo.get("pinch")),t.hover&&e.add(oo.get("hover")),e}var l7=function(t){jC(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getInternalMovement=function(i,o){return UC(i,o.initial)},n.checkIntentionality=function(i,o){if(i[0]===!1&&i[1]===!1)return{_intentional:i,axis:this.state.axis};var s=o.map(Math.abs),a=s[0],l=s[1],u=this.state.axis||(a>l?"x":a<l?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:i,_blocked:!1,axis:u}:u?this.config.axis&&u!==this.config.axis?{_intentional:i,_blocked:!0,axis:u}:(i[u==="x"?1:0]=!1,{_intentional:i,_blocked:!1,axis:u}):{_intentional:[!1,!1],_blocked:!1,axis:u}},n.getKinematics=function(i,o){var s=this.getMovement(i);if(!s._blocked){var a=o.timeStamp-this.state.timeStamp;Object.assign(s,D8(s.movement,s.delta,a))}return s},n.mapStateValues=function(i){return{xy:i.values,vxvy:i.velocities}},e}(Y8);function QC(t){if("touches"in t){var e=t.targetTouches,n=t.changedTouches;return e.length>0?e:n}return null}function Z1(t){var e="buttons"in t?t.buttons:0,n=QC(t),r=n&&n.length||0,i=r>0||e>0,o=t.shiftKey,s=t.altKey,a=t.metaKey,l=t.ctrlKey;return{touches:r,down:i,buttons:e,shiftKey:o,altKey:s,metaKey:a,ctrlKey:l}}function eS(t){var e=QC(t),n=e?e[0]:t,r=n.clientX,i=n.clientY;return[r,i]}var u7=3,c7=220,f7=function(t){jC(e,t);function e(){var r;return r=t.apply(this,arguments)||this,r.ingKey="dragging",r.stateKey="drag",r.onDragStart=function(i){!r.enabled||r.state._active||(n7(r.controller,r.stateKey,[["pointermove",r.onDragChange],["pointerup",r.onDragEnd],["pointercancel",r.onDragEnd]]),r.updateGestureState({_pointerId:i.pointerId}),r.config.delay>0?(r.state._delayedEvent=!0,"persist"in i&&typeof i.persist=="function"&&i.persist(),r.setTimeout(r.startDrag.bind(Kc(r)),r.config.delay,i)):r.startDrag(i))},r.onDragChange=function(i){if(!r.state.canceled&&i.pointerId===r.state._pointerId){if(!r.state._active){r.state._delayedEvent&&(r.clearTimeout(),r.startDrag(i));return}var o=Z1(i);if(!o.down){r.onDragEnd(i);return}r.updateSharedState(o);var s=eS(i),a=r.getKinematics(s,i),l=vm(Kc(r),i),u=r.state._isTap,c=Av(a._movement);u&&c>=u7&&(u=!1),r.updateGestureState(En({},l,a,{_isTap:u})),r.fireGestureHandler()}},r.onDragEnd=function(i){if(i.pointerId===r.state._pointerId){r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0});var o=r.state._isTap,s=r.state.velocities,a=s[0],l=s[1],u=r.state.movement,c=u[0],f=u[1],d=r.state._intentional,h=d[0],m=d[1],y=r.config.swipeVelocity,E=y[0],g=y[1],p=r.config.swipeDistance,v=p[0],b=p[1],C=En({},vm(Kc(r),i),r.getMovement(r.state.values)),R=[0,0];C.elapsedTime<c7&&(h!==!1&&Math.abs(a)>E&&Math.abs(c)>v&&(R[0]=Iv(a)),m!==!1&&Math.abs(l)>g&&Math.abs(f)>b&&(R[1]=Iv(l))),r.updateGestureState(En({},C,{tap:o,swipe:R})),r.fireGestureHandler(o===!0)}},r.clean=function(){t.prototype.clean.call(Kc(r)),r.state._delayedEvent=!1,t7(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0}),r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return r.fireGestureHandler()}))},r.onClick=function(i){r.state._isTap||i.stopPropagation()},r}var n=e.prototype;return n.startDrag=function(i){var o=eS(i);this.updateSharedState(Z1(i)),this.updateGestureState(En({},X8(this,o,i),vm(this,i,!0),{_pointerId:i.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(o)),this.fireGestureHandler()},n.addBindings=function(i){if(Cv(i,"onPointerDown",this.onDragStart),this.config.filterTaps){var o=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";Cv(i,o,this.onClick)}},e}(l7);function d7(t,e){var n,r=[],i,o=!1;function s(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return o&&n===this&&e(l,r)||(i=t.apply(this,l),o=!0,n=this,r=l),i}return s}function If(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!If(t[r],e[r]))return!1;return!0}var o;if(typeof Map=="function"&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!If(r.value[1],e.get(r.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(typeof Element<"u"&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!(i[r]==="_owner"&&t.$$typeof)&&!If(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}function h7(t,e){try{return If(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function p7(t,e){e===void 0&&(e={}),oo.set("drag",f7);var n=x.useRef();return n.current||(n.current=d7(Q8,h7)),o7({drag:t},n.current(e))}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var YC=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Vd=YC.join(","),XC=typeof Element>"u",$o=XC?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Pv=!XC&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},JC=function(e,n,r){var i=Array.prototype.slice.apply(e.querySelectorAll(Vd));return n&&$o.call(e,Vd)&&i.unshift(e),i=i.filter(r),i},ZC=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,u=t(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scope:s,candidates:u})}else{var c=$o.call(s,Vd);c&&r.filter(s)&&(n||!e.includes(s))&&i.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),d=!r.shadowRootFilter||r.shadowRootFilter(s);if(f&&d){var h=t(f===!0?s.children:f.children,!0,r);r.flatten?i.push.apply(i,h):i.push({scope:s,candidates:h})}else o.unshift.apply(o,s.children)}}return i},eP=function(e,n){return e.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},m7=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},tP=function(e){return e.tagName==="INPUT"},g7=function(e){return tP(e)&&e.type==="hidden"},v7=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},y7=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},_7=function(e){if(!e.name)return!0;var n=e.form||Pv(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=y7(i,e.form);return!o||o===e},w7=function(e){return tP(e)&&e.type==="radio"},E7=function(e){return w7(e)&&!_7(e)},tS=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},S7=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=$o.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if($o.call(s,"details:not([open]) *"))return!0;var a=Pv(e).host,l=(a==null?void 0:a.ownerDocument.contains(a))||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof i=="function"){for(var u=e;e;){var c=e.parentElement,f=Pv(e);if(c&&!c.shadowRoot&&i(c)===!0)return tS(e);e.assignedSlot?e=e.assignedSlot:!c&&f!==e.ownerDocument?e=f.host:e=c}e=u}if(l)return!e.getClientRects().length}else if(r==="non-zero-area")return tS(e);return!1},T7=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return $o.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Od=function(e,n){return!(n.disabled||g7(n)||S7(n,e)||v7(n)||T7(n))},kv=function(e,n){return!(E7(n)||eP(n)<0||!Od(e,n))},R7=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},b7=function t(e){var n=[],r=[];return e.forEach(function(i,o){var s=!!i.scope,a=s?i.scope:i,l=eP(a,s),u=s?t(i.candidates):a;l===0?s?n.push.apply(n,u):n.push(a):r.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:u})}),r.sort(m7).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},x7=function(e,n){n=n||{};var r;return n.getShadowRoot?r=ZC([e],n.includeContainer,{filter:kv.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:R7}):r=JC(e,n.includeContainer,kv.bind(null,n)),b7(r)},A7=function(e,n){n=n||{};var r;return n.getShadowRoot?r=ZC([e],n.includeContainer,{filter:Od.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=JC(e,n.includeContainer,Od.bind(null,n)),r},Yc=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return $o.call(e,Vd)===!1?!1:kv(n,e)},I7=YC.concat("iframe").join(","),ym=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return $o.call(e,I7)===!1?!1:Od(n,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){C7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iS=function(){var t=[];return{activateTrap:function(n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var i=t.indexOf(n);i===-1||t.splice(i,1),t.push(n)},deactivateTrap:function(n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}}}(),P7=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},k7=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},N7=function(e){return e.key==="Tab"||e.keyCode===9},oS=function(e){return setTimeout(e,0)},sS=function(e,n){var r=-1;return e.every(function(i,o){return n(i)?(r=o,!1):!0}),r},qa=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},Xc=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},D7=function(e,n){var r=(n==null?void 0:n.document)||document,i=rS({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,a=function(R,S,k){return R&&R[S]!==void 0?R[S]:i[k||S]},l=function(R){return o.containerGroups.findIndex(function(S){var k=S.container,D=S.tabbableNodes;return k.contains(R)||D.find(function(L){return L===R})})},u=function(R){var S=i[R];if(typeof S=="function"){for(var k=arguments.length,D=new Array(k>1?k-1:0),L=1;L<k;L++)D[L-1]=arguments[L];S=S.apply(void 0,D)}if(S===!0&&(S=void 0),!S){if(S===void 0||S===!1)return S;throw new Error("`".concat(R,"` was specified but was not a node, or did not return a node"))}var B=S;if(typeof S=="string"&&(B=r.querySelector(S),!B))throw new Error("`".concat(R,"` as selector refers to no known node"));return B},c=function(){var R=u("initialFocus");if(R===!1)return!1;if(R===void 0)if(l(r.activeElement)>=0)R=r.activeElement;else{var S=o.tabbableGroups[0],k=S&&S.firstTabbableNode;R=k||u("fallbackFocus")}if(!R)throw new Error("Your focus-trap needs to have at least one focusable element");return R},f=function(){if(o.containerGroups=o.containers.map(function(R){var S=x7(R,i.tabbableOptions),k=A7(R,i.tabbableOptions);return{container:R,tabbableNodes:S,focusableNodes:k,firstTabbableNode:S.length>0?S[0]:null,lastTabbableNode:S.length>0?S[S.length-1]:null,nextTabbableNode:function(L){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=k.findIndex(function(M){return M===L});if(!(N<0))return B?k.slice(N+1).find(function(M){return Yc(M,i.tabbableOptions)}):k.slice(0,N).reverse().find(function(M){return Yc(M,i.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(R){return R.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function C(R){if(R!==!1&&R!==r.activeElement){if(!R||!R.focus){C(c());return}R.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=R,P7(R)&&R.select()}},h=function(R){var S=u("setReturnFocus",R);return S||(S===!1?!1:R)},m=function(R){var S=Xc(R);if(!(l(S)>=0)){if(qa(i.clickOutsideDeactivates,R)){s.deactivate({returnFocus:i.returnFocusOnDeactivate&&!ym(S,i.tabbableOptions)});return}qa(i.allowOutsideClick,R)||R.preventDefault()}},y=function(R){var S=Xc(R),k=l(S)>=0;k||S instanceof Document?k&&(o.mostRecentlyFocusedNode=S):(R.stopImmediatePropagation(),d(o.mostRecentlyFocusedNode||c()))},E=function(R){var S=Xc(R);f();var k=null;if(o.tabbableGroups.length>0){var D=l(S),L=D>=0?o.containerGroups[D]:void 0;if(D<0)R.shiftKey?k=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:k=o.tabbableGroups[0].firstTabbableNode;else if(R.shiftKey){var B=sS(o.tabbableGroups,function(we){var z=we.firstTabbableNode;return S===z});if(B<0&&(L.container===S||ym(S,i.tabbableOptions)&&!Yc(S,i.tabbableOptions)&&!L.nextTabbableNode(S,!1))&&(B=D),B>=0){var N=B===0?o.tabbableGroups.length-1:B-1,M=o.tabbableGroups[N];k=M.lastTabbableNode}}else{var Q=sS(o.tabbableGroups,function(we){var z=we.lastTabbableNode;return S===z});if(Q<0&&(L.container===S||ym(S,i.tabbableOptions)&&!Yc(S,i.tabbableOptions)&&!L.nextTabbableNode(S))&&(Q=D),Q>=0){var te=Q===o.tabbableGroups.length-1?0:Q+1,Ee=o.tabbableGroups[te];k=Ee.firstTabbableNode}}}else k=u("fallbackFocus");k&&(R.preventDefault(),d(k))},g=function(R){if(k7(R)&&qa(i.escapeDeactivates,R)!==!1){R.preventDefault(),s.deactivate();return}if(N7(R)){E(R);return}},p=function(R){var S=Xc(R);l(S)>=0||qa(i.clickOutsideDeactivates,R)||qa(i.allowOutsideClick,R)||(R.preventDefault(),R.stopImmediatePropagation())},v=function(){if(o.active)return iS.activateTrap(s),o.delayInitialFocusTimer=i.delayInitialFocus?oS(function(){d(c())}):d(c()),r.addEventListener("focusin",y,!0),r.addEventListener("mousedown",m,{capture:!0,passive:!1}),r.addEventListener("touchstart",m,{capture:!0,passive:!1}),r.addEventListener("click",p,{capture:!0,passive:!1}),r.addEventListener("keydown",g,{capture:!0,passive:!1}),s},b=function(){if(o.active)return r.removeEventListener("focusin",y,!0),r.removeEventListener("mousedown",m,!0),r.removeEventListener("touchstart",m,!0),r.removeEventListener("click",p,!0),r.removeEventListener("keydown",g,!0),s};return s={get active(){return o.active},get paused(){return o.paused},activate:function(R){if(o.active)return this;var S=a(R,"onActivate"),k=a(R,"onPostActivate"),D=a(R,"checkCanFocusTrap");D||f(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,S&&S();var L=function(){D&&f(),v(),k&&k()};return D?(D(o.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(R){if(!o.active)return this;var S=rS({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},R);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,b(),o.active=!1,o.paused=!1,iS.deactivateTrap(s);var k=a(S,"onDeactivate"),D=a(S,"onPostDeactivate"),L=a(S,"checkCanReturnFocus"),B=a(S,"returnFocus","returnFocusOnDeactivate");k&&k();var N=function(){oS(function(){B&&d(h(o.nodeFocusedBeforeActivation)),D&&D()})};return B&&L?(L(h(o.nodeFocusedBeforeActivation)).then(N,N),this):(N(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,b(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,f(),v(),this)},updateContainerElements:function(R){var S=[].concat(R).filter(Boolean);return o.containers=S.map(function(k){return typeof k=="string"?r.querySelector(k):k}),o.active&&f(),this}},s.updateContainerElements(e),s};function V7(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var g_=!1;if(typeof window<"u"){var aS={get passive(){g_=!0}};window.addEventListener("testPassive",null,aS),window.removeEventListener("testPassive",null,aS)}var nP=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Si=[],Ld=!1,rP=-1,Dl=void 0,Vl=void 0,iP=function(e){return Si.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},Md=function(e){var n=e||window.event;return iP(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},O7=function(e){if(Vl===void 0){var n=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;n&&r>0&&(Vl=document.body.style.paddingRight,document.body.style.paddingRight=r+"px")}Dl===void 0&&(Dl=document.body.style.overflow,document.body.style.overflow="hidden")},L7=function(){Vl!==void 0&&(document.body.style.paddingRight=Vl,Vl=void 0),Dl!==void 0&&(document.body.style.overflow=Dl,Dl=void 0)},M7=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},$7=function(e,n){var r=e.targetTouches[0].clientY-rP;return iP(e.target)?!1:n&&n.scrollTop===0&&r>0||M7(n)&&r<0?Md(e):(e.stopPropagation(),!0)},F7=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Si.some(function(i){return i.targetElement===e})){var r={targetElement:e,options:n||{}};Si=[].concat(V7(Si),[r]),nP?(e.ontouchstart=function(i){i.targetTouches.length===1&&(rP=i.targetTouches[0].clientY)},e.ontouchmove=function(i){i.targetTouches.length===1&&$7(i,e)},Ld||(document.addEventListener("touchmove",Md,g_?{passive:!1}:void 0),Ld=!0)):O7(n)}},U7=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Si=Si.filter(function(n){return n.targetElement!==e}),nP?(e.ontouchstart=null,e.ontouchmove=null,Ld&&Si.length===0&&(document.removeEventListener("touchmove",Md,g_?{passive:!1}:void 0),Ld=!1)):Si.length||L7()},To=[],j7=function(){return To.some(function(t){return t.activeTargets.length>0})},B7=function(){return To.some(function(t){return t.skippedTargets.length>0})},lS="ResizeObserver loop completed with undelivered notifications.",z7=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:lS}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=lS),window.dispatchEvent(t)},Su;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Su||(Su={}));var Ro=function(t){return Object.freeze(t)},H7=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,Ro(this)}return t}(),oP=function(){function t(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ro(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,i=e.top,o=e.right,s=e.bottom,a=e.left,l=e.width,u=e.height;return{x:n,y:r,top:i,right:o,bottom:s,left:a,width:l,height:u}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),v_=function(t){return t instanceof SVGElement&&"getBBox"in t},sP=function(t){if(v_(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,o=i.offsetWidth,s=i.offsetHeight;return!(o||s||t.getClientRects().length)},uS=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},q7=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ol=typeof window<"u"?window:{},Jc=new WeakMap,cS=/auto|scroll/,W7=/^tb|vertical/,G7=/msie|trident/i.test(Ol.navigator&&Ol.navigator.userAgent),br=function(t){return parseFloat(t||"0")},$s=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new H7((n?e:t)||0,(n?t:e)||0)},fS=Ro({devicePixelContentBoxSize:$s(),borderBoxSize:$s(),contentBoxSize:$s(),contentRect:new oP(0,0,0,0)}),aP=function(t,e){if(e===void 0&&(e=!1),Jc.has(t)&&!e)return Jc.get(t);if(sP(t))return Jc.set(t,fS),fS;var n=getComputedStyle(t),r=v_(t)&&t.ownerSVGElement&&t.getBBox(),i=!G7&&n.boxSizing==="border-box",o=W7.test(n.writingMode||""),s=!r&&cS.test(n.overflowY||""),a=!r&&cS.test(n.overflowX||""),l=r?0:br(n.paddingTop),u=r?0:br(n.paddingRight),c=r?0:br(n.paddingBottom),f=r?0:br(n.paddingLeft),d=r?0:br(n.borderTopWidth),h=r?0:br(n.borderRightWidth),m=r?0:br(n.borderBottomWidth),y=r?0:br(n.borderLeftWidth),E=f+u,g=l+c,p=y+h,v=d+m,b=a?t.offsetHeight-v-t.clientHeight:0,C=s?t.offsetWidth-p-t.clientWidth:0,R=i?E+p:0,S=i?g+v:0,k=r?r.width:br(n.width)-R-C,D=r?r.height:br(n.height)-S-b,L=k+E+C+p,B=D+g+b+v,N=Ro({devicePixelContentBoxSize:$s(Math.round(k*devicePixelRatio),Math.round(D*devicePixelRatio),o),borderBoxSize:$s(L,B,o),contentBoxSize:$s(k,D,o),contentRect:new oP(f,l,k,D)});return Jc.set(t,N),N},lP=function(t,e,n){var r=aP(t,n),i=r.borderBoxSize,o=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(e){case Su.DEVICE_PIXEL_CONTENT_BOX:return s;case Su.BORDER_BOX:return i;default:return o}},K7=function(){function t(e){var n=aP(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=Ro([n.borderBoxSize]),this.contentBoxSize=Ro([n.contentBoxSize]),this.devicePixelContentBoxSize=Ro([n.devicePixelContentBoxSize])}return t}(),uP=function(t){if(sP(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},Q7=function(){var t=1/0,e=[];To.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var c=new K7(u.target),f=uP(u.target);a.push(c),u.lastReportedSize=lP(u.target,u.observedBox),f<t&&(t=f)}),e.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var i=r[n];i()}return t},dS=function(t){To.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(uP(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},Y7=function(){var t=0;for(dS(t);j7();)t=Q7(),dS(t);return B7()&&z7(),t>0},_m,cP=[],X7=function(){return cP.splice(0).forEach(function(t){return t()})},J7=function(t){if(!_m){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return X7()}).observe(n,r),_m=function(){n.textContent="".concat(e?e--:e++)}}cP.push(t),_m()},Z7=function(t){J7(function(){requestAnimationFrame(t)})},Cf=0,eH=function(){return!!Cf},tH=250,nH={attributes:!0,characterData:!0,childList:!0,subtree:!0},hS=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],pS=function(t){return t===void 0&&(t=0),Date.now()+t},wm=!1,rH=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=tH),!wm){wm=!0;var r=pS(e);Z7(function(){var i=!1;try{i=Y7()}finally{if(wm=!1,e=r-pS(),!eH())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,nH)};document.body?n():Ol.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),hS.forEach(function(n){return Ol.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),hS.forEach(function(n){return Ol.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),Nv=new rH,mS=function(t){!Cf&&t>0&&Nv.start(),Cf+=t,!Cf&&Nv.stop()},iH=function(t){return!v_(t)&&!q7(t)&&getComputedStyle(t).display==="inline"},oH=function(){function t(e,n){this.target=e,this.observedBox=n||Su.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=lP(this.target,this.observedBox,!0);return iH(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),sH=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),Zc=new WeakMap,gS=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},ef=function(){function t(){}return t.connect=function(e,n){var r=new sH(e,n);Zc.set(e,r)},t.observe=function(e,n,r){var i=Zc.get(e),o=i.observationTargets.length===0;gS(i.observationTargets,n)<0&&(o&&To.push(i),i.observationTargets.push(new oH(n,r&&r.box)),mS(1),Nv.schedule())},t.unobserve=function(e,n){var r=Zc.get(e),i=gS(r.observationTargets,n),o=r.observationTargets.length===1;i>=0&&(o&&To.splice(To.indexOf(r),1),r.observationTargets.splice(i,1),mS(-1))},t.disconnect=function(e){var n=this,r=Zc.get(e);r.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),aH=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ef.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uS(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ef.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uS(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ef.unobserve(this,e)},t.prototype.disconnect=function(){ef.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function ln(){return ln=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ln.apply(this,arguments)}function Pf(t,e){if(t==null)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}var Ll=typeof window<"u"?x.useLayoutEffect:x.useEffect;function Wa(t,e,n){return e=(e=+e)==e?e:0,n=(n=+n)==n?n:0,(t=+t)==t&&(t=(t=t<=n?t:n)>=e?t:e),t}function tf(t){var e=Math.round(t);if(Number.isNaN(t))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return e}var lH={box:"border-box"};function Em(t,e){var n=e.label,r=e.enabled,i=e.resizeSourceRef,o=x.useState(0),s=o[0],a=o[1];x.useDebugValue(n+": "+s);var l=x.useCallback(function(u){a(u[0].borderBoxSize[0].blockSize),i.current="element"},[i]);return Ll(function(){if(t.current&&r){var u=new aH(l);return u.observe(t.current,lH),function(){u.disconnect()}}},[t,l,r]),r?s:0}function an(t){return t===void 0&&(t=1e3),new Promise(function(e){return setTimeout(e,t)})}var vS={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},yS={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},uH=Oz({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:ln({},vS,yS)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:ln({},vS,yS)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:ln({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[Lz({y:function(t,e){return e.payload.y},velocity:function(t,e){return e.payload.velocity},snapSource:function(t,e){var n=e.payload.source;return n===void 0?"custom":n}})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(t,e){},onSnapCancel:function(t,e){},onResizeCancel:function(t,e){},onCloseCancel:function(t,e){},onOpenEnd:function(t,e){},onSnapEnd:function(t,e){},onRezizeEnd:function(t,e){}},services:{onSnapStart:function(){try{return Promise.resolve(an()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenStart:function(){try{return Promise.resolve(an()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseStart:function(){try{return Promise.resolve(an()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeStart:function(){try{return Promise.resolve(an()).then(function(){})}catch(t){return Promise.reject(t)}},onSnapEnd:function(){try{return Promise.resolve(an()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenEnd:function(){try{return Promise.resolve(an()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseEnd:function(){try{return Promise.resolve(an()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeEnd:function(){try{return Promise.resolve(an()).then(function(){})}catch(t){return Promise.reject(t)}},renderVisuallyHidden:function(t,e){try{return Promise.resolve(an()).then(function(){})}catch(n){return Promise.reject(n)}},activate:function(t,e){try{return Promise.resolve(an()).then(function(){})}catch(n){return Promise.reject(n)}},deactivate:function(t,e){try{return Promise.resolve(an()).then(function(){})}catch(n){return Promise.reject(n)}},openSmoothly:function(t,e){try{return Promise.resolve(an()).then(function(){})}catch(n){return Promise.reject(n)}},openImmediately:function(t,e){try{return Promise.resolve(an()).then(function(){})}catch(n){return Promise.reject(n)}},snapSmoothly:function(t,e){try{return Promise.resolve(an()).then(function(){})}catch(n){return Promise.reject(n)}},resizeSmoothly:function(t,e){try{return Promise.resolve(an()).then(function(){})}catch(n){return Promise.reject(n)}},closeSmoothly:function(t,e){try{return Promise.resolve(an()).then(function(){})}catch(n){return Promise.reject(n)}}},guards:{initiallyClosed:function(t){return t.initialState==="CLOSED"},initiallyOpen:function(t){return t.initialState==="OPEN"}}}),cH=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],fH=["velocity"],dH=["onRest","config"],fP=l8.default,hH=fP.tension,nf=fP.friction,pH=ve.forwardRef(function(t,e){var n=t.children,r=t.sibling,i=t.className,o=t.footer,s=t.header,a=t.open,l=t.initialState,u=t.lastSnapRef,c=t.initialFocusRef,f=t.onDismiss,d=t.maxHeight,h=t.defaultSnap,m=h===void 0?gH:h,y=t.snapPoints,E=y===void 0?vH:y,g=t.blocking,p=g===void 0||g,v=t.scrollLocking,b=v===void 0||v,C=t.style,R=t.onSpringStart,S=t.onSpringCancel,k=t.onSpringEnd,D=t.reserveScrollBarGap,L=D===void 0?p:D,B=t.expandOnContentDrag,N=B!==void 0&&B,M=Pf(t,cH),Q=function(){var _=x.useState(!1),T=_[0],V=_[1],W=x.useState({}),Y=W[0],X=W[1],le=x.useCallback(function(ue){return X(function(ce){var oe;return ln({},ce,((oe={})[ue]=!1,oe))}),function(){X(function(ce){var oe;return ln({},ce,((oe={})[ue]=!0,oe))})}},[]);return x.useEffect(function(){var ue=Object.values(Y);ue.length!==0&&ue.every(Boolean)&&V(!0)},[Y]),{ready:T,registerReady:le}}(),te=Q.ready,Ee=Q.registerReady,we=x.useRef(!1),z=x.useRef(R),F=x.useRef(S),I=x.useRef(k);x.useEffect(function(){z.current=R,F.current=S,I.current=k},[S,R,k]);var H,w,$=h8(function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}}),j=$[0],ne=$[1],Z=x.useRef(null),me=x.useRef(null),Se=x.useRef(null),pe=x.useRef(null),De=x.useRef(null),Ve=x.useRef(null),Te=x.useRef(0),Pe=x.useRef(),Ze=x.useRef(!1),ke=(H=x.useMemo(function(){return typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)"):null},[]),w=x.useRef(H==null?void 0:H.matches),x.useDebugValue(w.current?"reduce":"no-preference"),x.useEffect(function(){var _=function(T){w.current=T.matches};return H==null||H.addListener(_),function(){return H==null?void 0:H.removeListener(_)}},[H]),w),je=function(_){var T=_.targetRef,V=_.enabled,W=_.reserveScrollBarGap,Y=x.useRef({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return x.useDebugValue(V?"Enabled":"Disabled"),x.useEffect(function(){if(!V)return Y.current.deactivate(),void(Y.current={activate:function(){},deactivate:function(){}});var X=T.current,le=!1;Y.current={activate:function(){le||(le=!0,F7(X,{allowTouchMove:function(ue){return ue.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:W}))},deactivate:function(){le&&(le=!1,U7(X))}}},[V,T,W]),Y}({targetRef:me,enabled:te&&b,reserveScrollBarGap:L}),$e=function(_){var T=_.targetRef,V=_.enabled,W=x.useRef({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return x.useDebugValue(V?"Enabled":"Disabled"),x.useEffect(function(){if(!V)return W.current.deactivate(),void(W.current={activate:function(){},deactivate:function(){}});var Y=T.current,X=!1,le=[],ue=[];W.current={activate:function(){if(!X){X=!0;var ce=Y.parentNode;document.querySelectorAll("body > *").forEach(function(oe){if(oe!==ce){var ye=oe.getAttribute("aria-hidden");ye!==null&&ye!=="false"||(le.push(ye),ue.push(oe),oe.setAttribute("aria-hidden","true"))}})}},deactivate:function(){X&&(X=!1,ue.forEach(function(ce,oe){var ye=le[oe];ye===null?ce.removeAttribute("aria-hidden"):ce.setAttribute("aria-hidden",ye)}),le=[],ue=[])}}},[T,V]),W}({targetRef:Z,enabled:te&&p}),Ge=function(_){var T=_.targetRef,V=_.fallbackRef,W=_.initialFocusRef,Y=_.enabled,X=x.useRef({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return x.useDebugValue(Y?"Enabled":"Disabled"),x.useEffect(function(){if(!Y)return X.current.deactivate(),void(X.current={activate:function(){},deactivate:function(){}});var le=V.current,ue=D7(T.current,{onActivate:void 0,initialFocus:W?function(){return(W==null?void 0:W.current)||le}:void 0,fallbackFocus:le,escapeDeactivates:!1,clickOutsideDeactivates:!1}),ce=!1;X.current={activate:function(){try{return ce?Promise.resolve():(ce=!0,Promise.resolve(ue.activate()).then(function(){return Promise.resolve(new Promise(function(oe){return setTimeout(function(){return oe(void 0)},0)})).then(function(){})}))}catch(oe){return Promise.reject(oe)}},deactivate:function(){ce&&(ce=!1,ue.deactivate())}}},[Y,V,W,T]),X}({targetRef:Z,fallbackRef:Ve,initialFocusRef:c||void 0,enabled:te&&p&&c!==!1}),A=function(_){var T=_.getSnapPoints,V=_.heightRef,W=_.lastSnapRef,Y=_.ready,X=function(Qe){var $t=Qe.contentRef,bn=Qe.controlledMaxHeight,xt=Qe.footerEnabled,Fn=Qe.footerRef,Xo=Qe.headerEnabled,ar=Qe.headerRef,Ta=Qe.registerReady,ic=Qe.resizeSourceRef,S_=x.useMemo(function(){return Ta("contentHeight")},[Ta]),T_=function(Ra,A_,oc){var sc=x.useMemo(function(){return A_("maxHeight")},[A_]),I_=x.useState(function(){return tf(Ra)||typeof window<"u"?window.innerHeight:0}),C_=I_[0],hp=I_[1],P_=C_>0,ac=x.useRef(0);return x.useDebugValue(Ra?"controlled":"auto"),x.useEffect(function(){P_&&sc()},[P_,sc]),Ll(function(){if(Ra)return hp(tf(Ra)),void(oc.current="maxheightprop");var k_=function(){ac.current||(ac.current=requestAnimationFrame(function(){hp(window.innerHeight),oc.current="window",ac.current=0}))};return window.addEventListener("resize",k_),hp(window.innerHeight),oc.current="window",sc(),function(){window.removeEventListener("resize",k_),cancelAnimationFrame(ac.current)}},[Ra,sc,oc]),C_}(bn,Ta,ic),fp=Em(ar,{label:"headerHeight",enabled:Xo,resizeSourceRef:ic}),R_=Em($t,{label:"contentHeight",enabled:!0,resizeSourceRef:ic}),dp=Em(Fn,{label:"footerHeight",enabled:xt,resizeSourceRef:ic}),b_=Math.min(T_-fp-dp,R_)+fp+dp;x.useDebugValue("minHeight: "+b_);var x_=R_>0;return x.useEffect(function(){x_&&S_()},[x_,S_]),{maxHeight:T_,minHeight:b_,headerHeight:fp,footerHeight:dp}}({contentRef:_.contentRef,controlledMaxHeight:_.controlledMaxHeight,footerEnabled:_.footerEnabled,footerRef:_.footerRef,headerEnabled:_.headerEnabled,headerRef:_.headerRef,registerReady:_.registerReady,resizeSourceRef:_.resizeSourceRef}),le=X.maxHeight,ue=X.minHeight,ce=X.headerHeight,oe=X.footerHeight,ye=function(Qe,$t){var bn=[].concat(Qe).map(tf).reduce(function(ar,Ta){return ar.add(Wa(Ta,0,$t)),ar},new Set),xt=Array.from(bn),Fn=Math.min.apply(Math,xt);if(Number.isNaN(Fn))throw new TypeError("minSnap is NaN");var Xo=Math.max.apply(Math,xt);if(Number.isNaN(Xo))throw new TypeError("maxSnap is NaN");return{snapPoints:xt,minSnap:Fn,maxSnap:Xo}}(Y?T({height:V.current,footerHeight:oe,headerHeight:ce,minHeight:ue,maxHeight:le}):[0],le),et=ye.snapPoints,ot=ye.minSnap,ht=ye.maxSnap;return x.useDebugValue("minSnap: "+ot+", maxSnap:"+ht),{minSnap:ot,maxSnap:ht,findSnap:function(Qe){var $t=tf(typeof Qe=="function"?Qe({footerHeight:oe,headerHeight:ce,height:V.current,minHeight:ue,maxHeight:le,snapPoints:et,lastSnap:W.current}):Qe);return et.reduce(function(bn,xt){return Math.abs(xt-$t)<Math.abs(bn-$t)?xt:bn},ot)},maxHeight:le}}({contentRef:Se,controlledMaxHeight:d,footerEnabled:!!o,footerRef:De,getSnapPoints:E,headerEnabled:s!==!1,headerRef:pe,heightRef:Te,lastSnapRef:u,ready:te,registerReady:Ee,resizeSourceRef:Pe}),O=A.minSnap,U=A.maxSnap,re=A.maxHeight,ee=A.findSnap,K=x.useRef(re),de=x.useRef(O),Re=x.useRef(U),it=x.useRef(ee),vt=x.useRef(0);Ll(function(){K.current=re,Re.current=U,de.current=O,it.current=ee,vt.current=ee(m)},[ee,m,re,U,O]);var dt=x.useCallback(function(_){var T=_.onRest,V=_.config,W=(V=V===void 0?{}:V).velocity,Y=W===void 0?1:W,X=Pf(V,fH),le=Pf(_,dH);return new Promise(function(ue){return ne(ln({},le,{config:ln({velocity:Y},X,{mass:1,tension:hH,friction:Math.max(nf,nf+(nf-nf*Y))}),onRest:function(){var ce=[].slice.call(arguments);ue.apply(void 0,ce),T==null||T.apply(void 0,ce)}}))})},[ne]),Qo=qz(uH,{devTools:!1,actions:{onOpenCancel:x.useCallback(function(){return F.current==null?void 0:F.current({type:"OPEN"})},[]),onSnapCancel:x.useCallback(function(_){return F.current==null?void 0:F.current({type:"SNAP",source:_.snapSource})},[]),onCloseCancel:x.useCallback(function(){return F.current==null?void 0:F.current({type:"CLOSE"})},[]),onResizeCancel:x.useCallback(function(){return F.current==null?void 0:F.current({type:"RESIZE",source:Pe.current})},[]),onOpenEnd:x.useCallback(function(){return I.current==null?void 0:I.current({type:"OPEN"})},[]),onSnapEnd:x.useCallback(function(_,T){return I.current==null?void 0:I.current({type:"SNAP",source:_.snapSource})},[]),onResizeEnd:x.useCallback(function(){return I.current==null?void 0:I.current({type:"RESIZE",source:Pe.current})},[])},context:{initialState:l},services:{onSnapStart:x.useCallback(function(_,T){try{return Promise.resolve(z.current==null?void 0:z.current({type:"SNAP",source:T.payload.source||"custom"}))}catch(V){return Promise.reject(V)}},[]),onOpenStart:x.useCallback(function(){try{return Promise.resolve(z.current==null?void 0:z.current({type:"OPEN"}))}catch(_){return Promise.reject(_)}},[]),onCloseStart:x.useCallback(function(){try{return Promise.resolve(z.current==null?void 0:z.current({type:"CLOSE"}))}catch(_){return Promise.reject(_)}},[]),onResizeStart:x.useCallback(function(){try{return Promise.resolve(z.current==null?void 0:z.current({type:"RESIZE",source:Pe.current}))}catch(_){return Promise.reject(_)}},[]),onSnapEnd:x.useCallback(function(_,T){try{return Promise.resolve(I.current==null?void 0:I.current({type:"SNAP",source:_.snapSource}))}catch(V){return Promise.reject(V)}},[]),onOpenEnd:x.useCallback(function(){try{return Promise.resolve(I.current==null?void 0:I.current({type:"OPEN"}))}catch(_){return Promise.reject(_)}},[]),onCloseEnd:x.useCallback(function(){try{return Promise.resolve(I.current==null?void 0:I.current({type:"CLOSE"}))}catch(_){return Promise.reject(_)}},[]),onResizeEnd:x.useCallback(function(){try{return Promise.resolve(I.current==null?void 0:I.current({type:"RESIZE",source:Pe.current}))}catch(_){return Promise.reject(_)}},[]),renderVisuallyHidden:x.useCallback(function(_,T){try{return Promise.resolve(dt({y:vt.current,ready:0,maxHeight:K.current,maxSnap:Re.current,minSnap:vt.current,immediate:!0})).then(function(){})}catch(V){return Promise.reject(V)}},[dt]),activate:x.useCallback(function(_,T){try{return we.current=!0,Promise.resolve(Promise.all([je.current.activate(),Ge.current.activate(),$e.current.activate()])).then(function(){})}catch(V){return Promise.reject(V)}},[$e,Ge,je]),deactivate:x.useCallback(function(){try{return je.current.deactivate(),Ge.current.deactivate(),$e.current.deactivate(),we.current=!1,Promise.resolve()}catch(_){return Promise.reject(_)}},[$e,Ge,je]),openImmediately:x.useCallback(function(){try{return Te.current=vt.current,Promise.resolve(dt({y:vt.current,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:vt.current,immediate:!0})).then(function(){})}catch(_){return Promise.reject(_)}},[dt]),openSmoothly:x.useCallback(function(){try{return Promise.resolve(dt({y:0,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:vt.current,immediate:!0})).then(function(){return Te.current=vt.current,Promise.resolve(dt({y:vt.current,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:vt.current,immediate:ke.current})).then(function(){})})}catch(_){return Promise.reject(_)}},[dt,ke]),snapSmoothly:x.useCallback(function(_,T){try{var V=it.current(_.y);return Te.current=V,u.current=V,Promise.resolve(dt({y:V,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:de.current,immediate:ke.current,config:{velocity:_.velocity}})).then(function(){})}catch(W){return Promise.reject(W)}},[dt,u,ke]),resizeSmoothly:x.useCallback(function(){try{var _=it.current(Te.current);return Te.current=_,u.current=_,Promise.resolve(dt({y:_,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:de.current,immediate:Pe.current!=="element"||ke.current})).then(function(){})}catch(T){return Promise.reject(T)}},[dt,u,ke]),closeSmoothly:x.useCallback(function(_,T){try{return dt({minSnap:Te.current,immediate:!0}),Te.current=0,Promise.resolve(dt({y:0,maxHeight:K.current,maxSnap:Re.current,immediate:ke.current})).then(function(){return Promise.resolve(dt({ready:0,immediate:!0})).then(function(){})})}catch(V){return Promise.reject(V)}},[dt,ke])}}),Zi=Qo[0],vn=Qo[1];x.useEffect(function(){te&&vn(a?"OPEN":"CLOSE")},[a,vn,te]),Ll(function(){(re||U||O)&&vn("RESIZE")},[re,U,O,vn]),x.useEffect(function(){return function(){je.current.deactivate(),Ge.current.deactivate(),$e.current.deactivate()}},[$e,Ge,je]),x.useImperativeHandle(e,function(){return{snapTo:function(_,T){var V=T===void 0?{}:T,W=V.velocity,Y=W===void 0?1:W,X=V.source,le=X===void 0?"custom":X;vn("SNAP",{payload:{y:it.current(_),velocity:Y,source:le}})},get height(){return Te.current}}},[vn]),x.useEffect(function(){var _=me.current,T=function(W){Ze.current&&W.preventDefault()},V=function(W){_.scrollTop<0&&(requestAnimationFrame(function(){_.style.overflow="hidden",_.scrollTop=0,_.style.removeProperty("overflow")}),W.preventDefault())};return N&&(_.addEventListener("scroll",T),_.addEventListener("touchmove",T),_.addEventListener("touchstart",V)),function(){_.removeEventListener("scroll",T),_.removeEventListener("touchmove",T),_.removeEventListener("touchstart",V)}},[N,me]);var ai=p7(function(_){var T=_.args,V=(T=T===void 0?[]:T)[0],W=(V=V===void 0?{}:V).closeOnTap,Y=W!==void 0&&W,X=V.isContentDragging,le=X!==void 0&&X,ue=_.cancel,ce=_.direction[1],oe=_.down,ye=_.first,et=_.last,ot=_.memo,ht=ot===void 0?j.y.getValue():ot,Qe=_.tap,$t=_.velocity,bn=-1*_.movement[1];if(!we.current)return ue(),ht;if(f&&Y&&Qe)return ue(),setTimeout(function(){return f()},0),ht;if(Qe)return ht;var xt=ht+bn,Fn=bn*$t,Xo=Math.max(de.current,Math.min(Re.current,xt+2*Fn));if(!oe&&f&&ce>0&&xt+Fn<de.current/2)return ue(),f(),ht;var ar=oe?f||de.current!==Re.current?Nl(xt,f?0:de.current,Re.current,.55):xt<de.current?Nl(xt,de.current,2*Re.current,.55):Nl(xt,de.current/2,Re.current,.55):Xo;return N&&le?(ar>=Re.current&&(ar=Re.current),ht===Re.current&&me.current.scrollTop>0&&(ar=Re.current),Ze.current=ar<Re.current):Ze.current=!1,ye&&vn("DRAG"),et?(vn("SNAP",{payload:{y:ar,velocity:$t>.05?$t:1,source:"dragging"}}),ht):(ne({y:ar,ready:1,maxHeight:K.current,maxSnap:Re.current,minSnap:de.current,immediate:!0,config:{velocity:$t}}),ht)},{filterTaps:!0});if(Number.isNaN(Re.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(de.current))throw new TypeError("minSnapRef is NaN!!");var Yo=function(_){var T,V=_.spring,W=is([V.y,V.maxHeight],function(oe,ye){return Math.round(Wa(ye-oe,0,16))+"px"}),Y=is([V.y,V.minSnap,V.maxSnap],function(oe,ye,et){return Wa(oe,ye,et)+"px"}),X=is([V.y,V.minSnap,V.maxSnap],function(oe,ye,et){return oe<ye?ye-oe+"px":oe>et?et-oe+"px":"0px"}),le=is([V.y,V.maxSnap],function(oe,ye){return oe>=ye?Math.ceil(oe-ye):0}),ue=is([V.y,V.minSnap],function(oe,ye){if(!ye)return 0;var et=Math.max(ye/2-45,0);return Wa((oe-et)*(1/(Math.min(ye/2+45,ye)-et)+0),0,1)}),ce=is([V.y,V.minSnap],function(oe,ye){return ye?Wa(oe/ye,0,1):0});return(T={})["--rsbs-content-opacity"]=ue,T["--rsbs-backdrop-opacity"]=ce,T["--rsbs-antigap-scale-y"]=le,T["--rsbs-overlay-translate-y"]=X,T["--rsbs-overlay-rounded"]=W,T["--rsbs-overlay-h"]=Y,T}({spring:j});return ve.createElement(N8.div,ln({},M,{"data-rsbs-root":!0,"data-rsbs-state":mH.find(Zi.matches),"data-rsbs-is-blocking":p,"data-rsbs-is-dismissable":!!f,"data-rsbs-has-header":!!s,"data-rsbs-has-footer":!!o,className:i,ref:Z,style:ln({},Yo,C,{opacity:j.ready})}),r,p&&ve.createElement("div",ln({key:"backdrop","data-rsbs-backdrop":!0},ai({closeOnTap:!0}))),ve.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:Ve,onKeyDown:function(_){_.key==="Escape"&&(_.stopPropagation(),f&&f())}},s!==!1&&ve.createElement("div",ln({key:"header","data-rsbs-header":!0,ref:pe},ai()),s),ve.createElement("div",ln({key:"scroll","data-rsbs-scroll":!0,ref:me},N?ai({isContentDragging:!0}):{}),ve.createElement("div",{"data-rsbs-content":!0,ref:Se},n)),o&&ve.createElement("div",ln({key:"footer",ref:De,"data-rsbs-footer":!0},ai()),o)))}),mH=["closed","opening","open","closing","dragging","snapping","resizing"];function gH(t){var e=t.lastSnap;return e??Math.min.apply(Math,t.snapPoints)}function vH(t){return t.minHeight}var yH=["onSpringStart","onSpringEnd","skipInitialTransition"],_H=x.forwardRef(function(t,e){var n=t.onSpringStart,r=t.onSpringEnd,i=t.skipInitialTransition,o=Pf(t,yH),s=x.useState(!1),a=s[0],l=s[1],u=x.useRef(),c=x.useRef(null),f=x.useRef(i&&o.open?"OPEN":"CLOSED");Ll(function(){if(o.open)return cancelAnimationFrame(u.current),l(!0),function(){f.current="CLOSED"}},[o.open]);var d=x.useCallback(function(m){return Promise.resolve(n==null?void 0:n(m)).then(function(){m.type==="OPEN"&&cancelAnimationFrame(u.current)})},[n]),h=x.useCallback(function(m){return Promise.resolve(r==null?void 0:r(m)).then(function(){m.type==="CLOSE"&&(u.current=requestAnimationFrame(function(){return l(!1)}))})},[r]);return a?ve.createElement(U5,{"data-rsbs-portal":!0},ve.createElement(pH,ln({},o,{lastSnapRef:c,ref:e,initialState:f.current,onSpringStart:d,onSpringEnd:h}))):null});const dP=t=>{const n=new Date(t.createdAt.seconds*1e3+t.createdAt.nanoseconds/1e6),i=new Date-n,o=Math.floor(i/(1e3*60));let s;return o/60>=24?s=`${Math.floor(o/60/24)} 일`:o>=60?s=`${Math.floor(o/60)} 시간`:s=`${o} 분`,s},wH=t=>{const e=Cu(),n=r=>{e("/profile",{state:r})};return P.jsx("div",{children:t.data.map((r,i)=>P.jsxs("div",{className:"flex items-center my-3 mx-2",children:[P.jsx("div",{className:"rounded-full overflow-hidden size-8",onClick:()=>n(r.userId),children:P.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),P.jsxs("div",{children:[P.jsxs("div",{className:"flex",children:[P.jsx("div",{className:"ml-2 text-[14px] font-semibold",children:r.userId}),P.jsx("div",{className:"ml-2 text-[14px]",children:r.commentContent})]}),P.jsx("div",{className:"flex",children:P.jsx("div",{className:"ml-2 text-[11px]",children:dP(r)})})]})]},i))})};var nc=t=>t.type==="checkbox",bs=t=>t instanceof Date,_n=t=>t==null;const hP=t=>typeof t=="object";var Mt=t=>!_n(t)&&!Array.isArray(t)&&hP(t)&&!bs(t),EH=t=>Mt(t)&&t.target?nc(t.target)?t.target.checked:t.target.value:t,SH=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,TH=(t,e)=>t.has(SH(e)),RH=t=>{const e=t.constructor&&t.constructor.prototype;return Mt(e)&&e.hasOwnProperty("isPrototypeOf")},y_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(y_&&(t instanceof Blob||t instanceof FileList))&&(n||Mt(t)))if(e=n?[]:{},!n&&!RH(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Qn(t[r]));else return t;return e}var rc=t=>Array.isArray(t)?t.filter(Boolean):[],At=t=>t===void 0,ge=(t,e,n)=>{if(!e||!Mt(t))return n;const r=rc(e.split(/[,[\].]+?/)).reduce((i,o)=>_n(i)?i:i[o],t);return At(r)||r===t?At(t[e])?n:t[e]:r},qr=t=>typeof t=="boolean";const _S={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Br={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ve.createContext(null);var bH=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==gr.all&&(e._proxyFormState[s]=!r||gr.all),n&&(n[s]=!0),t[s]}});return i},Xn=t=>Mt(t)&&!Object.keys(t).length,xH=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return Xn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!r||gr.all))},Sm=t=>Array.isArray(t)?t:[t];function AH(t){const e=ve.useRef(t);e.current=t,ve.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var kr=t=>typeof t=="string",IH=(t,e,n,r,i)=>kr(t)?(r&&e.watch.add(t),ge(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),ge(n,o))):(r&&(e.watchAll=!0),n),__=t=>/^\w*$/.test(t),pP=t=>rc(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(t,e,n)=>{let r=-1;const i=__(e)?[e]:pP(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=t[a];l=Mt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},CH=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},wS=t=>({isOnSubmit:!t||t===gr.onSubmit,isOnBlur:t===gr.onBlur,isOnChange:t===gr.onChange,isOnAll:t===gr.all,isOnTouch:t===gr.onTouched}),ES=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ml=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=ge(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)break;if(s.ref&&e(s.ref,s.name)&&!r)break;Ml(a,e)}else Mt(a)&&Ml(a,e)}}};var PH=(t,e,n)=>{const r=rc(ge(t,n));return pt(r,"root",e[n]),pt(t,n,r),t},w_=t=>t.type==="file",Ti=t=>typeof t=="function",$d=t=>{if(!y_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},kf=t=>kr(t),E_=t=>t.type==="radio",Fd=t=>t instanceof RegExp;const SS={value:!1,isValid:!1},TS={value:!0,isValid:!0};var mP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!At(t[0].attributes.value)?At(t[0].value)||t[0].value===""?TS:{value:t[0].value,isValid:!0}:TS:SS}return SS};const RS={isValid:!1,value:null};var gP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,RS):RS;function bS(t,e,n="validate"){if(kf(t)||Array.isArray(t)&&t.every(kf)||qr(t)&&!t)return{type:n,message:kf(t)?t:"",ref:e}}var ss=t=>Mt(t)&&!Fd(t)?t:{value:t,message:""},xS=async(t,e,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:f,pattern:d,validate:h,name:m,valueAsNumber:y,mount:E,disabled:g}=t._f,p=ge(e,m);if(!E||g)return{};const v=s?s[0]:o,b=N=>{r&&v.reportValidity&&(v.setCustomValidity(qr(N)?"":N||""),v.reportValidity())},C={},R=E_(o),S=nc(o),k=R||S,D=(y||w_(o))&&At(o.value)&&At(p)||$d(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,L=CH.bind(null,m,n,C),B=(N,M,Q,te=Br.maxLength,Ee=Br.minLength)=>{const we=N?M:Q;C[m]={type:N?te:Ee,message:we,ref:o,...L(N?te:Ee,we)}};if(i?!Array.isArray(p)||!p.length:a&&(!k&&(D||_n(p))||qr(p)&&!p||S&&!mP(s).isValid||R&&!gP(s).isValid)){const{value:N,message:M}=kf(a)?{value:!!a,message:a}:ss(a);if(N&&(C[m]={type:Br.required,message:M,ref:v,...L(Br.required,M)},!n))return b(M),C}if(!D&&(!_n(c)||!_n(f))){let N,M;const Q=ss(f),te=ss(c);if(!_n(p)&&!isNaN(p)){const Ee=o.valueAsNumber||p&&+p;_n(Q.value)||(N=Ee>Q.value),_n(te.value)||(M=Ee<te.value)}else{const Ee=o.valueAsDate||new Date(p),we=I=>new Date(new Date().toDateString()+" "+I),z=o.type=="time",F=o.type=="week";kr(Q.value)&&p&&(N=z?we(p)>we(Q.value):F?p>Q.value:Ee>new Date(Q.value)),kr(te.value)&&p&&(M=z?we(p)<we(te.value):F?p<te.value:Ee<new Date(te.value))}if((N||M)&&(B(!!N,Q.message,te.message,Br.max,Br.min),!n))return b(C[m].message),C}if((l||u)&&!D&&(kr(p)||i&&Array.isArray(p))){const N=ss(l),M=ss(u),Q=!_n(N.value)&&p.length>+N.value,te=!_n(M.value)&&p.length<+M.value;if((Q||te)&&(B(Q,N.message,M.message),!n))return b(C[m].message),C}if(d&&!D&&kr(p)){const{value:N,message:M}=ss(d);if(Fd(N)&&!p.match(N)&&(C[m]={type:Br.pattern,message:M,ref:o,...L(Br.pattern,M)},!n))return b(M),C}if(h){if(Ti(h)){const N=await h(p,e),M=bS(N,v);if(M&&(C[m]={...M,...L(Br.validate,M.message)},!n))return b(M.message),C}else if(Mt(h)){let N={};for(const M in h){if(!Xn(N)&&!n)break;const Q=bS(await h[M](p,e),v,M);Q&&(N={...Q,...L(M,Q.message)},b(Q.message),n&&(C[m]=N))}if(!Xn(N)&&(C[m]={ref:v,...N},!n))return C}}return b(!0),C};function kH(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=At(t)?r++:t[e[r++]];return t}function NH(t){for(const e in t)if(t.hasOwnProperty(e)&&!At(t[e]))return!1;return!0}function qt(t,e){const n=Array.isArray(e)?e:__(e)?[e]:pP(e),r=n.length===1?t:kH(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Mt(r)&&Xn(r)||Array.isArray(r)&&NH(r))&&qt(t,n.slice(0,-1)),t}var Tm=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},Ud=t=>_n(t)||!hP(t);function go(t,e){if(Ud(t)||Ud(e))return t===e;if(bs(t)&&bs(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(bs(o)&&bs(s)||Mt(o)&&Mt(s)||Array.isArray(o)&&Array.isArray(s)?!go(o,s):o!==s)return!1}}return!0}var vP=t=>t.type==="select-multiple",DH=t=>E_(t)||nc(t),Rm=t=>$d(t)&&t.isConnected,yP=t=>{for(const e in t)if(Ti(t[e]))return!0;return!1};function jd(t,e={}){const n=Array.isArray(t);if(Mt(t)||n)for(const r in t)Array.isArray(t[r])||Mt(t[r])&&!yP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},jd(t[r],e[r])):_n(t[r])||(e[r]=!0);return e}function _P(t,e,n){const r=Array.isArray(t);if(Mt(t)||r)for(const i in t)Array.isArray(t[i])||Mt(t[i])&&!yP(t[i])?At(e)||Ud(n[i])?n[i]=Array.isArray(t[i])?jd(t[i],[]):{...jd(t[i])}:_P(t[i],_n(e)?{}:e[i],n[i]):n[i]=!go(t[i],e[i]);return n}var bm=(t,e)=>_P(t,e,jd(e)),wP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>At(t)?t:e?t===""?NaN:t&&+t:n&&kr(t)?new Date(t):r?r(t):t;function xm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return w_(e)?e.files:E_(e)?gP(t.refs).value:vP(e)?[...e.selectedOptions].map(({value:n})=>n):nc(e)?mP(t.refs).value:wP(At(e.value)?t.ref.value:e.value,t)}var VH=(t,e,n,r)=>{const i={};for(const o of t){const s=ge(e,o);s&&pt(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ga=t=>At(t)?t:Fd(t)?t.source:Mt(t)?Fd(t.value)?t.value.source:t.value:t,OH=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function AS(t,e,n){const r=ge(t,n);if(r||__(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=ge(e,o),a=ge(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var LH=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,MH=(t,e)=>!rc(ge(t,e)).length&&qt(t,e);const $H={mode:gr.onSubmit,reValidateMode:gr.onChange,shouldFocusError:!0};function FH(t={},e){let n={...$H,...t},r={submitCount:0,isDirty:!1,isLoading:Ti(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=Mt(n.defaultValues)||Mt(n.values)?Qn(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:Qn(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Tm(),array:Tm(),state:Tm()},h=wS(n.mode),m=wS(n.reValidateMode),y=n.criteriaMode===gr.all,E=A=>O=>{clearTimeout(c),c=setTimeout(A,O)},g=async A=>{if(f.isValid||A){const O=n.resolver?Xn((await D()).errors):await B(i,!0);O!==r.isValid&&d.state.next({isValid:O})}},p=A=>f.isValidating&&d.state.next({isValidating:A}),v=(A,O=[],U,re,ee=!0,K=!0)=>{if(re&&U){if(a.action=!0,K&&Array.isArray(ge(i,A))){const de=U(ge(i,A),re.argA,re.argB);ee&&pt(i,A,de)}if(K&&Array.isArray(ge(r.errors,A))){const de=U(ge(r.errors,A),re.argA,re.argB);ee&&pt(r.errors,A,de),MH(r.errors,A)}if(f.touchedFields&&K&&Array.isArray(ge(r.touchedFields,A))){const de=U(ge(r.touchedFields,A),re.argA,re.argB);ee&&pt(r.touchedFields,A,de)}f.dirtyFields&&(r.dirtyFields=bm(o,s)),d.state.next({name:A,isDirty:M(A,O),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pt(s,A,O)},b=(A,O)=>{pt(r.errors,A,O),d.state.next({errors:r.errors})},C=A=>{r.errors=A,d.state.next({errors:r.errors,isValid:!1})},R=(A,O,U,re)=>{const ee=ge(i,A);if(ee){const K=ge(s,A,At(U)?ge(o,A):U);At(K)||re&&re.defaultChecked||O?pt(s,A,O?K:xm(ee._f)):Ee(A,K),a.mount&&g()}},S=(A,O,U,re,ee)=>{let K=!1,de=!1;const Re={name:A},it=!!(ge(i,A)&&ge(i,A)._f.disabled);if(!U||re){f.isDirty&&(de=r.isDirty,r.isDirty=Re.isDirty=M(),K=de!==Re.isDirty);const vt=it||go(ge(o,A),O);de=!!(!it&&ge(r.dirtyFields,A)),vt||it?qt(r.dirtyFields,A):pt(r.dirtyFields,A,!0),Re.dirtyFields=r.dirtyFields,K=K||f.dirtyFields&&de!==!vt}if(U){const vt=ge(r.touchedFields,A);vt||(pt(r.touchedFields,A,U),Re.touchedFields=r.touchedFields,K=K||f.touchedFields&&vt!==U)}return K&&ee&&d.state.next(Re),K?Re:{}},k=(A,O,U,re)=>{const ee=ge(r.errors,A),K=f.isValid&&qr(O)&&r.isValid!==O;if(t.delayError&&U?(u=E(()=>b(A,U)),u(t.delayError)):(clearTimeout(c),u=null,U?pt(r.errors,A,U):qt(r.errors,A)),(U?!go(ee,U):ee)||!Xn(re)||K){const de={...re,...K&&qr(O)?{isValid:O}:{},errors:r.errors,name:A};r={...r,...de},d.state.next(de)}p(!1)},D=async A=>n.resolver(s,n.context,VH(A||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),L=async A=>{const{errors:O}=await D(A);if(A)for(const U of A){const re=ge(O,U);re?pt(r.errors,U,re):qt(r.errors,U)}else r.errors=O;return O},B=async(A,O,U={valid:!0})=>{for(const re in A){const ee=A[re];if(ee){const{_f:K,...de}=ee;if(K){const Re=l.array.has(K.name),it=await xS(ee,s,y,n.shouldUseNativeValidation&&!O,Re);if(it[K.name]&&(U.valid=!1,O))break;!O&&(ge(it,K.name)?Re?PH(r.errors,it,K.name):pt(r.errors,K.name,it[K.name]):qt(r.errors,K.name))}de&&await B(de,O,U)}}return U.valid},N=()=>{for(const A of l.unMount){const O=ge(i,A);O&&(O._f.refs?O._f.refs.every(U=>!Rm(U)):!Rm(O._f.ref))&&me(A)}l.unMount=new Set},M=(A,O)=>(A&&O&&pt(s,A,O),!go(w(),o)),Q=(A,O,U)=>IH(A,l,{...a.mount?s:At(O)?o:kr(A)?{[A]:O}:O},U,O),te=A=>rc(ge(a.mount?s:o,A,t.shouldUnregister?ge(o,A,[]):[])),Ee=(A,O,U={})=>{const re=ge(i,A);let ee=O;if(re){const K=re._f;K&&(!K.disabled&&pt(s,A,wP(O,K)),ee=$d(K.ref)&&_n(O)?"":O,vP(K.ref)?[...K.ref.options].forEach(de=>de.selected=ee.includes(de.value)):K.refs?nc(K.ref)?K.refs.length>1?K.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(ee)?!!ee.find(Re=>Re===de.value):ee===de.value)):K.refs[0]&&(K.refs[0].checked=!!ee):K.refs.forEach(de=>de.checked=de.value===ee):w_(K.ref)?K.ref.value="":(K.ref.value=ee,K.ref.type||d.values.next({name:A,values:{...s}})))}(U.shouldDirty||U.shouldTouch)&&S(A,ee,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&H(A)},we=(A,O,U)=>{for(const re in O){const ee=O[re],K=`${A}.${re}`,de=ge(i,K);(l.array.has(A)||!Ud(ee)||de&&!de._f)&&!bs(ee)?we(K,ee,U):Ee(K,ee,U)}},z=(A,O,U={})=>{const re=ge(i,A),ee=l.array.has(A),K=Qn(O);pt(s,A,K),ee?(d.array.next({name:A,values:{...s}}),(f.isDirty||f.dirtyFields)&&U.shouldDirty&&d.state.next({name:A,dirtyFields:bm(o,s),isDirty:M(A,K)})):re&&!re._f&&!_n(K)?we(A,K,U):Ee(A,K,U),ES(A,l)&&d.state.next({...r}),d.values.next({name:A,values:{...s}}),!a.mount&&e()},F=async A=>{const O=A.target;let U=O.name,re=!0;const ee=ge(i,U),K=()=>O.type?xm(ee._f):EH(A),de=Re=>{re=Number.isNaN(Re)||Re===ge(s,U,Re)};if(ee){let Re,it;const vt=K(),dt=A.type===_S.BLUR||A.type===_S.FOCUS_OUT,Qo=!OH(ee._f)&&!n.resolver&&!ge(r.errors,U)&&!ee._f.deps||LH(dt,ge(r.touchedFields,U),r.isSubmitted,m,h),Zi=ES(U,l,dt);pt(s,U,vt),dt?(ee._f.onBlur&&ee._f.onBlur(A),u&&u(0)):ee._f.onChange&&ee._f.onChange(A);const vn=S(U,vt,dt,!1),ai=!Xn(vn)||Zi;if(!dt&&d.values.next({name:U,type:A.type,values:{...s}}),Qo)return f.isValid&&g(),ai&&d.state.next({name:U,...Zi?{}:vn});if(!dt&&Zi&&d.state.next({...r}),p(!0),n.resolver){const{errors:Yo}=await D([U]);if(de(vt),re){const _=AS(r.errors,i,U),T=AS(Yo,i,_.name||U);Re=T.error,U=T.name,it=Xn(Yo)}}else Re=(await xS(ee,s,y,n.shouldUseNativeValidation))[U],de(vt),re&&(Re?it=!1:f.isValid&&(it=await B(i,!0)));re&&(ee._f.deps&&H(ee._f.deps),k(U,it,Re,vn))}},I=(A,O)=>{if(ge(r.errors,O)&&A.focus)return A.focus(),1},H=async(A,O={})=>{let U,re;const ee=Sm(A);if(p(!0),n.resolver){const K=await L(At(A)?A:ee);U=Xn(K),re=A?!ee.some(de=>ge(K,de)):U}else A?(re=(await Promise.all(ee.map(async K=>{const de=ge(i,K);return await B(de&&de._f?{[K]:de}:de)}))).every(Boolean),!(!re&&!r.isValid)&&g()):re=U=await B(i);return d.state.next({...!kr(A)||f.isValid&&U!==r.isValid?{}:{name:A},...n.resolver||!A?{isValid:U}:{},errors:r.errors,isValidating:!1}),O.shouldFocus&&!re&&Ml(i,I,A?ee:l.mount),re},w=A=>{const O={...o,...a.mount?s:{}};return At(A)?O:kr(A)?ge(O,A):A.map(U=>ge(O,U))},$=(A,O)=>({invalid:!!ge((O||r).errors,A),isDirty:!!ge((O||r).dirtyFields,A),isTouched:!!ge((O||r).touchedFields,A),error:ge((O||r).errors,A)}),j=A=>{A&&Sm(A).forEach(O=>qt(r.errors,O)),d.state.next({errors:A?r.errors:{}})},ne=(A,O,U)=>{const re=(ge(i,A,{_f:{}})._f||{}).ref;pt(r.errors,A,{...O,ref:re}),d.state.next({name:A,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&re&&re.focus&&re.focus()},Z=(A,O)=>Ti(A)?d.values.subscribe({next:U=>A(Q(void 0,O),U)}):Q(A,O,!0),me=(A,O={})=>{for(const U of A?Sm(A):l.mount)l.mount.delete(U),l.array.delete(U),O.keepValue||(qt(i,U),qt(s,U)),!O.keepError&&qt(r.errors,U),!O.keepDirty&&qt(r.dirtyFields,U),!O.keepTouched&&qt(r.touchedFields,U),!n.shouldUnregister&&!O.keepDefaultValue&&qt(o,U);d.values.next({values:{...s}}),d.state.next({...r,...O.keepDirty?{isDirty:M()}:{}}),!O.keepIsValid&&g()},Se=({disabled:A,name:O,field:U,fields:re,value:ee})=>{if(qr(A)){const K=A?void 0:At(ee)?xm(U?U._f:ge(re,O)._f):ee;pt(s,O,K),S(O,K,!1,!1,!0)}},pe=(A,O={})=>{let U=ge(i,A);const re=qr(O.disabled);return pt(i,A,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:A}},name:A,mount:!0,...O}}),l.mount.add(A),U?Se({field:U,disabled:O.disabled,name:A,value:O.value}):R(A,!0,O.value),{...re?{disabled:O.disabled}:{},...n.progressive?{required:!!O.required,min:Ga(O.min),max:Ga(O.max),minLength:Ga(O.minLength),maxLength:Ga(O.maxLength),pattern:Ga(O.pattern)}:{},name:A,onChange:F,onBlur:F,ref:ee=>{if(ee){pe(A,O),U=ge(i,A);const K=At(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,de=DH(K),Re=U._f.refs||[];if(de?Re.find(it=>it===K):K===U._f.ref)return;pt(i,A,{_f:{...U._f,...de?{refs:[...Re.filter(Rm),K,...Array.isArray(ge(o,A))?[{}]:[]],ref:{type:K.type,name:A}}:{ref:K}}}),R(A,!1,void 0,K)}else U=ge(i,A,{}),U._f&&(U._f.mount=!1),(n.shouldUnregister||O.shouldUnregister)&&!(TH(l.array,A)&&a.action)&&l.unMount.add(A)}}},De=()=>n.shouldFocusError&&Ml(i,I,l.mount),Ve=A=>{qr(A)&&(d.state.next({disabled:A}),Ml(i,(O,U)=>{let re=A;const ee=ge(i,U);ee&&qr(ee._f.disabled)&&(re||(re=ee._f.disabled)),O.disabled=re},0,!1))},Te=(A,O)=>async U=>{U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let re=Qn(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:ee,values:K}=await D();r.errors=ee,re=K}else await B(i);qt(r.errors,"root"),Xn(r.errors)?(d.state.next({errors:{}}),await A(re,U)):(O&&await O({...r.errors},U),De(),setTimeout(De)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Pe=(A,O={})=>{ge(i,A)&&(At(O.defaultValue)?z(A,Qn(ge(o,A))):(z(A,O.defaultValue),pt(o,A,Qn(O.defaultValue))),O.keepTouched||qt(r.touchedFields,A),O.keepDirty||(qt(r.dirtyFields,A),r.isDirty=O.defaultValue?M(A,Qn(ge(o,A))):M()),O.keepError||(qt(r.errors,A),f.isValid&&g()),d.state.next({...r}))},Ze=(A,O={})=>{const U=A?Qn(A):o,re=Qn(U),ee=A&&!Xn(A)?re:o;if(O.keepDefaultValues||(o=U),!O.keepValues){if(O.keepDirtyValues)for(const K of l.mount)ge(r.dirtyFields,K)?pt(ee,K,ge(s,K)):z(K,ge(ee,K));else{if(y_&&At(A))for(const K of l.mount){const de=ge(i,K);if(de&&de._f){const Re=Array.isArray(de._f.refs)?de._f.refs[0]:de._f.ref;if($d(Re)){const it=Re.closest("form");if(it){it.reset();break}}}}i={}}s=t.shouldUnregister?O.keepDefaultValues?Qn(o):{}:Qn(ee),d.array.next({values:{...ee}}),d.values.next({values:{...ee}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!O.keepIsValid,a.watch=!!t.shouldUnregister,d.state.next({submitCount:O.keepSubmitCount?r.submitCount:0,isDirty:O.keepDirty?r.isDirty:!!(O.keepDefaultValues&&!go(A,o)),isSubmitted:O.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:O.keepDirtyValues?r.dirtyFields:O.keepDefaultValues&&A?bm(o,A):{},touchedFields:O.keepTouched?r.touchedFields:{},errors:O.keepErrors?r.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ke=(A,O)=>Ze(Ti(A)?A(s):A,O);return{control:{register:pe,unregister:me,getFieldState:$,handleSubmit:Te,setError:ne,_executeSchema:D,_getWatch:Q,_getDirty:M,_updateValid:g,_removeUnmounted:N,_updateFieldArray:v,_updateDisabledField:Se,_getFieldArray:te,_reset:Ze,_resetDefaultValues:()=>Ti(n.defaultValues)&&n.defaultValues().then(A=>{ke(A,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:A=>{r={...r,...A}},_disableForm:Ve,_subjects:d,_proxyFormState:f,_setErrors:C,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(A){a=A},get _defaultValues(){return o},get _names(){return l},set _names(A){l=A},get _formState(){return r},set _formState(A){r=A},get _options(){return n},set _options(A){n={...n,...A}}},trigger:H,register:pe,handleSubmit:Te,watch:Z,setValue:z,getValues:w,reset:ke,resetField:Pe,clearErrors:j,unregister:me,setError:ne,setFocus:(A,O={})=>{const U=ge(i,A),re=U&&U._f;if(re){const ee=re.refs?re.refs[0]:re.ref;ee.focus&&(ee.focus(),O.shouldSelect&&ee.select())}},getFieldState:$}}function UH(t={}){const e=ve.useRef(),n=ve.useRef(),[r,i]=ve.useState({isDirty:!1,isValidating:!1,isLoading:Ti(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ti(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...FH(t,()=>i(s=>({...s}))),formState:r});const o=e.current.control;return o._options=t,AH({subject:o._subjects.state,next:s=>{xH(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),ve.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),ve.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),ve.useEffect(()=>{t.values&&!go(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),ve.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),ve.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=bH(r,o),e.current}function jH(t){return Ki({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm94-62H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-98,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm94-62H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,200,138Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Z"}}]})(t)}function BH(t){return Ki({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M169.64,134.33l44.77-19.46A16,16,0,0,0,213,85.07L52.92,32.8A16,16,0,0,0,32.8,52.92L85.07,213a15.83,15.83,0,0,0,14.41,11l.79,0a15.83,15.83,0,0,0,14.6-9.59h0l19.46-44.77L184,219.31a16,16,0,0,0,22.63,0l12.68-12.68a16,16,0,0,0,0-22.63Zm-69.48,73.76.06-.05Zm95.15-.09-49.66-49.67a16,16,0,0,0-26,4.94l-19.42,44.65L48,48l159.87,52.21-44.64,19.41a16,16,0,0,0-4.94,26L208,195.31ZM88,24V16a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0ZM8,96a8,8,0,0,1,8-8h8a8,8,0,0,1,0,16H16A8,8,0,0,1,8,96ZM120.85,28.42l8-16a8,8,0,0,1,14.31,7.16l-8,16a8,8,0,1,1-14.31-7.16Zm-81.69,96a8,8,0,0,1-3.58,10.74l-16,8a8,8,0,0,1-7.16-14.31l16-8A8,8,0,0,1,39.16,124.42Z"}}]})(t)}const EP=()=>{const[t]=pr(Ju),[e,n]=x.useState(!1),[r,i]=x.useState(""),[o,s]=x.useState(""),[a,l]=x.useState(""),[u,c]=x.useState(Array(1e3).fill(!1)),{formState:{isSubmitting:f},handleSubmit:d,reset:h,register:m,setValue:y}=UH(),E=(D,L)=>{s(D),l(L)},g=Cu(),p=D=>{g("/profile",{state:D})},v=()=>mv("추가되었습니다"),[b]=pr(a_),C=()=>{h();const D=r.trim(),L={userId:b,commentContent:D,postId:t,originCommentId:a!=""?a:"null"};n(!0),AB(L),v(),setTimeout(()=>{n(!1),y("comment","")},200),s(""),l("")},[,R]=ad(fv(t));x.useEffect(()=>{setTimeout(()=>{const D=localStorage.getItem("comment");R(JSON.parse(D))},5e3)});const[S]=ad(fv(t));if(S.state==="loading")return P.jsx("div",{children:"로딩 중..."});if(S.state==="hasError")return P.jsx("div",{children:"에러가 발생했습니다."});const k=S.contents;return P.jsxs("div",{className:"font-pretendard",children:[k.length>0?P.jsxs("div",{children:[k.map((D,L)=>P.jsx("div",{children:D.origin_commentId!="null"?"":P.jsxs("div",{children:[P.jsxs("div",{className:"flex items-center my-3 mx-2",children:[P.jsx("div",{className:"rounded-full overflow-hidden size-8",onClick:()=>p(D.userId),children:P.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),P.jsxs("div",{children:[P.jsxs("div",{className:"flex",children:[P.jsx("div",{className:"ml-2 text-[14px] font-semibold",onClick:()=>p(D.userId),children:D.userId}),P.jsx("div",{className:"ml-2 text-[14px]",children:D.commentContent})]}),P.jsxs("div",{className:"flex",children:[P.jsx("div",{className:"ml-2 text-[11px]",children:dP(D)}),P.jsx("div",{className:"ml-2 text-[11px]",onClick:()=>E(D.userId,D.commentId),children:"답글 달기"})]})]})]}),P.jsxs("div",{className:"ml-12 text-[11px]  w-fit",onClick:()=>{const B=[...u];B[L]=!B[L],c(B)},children:[P.jsx("div",{className:"text-gray-500 cursor-pointer hover:text-black",children:k.filter(B=>B.origin_commentId===D.commentId).length>0?u[L]?"답글 숨기기":`답글 ${k.filter(B=>B.origin_commentId===D.commentId).length}개 모두 보기`:""}),u[L]&&P.jsx(wH,{data:k.filter(B=>B.origin_commentId===D.commentId)})]})]})},L)),o&&P.jsx("div",{className:"fixed bottom-12 left-0 right-0 p-4",children:P.jsxs("div",{className:"bg-white border w-fit p-1 rounded-3xl text-[14px] text-gray-500",onClick:()=>s(""),children:[o," X"]})})]},k.length):P.jsx("div",{className:"text-center",children:"댓글이 없습니다."}),P.jsx("form",{onSubmit:d(C),children:P.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 flex justify-center",children:[P.jsx("textarea",{...m("comment"),placeholder:"댓글을 입력하세요.",name:"",id:"comment",cols:30,rows:1,onKeyDown:D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),d(C)())},onChange:D=>i(D.target.value),required:!0,className:"border border-solid border-gray-500 p-2 rounded-xl focus:outline-none mr-2 w-full"}),P.jsxs("button",{type:"submit",disabled:f,className:`bg-black text-white py-2 px-4 rounded-full ${e&&r.trim()!==""?"bg-slate-500":""}`,onClick:()=>r.trim()==""?n(!0):"",children:[P.jsx(BH,{}),P.jsx(mC,{position:"bottom-center",toastOptions:{style:{border:"2px solid #FFFFFF",padding:"10px",color:"#FFFFFF",height:"8px",width:"fit",fontSize:"12px",background:"black"}}})]})]})})]})},zH=t=>{const e=new Date(t),r=new Date-e,i=Math.floor(r/(1e3*60*60*24));return i<1?"오늘":`${i}일 전`},SP=t=>{const[e,n]=x.useState(!1),[r,i]=x.useState(!1),[o,s]=x.useState(0),a=o===0,l=o===t.data.imageUrlList.length-1,[u,c]=x.useState(!1),f=()=>{c(!u)},[d,h]=x.useState(!1),m=()=>{h(!d)},y=()=>{h(!1)},E=()=>mv("추가되었습니다"),g=()=>mv("삭제되었습니다"),p=()=>{try{e?($B(D),g()):(FB(D),E()),n(!e)}catch(I){console.error("Error:",I)}},v=()=>{try{r?(V5(N),g()):(D5(N),E()),i(!r)}catch(I){console.error("Error:",I)}};x.useEffect(()=>{setTimeout(()=>{const I=localStorage.getItem("like"),H=localStorage.getItem("userLike");H==null?B(1):B(JSON.parse(H)),S(JSON.parse(I));const w=localStorage.getItem("following");M(w?JSON.parse(w):null);const $=localStorage.getItem("comment");Ee(JSON.parse($))},300)});const b=()=>{const I=(o+1)%t.data.imageUrlList.length;s(I)},C=()=>{const I=(o-1+t.data.imageUrlList.length)%t.data.imageUrlList.length;s(I)},[R,S]=pr(UB(t.data.postId)),[k]=pr(a_),D={postId:t.data&&t.data.postId,userId:t.data&&k},[L,B]=pr(MB(D));L==null&&n(!e);const N={followingId:k,followerId:t.data.userId},[,M]=pr(O5(N)),[Q]=pr(Ju),[te,Ee]=ad(fv(Q));if(te.state==="loading")return P.jsx("div",{children:"로딩 중..."});if(te.state==="hasError")return P.jsx("div",{children:"에러가 발생했습니다."});const F=te.contents.filter(I=>I.origin_commentId==="null").length;return P.jsxs("div",{children:[P.jsxs("div",{className:"flex items-center my-3 mx-2",children:[P.jsx("div",{className:"rounded-full overflow-hidden size-10",children:P.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),P.jsx("div",{className:"ml-2 text-[14px] font-bold",children:t.data.userId}),r?P.jsx("div",{className:"ml-2 text-blue-400 text-[14px] ",onClick:v,children:"팔로우"}):P.jsx("div",{className:"ml-2 text-black text-[14px] ",onClick:v,children:"팔로우"}),P.jsxs("div",{className:"ml-auto",children:[P.jsx(j4,{onClick:f}),u&&P.jsx(IB,{onOpenModal:f})]})]}),P.jsxs("div",{className:"relative",children:[P.jsx("img",{src:t.data.imageUrlList[o],alt:"컨텐츠 이미지",className:"w-screen h-[55vh]"}),!a&&P.jsx("button",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 ml-1 text-4xl bg-white rounded-full opacity-70",onClick:C,children:P.jsx(NB,{})}),!l&&P.jsx("button",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 mr-1 text-4xl bg-white rounded-full opacity-70",onClick:b,children:P.jsx(kB,{})})]}),P.jsxs("div",{className:"flex-row ml-3 mt-3",children:[P.jsxs("div",{className:"flex justify-between",children:[P.jsxs("div",{className:"text-[14px] my-1 font-semibold",children:["좋아요 ",R==null?"0":R.length,"개"]}),P.jsxs("div",{className:"mx-2 text-[24px]",onClick:p,children:[P.jsx(mC,{position:"bottom-center",toastOptions:{style:{border:"2px solid #FFFFFF",padding:"10px",color:"#FFFFFF",height:"8px",width:"fit",fontSize:"12px",background:"black"}}}),e?P.jsx(PB,{}):P.jsx(CB,{})]})]}),P.jsxs("div",{className:"flex text-[14px]",children:[P.jsx("div",{className:"font-semibold",children:t.data.userId}),P.jsx("div",{className:"ml-1",children:t.data.postContent})]}),t.data.tagList.map((I,H)=>P.jsxs("span",{className:"text-[14px]",children:["#",I+" "]},H)),P.jsxs("div",{className:"text-[13px] text-gray-500 cursor-pointer hover:text-black w-fit ",onClick:m,children:["댓글 ",F,"개 모두 보기"]}),P.jsx("div",{className:"text-[13px] text-gray-500",children:zH(t.data.createdAt)})]}),P.jsx(_H,{open:d,onDismiss:y,snapPoints:({minHeight:I,maxHeight:H})=>[I*4,H/2,H],children:P.jsx(EP,{})})]})},HH=()=>{const[t]=G2(),[e,n]=pr(Ju),[,r]=pr(a_);if(e==null)return P.jsx("div",{children:"잘못된 접근입니다."});x.useEffect(()=>{sessionStorage.getItem("reloaded")&&sessionStorage.setItem("reloaded","false")},[]),t.get("userId")&&r(t.get("userId")),t.get("postId")&&n(t.get("postId"));const i=Wy(s_(e));if(i.state==="loading")return P.jsx("div",{children:"로딩 중..."});if(i.state==="hasError")return P.jsx("div",{children:"에러가 발생했습니다."});const o=i.contents;return P.jsx(x.Suspense,{fallback:"...loading",children:P.jsx("div",{className:"grid-rows-3",children:o.length<1?P.jsx("div",{children:"게시글이 없습니다."}):P.jsx(SP,{data:o[0]})})})};function TP(t){return Ki({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"}}]})(t)}var RP={exports:{}};(function(t,e){(function(n,r){t.exports=r(x)})(xP,n=>(()=>{var r={703:(a,l,u)=>{var c=u(414);function f(){}function d(){}d.resetWarningCache=f,a.exports=function(){function h(E,g,p,v,b,C){if(C!==c){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}function m(){return h}h.isRequired=h;var y={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:m,element:h,elementType:h,instanceOf:m,node:h,objectOf:m,oneOf:m,oneOfType:m,shape:m,exact:m,checkPropTypes:d,resetWarningCache:f};return y.PropTypes=y,y}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,o),u.exports}o.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return o.d(l,{a:l}),l},o.d=(a,l)=>{for(var u in l)o.o(l,u)&&!o.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s={};return(()=>{o.r(s),o.d(s,{default:()=>B});var a=o(98),l=o.n(a),u=o(697),c=o.n(u);function f(){return f=Object.assign?Object.assign.bind():function(N){for(var M=1;M<arguments.length;M++){var Q=arguments[M];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(N[te]=Q[te])}return N},f.apply(this,arguments)}var d=function(N){var M=N.pageClassName,Q=N.pageLinkClassName,te=N.page,Ee=N.selected,we=N.activeClassName,z=N.activeLinkClassName,F=N.getEventListener,I=N.pageSelectedHandler,H=N.href,w=N.extraAriaContext,$=N.pageLabelBuilder,j=N.rel,ne=N.ariaLabel||"Page "+te+(w?" "+w:""),Z=null;return Ee&&(Z="page",ne=N.ariaLabel||"Page "+te+" is your current page",M=M!==void 0?M+" "+we:we,Q!==void 0?z!==void 0&&(Q=Q+" "+z):Q=z),l().createElement("li",{className:M},l().createElement("a",f({rel:j,role:H?void 0:"button",className:Q,href:H,tabIndex:Ee?"-1":"0","aria-label":ne,"aria-current":Z,onKeyPress:I},F(I)),$(te)))};d.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const h=d;function m(){return m=Object.assign?Object.assign.bind():function(N){for(var M=1;M<arguments.length;M++){var Q=arguments[M];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(N[te]=Q[te])}return N},m.apply(this,arguments)}var y=function(N){var M=N.breakLabel,Q=N.breakAriaLabel,te=N.breakClassName,Ee=N.breakLinkClassName,we=N.breakHandler,z=N.getEventListener,F=te||"break";return l().createElement("li",{className:F},l().createElement("a",m({className:Ee,role:"button",tabIndex:"0","aria-label":Q,onKeyPress:we},z(we)),M))};y.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabel:c().string,breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const E=y;function g(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return N??M}function p(N){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},p(N)}function v(){return v=Object.assign?Object.assign.bind():function(N){for(var M=1;M<arguments.length;M++){var Q=arguments[M];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(N[te]=Q[te])}return N},v.apply(this,arguments)}function b(N,M){for(var Q=0;Q<M.length;Q++){var te=M[Q];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(N,te.key,te)}}function C(N,M){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,te){return Q.__proto__=te,Q},C(N,M)}function R(N,M){if(M&&(p(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(N)}function S(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function k(N){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},k(N)}function D(N,M,Q){return M in N?Object.defineProperty(N,M,{value:Q,enumerable:!0,configurable:!0,writable:!0}):N[M]=Q,N}var L=function(N){(function(F,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(I&&I.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),I&&C(F,I)})(z,N);var M,Q,te,Ee,we=(te=z,Ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var F,I=k(te);if(Ee){var H=k(this).constructor;F=Reflect.construct(I,arguments,H)}else F=I.apply(this,arguments);return R(this,F)});function z(F){var I,H;return function(w,$){if(!(w instanceof $))throw new TypeError("Cannot call a class as a function")}(this,z),D(S(I=we.call(this,F)),"handlePreviousPage",function(w){var $=I.state.selected;I.handleClick(w,null,$>0?$-1:void 0,{isPrevious:!0})}),D(S(I),"handleNextPage",function(w){var $=I.state.selected,j=I.props.pageCount;I.handleClick(w,null,$<j-1?$+1:void 0,{isNext:!0})}),D(S(I),"handlePageSelected",function(w,$){if(I.state.selected===w)return I.callActiveCallback(w),void I.handleClick($,null,void 0,{isActive:!0});I.handleClick($,null,w)}),D(S(I),"handlePageChange",function(w){I.state.selected!==w&&(I.setState({selected:w}),I.callCallback(w))}),D(S(I),"getEventListener",function(w){return D({},I.props.eventListener,w)}),D(S(I),"handleClick",function(w,$,j){var ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Z=ne.isPrevious,me=Z!==void 0&&Z,Se=ne.isNext,pe=Se!==void 0&&Se,De=ne.isBreak,Ve=De!==void 0&&De,Te=ne.isActive,Pe=Te!==void 0&&Te;w.preventDefault?w.preventDefault():w.returnValue=!1;var Ze=I.state.selected,ke=I.props.onClick,je=j;if(ke){var $e=ke({index:$,selected:Ze,nextSelectedPage:j,event:w,isPrevious:me,isNext:pe,isBreak:Ve,isActive:Pe});if($e===!1)return;Number.isInteger($e)&&(je=$e)}je!==void 0&&I.handlePageChange(je)}),D(S(I),"handleBreakClick",function(w,$){var j=I.state.selected;I.handleClick($,w,j<w?I.getForwardJump():I.getBackwardJump(),{isBreak:!0})}),D(S(I),"callCallback",function(w){I.props.onPageChange!==void 0&&typeof I.props.onPageChange=="function"&&I.props.onPageChange({selected:w})}),D(S(I),"callActiveCallback",function(w){I.props.onPageActive!==void 0&&typeof I.props.onPageActive=="function"&&I.props.onPageActive({selected:w})}),D(S(I),"getElementPageRel",function(w){var $=I.state.selected,j=I.props,ne=j.nextPageRel,Z=j.prevPageRel,me=j.selectedPageRel;return $-1===w?Z:$===w?me:$+1===w?ne:void 0}),D(S(I),"pagination",function(){var w=[],$=I.props,j=$.pageRangeDisplayed,ne=$.pageCount,Z=$.marginPagesDisplayed,me=$.breakLabel,Se=$.breakClassName,pe=$.breakLinkClassName,De=$.breakAriaLabels,Ve=I.state.selected;if(ne<=j)for(var Te=0;Te<ne;Te++)w.push(I.getPageElement(Te));else{var Pe=j/2,Ze=j-Pe;Ve>ne-j/2?Pe=j-(Ze=ne-Ve):Ve<j/2&&(Ze=j-(Pe=Ve));var ke,je,$e=function(U){return I.getPageElement(U)},Ge=[];for(ke=0;ke<ne;ke++){var A=ke+1;if(A<=Z)Ge.push({type:"page",index:ke,display:$e(ke)});else if(A>ne-Z)Ge.push({type:"page",index:ke,display:$e(ke)});else if(ke>=Ve-Pe&&ke<=Ve+(Ve===0&&j>1?Ze-1:Ze))Ge.push({type:"page",index:ke,display:$e(ke)});else if(me&&Ge.length>0&&Ge[Ge.length-1].display!==je&&(j>0||Z>0)){var O=ke<Ve?De.backward:De.forward;je=l().createElement(E,{key:ke,breakAriaLabel:O,breakLabel:me,breakClassName:Se,breakLinkClassName:pe,breakHandler:I.handleBreakClick.bind(null,ke),getEventListener:I.getEventListener}),Ge.push({type:"break",index:ke,display:je})}}Ge.forEach(function(U,re){var ee=U;U.type==="break"&&Ge[re-1]&&Ge[re-1].type==="page"&&Ge[re+1]&&Ge[re+1].type==="page"&&Ge[re+1].index-Ge[re-1].index<=2&&(ee={type:"page",index:U.index,display:$e(U.index)}),w.push(ee.display)})}return w}),F.initialPage!==void 0&&F.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(F.initialPage,") and forcePage (").concat(F.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),H=F.initialPage?F.initialPage:F.forcePage?F.forcePage:0,I.state={selected:H},I}return M=z,(Q=[{key:"componentDidMount",value:function(){var F=this.props,I=F.initialPage,H=F.disableInitialCallback,w=F.extraAriaContext,$=F.pageCount,j=F.forcePage;I===void 0||H||this.callCallback(I),w&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger($)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat($,"). Did you forget a Math.ceil()?")),I!==void 0&&I>$-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(I," > ").concat($-1,").")),j!==void 0&&j>$-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(j," > ").concat($-1,")."))}},{key:"componentDidUpdate",value:function(F){this.props.forcePage!==void 0&&this.props.forcePage!==F.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(F.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var F=this.state.selected,I=this.props,H=I.pageCount,w=F+I.pageRangeDisplayed;return w>=H?H-1:w}},{key:"getBackwardJump",value:function(){var F=this.state.selected-this.props.pageRangeDisplayed;return F<0?0:F}},{key:"getElementHref",value:function(F){var I=this.props,H=I.hrefBuilder,w=I.pageCount,$=I.hrefAllControls;if(H)return $||F>=0&&F<w?H(F+1,w,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(F){var I=F===this.state.selected;if(this.props.ariaLabelBuilder&&F>=0&&F<this.props.pageCount){var H=this.props.ariaLabelBuilder(F+1,I);return this.props.extraAriaContext&&!I&&(H=H+" "+this.props.extraAriaContext),H}}},{key:"getPageElement",value:function(F){var I=this.state.selected,H=this.props,w=H.pageClassName,$=H.pageLinkClassName,j=H.activeClassName,ne=H.activeLinkClassName,Z=H.extraAriaContext,me=H.pageLabelBuilder;return l().createElement(h,{key:F,pageSelectedHandler:this.handlePageSelected.bind(null,F),selected:I===F,rel:this.getElementPageRel(F),pageClassName:w,pageLinkClassName:$,activeClassName:j,activeLinkClassName:ne,extraAriaContext:Z,href:this.getElementHref(F),ariaLabel:this.ariaLabelBuilder(F),page:F+1,pageLabelBuilder:me,getEventListener:this.getEventListener})}},{key:"render",value:function(){var F=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&F!==void 0)return F&&F(this.props);var I=this.props,H=I.disabledClassName,w=I.disabledLinkClassName,$=I.pageCount,j=I.className,ne=I.containerClassName,Z=I.previousLabel,me=I.previousClassName,Se=I.previousLinkClassName,pe=I.previousAriaLabel,De=I.prevRel,Ve=I.nextLabel,Te=I.nextClassName,Pe=I.nextLinkClassName,Ze=I.nextAriaLabel,ke=I.nextRel,je=this.state.selected,$e=je===0,Ge=je===$-1,A="".concat(g(me)).concat($e?" ".concat(g(H)):""),O="".concat(g(Te)).concat(Ge?" ".concat(g(H)):""),U="".concat(g(Se)).concat($e?" ".concat(g(w)):""),re="".concat(g(Pe)).concat(Ge?" ".concat(g(w)):""),ee=$e?"true":"false",K=Ge?"true":"false";return l().createElement("ul",{className:j||ne,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:A},l().createElement("a",v({className:U,href:this.getElementHref(je-1),tabIndex:$e?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":ee,"aria-label":pe,rel:De},this.getEventListener(this.handlePreviousPage)),Z)),this.pagination(),l().createElement("li",{className:O},l().createElement("a",v({className:re,href:this.getElementHref(je+1),tabIndex:Ge?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":K,"aria-label":Ze,rel:ke},this.getEventListener(this.handleNextPage)),Ve)))}}])&&b(M.prototype,Q),Object.defineProperty(M,"prototype",{writable:!1}),z}(a.Component);D(L,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabels:c().shape({forward:c().string,backward:c().string}),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),D(L,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(N){return N},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const B=L})(),s})())})(RP);var qH=RP.exports;const WH=Dv(qH),GH=()=>{const[e,n]=x.useState(0),r=[{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용...1"},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용...2"},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용..."},{title:"공지사항 제목입니다.",time:"1분전 작성",contents:"공지사항 내용...3"}],i=Math.ceil(r.length/5),o=({selected:c})=>{n(c)},s=e*5,a=r.slice(s,s+5),l=Cu(),u=()=>{l("/notice_detail")};return P.jsxs("div",{children:[P.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:P.jsxs("div",{children:[P.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png",width:55}),P.jsx("span",{children:"overdog"})]})}),a.map(c=>P.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[P.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[P.jsxs("div",{className:"flex",children:[P.jsx("div",{className:"text-[13px]",children:P.jsx(TP,{})}),P.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:c.title})]}),P.jsx("span",{className:"text-gray-500 text-[11px]",children:c.time})]}),P.jsx("div",{children:P.jsx("div",{className:"flex items-center",children:P.jsx("div",{className:"flex-1",onClick:u,children:P.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.contents})})})})]})),P.jsx(WH,{pageClassName:"inline-block mx-1 p-2 rounded-full cursor-pointer  ",pageLinkClassName:"block w-8 h-8 leading-8 text-center border border-gray-300 bg-white rounded-full transition duration-300 ease-in-out hover:bg-gray-300",containerClassName:"pagination flex justify-center my-2",activeClassName:"bg-gray-300",previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:o})]})},KH=()=>P.jsxs("div",{children:[P.jsx("div",{className:"flex justify-center items-center w-full h-[15vh] mt-3",children:P.jsxs("div",{children:[P.jsx("img",{src:"../../public/free-icon-cool-7298816.png",width:55}),P.jsx("span",{children:"overdog"})]})}),P.jsxs("div",{className:"w-5/6 justify-center mx-auto mt-3 p-4 bg-white border border-gray-200 shadow",children:[P.jsxs("div",{className:"flex justify-between mb-4 border-b-2 pb-2",children:[P.jsxs("div",{className:"flex",children:[P.jsx("div",{className:"text-[13px]",children:P.jsx(TP,{})}),P.jsx("span",{className:"ml-1 text-[13px] font-bold leading-none text-gray-900 dark:text-white",children:"공지사항 제목"})]}),P.jsx("span",{className:"text-gray-500 text-[11px]",children:"1분전 작성"})]}),P.jsx("div",{children:P.jsx("div",{className:"flex items-center",children:P.jsx("div",{className:"flex-1",children:P.jsx("p",{className:"text-sm font-medium text-gray-900 w-full h-[30vh]",children:"공지사항 내용"})})})})]})]}),QH=()=>{const t=Cu(),{state:e}=Iu(),[n]=ad(xB(e));if(n.state==="loading")return P.jsx("div",{children:"로딩 중..."});if(n.state==="hasError")return P.jsx("div",{children:"에러가 발생했습니다."});const r=n.contents,i=o=>{t("/ProfileContent",{state:o})};return P.jsxs("div",{children:[P.jsx("div",{className:"flex mx-2 my-2 justify-center ",children:P.jsx("div",{className:"mt-2",children:e})}),P.jsxs("div",{className:"top",children:[P.jsxs("div",{className:"flex mt-5 ml-3",children:[P.jsx("div",{className:"rounded-full overflow-hidden size-24",children:P.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),P.jsxs("div",{className:"flex flex-col ml-2 text-[15px]",children:[P.jsxs("div",{className:"font-semibold",children:[e," 님의 애완동물"]}),P.jsxs("div",{className:"flex mt-2",children:[P.jsxs("div",{className:"w-fit",children:[P.jsx("div",{className:"rounded-full overflow-hidden size-10",children:P.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),P.jsx("div",{className:"text-[11px] text-center",children:"감자"})]}),P.jsxs("div",{className:"ml-2",children:[P.jsx("div",{className:"rounded-full overflow-hidden size-10",children:P.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),P.jsx("div",{className:"text-[11px] text-center",children:"감자"})]}),P.jsxs("div",{className:"ml-2",children:[P.jsx("div",{className:"rounded-full overflow-hidden size-10",children:P.jsx("img",{src:"../../overdog_react/free-icon-cool-7298816.png"})}),P.jsx("div",{className:"text-[11px] text-center",children:"감자"})]})]})]})]}),P.jsxs("div",{className:"ml-3 my-2 ",children:[P.jsx("div",{className:"font-semibold",children:e}),P.jsx("div",{className:"text-[11px]",children:"안녕하세요 ~감솜빠 패밀리입니다~"})]})]}),P.jsx("hr",{className:"mx-1"}),P.jsxs("div",{className:"middle",children:[P.jsxs("div",{className:"flex justify-between w-2/4 mx-auto my-2 text-[13px]",children:[P.jsxs("div",{children:[P.jsx("div",{className:"font-semibold",children:"게시물"}),P.jsx("div",{className:"text-center",children:r.length})]}),P.jsxs("div",{children:[P.jsx("div",{className:"font-semibold",children:"팔로워"}),P.jsx("div",{className:"text-center",children:"168"})]}),P.jsxs("div",{children:[P.jsx("div",{className:"font-semibold",children:"팔로잉"}),P.jsx("div",{className:"text-center",children:"214"})]})]}),P.jsx("div",{className:"flex justify-center text-[20px] mb-2",children:P.jsx(jH,{})})]}),P.jsx("hr",{className:"mx-1"}),P.jsx("div",{className:"bottom",children:P.jsx("div",{className:"grid grid-cols-3 mx-1 mt-1",children:r.map(o=>P.jsx("div",{className:"m-0 p-0",children:P.jsx("img",{src:o.imageUrlList[0],style:{marginTop:"1px",height:"110px",width:"99%",objectFit:"cover",objectPosition:"center"},onClick:()=>i(o)})},o.postId))})})]})},YH=()=>{x.useEffect(()=>{(!sessionStorage.getItem("reloaded")||sessionStorage.getItem("reloaded")==="false")&&(window.location.reload(),sessionStorage.setItem("reloaded","true"))},[]);const[t,e]=pr(Ju),{state:n}=Iu();if(e(n.postId),t==null)return P.jsx("div",{children:"잘못된 접근입니다."});const r=Wy(s_(t));if(r.state==="loading")return P.jsx("div",{children:"로딩 중..."});if(r.state==="hasError")return P.jsx("div",{children:"에러가 발생했습니다."});const i=r.contents;return P.jsx(x.Suspense,{fallback:"...loading",children:P.jsx("div",{className:"grid-rows-3",children:P.jsx(SP,{data:i[0]})})})};var XH={BASE_URL:"/overdog_react",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function JH(){return P.jsx($4,{children:P.jsx("div",{className:"font-pretendard",children:P.jsx(W2,{basename:XH.PUBLIC_URL,children:P.jsxs(z2,{children:[P.jsx(ro,{path:"/",element:P.jsx(HH,{})}),P.jsx(ro,{path:"/comment",element:P.jsx(EP,{})}),P.jsx(ro,{path:"/notice",element:P.jsx(GH,{})}),P.jsx(ro,{path:"/notice_detail",element:P.jsx(KH,{})}),P.jsx(ro,{path:"/profile",element:P.jsx(QH,{})}),P.jsx(ro,{path:"/ProfileContent",element:P.jsx(YH,{})})]})})})})}Am.createRoot(document.getElementById("root")).render(P.jsx(JH,{}));
